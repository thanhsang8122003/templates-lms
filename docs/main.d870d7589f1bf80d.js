"use strict";(self.webpackChunkaffiliate=self.webpackChunkaffiliate||[]).push([[179],{2011:(Tt,Le,R)=>{R.d(Le,{Dh:()=>xe,GT:()=>be,Ot:()=>Me,cc:()=>He,hO:()=>Fe,on:()=>ae,pX:()=>pe,xv:()=>Ae});var C=R(4650),m=R(9260),V=R(3324);Tt=R.hmd(Tt);const de=["ngOnDestroy"],pe=(Qe,nt,ut,Ge={})=>new Proxy(Qe,{get:(Oe,Xe)=>ut.runOutsideAngular(()=>{var ct;if(Qe[Xe])return!(null===(ct=Ge?.spy)||void 0===ct)&&ct.get&&Ge.spy.get(Xe,Qe[Xe]),Qe[Xe];if(de.indexOf(Xe)>-1)return()=>{};const lt=nt.toPromise().then(Ee=>{const ht=Ee&&Ee[Xe];return"function"==typeof ht?ht.bind(Ee):ht&&ht.then?ht.then(Ut=>ut.run(()=>Ut)):ut.run(()=>ht)});return new Proxy(()=>{},{get:(Ee,ht)=>lt[ht],apply:(Ee,ht,Ut)=>lt.then(Et=>{var $t;const St=Et&&Et(...Ut);return!(null===($t=Ge?.spy)||void 0===$t)&&$t.apply&&Ge.spy.apply(Xe,Ut,St),St})})})}),be=(Qe,nt)=>{nt.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(Ge=>{Object.defineProperty(Qe.prototype,Ge,Object.getOwnPropertyDescriptor(ut.prototype||ut,Ge))})})};class Me{constructor(nt){return nt}}const xe=new C.OlP("angularfire2.app.options"),Ae=new C.OlP("angularfire2.app.name");function ae(Qe,nt,ut){const Oe="object"==typeof ut&&ut||{};Oe.name=Oe.name||"string"==typeof ut&&ut||"[DEFAULT]";const ct=m.Z.apps.filter(lt=>lt&&lt.name===Oe.name)[0]||nt.runOutsideAngular(()=>m.Z.initializeApp(Qe,Oe));try{JSON.stringify(Qe)!==JSON.stringify(ct.options)&&se("error",`${ct.name} Firebase App already initialized with different options${Tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Me(ct)}const se=(Qe,...nt)=>{(0,C.X6Q)()&&typeof console<"u"&&console[Qe](...nt)},me={provide:Me,useFactory:ae,deps:[xe,C.R0b,[new C.FiY,Ae]]};let Fe=(()=>{class Qe{constructor(ut){m.Z.registerVersion("angularfire",V.q4.full,"core"),m.Z.registerVersion("angularfire",V.q4.full,"app-compat"),m.Z.registerVersion("angular",C.q4F.full,ut.toString())}static initializeApp(ut,Ge){return{ngModule:Qe,providers:[{provide:xe,useValue:ut},{provide:Ae,useValue:Ge}]}}}return Qe.\u0275fac=function(ut){return new(ut||Qe)(C.LFG(C.Lbi))},Qe.\u0275mod=C.oAB({type:Qe}),Qe.\u0275inj=C.cJS({providers:[me]}),Qe})();function He(Qe,nt,ut,Ge,Oe){const[,Xe,ct]=globalThis.\u0275AngularfireInstanceCache.find(lt=>lt[0]===Qe)||[];if(Xe)return function Ze(Qe,nt){try{return Qe.toString()===nt.toString()}catch{return Qe===nt}}(Oe,ct)||(Ye("error",`${nt} was already initialized on the ${ut} Firebase App with different settings.${ft?" You may need to reload as Firebase is not HMR aware.":""}`),Ye("warn",{is:Oe,was:ct})),Xe;{const lt=Ge();return globalThis.\u0275AngularfireInstanceCache.push([Qe,lt,Oe]),lt}}const ft=!!Tt.hot,Ye=(Qe,...nt)=>{(0,C.X6Q)()&&typeof console<"u"&&console[Qe](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3324:(Tt,Le,R)=>{R.d(Le,{q4:()=>br,iC:()=>va,fc:()=>La,HU:()=>Fs,vb:()=>Wo,JM:()=>Go,u3:()=>ya});var C=R(4650),m=R(259),V=R(5861),de=R(6881),pe=R(2090),be=R(4859),Me=R(1877);R(4727);const Ae="@firebase/remote-config",He=new pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class kr{constructor(Y,le,Re,Ke){this.client=Y,this.storage=le,this.storageCache=Re,this.logger=Ke}isCachedDataFresh(Y,le){if(!le)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Re=Date.now()-le,Ke=Re<=Y;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Re}. Cache max age millis (minimumFetchIntervalMillis setting): ${Y}. Is cache hit: ${Ke}.`),Ke}fetch(Y){var le=this;return(0,V.Z)(function*(){const[Re,Ke]=yield Promise.all([le.storage.getLastSuccessfulFetchTimestampMillis(),le.storage.getLastSuccessfulFetchResponse()]);if(Ke&&le.isCachedDataFresh(Y.cacheMaxAgeMillis,Re))return Ke;Y.eTag=Ke&&Ke.eTag;const vt=yield le.client.fetch(Y),kt=[le.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===vt.status&&kt.push(le.storage.setLastSuccessfulFetchResponse(vt)),yield Promise.all(kt),vt})()}}function Br(O=navigator){return O.languages&&O.languages[0]||O.language}class jr{constructor(Y,le,Re,Ke,vt,kt){this.firebaseInstallations=Y,this.sdkVersion=le,this.namespace=Re,this.projectId=Ke,this.apiKey=vt,this.appId=kt}fetch(Y){var le=this;return(0,V.Z)(function*(){const[Re,Ke]=yield Promise.all([le.firebaseInstallations.getId(),le.firebaseInstallations.getToken()]),kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${le.projectId}/namespaces/${le.namespace}:fetch?key=${le.apiKey}`,pn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Y.eTag||"*"},Hn={sdk_version:le.sdkVersion,app_instance_id:Re,app_instance_id_token:Ke,app_id:le.appId,language_code:Br()},fr={method:"POST",headers:pn,body:JSON.stringify(Hn)},ur=fetch(kt,fr),kn=new Promise((Xr,ao)=>{Y.signal.addEventListener(()=>{const Do=new Error("The operation was aborted.");Do.name="AbortError",ao(Do)})});let vo;try{yield Promise.race([ur,kn]),vo=yield ur}catch(Xr){let ao="fetch-client-network";throw"AbortError"===Xr?.name&&(ao="fetch-timeout"),He.create(ao,{originalErrorMessage:Xr?.message})}let Rr=vo.status;const ii=vo.headers.get("ETag")||void 0;let Ko,Hi;if(200===vo.status){let Xr;try{Xr=yield vo.json()}catch(ao){throw He.create("fetch-client-parse",{originalErrorMessage:ao?.message})}Ko=Xr.entries,Hi=Xr.state}if("INSTANCE_STATE_UNSPECIFIED"===Hi?Rr=500:"NO_CHANGE"===Hi?Rr=304:("NO_TEMPLATE"===Hi||"EMPTY_CONFIG"===Hi)&&(Ko={}),304!==Rr&&200!==Rr)throw He.create("fetch-status",{httpStatus:Rr});return{status:Rr,eTag:ii,config:Ko}})()}}class ge{constructor(Y,le){this.client=Y,this.storage=le}fetch(Y){var le=this;return(0,V.Z)(function*(){const Re=(yield le.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return le.attemptFetch(Y,Re)})()}attemptFetch(Y,le){var Re=this;return(0,V.Z)(function*(Ke,{throttleEndTimeMillis:vt,backoffCount:kt}){yield function $r(O,Y){return new Promise((le,Re)=>{const Ke=Math.max(Y-Date.now(),0),vt=setTimeout(le,Ke);O.addEventListener(()=>{clearTimeout(vt),Re(He.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}(Ke.signal,vt);try{const pn=yield Re.client.fetch(Ke);return yield Re.storage.deleteThrottleMetadata(),pn}catch(pn){if(!function Ie(O){if(!(O instanceof pe.ZR&&O.customData))return!1;const Y=Number(O.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}(pn))throw pn;const Hn={throttleEndTimeMillis:Date.now()+(0,pe.$s)(kt),backoffCount:kt+1};return yield Re.storage.setThrottleMetadata(Hn),Re.attemptFetch(Ke,Hn)}}).apply(this,arguments)}}class ot{constructor(Y,le,Re,Ke,vt){this.app=Y,this._client=le,this._storageCache=Re,this._storage=Ke,this._logger=vt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function De(O,Y){const le=O.target.error||void 0;return He.create(Y,{originalErrorMessage:le&&le?.message})}const gt="app_namespace_store";class vn{constructor(Y,le,Re,Ke=function Zt(){return new Promise((O,Y)=>{try{const le=indexedDB.open("firebase_remote_config",1);le.onerror=Re=>{Y(De(Re,"storage-open"))},le.onsuccess=Re=>{O(Re.target.result)},le.onupgradeneeded=Re=>{0===Re.oldVersion&&Re.target.result.createObjectStore(gt,{keyPath:"compositeKey"})}}catch(le){Y(He.create("storage-open",{originalErrorMessage:le?.message}))}})}()){this.appId=Y,this.appName=le,this.namespace=Re,this.openDbPromise=Ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Y){return this.set("last_fetch_status",Y)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Y){return this.set("last_successful_fetch_timestamp_millis",Y)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Y){return this.set("last_successful_fetch_response",Y)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Y){return this.set("active_config",Y)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Y){return this.set("active_config_etag",Y)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Y){return this.set("throttle_metadata",Y)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Y){var le=this;return(0,V.Z)(function*(){const Re=yield le.openDbPromise;return new Promise((Ke,vt)=>{const pn=Re.transaction([gt],"readonly").objectStore(gt),Hn=le.createCompositeKey(Y);try{const fr=pn.get(Hn);fr.onerror=ur=>{vt(De(ur,"storage-get"))},fr.onsuccess=ur=>{const kn=ur.target.result;Ke(kn?kn.value:void 0)}}catch(fr){vt(He.create("storage-get",{originalErrorMessage:fr?.message}))}})})()}set(Y,le){var Re=this;return(0,V.Z)(function*(){const Ke=yield Re.openDbPromise;return new Promise((vt,kt)=>{const Hn=Ke.transaction([gt],"readwrite").objectStore(gt),fr=Re.createCompositeKey(Y);try{const ur=Hn.put({compositeKey:fr,value:le});ur.onerror=kn=>{kt(De(kn,"storage-set"))},ur.onsuccess=()=>{vt()}}catch(ur){kt(He.create("storage-set",{originalErrorMessage:ur?.message}))}})})()}delete(Y){var le=this;return(0,V.Z)(function*(){const Re=yield le.openDbPromise;return new Promise((Ke,vt)=>{const pn=Re.transaction([gt],"readwrite").objectStore(gt),Hn=le.createCompositeKey(Y);try{const fr=pn.delete(Hn);fr.onerror=ur=>{vt(De(ur,"storage-delete"))},fr.onsuccess=()=>{Ke()}}catch(fr){vt(He.create("storage-delete",{originalErrorMessage:fr?.message}))}})})()}createCompositeKey(Y){return[this.appId,this.appName,this.namespace,Y].join()}}class zn{constructor(Y){this.storage=Y}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Y=this;return(0,V.Z)(function*(){const le=Y.storage.getLastFetchStatus(),Re=Y.storage.getLastSuccessfulFetchTimestampMillis(),Ke=Y.storage.getActiveConfig(),vt=yield le;vt&&(Y.lastFetchStatus=vt);const kt=yield Re;kt&&(Y.lastSuccessfulFetchTimestampMillis=kt);const pn=yield Ke;pn&&(Y.activeConfig=pn)})()}setLastFetchStatus(Y){return this.lastFetchStatus=Y,this.storage.setLastFetchStatus(Y)}setLastSuccessfulFetchTimestampMillis(Y){return this.lastSuccessfulFetchTimestampMillis=Y,this.storage.setLastSuccessfulFetchTimestampMillis(Y)}setActiveConfig(Y){return this.activeConfig=Y,this.storage.setActiveConfig(Y)}}function cr(){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,V.Z)(function*(){if(!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}!function ar(){(0,de._registerComponent)(new be.wA("remote-config",function O(Y,{instanceIdentifier:le}){const Re=Y.getProvider("app").getImmediate(),Ke=Y.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw He.create("registration-window");if(!(0,pe.hl)())throw He.create("indexed-db-unavailable");const{projectId:vt,apiKey:kt,appId:pn}=Re.options;if(!vt)throw He.create("registration-project-id");if(!kt)throw He.create("registration-api-key");if(!pn)throw He.create("registration-app-id");const Hn=new vn(pn,Re.name,le=le||"firebase"),fr=new zn(Hn),ur=new Me.Yd(Ae);ur.logLevel=Me.in.ERROR;const kn=new jr(Ke,de.SDK_VERSION,le,vt,kt,pn),vo=new ge(kn,Hn),Rr=new kr(vo,Hn,fr,ur),ii=new ot(Re,Rr,fr,Hn,ur);return function ct(O){const Y=(0,pe.m9)(O);Y._initializePromise||(Y._initializePromise=Y._storageCache.loadFromStorage().then(()=>{Y._isInitializationComplete=!0}))}(ii),ii},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Ae,"0.4.4"),(0,de.registerVersion)(Ae,"0.4.4","esm2017")}();const Ct=(O,Y)=>Y.some(le=>O instanceof le);let Rn,qn;const vr=new WeakMap,_n=new WeakMap,wn=new WeakMap,Mt=new WeakMap,Yt=new WeakMap;let At={get(O,Y,le){if(O instanceof IDBTransaction){if("done"===Y)return _n.get(O);if("objectStoreNames"===Y)return O.objectStoreNames||wn.get(O);if("store"===Y)return le.objectStoreNames[1]?void 0:le.objectStore(le.objectStoreNames[0])}return Xt(O[Y])},set:(O,Y,le)=>(O[Y]=le,!0),has:(O,Y)=>O instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in O};function rr(O){return"function"==typeof O?function nr(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function tr(){return qn||(qn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...Y){return O.apply(yr(this),Y),Xt(vr.get(this))}:function(...Y){return Xt(O.apply(yr(this),Y))}:function(Y,...le){const Re=O.call(yr(this),Y,...le);return wn.set(Re,Y.sort?Y.sort():[Y]),Xt(Re)}}(O):(O instanceof IDBTransaction&&function An(O){if(_n.has(O))return;const Y=new Promise((le,Re)=>{const Ke=()=>{O.removeEventListener("complete",vt),O.removeEventListener("error",kt),O.removeEventListener("abort",kt)},vt=()=>{le(),Ke()},kt=()=>{Re(O.error||new DOMException("AbortError","AbortError")),Ke()};O.addEventListener("complete",vt),O.addEventListener("error",kt),O.addEventListener("abort",kt)});_n.set(O,Y)}(O),Ct(O,function Yn(){return Rn||(Rn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,At):O)}function Xt(O){if(O instanceof IDBRequest)return function jn(O){const Y=new Promise((le,Re)=>{const Ke=()=>{O.removeEventListener("success",vt),O.removeEventListener("error",kt)},vt=()=>{le(Xt(O.result)),Ke()},kt=()=>{Re(O.error),Ke()};O.addEventListener("success",vt),O.addEventListener("error",kt)});return Y.then(le=>{le instanceof IDBCursor&&vr.set(le,O)}).catch(()=>{}),Yt.set(Y,O),Y}(O);if(Mt.has(O))return Mt.get(O);const Y=rr(O);return Y!==O&&(Mt.set(O,Y),Yt.set(Y,O)),Y}const yr=O=>Yt.get(O);function an(O,Y,{blocked:le,upgrade:Re,blocking:Ke,terminated:vt}={}){const kt=indexedDB.open(O,Y),pn=Xt(kt);return Re&&kt.addEventListener("upgradeneeded",Hn=>{Re(Xt(kt.result),Hn.oldVersion,Hn.newVersion,Xt(kt.transaction))}),le&&kt.addEventListener("blocked",()=>le()),pn.then(Hn=>{vt&&Hn.addEventListener("close",()=>vt()),Ke&&Hn.addEventListener("versionchange",()=>Ke())}).catch(()=>{}),pn}function ci(O,{blocked:Y}={}){const le=indexedDB.deleteDatabase(O);return Y&&le.addEventListener("blocked",()=>Y()),Xt(le).then(()=>{})}const nn=["get","getKey","getAll","getAllKeys","count"],Qn=["put","add","delete","clear"],$n=new Map;function ir(O,Y){if(!(O instanceof IDBDatabase)||Y in O||"string"!=typeof Y)return;if($n.get(Y))return $n.get(Y);const le=Y.replace(/FromIndex$/,""),Re=Y!==le,Ke=Qn.includes(le);if(!(le in(Re?IDBIndex:IDBObjectStore).prototype)||!Ke&&!nn.includes(le))return;const vt=function(){var kt=(0,V.Z)(function*(pn,...Hn){const fr=this.transaction(pn,Ke?"readwrite":"readonly");let ur=fr.store;return Re&&(ur=ur.index(Hn.shift())),(yield Promise.all([ur[le](...Hn),Ke&&fr.done]))[0]});return function(Hn){return kt.apply(this,arguments)}}();return $n.set(Y,vt),vt}!function hr(O){At=O(At)}(O=>({...O,get:(Y,le,Re)=>ir(Y,le)||O.get(Y,le,Re),has:(Y,le)=>!!ir(Y,le)||O.has(Y,le)}));const _r="/firebase-messaging-sw.js",Er="/firebase-cloud-messaging-push-scope",wr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xr="https://fcmregistrations.googleapis.com/v1",ue="google.c.a.c_id",ie="google.c.a.c_l",q="google.c.a.ts",X="google.c.a.e";var he=(()=>{return(O=he||(he={})).PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",he;var O})();function ee(O){const Y=new Uint8Array(O);return btoa(String.fromCharCode(...Y)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function B(O){const le=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Re=atob(le),Ke=new Uint8Array(Re.length);for(let vt=0;vt<Re.length;++vt)Ke[vt]=Re.charCodeAt(vt);return Ke}const H="fcm_token_details_db",J=5,fe="fcm_token_object_Store";function it(){return it=(0,V.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(vt=>vt.name).includes(H))return null;let Y=null;return(yield an(H,J,{upgrade:(Re=(0,V.Z)(function*(Ke,vt,kt,pn){var Hn;if(vt<2||!Ke.objectStoreNames.contains(fe))return;const fr=pn.objectStore(fe),ur=yield fr.index("fcmSenderId").get(O);if(yield fr.clear(),ur)if(2===vt){const kn=ur;if(!kn.auth||!kn.p256dh||!kn.endpoint)return;Y={token:kn.fcmToken,createTime:null!==(Hn=kn.createTime)&&void 0!==Hn?Hn:Date.now(),subscriptionOptions:{auth:kn.auth,p256dh:kn.p256dh,endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:"string"==typeof kn.vapidKey?kn.vapidKey:ee(kn.vapidKey)}}}else if(3===vt){const kn=ur;Y={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:ee(kn.auth),p256dh:ee(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:ee(kn.vapidKey)}}}else if(4===vt){const kn=ur;Y={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:ee(kn.auth),p256dh:ee(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:ee(kn.vapidKey)}}}}),function(vt,kt,pn,Hn){return Re.apply(this,arguments)})})).close(),yield ci(H),yield ci("fcm_vapid_details_db"),yield ci("undefined"),function at(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:Y}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof Y.auth&&Y.auth.length>0&&"string"==typeof Y.p256dh&&Y.p256dh.length>0&&"string"==typeof Y.endpoint&&Y.endpoint.length>0&&"string"==typeof Y.swScope&&Y.swScope.length>0&&"string"==typeof Y.vapidKey&&Y.vapidKey.length>0}(Y)?Y:null;var Re}),it.apply(this,arguments)}const Ft="firebase-messaging-database",cn=1,ze="firebase-messaging-store";let Te=null;function st(){return Te||(Te=an(Ft,cn,{upgrade:(O,Y)=>{0===Y&&O.createObjectStore(ze)}})),Te}function It(O){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,V.Z)(function*(O){const Y=Cr(O),Re=yield(yield st()).transaction(ze).objectStore(ze).get(Y);if(Re)return Re;{const Ke=yield function Ce(O){return it.apply(this,arguments)}(O.appConfig.senderId);if(Ke)return yield tn(O,Ke),Ke}}),Nt.apply(this,arguments)}function tn(O,Y){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,V.Z)(function*(O,Y){const le=Cr(O),Ke=(yield st()).transaction(ze,"readwrite");return yield Ke.objectStore(ze).put(Y,le),yield Ke.done,Y})).apply(this,arguments)}function ln(){return(ln=(0,V.Z)(function*(O){const Y=Cr(O),Re=(yield st()).transaction(ze,"readwrite");yield Re.objectStore(ze).delete(Y),yield Re.done})).apply(this,arguments)}function Cr({appConfig:O}){return O.appId}const Lr=new pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fo(O,Y){return oo.apply(this,arguments)}function oo(){return(oo=(0,V.Z)(function*(O,Y){const le=yield Fi(O),Re=mi(Y),Ke={method:"POST",headers:le,body:JSON.stringify(Re)};let vt;try{vt=yield(yield fetch(Gn(O.appConfig),Ke)).json()}catch(kt){throw Lr.create("token-subscribe-failed",{errorInfo:kt?.toString()})}if(vt.error)throw Lr.create("token-subscribe-failed",{errorInfo:vt.error.message});if(!vt.token)throw Lr.create("token-subscribe-no-token");return vt.token})).apply(this,arguments)}function Dt(){return(Dt=(0,V.Z)(function*(O,Y){const le=yield Fi(O),Re=mi(Y.subscriptionOptions),Ke={method:"PATCH",headers:le,body:JSON.stringify(Re)};let vt;try{vt=yield(yield fetch(`${Gn(O.appConfig)}/${Y.token}`,Ke)).json()}catch(kt){throw Lr.create("token-update-failed",{errorInfo:kt?.toString()})}if(vt.error)throw Lr.create("token-update-failed",{errorInfo:vt.error.message});if(!vt.token)throw Lr.create("token-update-no-token");return vt.token})).apply(this,arguments)}function bn(O,Y){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,V.Z)(function*(O,Y){const Re={method:"DELETE",headers:yield Fi(O)};try{const vt=yield(yield fetch(`${Gn(O.appConfig)}/${Y}`,Re)).json();if(vt.error)throw Lr.create("token-unsubscribe-failed",{errorInfo:vt.error.message})}catch(Ke){throw Lr.create("token-unsubscribe-failed",{errorInfo:Ke?.toString()})}})).apply(this,arguments)}function Gn({projectId:O}){return`${xr}/projects/${O}/registrations`}function Fi(O){return zr.apply(this,arguments)}function zr(){return(zr=(0,V.Z)(function*({appConfig:O,installations:Y}){const le=yield Y.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${le}`})})).apply(this,arguments)}function mi({p256dh:O,auth:Y,endpoint:le,vapidKey:Re}){const Ke={web:{endpoint:le,auth:Y,p256dh:O}};return Re!==wr&&(Ke.web.applicationPubKey=Re),Ke}const Fn=6048e5;function Ti(){return Ti=(0,V.Z)(function*(O){const Y=yield function Dn(O,Y){return fn.apply(this,arguments)}(O.swRegistration,O.vapidKey),le={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:Y.endpoint,auth:ee(Y.getKey("auth")),p256dh:ee(Y.getKey("p256dh"))},Re=yield It(O.firebaseDependencies);if(Re){if(function In(O,Y){return Y.vapidKey===O.vapidKey&&Y.endpoint===O.endpoint&&Y.auth===O.auth&&Y.p256dh===O.p256dh}(Re.subscriptionOptions,le))return Date.now()>=Re.createTime+Fn?function re(O,Y){return Se.apply(this,arguments)}(O,{token:Re.token,createTime:Date.now(),subscriptionOptions:le}):Re.token;try{yield bn(O.firebaseDependencies,Re.token)}catch(Ke){console.warn(Ke)}return We(O.firebaseDependencies,le)}return We(O.firebaseDependencies,le)}),Ti.apply(this,arguments)}function Zi(){return Zi=(0,V.Z)(function*(O){const Y=yield It(O.firebaseDependencies);Y&&(yield bn(O.firebaseDependencies,Y.token),yield function Nn(O){return ln.apply(this,arguments)}(O.firebaseDependencies));const le=yield O.swRegistration.pushManager.getSubscription();return!le||le.unsubscribe()}),Zi.apply(this,arguments)}function Se(){return Se=(0,V.Z)(function*(O,Y){try{const le=yield function Tr(O,Y){return Dt.apply(this,arguments)}(O.firebaseDependencies,Y),Re=Object.assign(Object.assign({},Y),{token:le,createTime:Date.now()});return yield tn(O.firebaseDependencies,Re),le}catch(le){throw yield function un(O){return Zi.apply(this,arguments)}(O),le}}),Se.apply(this,arguments)}function We(O,Y){return wt.apply(this,arguments)}function wt(){return(wt=(0,V.Z)(function*(O,Y){const Re={token:yield Fo(O,Y),createTime:Date.now(),subscriptionOptions:Y};return yield tn(O,Re),Re.token})).apply(this,arguments)}function fn(){return(fn=(0,V.Z)(function*(O,Y){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:B(Y)})})).apply(this,arguments)}function lr(O){const Y={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function Ur(O,Y){if(!Y.notification)return;O.notification={};const le=Y.notification.title;le&&(O.notification.title=le);const Re=Y.notification.body;Re&&(O.notification.body=Re);const Ke=Y.notification.image;Ke&&(O.notification.image=Ke);const vt=Y.notification.icon;vt&&(O.notification.icon=vt)}(Y,O),function xn(O,Y){Y.data&&(O.data=Y.data)}(Y,O),function ni(O,Y){var le,Re,Ke,vt,kt;if(!(Y.fcmOptions||null!==(le=Y.notification)&&void 0!==le&&le.click_action))return;O.fcmOptions={};const pn=null!==(Ke=null===(Re=Y.fcmOptions)||void 0===Re?void 0:Re.link)&&void 0!==Ke?Ke:null===(vt=Y.notification)||void 0===vt?void 0:vt.click_action;pn&&(O.fcmOptions.link=pn);const Hn=null===(kt=Y.fcmOptions)||void 0===kt?void 0:kt.analytics_label;Hn&&(O.fcmOptions.analyticsLabel=Hn)}(Y,O),Y}function cs(O,Y){const le=[];for(let Re=0;Re<O.length;Re++)le.push(O.charAt(Re)),Re<Y.length&&le.push(Y.charAt(Re));return le.join("")}function Eo(O){return Lr.create("missing-app-config-values",{valueName:O})}cs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),cs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class po{constructor(Y,le,Re){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ke=function Lo(O){if(!O||!O.options)throw Eo("App Configuration Object");if(!O.name)throw Eo("App Name");const Y=["projectId","apiKey","appId","messagingSenderId"],{options:le}=O;for(const Re of Y)if(!le[Re])throw Eo(Re);return{appName:O.name,projectId:le.projectId,apiKey:le.apiKey,appId:le.appId,senderId:le.messagingSenderId}}(Y);this.firebaseDependencies={app:Y,appConfig:Ke,installations:le,analyticsProvider:Re}}_delete(){return Promise.resolve()}}function Gr(O){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,V.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(_r,{scope:Er}),O.swRegistration.update().catch(()=>{})}catch(Y){throw Lr.create("failed-service-worker-registration",{browserErrorMessage:Y?.message})}})).apply(this,arguments)}function ui(){return(ui=(0,V.Z)(function*(O,Y){if(!Y&&!O.swRegistration&&(yield Gr(O)),Y||!O.swRegistration){if(!(Y instanceof ServiceWorkerRegistration))throw Lr.create("invalid-sw-registration");O.swRegistration=Y}})).apply(this,arguments)}function Di(){return(Di=(0,V.Z)(function*(O,Y){Y?O.vapidKey=Y:O.vapidKey||(O.vapidKey=wr)})).apply(this,arguments)}function Zr(){return Zr=(0,V.Z)(function*(O,Y){if(!navigator)throw Lr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Lr.create("permission-blocked");return yield function Vo(O,Y){return Di.apply(this,arguments)}(O,Y?.vapidKey),yield function li(O,Y){return ui.apply(this,arguments)}(O,Y?.serviceWorkerRegistration),function Ki(O){return Ti.apply(this,arguments)}(O)}),Zr.apply(this,arguments)}function Xs(){return(Xs=(0,V.Z)(function*(O,Y,le){const Re=function Ho(O){switch(O){case he.NOTIFICATION_CLICKED:return"notification_open";case he.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(Y);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(Re,{message_id:le[ue],message_name:le[ie],message_time:le[q],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Na(){return Na=(0,V.Z)(function*(O,Y){const le=Y.data;if(!le.isFirebaseMessaging)return;O.onMessageHandler&&le.messageType===he.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(lr(le)):O.onMessageHandler.next(lr(le)));const Re=le.data;(function Oa(O){return"object"==typeof O&&!!O&&ue in O})(Re)&&"1"===Re[X]&&(yield function Qi(O,Y,le){return Xs.apply(this,arguments)}(O,le.messageType,Re))}),Na.apply(this,arguments)}const Bo="@firebase/messaging",ls=O=>{const Y=new po(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",le=>function Li(O,Y){return Na.apply(this,arguments)}(Y,le)),Y},uc=O=>{const Y=O.getProvider("messaging").getImmediate();return{getToken:Re=>function ki(O,Y){return Zr.apply(this,arguments)}(Y,Re)}};function ks(){return ds.apply(this,arguments)}function ds(){return(ds=(0,V.Z)(function*(){try{yield(0,pe.eu)()}catch{return!1}return typeof window<"u"&&(0,pe.hl)()&&(0,pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function us(){(0,de._registerComponent)(new be.wA("messaging",ls,"PUBLIC")),(0,de._registerComponent)(new be.wA("messaging-internal",uc,"PRIVATE")),(0,de.registerVersion)(Bo,"0.12.4"),(0,de.registerVersion)(Bo,"0.12.4","esm2017")}();var Os=R(5132),gi=R(4408),ga=R(7565);const hc=new class ta extends ga.v{}(class ma extends gi.o{constructor(Y,le){super(Y,le),this.scheduler=Y,this.work=le}schedule(Y,le=0){return le>0?super.schedule(Y,le):(this.delay=le,this.state=Y,this.scheduler.flush(this),this)}execute(Y,le){return le>0||this.closed?super.execute(Y,le):this._execute(Y,le)}requestAsyncId(Y,le,Re=0){return null!=Re&&Re>0||null==Re&&this.delay>0?super.requestAsyncId(Y,le,Re):(Y.flush(this),0)}});var na=R(4986),so=R(9751),kc=R(8505),jo=R(5363),Rs=R(9468);const br=new C.GfV("7.6.1"),Ns="__angularfire_symbol__analyticsIsSupportedValue",ra="__angularfire_symbol__analyticsIsSupported",Ar="__angularfire_symbol__remoteConfigIsSupportedValue",Vi="__angularfire_symbol__remoteConfigIsSupported",Qr="__angularfire_symbol__messagingIsSupportedValue",Vr="__angularfire_symbol__messagingIsSupported";function Go(O,Y,le){if(Y){if(1===Y.length)return Y[0];const vt=Y.filter(kt=>kt.app===le);if(1===vt.length)return vt[0]}return le.container.getProvider(O).getImmediate({optional:!0})}globalThis[ra]||(globalThis[ra]=(0,Os.Gb)().then(O=>globalThis[Ns]=O).catch(()=>globalThis[Ns]=!1)),globalThis[Vr]||(globalThis[Vr]=ks().then(O=>globalThis[Qr]=O).catch(()=>globalThis[Qr]=!1)),globalThis[Vi]||(globalThis[Vi]=cr().then(O=>globalThis[Ar]=O).catch(()=>globalThis[Ar]=!1));const Wo=(O,Y)=>{const le=Y?[Y]:(0,m.C6)(),Re=[];return le.forEach(Ke=>{Ke.container.getProvider(O).instances.forEach(kt=>{Re.includes(kt)||Re.push(kt)})}),Re};function ps(){}class Mi{constructor(Y,le=hc){this.zone=Y,this.delegate=le}now(){return this.delegate.now()}schedule(Y,le,Re){const Ke=this.zone;return this.delegate.schedule(function(kt){Ke.runGuarded(()=>{Y.apply(this,[kt])})},le,Re)}}class ms{constructor(Y){this.zone=Y,this.task=null}call(Y,le){const Re=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ps,{},ps,ps)),le.pipe((0,kc.b)({next:Re,complete:Re,error:Re})).subscribe(Y).add(Re)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Fs=(()=>{class O{constructor(le){this.ngZone=le,this.outsideAngular=le.runOutsideAngular(()=>new Mi(Zone.current)),this.insideAngular=le.run(()=>new Mi(Zone.current,na.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(le){return new(le||O)(C.LFG(C.R0b))},O.\u0275prov=C.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function en(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function go(O){return en().ngZone.run(()=>O())}function La(O){return O.pipe((0,jo.Q)(en().outsideAngular))}function va(O){return en(),function fc(O){return function(le){return(le=le.lift(new ms(O.ngZone))).pipe((0,Rs.R)(O.outsideAngular),(0,jo.Q)(O.insideAngular))}}(en())(O)}const pc=(O,Y)=>function(){const Re=arguments;return Y&&setTimeout(()=>{"scheduled"===Y.state&&Y.invoke()},10),go(()=>O.apply(void 0,Re))},ya=(O,Y)=>function(){let le;const Re=arguments;for(let vt=0;vt<arguments.length;vt++)"function"==typeof Re[vt]&&(Y&&(le||(le=go(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ps,{},ps,ps)))),Re[vt]=pc(Re[vt],le));const Ke=function qo(O){return en().ngZone.runOutsideAngular(()=>O())}(()=>O.apply(this,Re));if(!Y){if(Ke instanceof so.y){const vt=en();return Ke.pipe((0,Rs.R)(vt.outsideAngular),(0,jo.Q)(vt.insideAngular))}return go(()=>Ke)}return Ke instanceof so.y?Ke.pipe(va):Ke instanceof Promise?go(()=>new Promise((vt,kt)=>Ke.then(pn=>go(()=>vt(pn)),pn=>go(()=>kt(pn))))):"function"==typeof Ke&&le?function(){return setTimeout(()=>{le&&"scheduled"===le.state&&le.invoke()},10),Ke.apply(this,arguments)}:go(()=>Ke)}},1389:(Tt,Le,R)=>{R.d(Le,{$:()=>en,A:()=>se,D:()=>He,I:()=>Fn,J:()=>re,L:()=>Li,N:()=>wr,P:()=>we,Q:()=>ea,R:()=>Ga,U:()=>ma,V:()=>ga,W:()=>ta,X:()=>gi,Y:()=>so,Z:()=>kc,_:()=>ra,a:()=>Qo,a0:()=>go,a1:()=>Oc,a2:()=>ya,a3:()=>vt,a4:()=>pn,a5:()=>fr,a6:()=>kn,a7:()=>Rr,a8:()=>Ko,a9:()=>Xr,aA:()=>Ee,aB:()=>Ka,aC:()=>_r,aD:()=>xr,aE:()=>Ld,aF:()=>w4,aG:()=>au,aH:()=>Gn,aL:()=>wa,aO:()=>mo,aa:()=>ao,ab:()=>n1,ac:()=>r1,ad:()=>Rc,ae:()=>gc,af:()=>vl,ai:()=>_l,aj:()=>o1,ak:()=>Bi,an:()=>$o,ao:()=>Vc,aq:()=>Ln,ar:()=>Mo,as:()=>Ut,at:()=>J,au:()=>ee,av:()=>Ge,aw:()=>_1,ax:()=>Hd,ay:()=>fe,az:()=>Oe,b:()=>yc,c:()=>wo,d:()=>ou,e:()=>Sa,f:()=>t3,g:()=>Dl,h:()=>xo,i:()=>di,j:()=>Cp,k:()=>Kd,l:()=>Tl,m:()=>I4,o:()=>A4,p:()=>xe,r:()=>S,s:()=>ws,u:()=>j});var C=R(5861),m=R(2090),V=R(6881),de=R(7582),pe=R(1877),be=R(4859);const xe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const He=function me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ze=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ft=new m.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qe=new pe.Yd("@firebase/auth");function ut(b,...p){Qe.logLevel<=pe.in.ERROR&&Qe.error(`Auth (${V.SDK_VERSION}): ${b}`,...p)}function Ge(b,...p){throw lt(b,...p)}function Oe(b,...p){return lt(b,...p)}function Xe(b,p,g){const T=Object.assign(Object.assign({},Ze()),{[p]:g});return new m.LL("auth","Firebase",T).create(p,{appName:b.name})}function ct(b,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ge(b,"argument-error"),Xe(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lt(b,...p){if("string"!=typeof b){const g=p[0],T=[...p.slice(1)];return T[0]&&(T[0].appName=b.name),b._errorFactory.create(g,...T)}return ft.create(b,...p)}function Ee(b,p,...g){if(!b)throw lt(p,...g)}function ht(b){const p="INTERNAL ASSERTION FAILED: "+b;throw ut(p),new Error(p)}function Ut(b,p){b||ht(p)}function Et(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function $t(){return"http:"===St()||"https:"===St()}function St(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class kr{constructor(p,g){this.shortDelay=p,this.longDelay=g,Ut(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,m.uI)()||(0,m.b$)()}get(){return function Kr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($t()||(0,m.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Br(b,p){Ut(b.emulator,"Emulator should always be set here");const{url:g}=b.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class jr{static initialize(p,g,T){this.fetchImpl=p,g&&(this.headersImpl=g),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $r={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new kr(3e4,6e4);function ge(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Pe(b,p,g,T){return Be.apply(this,arguments)}function Be(){return(Be=(0,C.Z)(function*(b,p,g,T,L={}){return ot(b,L,(0,C.Z)(function*(){let Q={},_e={};T&&("GET"===p?_e=T:Q={body:JSON.stringify(T)});const Ve=(0,m.xO)(Object.assign({key:b.config.apiKey},_e)).slice(1),_t=yield b._getAdditionalHeaders();return _t["Content-Type"]="application/json",b.languageCode&&(_t["X-Firebase-Locale"]=b.languageCode),jr.fetch()(gn(b,b.config.apiHost,g,Ve),Object.assign({method:p,headers:_t,referrerPolicy:"no-referrer"},Q))}))})).apply(this,arguments)}function ot(b,p,g){return De.apply(this,arguments)}function De(){return(De=(0,C.Z)(function*(b,p,g){b._canInitEmulator=!1;const T=Object.assign(Object.assign({},$r),p);try{const L=new Zt(b),Q=yield Promise.race([g(),L.promise]);L.clearNetworkTimeout();const _e=yield Q.json();if("needConfirmation"in _e)throw vn(b,"account-exists-with-different-credential",_e);if(Q.ok&&!("errorMessage"in _e))return _e;{const Ve=Q.ok?_e.errorMessage:_e.error.message,[_t,Bt]=Ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_t)throw vn(b,"credential-already-in-use",_e);if("EMAIL_EXISTS"===_t)throw vn(b,"email-already-in-use",_e);if("USER_DISABLED"===_t)throw vn(b,"user-disabled",_e);const dn=T[_t]||_t.toLowerCase().replace(/[_\s]+/g,"-");if(Bt)throw Xe(b,dn,Bt);Ge(b,dn)}}catch(L){if(L instanceof m.ZR)throw L;Ge(b,"network-request-failed",{message:String(L)})}})).apply(this,arguments)}function gt(b,p,g,T){return hn.apply(this,arguments)}function hn(){return(hn=(0,C.Z)(function*(b,p,g,T,L={}){const Q=yield Pe(b,p,g,T,L);return"mfaPendingCredential"in Q&&Ge(b,"multi-factor-auth-required",{_serverResponse:Q}),Q})).apply(this,arguments)}function gn(b,p,g,T){const L=`${p}${g}?${T}`;return b.config.emulator?Br(b.config,L):`${b.config.apiScheme}://${L}`}class Zt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,T)=>{this.timer=setTimeout(()=>T(Oe(this.auth,"network-request-failed")),Ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vn(b,p,g){const T={appName:b.name};g.email&&(T.email=g.email),g.phoneNumber&&(T.phoneNumber=g.phoneNumber);const L=Oe(b,p,T);return L.customData._tokenResponse=g,L}function ar(){return(ar=(0,C.Z)(function*(b,p){return Pe(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Mn(){return(Mn=(0,C.Z)(function*(b,p){return Pe(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Wt(){return(Wt=(0,C.Z)(function*(b,p){return Pe(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Ct(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Yn(){return(Yn=(0,C.Z)(function*(b,p=!1){const g=(0,m.m9)(b),T=yield g.getIdToken(p),L=vr(T);Ee(L&&L.exp&&L.auth_time&&L.iat,g.auth,"internal-error");const Q="object"==typeof L.firebase?L.firebase:void 0,_e=Q?.sign_in_provider;return{claims:L,token:T,authTime:Ct(tr(L.auth_time)),issuedAtTime:Ct(tr(L.iat)),expirationTime:Ct(tr(L.exp)),signInProvider:_e||null,signInSecondFactor:Q?.sign_in_second_factor||null}})).apply(this,arguments)}function tr(b){return 1e3*Number(b)}function vr(b){const[p,g,T]=b.split(".");if(void 0===p||void 0===g||void 0===T)return ut("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,m.tV)(g);return L?JSON.parse(L):(ut("Failed to decode base64 JWT payload"),null)}catch(L){return ut("Caught error parsing JWT payload as JSON",L?.toString()),null}}function wn(b,p){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,C.Z)(function*(b,p,g=!1){if(g)return p;try{return yield p}catch(T){throw T instanceof m.ZR&&function Yt({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(T)&&b.auth.currentUser===b&&(yield b.auth.signOut()),T}})).apply(this,arguments)}class jn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const L=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const T=this.getInterval(p);this.timerId=setTimeout((0,C.Z)(function*(){yield g.iteration()}),T)}iteration(){var p=this;return(0,C.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class An{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ct(this.lastLoginAt),this.creationTime=Ct(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function At(b){return hr.apply(this,arguments)}function hr(){return hr=(0,C.Z)(function*(b){var p;const g=b.auth,T=yield b.getIdToken(),L=yield wn(b,function cr(b,p){return Wt.apply(this,arguments)}(g,{idToken:T}));Ee(L?.users.length,g,"internal-error");const Q=L.users[0];b._notifyReloadListener(Q);const _e=null!==(p=Q.providerUserInfo)&&void 0!==p&&p.length?function yr(b){return b.map(p=>{var{providerId:g}=p,T=(0,de._T)(p,["providerId"]);return{providerId:g,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}(Q.providerUserInfo):[],Ve=function Xt(b,p){return[...b.filter(T=>!p.some(L=>L.providerId===T.providerId)),...p]}(b.providerData,_e),dn=!!b.isAnonymous&&!(b.email&&Q.passwordHash||Ve?.length),on={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:Ve,metadata:new An(Q.createdAt,Q.lastLoginAt),isAnonymous:dn};Object.assign(b,on)}),hr.apply(this,arguments)}function rr(){return(rr=(0,C.Z)(function*(b){const p=(0,m.m9)(b);yield At(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ci(){return(ci=(0,C.Z)(function*(b,p){const g=yield ot(b,{},(0,C.Z)(function*(){const T=(0,m.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:L,apiKey:Q}=b.config,_e=gn(b,L,"/v1/token",`key=${Q}`),Ve=yield b._getAdditionalHeaders();return Ve["Content-Type"]="application/x-www-form-urlencoded",jr.fetch()(_e,{method:"POST",headers:Ve,body:T})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class nn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Ee(p.idToken,"internal-error"),Ee(typeof p.idToken<"u","internal-error"),Ee(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function _n(b){const p=vr(b);return Ee(p,"internal-error"),Ee(typeof p.exp<"u","internal-error"),Ee(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p){var g=this;return(0,C.Z)(function*(T,L=!1){return Ee(!g.accessToken||g.refreshToken,T,"user-token-expired"),L||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(T,g.refreshToken),g.accessToken):null:g.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var T=this;return(0,C.Z)(function*(){const{accessToken:L,refreshToken:Q,expiresIn:_e}=yield function an(b,p){return ci.apply(this,arguments)}(p,g);T.updateTokensAndExpiration(L,Q,Number(_e))})()}updateTokensAndExpiration(p,g,T){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(p,g){const{refreshToken:T,accessToken:L,expirationTime:Q}=g,_e=new nn;return T&&(Ee("string"==typeof T,"internal-error",{appName:p}),_e.refreshToken=T),L&&(Ee("string"==typeof L,"internal-error",{appName:p}),_e.accessToken=L),Q&&(Ee("number"==typeof Q,"internal-error",{appName:p}),_e.expirationTime=Q),_e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new nn,this.toJSON())}_performRefresh(){return ht("not implemented")}}function Qn(b,p){Ee("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class $n{constructor(p){var{uid:g,auth:T,stsTokenManager:L}=p,Q=(0,de._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=T,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=Q.displayName||null,this.email=Q.email||null,this.emailVerified=Q.emailVerified||!1,this.phoneNumber=Q.phoneNumber||null,this.photoURL=Q.photoURL||null,this.isAnonymous=Q.isAnonymous||!1,this.tenantId=Q.tenantId||null,this.providerData=Q.providerData?[...Q.providerData]:[],this.metadata=new An(Q.createdAt||void 0,Q.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,C.Z)(function*(){const T=yield wn(g,g.stsTokenManager.getToken(g.auth,p));return Ee(T,g.auth,"internal-error"),g.accessToken!==T&&(g.accessToken=T,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),T})()}getIdTokenResult(p){return function qn(b){return Yn.apply(this,arguments)}(this,p)}reload(){return function nr(b){return rr.apply(this,arguments)}(this)}_assign(p){this!==p&&(Ee(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new $n(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p){var g=this;return(0,C.Z)(function*(T,L=!1){let Q=!1;T.idToken&&T.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(T),Q=!0),L&&(yield At(g)),yield g.auth._persistUserIfCurrent(g),Q&&g.auth._notifyListenersIfCurrent(g)}).apply(this,arguments)}delete(){var p=this;return(0,C.Z)(function*(){const g=yield p.getIdToken();return yield wn(p,function zn(b,p){return ar.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var T,L,Q,_e,Ve,_t,Bt,dn;const on=null!==(T=g.displayName)&&void 0!==T?T:void 0,Nr=null!==(L=g.email)&&void 0!==L?L:void 0,$s=null!==(Q=g.phoneNumber)&&void 0!==Q?Q:void 0,Al=null!==(_e=g.photoURL)&&void 0!==_e?_e:void 0,Pl=null!==(Ve=g.tenantId)&&void 0!==Ve?Ve:void 0,Zc=null!==(_t=g._redirectEventId)&&void 0!==_t?_t:void 0,Jd=null!==(Bt=g.createdAt)&&void 0!==Bt?Bt:void 0,b1=null!==(dn=g.lastLoginAt)&&void 0!==dn?dn:void 0,{uid:Qc,emailVerified:S1,isAnonymous:mu,providerData:kl,stsTokenManager:Ol}=g;Ee(Qc&&Ol,p,"internal-error");const gu=nn.fromJSON(this.name,Ol);Ee("string"==typeof Qc,p,"internal-error"),Qn(on,p.name),Qn(Nr,p.name),Ee("boolean"==typeof S1,p,"internal-error"),Ee("boolean"==typeof mu,p,"internal-error"),Qn($s,p.name),Qn(Al,p.name),Qn(Pl,p.name),Qn(Zc,p.name),Qn(Jd,p.name),Qn(b1,p.name);const vu=new $n({uid:Qc,auth:p,email:Nr,emailVerified:S1,displayName:on,isAnonymous:mu,photoURL:Al,phoneNumber:$s,tenantId:Pl,stsTokenManager:gu,createdAt:Jd,lastLoginAt:b1});return kl&&Array.isArray(kl)&&(vu.providerData=kl.map(E1=>Object.assign({},E1))),Zc&&(vu._redirectEventId=Zc),vu}static _fromIdTokenResponse(p,g){return(0,C.Z)(function*(T,L,Q=!1){const _e=new nn;_e.updateFromServerResponse(L);const Ve=new $n({uid:L.localId,auth:T,stsTokenManager:_e,isAnonymous:Q});return yield At(Ve),Ve}).apply(this,arguments)}}const ir=new Map;function _r(b){Ut(b instanceof Function,"Expected a class definition");let p=ir.get(b);return p?(Ut(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,ir.set(b,p),p)}const wr=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(g,T){var L=this;return(0,C.Z)(function*(){L.storage[g]=T})()}_get(g){var T=this;return(0,C.Z)(function*(){const L=T.storage[g];return void 0===L?null:L})()}_remove(g){var T=this;return(0,C.Z)(function*(){delete T.storage[g]})()}_addListener(g,T){}_removeListener(g,T){}}return b.type="NONE",b})();function xr(b,p,g){return`firebase:${b}:${p}:${g}`}class ue{constructor(p,g,T){this.persistence=p,this.auth=g,this.userKey=T;const{config:L,name:Q}=this.auth;this.fullUserKey=xr(this.userKey,L.apiKey,Q),this.fullPersistenceKey=xr("persistence",L.apiKey,Q),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,C.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?$n._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,C.Z)(function*(){if(g.persistence===p)return;const T=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,T?g.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g){return(0,C.Z)(function*(T,L,Q="authUser"){if(!L.length)return new ue(_r(wr),T,Q);const _e=(yield Promise.all(L.map(function(){var on=(0,C.Z)(function*(Nr){if(yield Nr._isAvailable())return Nr});return function(Nr){return on.apply(this,arguments)}}()))).filter(on=>on);let Ve=_e[0]||_r(wr);const _t=xr(Q,T.config.apiKey,T.name);let Bt=null;for(const on of L)try{const Nr=yield on._get(_t);if(Nr){const $s=$n._fromJSON(T,Nr);on!==Ve&&(Bt=$s),Ve=on;break}}catch{}const dn=_e.filter(on=>on._shouldAllowMigration);return Ve._shouldAllowMigration&&dn.length?(Ve=dn[0],Bt&&(yield Ve._set(_t,Bt.toJSON())),yield Promise.all(L.map(function(){var on=(0,C.Z)(function*(Nr){if(Nr!==Ve)try{yield Nr._remove(_t)}catch{}});return function(Nr){return on.apply(this,arguments)}}())),new ue(Ve,T,Q)):new ue(Ve,T,Q)}).apply(this,arguments)}}function ie(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(he(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(q(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(B(p))return"Blackberry";if(H(p))return"Webos";if(X(p))return"Safari";if((p.includes("chrome/")||$(p))&&!p.includes("edge/"))return"Chrome";if(ee(p))return"Android";{const T=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function q(b=(0,m.z$)()){return/firefox\//i.test(b)}function X(b=(0,m.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function $(b=(0,m.z$)()){return/crios\//i.test(b)}function he(b=(0,m.z$)()){return/iemobile/i.test(b)}function ee(b=(0,m.z$)()){return/android/i.test(b)}function B(b=(0,m.z$)()){return/blackberry/i.test(b)}function H(b=(0,m.z$)()){return/webos/i.test(b)}function J(b=(0,m.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function fe(b=(0,m.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function at(b=(0,m.z$)()){return J(b)||ee(b)||H(b)||B(b)||/windows phone/i.test(b)||he(b)}function cn(b,p=[]){let g;switch(b){case"Browser":g=ie((0,m.z$)());break;case"Worker":g=`${ie((0,m.z$)())}-${b}`;break;default:g=b}const T=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${V.SDK_VERSION}/${T}`}function Te(){return(Te=(0,C.Z)(function*(b){return(yield Pe(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function st(b,p){return It.apply(this,arguments)}function It(){return(It=(0,C.Z)(function*(b,p){return Pe(b,"GET","/v2/recaptchaConfig",ge(b,p))})).apply(this,arguments)}function Nt(b){return void 0!==b&&void 0!==b.getResponse}function tn(b){return void 0!==b&&void 0!==b.enterprise}class Gt{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function ln(b){return new Promise((p,g)=>{const T=document.createElement("script");T.setAttribute("src",b),T.onload=p,T.onerror=L=>{const Q=Oe("internal-error");Q.customData=L,g(Q)},T.type="text/javascript",T.charset="UTF-8",function Nn(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(T)})}function Cr(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Fo="NO_RECAPTCHA";class oo{constructor(p){this.type="recaptcha-enterprise",this.auth=Gn(p)}verify(){var p=this;return(0,C.Z)(function*(g="verify",T=!1){function Q(){return Q=(0,C.Z)(function*(Ve){if(!T){if(null==Ve.tenantId&&null!=Ve._agentRecaptchaConfig)return Ve._agentRecaptchaConfig.siteKey;if(null!=Ve.tenantId&&void 0!==Ve._tenantRecaptchaConfigs[Ve.tenantId])return Ve._tenantRecaptchaConfigs[Ve.tenantId].siteKey}return new Promise(function(){var _t=(0,C.Z)(function*(Bt,dn){st(Ve,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(on=>{if(void 0!==on.recaptchaKey){const Nr=new Gt(on);return null==Ve.tenantId?Ve._agentRecaptchaConfig=Nr:Ve._tenantRecaptchaConfigs[Ve.tenantId]=Nr,Bt(Nr.siteKey)}dn(new Error("recaptcha Enterprise site key undefined"))}).catch(on=>{dn(on)})});return function(Bt,dn){return _t.apply(this,arguments)}}())}),Q.apply(this,arguments)}function _e(Ve,_t,Bt){const dn=window.grecaptcha;tn(dn)?dn.enterprise.ready(()=>{dn.enterprise.execute(Ve,{action:g}).then(on=>{_t(on)}).catch(()=>{_t(Fo)})}):Bt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ve,_t)=>{(function L(Ve){return Q.apply(this,arguments)})(p.auth).then(Bt=>{if(!T&&tn(window.grecaptcha))_e(Bt,Ve,_t);else{if(typeof window>"u")return void _t(new Error("RecaptchaVerifier is only supported in browser"));ln("https://www.google.com/recaptcha/enterprise.js?render="+Bt).then(()=>{_e(Bt,Ve,_t)}).catch(dn=>{_t(dn)})}}).catch(Bt=>{_t(Bt)})})}).apply(this,arguments)}}function Tr(b,p,g){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,C.Z)(function*(b,p,g,T=!1){const L=new oo(b);let Q;try{Q=yield L.verify(g)}catch{Q=yield L.verify(g,!0)}const _e=Object.assign({},p);return Object.assign(_e,T?{captchaResp:Q}:{captchaResponse:Q}),Object.assign(_e,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_e,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_e})).apply(this,arguments)}class bn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const T=Q=>new Promise((_e,Ve)=>{try{_e(p(Q))}catch(_t){Ve(_t)}});T.onAbort=g,this.queue.push(T);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,C.Z)(function*(){if(g.auth.currentUser===p)return;const T=[];try{for(const L of g.queue)yield L(p),L.onAbort&&T.push(L.onAbort)}catch(L){T.reverse();for(const Q of T)try{Q()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}class Kn{constructor(p,g,T,L){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=T,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fi(this),this.idTokenSubscription=new Fi(this),this.beforeStateQueue=new bn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ft,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(p,g){var T=this;return g&&(this._popupRedirectResolver=_r(g)),this._initializationPromise=this.queue((0,C.Z)(function*(){var L,Q;if(!T._deleted&&(T.persistenceManager=yield ue.create(T,p),!T._deleted)){if(null!==(L=T._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(g),T.lastNotifiedUid=(null===(Q=T.currentUser)||void 0===Q?void 0:Q.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,C.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,C.Z)(function*(){var T;const L=yield g.assertedPersistence.getCurrentUser();let Q=L,_e=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Ve=null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId,_t=Q?._redirectEventId,Bt=yield g.tryRedirectSignIn(p);(!Ve||Ve===_t)&&Bt?.user&&(Q=Bt.user,_e=!0)}if(!Q)return g.directlySetCurrentUser(null);if(!Q._redirectEventId){if(_e)try{yield g.beforeStateQueue.runMiddleware(Q)}catch(Ve){Q=L,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Ve))}return Q?g.reloadAndSetCurrentUserOrClear(Q):g.directlySetCurrentUser(null)}return Ee(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===Q._redirectEventId?g.directlySetCurrentUser(Q):g.reloadAndSetCurrentUserOrClear(Q)})()}tryRedirectSignIn(p){var g=this;return(0,C.Z)(function*(){let T=null;try{T=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,C.Z)(function*(){try{yield At(p)}catch(T){if("auth/network-request-failed"!==T?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function pr(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,C.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,C.Z)(function*(){const T=p?(0,m.m9)(p):null;return T&&Ee(T.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(T&&T._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,C.Z)(function*(T,L=!1){if(!g._deleted)return T&&Ee(g.tenantId===T.tenantId,g,"tenant-id-mismatch"),L||(yield g.beforeStateQueue.runMiddleware(T)),g.queue((0,C.Z)(function*(){yield g.directlySetCurrentUser(T),g.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var p=this;return(0,C.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,C.Z)(function*(){yield g.assertedPersistence.setPersistence(_r(p))}))}initializeRecaptchaConfig(){var p=this;return(0,C.Z)(function*(){const g=yield st(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),T=new Gt(g);null==p.tenantId?p._agentRecaptchaConfig=T:p._tenantRecaptchaConfigs[p.tenantId]=T,T.emailPasswordEnabled&&new oo(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new m.LL("auth","Firebase",p())}onAuthStateChanged(p,g,T){return this.registerStateListener(this.authStateSubscription,p,g,T)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,T){return this.registerStateListener(this.idTokenSubscription,p,g,T)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var T=this;return(0,C.Z)(function*(){const L=yield T.getOrInitRedirectPersistenceManager(g);return null===p?L.removeCurrentUser():L.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,C.Z)(function*(){if(!g.redirectPersistenceManager){const T=p&&_r(p)||g._popupRedirectResolver;Ee(T,g,"argument-error"),g.redirectPersistenceManager=yield ue.create(g,[_r(T._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,C.Z)(function*(){var T,L;return g._isInitialized&&(yield g.queue((0,C.Z)(function*(){}))),(null===(T=g._currentUser)||void 0===T?void 0:T._redirectEventId)===p?g._currentUser:(null===(L=g.redirectUser)||void 0===L?void 0:L._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,C.Z)(function*(){if(p===g.currentUser)return g.queue((0,C.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,T,L){if(this._deleted)return()=>{};const Q="function"==typeof g?g:g.next.bind(g),_e=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(_e,this,"internal-error"),_e.then(()=>Q(this.currentUser)),"function"==typeof g?p.addObserver(g,T,L):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,C.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=cn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,C.Z)(function*(){var g;const T={"X-Client-Version":p.clientVersion};p.app.options.appId&&(T["X-Firebase-gmpid"]=p.app.options.appId);const L=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();L&&(T["X-Firebase-Client"]=L);const Q=yield p._getAppCheckToken();return Q&&(T["X-Firebase-AppCheck"]=Q),T})()}_getAppCheckToken(){var p=this;return(0,C.Z)(function*(){var g;const T=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return T?.error&&function nt(b,...p){Qe.logLevel<=pe.in.WARN&&Qe.warn(`Auth (${V.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${T.error}`),T?.token})()}}function Gn(b){return(0,m.m9)(b)}class Fi{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,m.ne)(g=>this.observer=g)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fn(b,p,g){const T=Gn(b);Ee(T._canInitEmulator,T,"emulator-config-failed"),Ee(/^https?:\/\//.test(p),T,"invalid-emulator-scheme");const L=!!g?.disableWarnings,Q=Ki(p),{host:_e,port:Ve}=function Ti(b){const p=Ki(b),g=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!g)return{host:"",port:null};const T=g[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(T);if(L){const Q=L[1];return{host:Q,port:un(T.substr(Q.length+1))}}{const[Q,_e]=T.split(":");return{host:Q,port:un(_e)}}}(p);T.config.emulator={url:`${Q}//${_e}${null===Ve?"":`:${Ve}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:_e,port:Ve,protocol:Q.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Zi(){function b(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Ki(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function un(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class re{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return ht("not implemented")}_getIdTokenResponse(p){return ht("not implemented")}_linkToIdToken(p,g){return ht("not implemented")}_getReauthenticationResolver(p){return ht("not implemented")}}function Se(b,p){return We.apply(this,arguments)}function We(){return(We=(0,C.Z)(function*(b,p){return Pe(b,"POST","/v1/accounts:resetPassword",ge(b,p))})).apply(this,arguments)}function wt(b,p){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,C.Z)(function*(b,p){return Pe(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function In(){return(In=(0,C.Z)(function*(b,p){return Pe(b,"POST","/v1/accounts:update",ge(b,p))})).apply(this,arguments)}function lr(b,p){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,C.Z)(function*(b,p){return gt(b,"POST","/v1/accounts:signInWithPassword",ge(b,p))})).apply(this,arguments)}function xn(b,p){return ni.apply(this,arguments)}function ni(){return(ni=(0,C.Z)(function*(b,p){return Pe(b,"POST","/v1/accounts:sendOobCode",ge(b,p))})).apply(this,arguments)}function cs(){return(cs=(0,C.Z)(function*(b,p){return xn(b,p)})).apply(this,arguments)}function Lo(b,p){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,C.Z)(function*(b,p){return xn(b,p)})).apply(this,arguments)}function po(b,p){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,C.Z)(function*(b,p){return xn(b,p)})).apply(this,arguments)}function li(){return(li=(0,C.Z)(function*(b,p){return xn(b,p)})).apply(this,arguments)}function Vo(){return(Vo=(0,C.Z)(function*(b,p){return gt(b,"POST","/v1/accounts:signInWithEmailLink",ge(b,p))})).apply(this,arguments)}function ki(){return(ki=(0,C.Z)(function*(b,p){return gt(b,"POST","/v1/accounts:signInWithEmailLink",ge(b,p))})).apply(this,arguments)}class Zr extends re{constructor(p,g,T,L=null){super("password",T),this._email=p,this._password=g,this._tenantId=L}static _fromEmailAndPassword(p,g){return new Zr(p,g,"password")}static _fromEmailAndCode(p,g,T=null){return new Zr(p,g,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,C.Z)(function*(){var T;switch(g.signInMethod){case"password":const L={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=p._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const Q=yield Tr(p,L,"signInWithPassword");return lr(p,Q)}return lr(p,L).catch(function(){var Q=(0,C.Z)(function*(_e){if("auth/missing-recaptcha-token"===_e.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ve=yield Tr(p,L,"signInWithPassword");return lr(p,Ve)}return Promise.reject(_e)});return function(_e){return Q.apply(this,arguments)}}());case"emailLink":return function ui(b,p){return Vo.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ge(p,"internal-error")}})()}_linkToIdToken(p,g){var T=this;return(0,C.Z)(function*(){switch(T.signInMethod){case"password":return wt(p,{idToken:g,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function Di(b,p){return ki.apply(this,arguments)}(p,{idToken:g,email:T._email,oobCode:T._password});default:Ge(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Qi(b,p){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,C.Z)(function*(b,p){return gt(b,"POST","/v1/accounts:signInWithIdp",ge(b,p))})).apply(this,arguments)}class Li extends re{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Li(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ge("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:T,signInMethod:L}=g,Q=(0,de._T)(g,["providerId","signInMethod"]);if(!T||!L)return null;const _e=new Li(T,L);return _e.idToken=Q.idToken||void 0,_e.accessToken=Q.accessToken||void 0,_e.secret=Q.secret,_e.nonce=Q.nonce,_e.pendingToken=Q.pendingToken||null,_e}_getIdTokenResponse(p){return Qi(p,this.buildRequest())}_linkToIdToken(p,g){const T=this.buildRequest();return T.idToken=g,Qi(p,T)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Qi(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,m.xO)(g)}return p}}function Bo(){return(Bo=(0,C.Z)(function*(b,p){return Pe(b,"POST","/v1/accounts:sendVerificationCode",ge(b,p))})).apply(this,arguments)}function ls(){return(ls=(0,C.Z)(function*(b,p){return gt(b,"POST","/v1/accounts:signInWithPhoneNumber",ge(b,p))})).apply(this,arguments)}function us(){return(us=(0,C.Z)(function*(b,p){const g=yield gt(b,"POST","/v1/accounts:signInWithPhoneNumber",ge(b,p));if(g.temporaryProof)throw vn(b,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ks={USER_NOT_FOUND:"user-not-found"};function hs(){return(hs=(0,C.Z)(function*(b,p){return gt(b,"POST","/v1/accounts:signInWithPhoneNumber",ge(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ks)})).apply(this,arguments)}class Uo extends re{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Uo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Uo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function pa(b,p){return ls.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function uc(b,p){return us.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ds(b,p){return hs.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:T,verificationCode:L}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:T,code:L}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:T,phoneNumber:L,temporaryProof:Q}=p;return T||g||L||Q?new Uo({verificationId:g,verificationCode:T,phoneNumber:L,temporaryProof:Q}):null}}class Yo{constructor(p){var g,T,L,Q,_e,Ve;const _t=(0,m.zd)((0,m.pd)(p)),Bt=null!==(g=_t.apiKey)&&void 0!==g?g:null,dn=null!==(T=_t.oobCode)&&void 0!==T?T:null,on=function dc(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=_t.mode)&&void 0!==L?L:null);Ee(Bt&&dn&&on,"argument-error"),this.apiKey=Bt,this.operation=on,this.code=dn,this.continueUrl=null!==(Q=_t.continueUrl)&&void 0!==Q?Q:null,this.languageCode=null!==(_e=_t.languageCode)&&void 0!==_e?_e:null,this.tenantId=null!==(Ve=_t.tenantId)&&void 0!==Ve?Ve:null}static parseLink(p){const g=function Fa(b){const p=(0,m.zd)((0,m.pd)(b)).link,g=p?(0,m.zd)((0,m.pd)(p)).deep_link_id:null,T=(0,m.zd)((0,m.pd)(b)).deep_link_id;return(T?(0,m.zd)((0,m.pd)(T)).link:null)||T||g||p||b}(p);try{return new Yo(g)}catch{return null}}}let ea=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(g,T){return Zr._fromEmailAndPassword(g,T)}static credentialWithLink(g,T){const L=Yo.parseLink(T);return Ee(L,"argument-error"),Zr._fromEmailAndCode(g,L.code,L.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class To{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Os extends To{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class gi extends Os{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Ee("providerId"in g&&"signInMethod"in g,"argument-error"),Li._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Ee(p.idToken||p.accessToken,"argument-error"),Li._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return gi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return gi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:T,oauthTokenSecret:L,pendingToken:Q,nonce:_e,providerId:Ve}=p;if(!T&&!L&&!g&&!Q||!Ve)return null;try{return new gi(Ve)._credential({idToken:g,accessToken:T,nonce:_e,pendingToken:Q})}catch{return null}}}let ma=(()=>{class b extends Os{constructor(){super("facebook.com")}static credential(g){return Li._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return b.credential(g.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),ga=(()=>{class b extends Os{constructor(){super("google.com"),this.addScope("profile")}static credential(g,T){return Li._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:T})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:T,oauthAccessToken:L}=g;if(!T&&!L)return null;try{return b.credential(T,L)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),ta=(()=>{class b extends Os{constructor(){super("github.com")}static credential(g){return Li._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return b.credential(g.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class mo extends re{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Qi(p,this.buildRequest())}_linkToIdToken(p,g){const T=this.buildRequest();return T.idToken=g,Qi(p,T)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Qi(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:T,signInMethod:L,pendingToken:Q}=g;return T&&L&&Q&&T===L?new mo(T,Q):null}static _create(p,g){return new mo(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class so extends To{constructor(p){Ee(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return so.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return so.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=mo.fromJSON(p);return Ee(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:T}=p;if(!g||!T)return null;try{return mo._create(T,g)}catch{return null}}}let kc=(()=>{class b extends Os{constructor(){super("twitter.com")}static credential(g,T){return Li._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:T})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:T,oauthTokenSecret:L}=g;if(!T||!L)return null;try{return b.credential(T,L)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function jo(b,p){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,C.Z)(function*(b,p){return gt(b,"POST","/v1/accounts:signUp",ge(b,p))})).apply(this,arguments)}class br{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,T){return(0,C.Z)(function*(L,Q,_e,Ve=!1){const _t=yield $n._fromIdTokenResponse(L,_e,Ve),Bt=Ns(_e);return new br({user:_t,providerId:Bt,_tokenResponse:_e,operationType:Q})}).apply(this,arguments)}static _forOperation(p,g,T){return(0,C.Z)(function*(){yield p._updateTokensIfNecessary(T,!0);const L=Ns(T);return new br({user:p,providerId:L,_tokenResponse:T,operationType:g})})()}}function Ns(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function ra(b){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,C.Z)(function*(b){var p;const g=Gn(b);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new br({user:g.currentUser,providerId:null,operationType:"signIn"});const T=yield jo(g,{returnSecureToken:!0}),L=yield br._fromIdTokenResponse(g,"signIn",T,!0);return yield g._updateCurrentUser(L.user),L})).apply(this,arguments)}class Vi extends m.ZR{constructor(p,g,T,L){var Q;super(g.code,g.message),this.operationType=T,this.user=L,Object.setPrototypeOf(this,Vi.prototype),this.customData={appName:p.name,tenantId:null!==(Q=p.tenantId)&&void 0!==Q?Q:void 0,_serverResponse:g.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(p,g,T,L){return new Vi(p,g,T,L)}}function Qr(b,p,g,T){return("reauthenticate"===p?g._getReauthenticationResolver(b):g._getIdTokenResponse(b)).catch(Q=>{throw"auth/multi-factor-auth-required"===Q.code?Vi._fromErrorAndOperation(b,Q,p,T):Q})}function Vr(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function $o(b,p){return ia.apply(this,arguments)}function ia(){return ia=(0,C.Z)(function*(b,p){const g=(0,m.m9)(b);yield Go(!0,g,p);const{providerUserInfo:T}=yield function yn(b,p){return Mn.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),L=Vr(T||[]);return g.providerData=g.providerData.filter(Q=>L.has(Q.providerId)),L.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),ia.apply(this,arguments)}function fs(b,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,C.Z)(function*(b,p,g=!1){const T=yield wn(b,p._linkToIdToken(b.auth,yield b.getIdToken()),g);return br._forOperation(b,"link",T)})).apply(this,arguments)}function Go(b,p,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,C.Z)(function*(b,p,g){yield At(p);const L=!1===b?"provider-already-linked":"no-such-provider";Ee(Vr(p.providerData).has(g)===b,p.auth,L)})).apply(this,arguments)}function ps(b,p){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,C.Z)(function*(b,p,g=!1){const{auth:T}=b,L="reauthenticate";try{const Q=yield wn(b,Qr(T,L,p,b),g);Ee(Q.idToken,T,"internal-error");const _e=vr(Q.idToken);Ee(_e,T,"internal-error");const{sub:Ve}=_e;return Ee(b.uid===Ve,T,"user-mismatch"),br._forOperation(b,L,Q)}catch(Q){throw"auth/user-not-found"===Q?.code&&Ge(T,"user-mismatch"),Q}})).apply(this,arguments)}function ms(b,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,C.Z)(function*(b,p,g=!1){const T="signIn",L=yield Qr(b,T,p),Q=yield br._fromIdTokenResponse(b,T,L);return g||(yield b._updateCurrentUser(Q.user)),Q})).apply(this,arguments)}function en(b,p){return qo.apply(this,arguments)}function qo(){return(qo=(0,C.Z)(function*(b,p){return ms(Gn(b),p)})).apply(this,arguments)}function go(b,p){return La.apply(this,arguments)}function La(){return(La=(0,C.Z)(function*(b,p){const g=(0,m.m9)(b);return yield Go(!1,g,p.providerId),fs(g,p)})).apply(this,arguments)}function Oc(b,p){return va.apply(this,arguments)}function va(){return(va=(0,C.Z)(function*(b,p){return ps((0,m.m9)(b),p)})).apply(this,arguments)}function pc(){return(pc=(0,C.Z)(function*(b,p){return gt(b,"POST","/v1/accounts:signInWithCustomToken",ge(b,p))})).apply(this,arguments)}function ya(b,p){return O.apply(this,arguments)}function O(){return O=(0,C.Z)(function*(b,p){const g=Gn(b),T=yield function fc(b,p){return pc.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),L=yield br._fromIdTokenResponse(g,"signIn",T);return yield g._updateCurrentUser(L.user),L}),O.apply(this,arguments)}class Y{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?le._fromServerResponse(p,g):"totpInfo"in g?Re._fromServerResponse(p,g):Ge(p,"internal-error")}}class le extends Y{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new le(g)}}class Re extends Y{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new Re(g)}}function Ke(b,p,g){var T;Ee((null===(T=g.url)||void 0===T?void 0:T.length)>0,b,"invalid-continue-uri"),Ee(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Ee(g.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Ee(g.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function vt(b,p,g){return kt.apply(this,arguments)}function kt(){return kt=(0,C.Z)(function*(b,p,g){var T;const L=Gn(b),Q={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(T=L._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const _e=yield Tr(L,Q,"getOobCode",!0);g&&Ke(L,_e,g),yield Lo(L,_e)}else g&&Ke(L,Q,g),yield Lo(L,Q).catch(function(){var _e=(0,C.Z)(function*(Ve){if("auth/missing-recaptcha-token"!==Ve.code)return Promise.reject(Ve);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const _t=yield Tr(L,Q,"getOobCode",!0);g&&Ke(L,_t,g),yield Lo(L,_t)}});return function(Ve){return _e.apply(this,arguments)}}())}),kt.apply(this,arguments)}function pn(b,p,g){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,C.Z)(function*(b,p,g){yield Se((0,m.m9)(b),{oobCode:p,newPassword:g})})).apply(this,arguments)}function fr(b,p){return ur.apply(this,arguments)}function ur(){return ur=(0,C.Z)(function*(b,p){yield function fn(b,p){return In.apply(this,arguments)}((0,m.m9)(b),{oobCode:p})}),ur.apply(this,arguments)}function kn(b,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,C.Z)(function*(b,p){const g=(0,m.m9)(b),T=yield Se(g,{oobCode:p}),L=T.requestType;switch(Ee(L,g,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(T.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(T.mfaInfo,g,"internal-error");default:Ee(T.email,g,"internal-error")}let Q=null;return T.mfaInfo&&(Q=Y._fromServerResponse(Gn(g),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:Q},operation:L}})).apply(this,arguments)}function Rr(b,p){return ii.apply(this,arguments)}function ii(){return(ii=(0,C.Z)(function*(b,p){const{data:g}=yield kn((0,m.m9)(b),p);return g.email})).apply(this,arguments)}function Ko(b,p,g){return Hi.apply(this,arguments)}function Hi(){return Hi=(0,C.Z)(function*(b,p,g){var T;const L=Gn(b),Q={returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"};let _e;if(null!==(T=L._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const Bt=yield Tr(L,Q,"signUpPassword");_e=jo(L,Bt)}else _e=jo(L,Q).catch(function(){var Bt=(0,C.Z)(function*(dn){if("auth/missing-recaptcha-token"===dn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const on=yield Tr(L,Q,"signUpPassword");return jo(L,on)}return Promise.reject(dn)});return function(dn){return Bt.apply(this,arguments)}}());const Ve=yield _e.catch(Bt=>Promise.reject(Bt)),_t=yield br._fromIdTokenResponse(L,"signIn",Ve);return yield L._updateCurrentUser(_t.user),_t}),Hi.apply(this,arguments)}function Xr(b,p,g){return en((0,m.m9)(b),ea.credential(p,g))}function ao(b,p,g){return Do.apply(this,arguments)}function Do(){return Do=(0,C.Z)(function*(b,p,g){var T;const L=Gn(b),Q={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function _e(Ve,_t){Ee(_t.handleCodeInApp,L,"argument-error"),_t&&Ke(L,Ve,_t)}if(null!==(T=L._getRecaptchaConfig())&&void 0!==T&&T.emailPasswordEnabled){const Ve=yield Tr(L,Q,"getOobCode",!0);_e(Ve,g),yield po(L,Ve)}else _e(Q,g),yield po(L,Q).catch(function(){var Ve=(0,C.Z)(function*(_t){if("auth/missing-recaptcha-token"!==_t.code)return Promise.reject(_t);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Bt=yield Tr(L,Q,"getOobCode",!0);_e(Bt,g),yield po(L,Bt)}});return function(_t){return Ve.apply(this,arguments)}}())}),Do.apply(this,arguments)}function n1(b,p){return"EMAIL_SIGNIN"===Yo.parseLink(p)?.operation}function r1(b,p,g){return Va.apply(this,arguments)}function Va(){return(Va=(0,C.Z)(function*(b,p,g){const T=(0,m.m9)(b),L=ea.credentialWithLink(p,g||Et());return Ee(L._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),en(T,L)})).apply(this,arguments)}function _a(){return(_a=(0,C.Z)(function*(b,p){return Pe(b,"POST","/v1/accounts:createAuthUri",ge(b,p))})).apply(this,arguments)}function Rc(b,p){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,C.Z)(function*(b,p){const T={identifier:p,continueUri:$t()?Et():"http://localhost"},{signinMethods:L}=yield function mc(b,p){return _a.apply(this,arguments)}((0,m.m9)(b),T);return L||[]}),Nc.apply(this,arguments)}function gc(b,p){return oa.apply(this,arguments)}function oa(){return oa=(0,C.Z)(function*(b,p){const g=(0,m.m9)(b),L={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&Ke(g.auth,L,p);const{email:Q}=yield function Oa(b,p){return cs.apply(this,arguments)}(g.auth,L);Q!==b.email&&(yield b.reload())}),oa.apply(this,arguments)}function vl(b,p,g){return sa.apply(this,arguments)}function sa(){return sa=(0,C.Z)(function*(b,p,g){const T=(0,m.m9)(b),Q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};g&&Ke(T.auth,Q,g);const{email:_e}=yield function Ra(b,p){return li.apply(this,arguments)}(T.auth,Q);_e!==b.email&&(yield b.reload())}),sa.apply(this,arguments)}function Fc(){return(Fc=(0,C.Z)(function*(b,p){return Pe(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function _l(b,p){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,C.Z)(function*(b,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const T=(0,m.m9)(b),Q={idToken:yield T.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},_e=yield wn(T,function yl(b,p){return Fc.apply(this,arguments)}(T.auth,Q));T.displayName=_e.displayName||null,T.photoURL=_e.photoUrl||null;const Ve=T.providerData.find(({providerId:_t})=>"password"===_t);Ve&&(Ve.displayName=T.displayName,Ve.photoURL=T.photoURL),yield T._updateTokensIfNecessary(_e)}),Lc.apply(this,arguments)}function o1(b,p){return gs((0,m.m9)(b),p,null)}function Bi(b,p){return gs((0,m.m9)(b),null,p)}function gs(b,p,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,C.Z)(function*(b,p,g){const{auth:T}=b,Q={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(Q.email=p),g&&(Q.password=g);const _e=yield wn(b,wt(T,Q));yield b._updateTokensIfNecessary(_e,!0)})).apply(this,arguments)}class Ha{constructor(p,g,T={}){this.isNewUser=p,this.providerId=g,this.profile=T}}class wl extends Ha{constructor(p,g,T,L){super(p,g,T),this.username=L}}class s1 extends Ha{constructor(p,g){super(p,"facebook.com",g)}}class a1 extends wl{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class c1 extends Ha{constructor(p,g){super(p,"google.com",g)}}class vc extends wl{constructor(p,g,T){super(p,"twitter.com",g,T)}}function Vc(b){const{user:p,_tokenResponse:g}=b;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Jl(b){var p,g;if(!b)return null;const{providerId:T}=b,L=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},Q=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!T&&b?.idToken){const _e=null===(g=null===(p=vr(b.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(_e)return new Ha(Q,"anonymous"!==_e&&"custom"!==_e?_e:null)}if(!T)return null;switch(T){case"facebook.com":return new s1(Q,L);case"github.com":return new a1(Q,L);case"google.com":return new c1(Q,L);case"twitter.com":return new vc(Q,L,b.screenName||null);case"custom":case"anonymous":return new Ha(Q,null);default:return new Ha(Q,T,L)}}(g)}class Xn{constructor(p,g,T){this.type=p,this.credential=g,this.auth=T}static _fromIdtoken(p,g){return new Xn("enroll",p,g)}static _fromMfaPendingCredential(p){return new Xn("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,T;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Xn._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(T=p.multiFactorSession)&&void 0!==T&&T.idToken)return Xn._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Jn{constructor(p,g,T){this.session=p,this.hints=g,this.signInResolver=T}static _fromError(p,g){const T=Gn(p),L=g.customData._serverResponse,Q=(L.mfaInfo||[]).map(Ve=>Y._fromServerResponse(T,Ve));Ee(L.mfaPendingCredential,T,"internal-error");const _e=Xn._fromMfaPendingCredential(L.mfaPendingCredential);return new Jn(_e,Q,function(){var Ve=(0,C.Z)(function*(_t){const Bt=yield _t._process(T,_e);delete L.mfaInfo,delete L.mfaPendingCredential;const dn=Object.assign(Object.assign({},L),{idToken:Bt.idToken,refreshToken:Bt.refreshToken});switch(g.operationType){case"signIn":const on=yield br._fromIdTokenResponse(T,g.operationType,dn);return yield T._updateCurrentUser(on.user),on;case"reauthenticate":return Ee(g.user,T,"internal-error"),br._forOperation(g.user,g.operationType,dn);default:Ge(T,"internal-error")}});return function(_t){return Ve.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,C.Z)(function*(){return g.signInResolver(p)})()}}function Ln(b,p){var g;const T=(0,m.m9)(b),L=p;return Ee(p.customData.operationType,T,"argument-error"),Ee(null===(g=L.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,T,"argument-error"),Jn._fromError(T,L)}class yo{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(T=>Y._fromServerResponse(p.auth,T)))})}static _fromUser(p){return new yo(p)}getSession(){var p=this;return(0,C.Z)(function*(){return Xn._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var T=this;return(0,C.Z)(function*(){const L=p,Q=yield T.getSession(),_e=yield wn(T.user,L._process(T.user.auth,Q,g));return yield T.user._updateTokensIfNecessary(_e),T.user.reload()})()}unenroll(p){var g=this;return(0,C.Z)(function*(){const T="string"==typeof p?p:p.uid,L=yield g.user.getIdToken();try{const Q=yield wn(g.user,function Xi(b,p){return Pe(b,"POST","/v2/accounts/mfaEnrollment:withdraw",ge(b,p))}(g.user.auth,{idToken:L,mfaEnrollmentId:T}));g.enrolledFactors=g.enrolledFactors.filter(({uid:_e})=>_e!==T),yield g.user._updateTokensIfNecessary(Q),yield g.user.reload()}catch(Q){throw Q}})()}}const Ii=new WeakMap;function Mo(b){const p=(0,m.m9)(b);return Ii.has(p)||Ii.set(p,yo._fromUser(p)),Ii.get(p)}const Io="__sak";class Zo{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Io,"1"),this.storage.removeItem(Io),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const yc=(()=>{class b extends Zo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,T)=>this.onStorageEvent(g,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function eu(){const b=(0,m.z$)();return X(b)||J(b)}()&&function Ft(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=at(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const T of Object.keys(this.listeners)){const L=this.storage.getItem(T),Q=this.localCache[T];L!==Q&&g(T,Q,L)}}onStorageEvent(g,T=!1){if(!g.key)return void this.forAllChangedKeys((Ve,_t,Bt)=>{this.notifyListeners(Ve,Bt)});const L=g.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ve=this.storage.getItem(L);if(g.newValue!==Ve)null!==g.newValue?this.storage.setItem(L,g.newValue):this.storage.removeItem(L);else if(this.localCache[L]===g.newValue&&!T)return}const Q=()=>{const Ve=this.storage.getItem(L);!T&&this.localCache[L]===Ve||this.notifyListeners(L,Ve)},_e=this.storage.getItem(L);!function it(){return(0,m.w1)()&&10===document.documentMode}()||_e===g.newValue||g.newValue===g.oldValue?Q():setTimeout(Q,10)}notifyListeners(g,T){this.localCache[g]=T;const L=this.listeners[g];if(L)for(const Q of Array.from(L))Q(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,T,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:T,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,T){var L=()=>super._set,Q=this;return(0,C.Z)(function*(){yield L().call(Q,g,T),Q.localCache[g]=JSON.stringify(T)})()}_get(g){var T=()=>super._get,L=this;return(0,C.Z)(function*(){const Q=yield T().call(L,g);return L.localCache[g]=JSON.stringify(Q),Q})()}_remove(g){var T=()=>super._remove,L=this;return(0,C.Z)(function*(){yield T().call(L,g),delete L.localCache[g]})()}}return b.type="LOCAL",b})(),Qo=(()=>{class b extends Zo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,T){}_removeListener(g,T){}}return b.type="SESSION",b})();let Bc=(()=>{class b{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const T=this.receivers.find(Q=>Q.isListeningto(g));if(T)return T;const L=new b(g);return this.receivers.push(L),L}isListeningto(g){return this.eventTarget===g}handleEvent(g){var T=this;return(0,C.Z)(function*(){const L=g,{eventId:Q,eventType:_e,data:Ve}=L.data,_t=T.handlersMap[_e];if(!_t?.size)return;L.ports[0].postMessage({status:"ack",eventId:Q,eventType:_e});const Bt=Array.from(_t).map(function(){var on=(0,C.Z)(function*(Nr){return Nr(L.origin,Ve)});return function(Nr){return on.apply(this,arguments)}}()),dn=yield function tu(b){return Promise.all(b.map(function(){var p=(0,C.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(T){return{fulfilled:!1,reason:T}}});return function(g){return p.apply(this,arguments)}}()))}(Bt);L.ports[0].postMessage({status:"done",eventId:Q,eventType:_e,response:dn})})()}_subscribe(g,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(T)}_unsubscribe(g,T){this.handlersMap[g]&&T&&this.handlersMap[g].delete(T),(!T||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function wa(b="",p=10){let g="";for(let T=0;T<p;T++)g+=Math.floor(10*Math.random());return b+g}class nu{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g){var T=this;return(0,C.Z)(function*(L,Q,_e=50){const Ve=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ve)throw new Error("connection_unavailable");let _t,Bt;return new Promise((dn,on)=>{const Nr=wa("",20);Ve.port1.start();const $s=setTimeout(()=>{on(new Error("unsupported_event"))},_e);Bt={messageChannel:Ve,onMessage(Al){const Pl=Al;if(Pl.data.eventId===Nr)switch(Pl.data.status){case"ack":clearTimeout($s),_t=setTimeout(()=>{on(new Error("timeout"))},3e3);break;case"done":clearTimeout(_t),dn(Pl.data.response);break;default:clearTimeout($s),clearTimeout(_t),on(new Error("invalid_response"))}}},T.handlers.add(Bt),Ve.port1.addEventListener("message",Bt.onMessage),T.target.postMessage({eventType:L,eventId:Nr,data:Q},[Ve.port2])}).finally(()=>{Bt&&T.removeMessageHandler(Bt)})}).apply(this,arguments)}}function ei(){return window}function ru(){return typeof ei().WorkerGlobalScope<"u"&&"function"==typeof ei().importScripts}function Ba(){return(Ba=(0,C.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ua="firebaseLocalStorageDb",Uc=1,Vs="firebaseLocalStorage",aa="fbase_key";class Ca{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function xi(b,p){return b.transaction([Vs],p?"readwrite":"readonly").objectStore(Vs)}function co(){const b=indexedDB.open(Ua,Uc);return new Promise((p,g)=>{b.addEventListener("error",()=>{g(b.error)}),b.addEventListener("upgradeneeded",()=>{const T=b.result;try{T.createObjectStore(Vs,{keyPath:aa})}catch(L){g(L)}}),b.addEventListener("success",(0,C.Z)(function*(){const T=b.result;T.objectStoreNames.contains(Vs)?p(T):(T.close(),yield function Hs(){const b=indexedDB.deleteDatabase(Ua);return new Ca(b).toPromise()}(),p(yield co()))}))})}function bl(b,p,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,C.Z)(function*(b,p,g){const T=xi(b,!0).put({[aa]:p,value:g});return new Ca(T).toPromise()})).apply(this,arguments)}function Ya(){return(Ya=(0,C.Z)(function*(b,p){const g=xi(b,!1).get(p),T=yield new Ca(g).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Sl(b,p){const g=xi(b,!0).delete(p);return new Ca(g).toPromise()}const di=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,C.Z)(function*(){return g.db||(g.db=yield co()),g.db})()}_withRetries(g){var T=this;return(0,C.Z)(function*(){let L=0;for(;;)try{const Q=yield T._openDb();return yield g(Q)}catch(Q){if(L++>3)throw Q;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,C.Z)(function*(){return ru()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,C.Z)(function*(){g.receiver=Bc._getInstance(function _c(){return ru()?self:null}()),g.receiver._subscribe("keyChanged",function(){var T=(0,C.Z)(function*(L,Q){return{keyProcessed:(yield g._poll()).includes(Q.key)}});return function(L,Q){return T.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var T=(0,C.Z)(function*(L,Q){return["keyChanged"]});return function(L,Q){return T.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,C.Z)(function*(){var T,L;if(g.activeServiceWorker=yield function Ls(){return Ba.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new nu(g.activeServiceWorker);const Q=yield g.sender._send("ping",{},800);Q&&null!==(T=Q[0])&&void 0!==T&&T.fulfilled&&null!==(L=Q[0])&&void 0!==L&&L.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var T=this;return(0,C.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Xo(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:g},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const g=yield co();return yield bl(g,Io,"1"),yield Sl(g,Io),!0}catch{}return!1})()}_withPendingWrite(g){var T=this;return(0,C.Z)(function*(){T.pendingWrites++;try{yield g()}finally{T.pendingWrites--}})()}_set(g,T){var L=this;return(0,C.Z)(function*(){return L._withPendingWrite((0,C.Z)(function*(){return yield L._withRetries(Q=>bl(Q,g,T)),L.localCache[g]=T,L.notifyServiceWorker(g)}))})()}_get(g){var T=this;return(0,C.Z)(function*(){const L=yield T._withRetries(Q=>function _s(b,p){return Ya.apply(this,arguments)}(Q,g));return T.localCache[g]=L,L})()}_remove(g){var T=this;return(0,C.Z)(function*(){return T._withPendingWrite((0,C.Z)(function*(){return yield T._withRetries(L=>Sl(L,g)),delete T.localCache[g],T.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,C.Z)(function*(){const T=yield g._withRetries(_e=>{const Ve=xi(_e,!1).getAll();return new Ca(Ve).toPromise()});if(!T)return[];if(0!==g.pendingWrites)return[];const L=[],Q=new Set;for(const{fbase_key:_e,value:Ve}of T)Q.add(_e),JSON.stringify(g.localCache[_e])!==JSON.stringify(Ve)&&(g.notifyListeners(_e,Ve),L.push(_e));for(const _e of Object.keys(g.localCache))g.localCache[_e]&&!Q.has(_e)&&(g.notifyListeners(_e,null),L.push(_e));return L})()}notifyListeners(g,T){this.localCache[g]=T;const L=this.listeners[g];if(L)for(const Q of Array.from(L))Q(T)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),$a=1e12;class wc{constructor(p){this.auth=p,this.counter=$a,this._widgets=new Map}render(p,g){const T=this.counter;return this._widgets.set(T,new v4(p,this.auth.name,g||{})),this.counter++,T}reset(p){var g;const T=p||$a;null===(g=this._widgets.get(T))||void 0===g||g.delete(),this._widgets.delete(T)}getResponse(p){var g;return(null===(g=this._widgets.get(p||$a))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,C.Z)(function*(){var T;return null===(T=g._widgets.get(p||$a))||void 0===T||T.execute(),""})()}}class v4{constructor(p,g,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof p?document.getElementById(p):p;Ee(L,"argument-error",{appName:g}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Pd(b){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<b;T++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ca=Cr("rcb"),y4=new kr(3e4,6e4);class Cc{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=ei().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return Ee(function iu(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&Nt(ei().grecaptcha)?Promise.resolve(ei().grecaptcha):new Promise((T,L)=>{const Q=ei().setTimeout(()=>{L(Oe(p,"network-request-failed"))},y4.get());ei()[ca]=()=>{ei().clearTimeout(Q),delete ei()[ca];const Ve=ei().grecaptcha;if(!Ve||!Nt(Ve))return void L(Oe(p,"internal-error"));const _t=Ve.render;Ve.render=(Bt,dn)=>{const on=_t(Bt,dn);return this.counter++,on},this.hostLanguage=g,T(Ve)},ln(`https://www.google.com/recaptcha/api.js??${(0,m.xO)({onload:ca,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(Q),L(Oe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=ei().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class kd{load(p){return(0,C.Z)(function*(){return new wc(p)})()}clearedOneInstance(){}}const yi="recaptcha",jc={theme:"light",type:"image"};class Ga{constructor(p,g=Object.assign({},jc),T){this.parameters=g,this.type=yi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gn(T),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof p?document.getElementById(p):p;Ee(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kd:new Cc,this.validateStartingState()}verify(){var p=this;return(0,C.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),T=p.getAssertedRecaptcha();return T.getResponse(g)||new Promise(Q=>{const _e=Ve=>{Ve&&(p.tokenChangeListeners.delete(_e),Q(Ve))};p.tokenChangeListeners.add(_e),p.isInvisible&&T.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(T=>T(g)),"function"==typeof p)p(g);else if("string"==typeof p){const T=ei()[p];"function"==typeof T&&T(g)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,C.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const T=document.createElement("div");g.appendChild(T),g=T}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,C.Z)(function*(){Ee($t()&&!ru(),p.auth,"internal-error"),yield function _o(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function ze(b){return Te.apply(this,arguments)}(p.auth);Ee(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class lo{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Uo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function ws(b,p,g){return Us.apply(this,arguments)}function Us(){return(Us=(0,C.Z)(function*(b,p,g){const T=Gn(b),L=yield M(T,p,(0,m.m9)(g));return new lo(L,Q=>en(T,Q))})).apply(this,arguments)}function Tl(b,p,g){return w.apply(this,arguments)}function w(){return(w=(0,C.Z)(function*(b,p,g){const T=(0,m.m9)(b);yield Go(!1,T,"phone");const L=yield M(T.auth,p,(0,m.m9)(g));return new lo(L,Q=>go(T,Q))})).apply(this,arguments)}function S(b,p,g){return y.apply(this,arguments)}function y(){return(y=(0,C.Z)(function*(b,p,g){const T=(0,m.m9)(b),L=yield M(T.auth,p,(0,m.m9)(g));return new lo(L,Q=>Oc(T,Q))})).apply(this,arguments)}function M(b,p,g){return k.apply(this,arguments)}function k(){return k=(0,C.Z)(function*(b,p,g){var T;const L=yield g.verify();try{let Q;if(Ee("string"==typeof L,b,"argument-error"),Ee(g.type===yi,b,"argument-error"),Q="string"==typeof p?{phoneNumber:p}:p,"session"in Q){const _e=Q.session;if("phoneNumber"in Q)return Ee("enroll"===_e.type,b,"internal-error"),(yield function Jr(b,p){return Pe(b,"POST","/v2/accounts/mfaEnrollment:start",ge(b,p))}(b,{idToken:_e.credential,phoneEnrollmentInfo:{phoneNumber:Q.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{Ee("signin"===_e.type,b,"internal-error");const Ve=(null===(T=Q.multiFactorHint)||void 0===T?void 0:T.uid)||Q.multiFactorUid;return Ee(Ve,b,"missing-multi-factor-info"),(yield function si(b,p){return Pe(b,"POST","/v2/accounts/mfaSignIn:start",ge(b,p))}(b,{mfaPendingCredential:_e.credential,mfaEnrollmentId:Ve,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:_e}=yield function Na(b,p){return Bo.apply(this,arguments)}(b,{phoneNumber:Q.phoneNumber,recaptchaToken:L});return _e}}finally{g._reset()}}),k.apply(this,arguments)}function j(b,p){return K.apply(this,arguments)}function K(){return(K=(0,C.Z)(function*(b,p){yield fs((0,m.m9)(b),p)})).apply(this,arguments)}let we=(()=>{class b{constructor(g){this.providerId=b.PROVIDER_ID,this.auth=Gn(g)}verifyPhoneNumber(g,T){return M(this.auth,g,(0,m.m9)(T))}static credential(g,T){return Uo._fromVerification(g,T)}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:T,temporaryProof:L}=g;return T&&L?Uo._fromTokenResponse(T,L):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function et(b,p){return p?_r(p):(Ee(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class zt extends re{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Qi(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Qi(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Qi(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Ht(b){return ms(b.auth,new zt(b),b.bypassAuthState)}function dr(b){const{auth:p,user:g}=b;return Ee(g,p,"internal-error"),ps(g,new zt(b),b.bypassAuthState)}function zi(b){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,C.Z)(function*(b){const{auth:p,user:g}=b;return Ee(g,p,"internal-error"),fs(g,new zt(b),b.bypassAuthState)})).apply(this,arguments)}class Jo{constructor(p,g,T,L,Q=!1){this.auth=p,this.resolver=T,this.user=L,this.bypassAuthState=Q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,C.Z)(function*(T,L){p.pendingPromise={resolve:T,reject:L};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(Q){p.reject(Q)}});return function(T,L){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,C.Z)(function*(){const{urlResponse:T,sessionId:L,postBody:Q,tenantId:_e,error:Ve,type:_t}=p;if(Ve)return void g.reject(Ve);const Bt={auth:g.auth,requestUri:T,sessionId:L,tenantId:_e||void 0,postBody:Q||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(_t)(Bt))}catch(dn){g.reject(dn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ht;case"linkViaPopup":case"linkViaRedirect":return zi;case"reauthViaPopup":case"reauthViaRedirect":return dr;default:Ge(this.auth,"internal-error")}}resolve(p){Ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const la=new kr(2e3,1e4);function wo(b,p,g){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,C.Z)(function*(b,p,g){const T=Gn(b);ct(b,p,To);const L=et(T,g);return new Ui(T,"signInViaPopup",p,L).executeNotNull()})).apply(this,arguments)}function Sa(b,p,g){return ua.apply(this,arguments)}function ua(){return(ua=(0,C.Z)(function*(b,p,g){const T=(0,m.m9)(b);ct(T.auth,p,To);const L=et(T.auth,g);return new Ui(T.auth,"reauthViaPopup",p,L,T).executeNotNull()})).apply(this,arguments)}function ou(b,p,g){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,C.Z)(function*(b,p,g){const T=(0,m.m9)(b);ct(T.auth,p,To);const L=et(T.auth,g);return new Ui(T.auth,"linkViaPopup",p,L,T).executeNotNull()})).apply(this,arguments)}let Ui=(()=>{class b extends Jo{constructor(g,T,L,Q,_e){super(g,T,Q,_e),this.provider=L,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var g=this;return(0,C.Z)(function*(){const T=yield g.execute();return Ee(T,g.auth,"internal-error"),T})()}onExecution(){var g=this;return(0,C.Z)(function*(){Ut(1===g.filter.length,"Popup operations only handle one event");const T=wa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],T),g.authWindow.associatedEvent=T,g.resolver._originValidation(g.auth).catch(L=>{g.reject(L)}),g.resolver._isIframeWebStorageSupported(g.auth,L=>{L||g.reject(Oe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const g=()=>{var T,L;this.pollId=null!==(L=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,la.get())};g()}}return b.currentPopupAction=null,b})();const su="pendingRedirect",qa=new Map;class u1 extends Jo{constructor(p,g,T=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,T),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,C.Z)(function*(){let T=qa.get(g.auth._key());if(!T){try{const Q=(yield function _4(b,p){return Od.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;T=()=>Promise.resolve(Q)}catch(L){T=()=>Promise.reject(L)}qa.set(g.auth._key(),T)}return g.bypassAuthState||qa.set(g.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,T=this;return(0,C.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(T,p);if("unknown"!==p.type){if(p.eventId){const L=yield T.auth._redirectUserForId(p.eventId);if(L)return T.user=L,g().call(T,p);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function Od(){return(Od=(0,C.Z)(function*(b,p){const g=Nd(p),T=e3(b);if(!(yield T._isAvailable()))return!1;const L="true"===(yield T._get(g));return yield T._remove(g),L})).apply(this,arguments)}function Rd(b,p){return bc.apply(this,arguments)}function bc(){return(bc=(0,C.Z)(function*(b,p){return e3(b)._set(Nd(p),"true")})).apply(this,arguments)}function au(){qa.clear()}function w4(b,p){qa.set(b._key(),p)}function e3(b){return _r(b._redirectPersistence)}function Nd(b){return xr(su,b.config.apiKey,b.name)}function t3(b,p,g){return function wp(b,p,g){return Fd.apply(this,arguments)}(b,p,g)}function Fd(){return(Fd=(0,C.Z)(function*(b,p,g){const T=Gn(b);ct(b,p,To),yield T._initializationPromise;const L=et(T,g);return yield Rd(L,T),L._openRedirect(T,p,"signInViaRedirect")})).apply(this,arguments)}function xo(b,p,g){return function C4(b,p,g){return zo.apply(this,arguments)}(b,p,g)}function zo(){return(zo=(0,C.Z)(function*(b,p,g){const T=(0,m.m9)(b);ct(T.auth,p,To),yield T.auth._initializationPromise;const L=et(T.auth,g);yield Rd(L,T.auth);const Q=yield Vd(T);return L._openRedirect(T.auth,p,"reauthViaRedirect",Q)})).apply(this,arguments)}function Dl(b,p,g){return function Ml(b,p,g){return bs.apply(this,arguments)}(b,p,g)}function bs(){return(bs=(0,C.Z)(function*(b,p,g){const T=(0,m.m9)(b);ct(T.auth,p,To),yield T.auth._initializationPromise;const L=et(T.auth,g);yield Go(!1,T,p.providerId),yield Rd(L,T.auth);const Q=yield Vd(T);return L._openRedirect(T.auth,p,"linkViaRedirect",Q)})).apply(this,arguments)}function Cp(b,p){return cu.apply(this,arguments)}function cu(){return(cu=(0,C.Z)(function*(b,p){return yield Gn(b)._initializationPromise,Ld(b,p,!1)})).apply(this,arguments)}function Ld(b,p){return d1.apply(this,arguments)}function d1(){return(d1=(0,C.Z)(function*(b,p,g=!1){const T=Gn(b),L=et(T,p),_e=yield new u1(T,L,g).execute();return _e&&!g&&(delete _e.user._redirectEventId,yield T._persistUserIfCurrent(_e.user),yield T._setRedirectUser(null,p)),_e})).apply(this,arguments)}function Vd(b){return $c.apply(this,arguments)}function $c(){return($c=(0,C.Z)(function*(b){const p=wa(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class Ka{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(p,T)&&(g=!0,this.sendToConsumer(p,T),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function n3(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b4(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var T;if(p.error&&!b4(p)){const L=(null===(T=p.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";g.onError(Oe(this.auth,L))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const T=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&T}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(f1(p))}saveEventToCache(p){this.cachedEventUids.add(f1(p)),this.lastProcessedEventTime=Date.now()}}function f1(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function b4({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function Hd(b){return p1.apply(this,arguments)}function p1(){return(p1=(0,C.Z)(function*(b,p={}){return Pe(b,"GET","/v1/projects",p)})).apply(this,arguments)}const S4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E4=/^https?/;function ti(){return(ti=(0,C.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield Hd(b);for(const g of p)try{if(lu(g))return}catch{}Ge(b,"unauthorized-domain")})).apply(this,arguments)}function lu(b){const p=Et(),{protocol:g,hostname:T}=new URL(p);if(b.startsWith("chrome-extension://")){const _e=new URL(b);return""===_e.hostname&&""===T?"chrome-extension:"===g&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&_e.hostname===T}if(!E4.test(g))return!1;if(S4.test(b))return T===b;const L=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(T)}const uu=new kr(3e4,6e4);function Wc(){const b=ei().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let g=0;g<b.CP.length;g++)b.CP[g]=null}let qc=null;const Bd=new kr(5e3,15e3),Ud="__/auth/iframe",g1="emulator/auth/iframe",T4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Il=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D4(b){const p=b.config;Ee(p.authDomain,b,"auth-domain-config-required");const g=p.emulator?Br(p,g1):`https://${b.config.authDomain}/${Ud}`,T={apiKey:p.apiKey,appName:b.name,v:V.SDK_VERSION},L=Il.get(b.config.apiHost);L&&(T.eid=L);const Q=b._getFrameworks();return Q.length&&(T.fw=Q.join(",")),`${g}?${(0,m.xO)(T).slice(1)}`}function Yd(){return Yd=(0,C.Z)(function*(b){const p=yield function m1(b){return qc=qc||function Ys(b){return new Promise((p,g)=>{var T,L,Q;function _e(){Wc(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Wc(),g(Oe(b,"network-request-failed"))},timeout:uu.get()})}if(null!==(L=null===(T=ei().gapi)||void 0===T?void 0:T.iframes)&&void 0!==L&&L.Iframe)p(gapi.iframes.getContext());else{if(null===(Q=ei().gapi)||void 0===Q||!Q.load){const Ve=Cr("iframefcb");return ei()[Ve]=()=>{gapi.load?_e():g(Oe(b,"network-request-failed"))},ln(`https://apis.google.com/js/api.js?onload=${Ve}`).catch(_t=>g(_t))}_e()}}).catch(p=>{throw qc=null,p})}(b),qc}(b),g=ei().gapi;return Ee(g,b,"internal-error"),p.open({where:document.body,url:D4(b),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T4,dontclear:!0},T=>new Promise(function(){var L=(0,C.Z)(function*(Q,_e){yield T.restyle({setHideOnLeave:!1});const Ve=Oe(b,"network-request-failed"),_t=ei().setTimeout(()=>{_e(Ve)},Bd.get());function Bt(){ei().clearTimeout(_t),Q(T)}T.ping(Bt).then(Bt,()=>{_e(Ve)})});return function(Q,_e){return L.apply(this,arguments)}}()))}),Yd.apply(this,arguments)}const r3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},es=500,jd=600,M4="_blank",$d="http://localhost";class Ji{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Gd="__/auth/handler",o3="emulator/auth/handler",Wd=encodeURIComponent("fac");function _1(b,p,g,T,L,Q){return zl.apply(this,arguments)}function zl(){return(zl=(0,C.Z)(function*(b,p,g,T,L,Q){Ee(b.config.authDomain,b,"auth-domain-config-required"),Ee(b.config.apiKey,b,"invalid-api-key");const _e={apiKey:b.config.apiKey,appName:b.name,authType:g,redirectUrl:T,v:V.SDK_VERSION,eventId:L};if(p instanceof To){p.setDefaultLanguage(b.languageCode),_e.providerId=p.providerId||"",(0,m.xb)(p.getCustomParameters())||(_e.customParameters=JSON.stringify(p.getCustomParameters()));for(const[dn,on]of Object.entries(Q||{}))_e[dn]=on}if(p instanceof Os){const dn=p.getScopes().filter(on=>""!==on);dn.length>0&&(_e.scopes=dn.join(","))}b.tenantId&&(_e.tid=b.tenantId);const Ve=_e;for(const dn of Object.keys(Ve))void 0===Ve[dn]&&delete Ve[dn];const _t=yield b._getAppCheckToken(),Bt=_t?`#${Wd}=${encodeURIComponent(_t)}`:"";return`${function w1({config:b}){return b.emulator?Br(b,o3):`https://${b.authDomain}/${Gd}`}(b)}?${(0,m.xO)(Ve).slice(1)}${Bt}`})).apply(this,arguments)}const du="webStorageSupport",Kd=class qd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qo,this._completeRedirectFn=Ld,this._overrideRedirectResult=w4}_openPopup(p,g,T,L){var Q=this;return(0,C.Z)(function*(){var _e;Ut(null===(_e=Q.eventManagers[p._key()])||void 0===_e?void 0:_e.manager,"_initialize() not called before _openPopup()");const Ve=yield _1(p,g,T,Et(),L);return function xl(b,p,g,T=es,L=jd){const Q=Math.max((window.screen.availHeight-L)/2,0).toString(),_e=Math.max((window.screen.availWidth-T)/2,0).toString();let Ve="";const _t=Object.assign(Object.assign({},r3),{width:T.toString(),height:L.toString(),top:Q,left:_e}),Bt=(0,m.z$)().toLowerCase();g&&(Ve=$(Bt)?M4:g),q(Bt)&&(p=p||$d,_t.scrollbars="yes");const dn=Object.entries(_t).reduce((Nr,[$s,Al])=>`${Nr}${$s}=${Al},`,"");if(function Ce(b=(0,m.z$)()){var p;return J(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Bt)&&"_self"!==Ve)return function y1(b,p){const g=document.createElement("a");g.href=b,g.target=p;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(T)}(p||"",Ve),new Ji(null);const on=window.open(p||"",Ve,dn);Ee(on,b,"popup-blocked");try{on.focus()}catch{}return new Ji(on)}(p,Ve,wa())})()}_openRedirect(p,g,T,L){var Q=this;return(0,C.Z)(function*(){return yield Q._originValidation(p),function vi(b){ei().location.href=b}(yield _1(p,g,T,Et(),L)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:L,promise:Q}=this.eventManagers[g];return L?Promise.resolve(L):(Ut(Q,"If manager is not set, promise should be"),Q)}const T=this.initAndGetManager(p);return this.eventManagers[g]={promise:T},T.catch(()=>{delete this.eventManagers[g]}),T}initAndGetManager(p){var g=this;return(0,C.Z)(function*(){const T=yield function v1(b){return Yd.apply(this,arguments)}(p),L=new Ka(p);return T.register("authEvent",Q=>(Ee(Q?.authEvent,p,"invalid-auth-event"),{status:L.onEvent(Q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:L},g.iframes[p._key()]=T,L})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(du,{type:du},L=>{var Q;const _e=null===(Q=L?.[0])||void 0===Q?void 0:Q[du];void 0!==_e&&g(!!_e),Ge(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Gc(b){return ti.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return at()||X()||J()}};class hu{constructor(p){this.factorId=p}_process(p,g,T){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,T);case"signin":return this._finalizeSignIn(p,g.credential);default:return ht("unexpected MultiFactorSessionType")}}}class Kc extends hu{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Kc(p)}_finalizeEnroll(p,g,T){return function er(b,p){return Pe(b,"POST","/v2/accounts/mfaEnrollment:finalize",ge(b,p))}(p,{idToken:g,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Bs(b,p){return Pe(b,"POST","/v2/accounts/mfaSignIn:finalize",ge(b,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let I4=(()=>{class b{constructor(){}static assertion(g){return Kc._fromCredential(g)}}return b.FACTOR_ID="phone",b})();var pu="@firebase/auth";class Sc{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,C.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(T=>{p(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Xd=(0,m.Pz)("authIdTokenMaxAge")||300;let z4=null;const a3=b=>function(){var p=(0,C.Z)(function*(g){const T=g&&(yield g.getIdTokenResult()),L=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(L&&L>Xd)return;const Q=T?.token;z4!==Q&&(z4=Q,yield fetch(b,{method:Q?"POST":"DELETE",headers:Q?{Authorization:`Bearer ${Q}`}:{}}))});return function(g){return p.apply(this,arguments)}}();function A4(b=(0,V.getApp)()){const p=(0,V._getProvider)(b,"auth");if(p.isInitialized())return p.getImmediate();const g=function zr(b,p){const g=(0,V._getProvider)(b,"auth");if(g.isInitialized()){const L=g.getImmediate(),Q=g.getOptions();if((0,m.vZ)(Q,p??{}))return L;Ge(L,"already-initialized")}return g.initialize({options:p})}(b,{popupRedirectResolver:Kd,persistence:[di,yc,Qo]}),T=(0,m.Pz)("authTokenSyncURL");if(T){const Q=a3(T);(function z(b,p,g){(0,m.m9)(b).beforeAuthStateChanged(p,g)})(g,Q,()=>Q(g.currentUser)),function F(b,p,g,T){(0,m.m9)(b).onIdTokenChanged(p,g,T)}(g,_e=>Q(_e))}const L=(0,m.q4)("auth");return L&&Fn(g,`http://${L}`),g}!function x4(b){(0,V._registerComponent)(new be.wA("auth",(p,{options:g})=>{const T=p.getProvider("app").getImmediate(),L=p.getProvider("heartbeat"),Q=p.getProvider("app-check-internal"),{apiKey:_e,authDomain:Ve}=T.options;Ee(_e&&!_e.includes(":"),"invalid-api-key",{appName:T.name});const _t={apiKey:_e,authDomain:Ve,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cn(b)},Bt=new Kn(T,L,Q,_t);return function mi(b,p){const g=p?.persistence||[],T=(Array.isArray(g)?g:[g]).map(_r);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(T,p?.popupRedirectResolver)}(Bt,g),Bt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,T)=>{p.getProvider("auth-internal").initialize()})),(0,V._registerComponent)(new be.wA("auth-internal",p=>{const g=Gn(p.getProvider("auth").getImmediate());return new Sc(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,V.registerVersion)(pu,"0.23.2",function C1(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,V.registerVersion)(pu,"0.23.2","esm2017")}("Browser")},2090:(Tt,Le,R)=>{R.d(Le,{$s:()=>_r,BH:()=>Xe,G6:()=>Br,L:()=>Ae,LL:()=>Be,Pz:()=>Oe,Sg:()=>ct,UG:()=>ht,US:()=>be,ZB:()=>me,ZR:()=>Pe,aH:()=>Ge,b$:()=>$t,eu:()=>$r,hl:()=>jr,jU:()=>Ut,m9:()=>xr,ne:()=>wn,pd:()=>vr,q4:()=>nt,r3:()=>yn,ru:()=>Et,tV:()=>ae,uI:()=>Ee,vZ:()=>Ct,w1:()=>Kr,xO:()=>Yn,xb:()=>cr,z$:()=>lt,zI:()=>Ie,zd:()=>tr});const de=function(ue){const ie=[];let q=0;for(let X=0;X<ue.length;X++){let $=ue.charCodeAt(X);$<128?ie[q++]=$:$<2048?(ie[q++]=$>>6|192,ie[q++]=63&$|128):55296==(64512&$)&&X+1<ue.length&&56320==(64512&ue.charCodeAt(X+1))?($=65536+((1023&$)<<10)+(1023&ue.charCodeAt(++X)),ie[q++]=$>>18|240,ie[q++]=$>>12&63|128,ie[q++]=$>>6&63|128,ie[q++]=63&$|128):(ie[q++]=$>>12|224,ie[q++]=$>>6&63|128,ie[q++]=63&$|128)}return ie},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,ie){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[];for(let $=0;$<ue.length;$+=3){const he=ue[$],ee=$+1<ue.length,B=ee?ue[$+1]:0,H=$+2<ue.length,J=H?ue[$+2]:0;let it=(15&B)<<2|J>>6,at=63&J;H||(at=64,ee||(it=64)),X.push(q[he>>2],q[(3&he)<<4|B>>4],q[it],q[at])}return X.join("")},encodeString(ue,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(ue):this.encodeByteArray(de(ue),ie)},decodeString(ue,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(ue):function(ue){const ie=[];let q=0,X=0;for(;q<ue.length;){const $=ue[q++];if($<128)ie[X++]=String.fromCharCode($);else if($>191&&$<224){const he=ue[q++];ie[X++]=String.fromCharCode((31&$)<<6|63&he)}else if($>239&&$<365){const H=((7&$)<<18|(63&ue[q++])<<12|(63&ue[q++])<<6|63&ue[q++])-65536;ie[X++]=String.fromCharCode(55296+(H>>10)),ie[X++]=String.fromCharCode(56320+(1023&H))}else{const he=ue[q++],ee=ue[q++];ie[X++]=String.fromCharCode((15&$)<<12|(63&he)<<6|63&ee)}}return ie.join("")}(this.decodeStringToByteArray(ue,ie))},decodeStringToByteArray(ue,ie){this.init_();const q=ie?this.charToByteMapWebSafe_:this.charToByteMap_,X=[];for(let $=0;$<ue.length;){const he=q[ue.charAt($++)],B=$<ue.length?q[ue.charAt($)]:0;++$;const J=$<ue.length?q[ue.charAt($)]:64;++$;const Ce=$<ue.length?q[ue.charAt($)]:64;if(++$,null==he||null==B||null==J||null==Ce)throw new Me;X.push(he<<2|B>>4),64!==J&&(X.push(B<<4&240|J>>2),64!==Ce&&X.push(J<<6&192|Ce))}return X},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}};class Me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ae=function(ue){return function(ue){const ie=de(ue);return be.encodeByteArray(ie,!0)}(ue).replace(/\./g,"")},ae=function(ue){try{return be.decodeString(ue,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function me(ue,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return ie}for(const q in ie)!ie.hasOwnProperty(q)||!Fe(q)||(ue[q]=me(ue[q],ie[q]));return ue}function Fe(ue){return"__proto__"!==ue}const Qe=()=>{try{return function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ue=process.env.__FIREBASE_DEFAULTS__;return ue?JSON.parse(ue):void 0})()||(()=>{if(typeof document>"u")return;let ue;try{ue=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ie=ue&&ae(ue[1]);return ie&&JSON.parse(ie)})()}catch(ue){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ue}`)}},nt=ue=>{var ie,q;return null===(q=null===(ie=Qe())||void 0===ie?void 0:ie.emulatorHosts)||void 0===q?void 0:q[ue]},Ge=()=>{var ue;return null===(ue=Qe())||void 0===ue?void 0:ue.config},Oe=ue=>{var ie;return null===(ie=Qe())||void 0===ie?void 0:ie[`_${ue}`]};class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,q)=>{this.resolve=ie,this.reject=q})}wrapCallback(ie){return(q,X)=>{q?this.reject(q):this.resolve(X),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(q):ie(q,X))}}}function ct(ue,ie){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const X=ie||"demo-project",$=ue.iat||0,he=ue.sub||ue.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ee=Object.assign({iss:`https://securetoken.google.com/${X}`,aud:X,iat:$,exp:$+3600,auth_time:$,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify(ee)),""].join(".")}function lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function ht(){var ue;const ie=null===(ue=Qe())||void 0===ue?void 0:ue.forceEnvironment;if("node"===ie)return!0;if("browser"===ie)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ut(){return"object"==typeof self&&self.self===self}function Et(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function $t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Kr(){const ue=lt();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function Br(){return!ht()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jr(){try{return"object"==typeof indexedDB}catch{return!1}}function $r(){return new Promise((ue,ie)=>{try{let q=!0;const X="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(X);$.onsuccess=()=>{$.result.close(),q||self.indexedDB.deleteDatabase(X),ue(!0)},$.onupgradeneeded=()=>{q=!1},$.onerror=()=>{var he;ie((null===(he=$.error)||void 0===he?void 0:he.message)||"")}}catch(q){ie(q)}})}function Ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Pe extends Error{constructor(ie,q,X){super(q),this.code=ie,this.customData=X,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor(ie,q,X){this.service=ie,this.serviceName=q,this.errors=X}create(ie,...q){const X=q[0]||{},$=`${this.service}/${ie}`,he=this.errors[ie],ee=he?function ot(ue,ie){return ue.replace(De,(q,X)=>{const $=ie[X];return null!=$?String($):`<${X}?>`})}(he,X):"Error";return new Pe($,`${this.serviceName}: ${ee} (${$}).`,X)}}const De=/\{\$([^}]+)}/g;function yn(ue,ie){return Object.prototype.hasOwnProperty.call(ue,ie)}function cr(ue){for(const ie in ue)if(Object.prototype.hasOwnProperty.call(ue,ie))return!1;return!0}function Ct(ue,ie){if(ue===ie)return!0;const q=Object.keys(ue),X=Object.keys(ie);for(const $ of q){if(!X.includes($))return!1;const he=ue[$],ee=ie[$];if(Rn(he)&&Rn(ee)){if(!Ct(he,ee))return!1}else if(he!==ee)return!1}for(const $ of X)if(!q.includes($))return!1;return!0}function Rn(ue){return null!==ue&&"object"==typeof ue}function Yn(ue){const ie=[];for(const[q,X]of Object.entries(ue))Array.isArray(X)?X.forEach($=>{ie.push(encodeURIComponent(q)+"="+encodeURIComponent($))}):ie.push(encodeURIComponent(q)+"="+encodeURIComponent(X));return ie.length?"&"+ie.join("&"):""}function tr(ue){const ie={};return ue.replace(/^\?/,"").split("&").forEach(X=>{if(X){const[$,he]=X.split("=");ie[decodeURIComponent($)]=decodeURIComponent(he)}}),ie}function vr(ue){const ie=ue.indexOf("?");if(!ie)return"";const q=ue.indexOf("#",ie);return ue.substring(ie,q>0?q:void 0)}function wn(ue,ie){const q=new Mt(ue,ie);return q.subscribe.bind(q)}class Mt{constructor(ie,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{ie(this)}).catch(X=>{this.error(X)})}next(ie){this.forEachObserver(q=>{q.next(ie)})}error(ie){this.forEachObserver(q=>{q.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,q,X){let $;if(void 0===ie&&void 0===q&&void 0===X)throw new Error("Missing Observer.");$=function jn(ue,ie){if("object"!=typeof ue||null===ue)return!1;for(const q of ie)if(q in ue&&"function"==typeof ue[q])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:q,complete:X},void 0===$.next&&($.next=An),void 0===$.error&&($.error=An),void 0===$.complete&&($.complete=An);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch{}}),this.observers.push($),he}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,ie)}sendOne(ie,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{q(this.observers[ie])}catch(X){typeof console<"u"&&console.error&&console.error(X)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function An(){}const nn=1e3,Qn=2,$n=144e5,ir=.5;function _r(ue,ie=nn,q=Qn){const X=ie*Math.pow(q,ue),$=Math.round(ir*X*(Math.random()-.5)*2);return Math.min($n,X+$)}function xr(ue){return ue&&ue._delegate?ue._delegate:ue}},4255:(Tt,Le,R)=>{var C=R(1481),m=R(4650),V=R(6895),de=R(8996),pe=R(9751),Me=(R(4742),R(8421)),Ae=(R(3269),R(5403)),ae=R(3268);R(1810);var Fe=R(4004);const ze=new m.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Te}),Te="always";let ki=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})(),Fs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[ki]}),n})(),ya=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ze,useValue:t.callSetDisabledState??Te}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Fs]}),n})();var Y={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"},CronExpression:{cronError:"Invalid cron expression",second:"second",minute:"minute",hour:"hour",day:"day",month:"month",week:"week",secondError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",minuteError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",hourError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-23</span>Allowable range</p>",dayError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-31</span>Allowable range</p>",monthError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-12</span>Allowable range</p>",weekError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><span>?</span> Not specify</p><p><p><span>0-7</span>Allowable range (0 represents Sunday, 1-7 are Monday to Sunday)</p>"},QRCode:{expired:"QR code expired",refresh:"Refresh"}};const Re=new m.OlP("nz-i18n");new m.OlP("nz-date-locale");let pn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();new m.OlP("date-config");const Bc=new m.OlP("cdk-dir-doc",{providedIn:"root",factory:function wa(){return(0,m.f3M)(V.K0)}}),nu=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ba,vi=(()=>{class n{constructor(t){this.value="ltr",this.change=new m.vpe,t&&(this.value=function ei(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?nu.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Bc,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ls=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();try{Ba=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ba=!1}let Hs,co,Xo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,V.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ba)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.Lbi))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_c=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();function bl(){if(null==co){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return co=!1,co;if("scrollBehavior"in document.documentElement.style)co=!0;else{const n=Element.prototype.scrollTo;co=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return co}function ys(){if("object"!=typeof document||!document)return 0;if(null==Hs){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),Hs=0,0===n.scrollLeft&&(n.scrollLeft=1,Hs=0===n.scrollLeft?1:2),n.remove()}return Hs}function ja(n){return n.composedPath?n.composedPath()[0]:n.target}function ba(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var di=R(7579);function si(n,e){(function Ad(n){return"string"==typeof n&&-1!==n.indexOf(".")&&1===parseFloat(n)})(n)&&(n="100%");var t=function l1(n){return"string"==typeof n&&-1!==n.indexOf("%")}(n);return n=360===e?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:n=360===e?(n<0?n%e+e:n%e)/parseFloat(String(e)):n%e/parseFloat(String(e))}function Bs(n){return Math.min(1,Math.max(0,n))}function Dr(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function $a(n){return n<=1?"".concat(100*Number(n),"%"):n}function wc(n){return 1===n.length?"0"+n:String(n)}function Pd(n,e,t){n=si(n,255),e=si(e,255),t=si(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),a=0,l=0,h=(r+i)/2;if(r===i)l=0,a=0;else{var v=r-i;switch(l=h>.5?v/(2-r-i):v/(r+i),r){case n:a=(e-t)/v+(e<t?6:0);break;case e:a=(t-n)/v+2;break;case t:a=(n-e)/v+4}a/=6}return{h:a,s:l,l:h}}function ca(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*t*(e-n):t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function El(n,e,t){n=si(n,255),e=si(e,255),t=si(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),a=0,l=r,h=r-i,v=0===r?0:h/r;if(r===i)a=0;else{switch(r){case n:a=(e-t)/h+(e<t?6:0);break;case e:a=(t-n)/h+2;break;case t:a=(n-e)/h+4}a/=6}return{h:a,s:v,v:l}}function iu(n,e,t,r){var i=[wc(Math.round(n).toString(16)),wc(Math.round(e).toString(16)),wc(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function jc(n){return Math.round(255*parseFloat(n)).toString(16)}function Ga(n){return _o(n)/255}function _o(n){return parseInt(n,16)}var ws={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Us(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,a=null,l=!1,h=!1;return"string"==typeof n&&(n=function j(n){if(0===(n=n.trim().toLowerCase()).length)return!1;var e=!1;if(ws[n])n=ws[n],e=!0;else if("transparent"===n)return{r:0,g:0,b:0,a:0,format:"name"};var t=k.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=k.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=k.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=k.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=k.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=k.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=k.hex8.exec(n))?{r:_o(t[1]),g:_o(t[2]),b:_o(t[3]),a:Ga(t[4]),format:e?"name":"hex8"}:(t=k.hex6.exec(n))?{r:_o(t[1]),g:_o(t[2]),b:_o(t[3]),format:e?"name":"hex"}:(t=k.hex4.exec(n))?{r:_o(t[1]+t[1]),g:_o(t[2]+t[2]),b:_o(t[3]+t[3]),a:Ga(t[4]+t[4]),format:e?"name":"hex8"}:!!(t=k.hex3.exec(n))&&{r:_o(t[1]+t[1]),g:_o(t[2]+t[2]),b:_o(t[3]+t[3]),format:e?"name":"hex"}}(n)),"object"==typeof n&&(K(n.r)&&K(n.g)&&K(n.b)?(e=function v4(n,e,t){return{r:255*si(n,255),g:255*si(e,255),b:255*si(t,255)}}(n.r,n.g,n.b),l=!0,h="%"===String(n.r).substr(-1)?"prgb":"rgb"):K(n.h)&&K(n.s)&&K(n.v)?(r=$a(n.s),i=$a(n.v),e=function Cc(n,e,t){n=6*si(n,360),e=si(e,100),t=si(t,100);var r=Math.floor(n),i=n-r,a=t*(1-e),l=t*(1-i*e),h=t*(1-(1-i)*e),v=r%6;return{r:255*[t,l,a,a,h,t][v],g:255*[h,t,t,l,a,a][v],b:255*[a,a,h,t,t,l][v]}}(n.h,r,i),l=!0,h="hsv"):K(n.h)&&K(n.s)&&K(n.l)&&(r=$a(n.s),a=$a(n.l),e=function y4(n,e,t){var r,i,a;if(n=si(n,360),e=si(e,100),t=si(t,100),0===e)i=t,a=t,r=t;else{var l=t<.5?t*(1+e):t+e-t*e,h=2*t-l;r=ca(h,l,n+1/3),i=ca(h,l,n),a=ca(h,l,n-1/3)}return{r:255*r,g:255*i,b:255*a}}(n.h,r,a),l=!0,h="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=Dr(t),{ok:l,format:n.format||h,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var S="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),y="[\\s|\\(]+(".concat(S,")[,|\\s]+(").concat(S,")[,|\\s]+(").concat(S,")\\s*\\)?"),M="[\\s|\\(]+(".concat(S,")[,|\\s]+(").concat(S,")[,|\\s]+(").concat(S,")[,|\\s]+(").concat(S,")\\s*\\)?"),k={CSS_UNIT:new RegExp(S),rgb:new RegExp("rgb"+y),rgba:new RegExp("rgba"+M),hsl:new RegExp("hsl"+y),hsla:new RegExp("hsla"+M),hsv:new RegExp("hsv"+y),hsva:new RegExp("hsva"+M),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function K(n){return Boolean(k.CSS_UNIT.exec(String(n)))}var we=function(){function n(e,t){var r;if(void 0===e&&(e=""),void 0===t&&(t={}),e instanceof n)return e;"number"==typeof e&&(e=function lo(n){return{r:n>>16,g:(65280&n)>>8,b:255&n}}(e)),this.originalInput=e;var i=Us(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=t.format)&&void 0!==r?r:i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),a=e.r/255,l=e.g/255,h=e.b/255;return.2126*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))+.7152*(l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4))+.0722*(h<=.03928?h/12.92:Math.pow((h+.055)/1.055,2.4))},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=Dr(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){return 0===this.toHsl().s},n.prototype.toHsv=function(){var e=El(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=El(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=Pd(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=Pd(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return void 0===e&&(e=!1),iu(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return void 0===e&&(e=!1),function kd(n,e,t,r,i){var a=[wc(Math.round(n).toString(16)),wc(Math.round(e).toString(16)),wc(Math.round(t).toString(16)),wc(jc(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(r,")"):"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(100*si(t,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(100*si(t,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+iu(this.r,this.g,this.b,!1),t=0,r=Object.entries(ws);t<r.length;t++){var i=r[t];if(e===i[1])return i[0]}return!1},n.prototype.toString=function(e){var t=Boolean(e);e=e??this.format;var r=!1;return!t&&this.a<1&&this.a>=0&&(e.startsWith("hex")||"name"===e)?"name"===e&&0===this.a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=Bs(t.l),new n(t)},n.prototype.brighten=function(e){void 0===e&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-e/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-e/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-e/100*255))),new n(t)},n.prototype.darken=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=Bs(t.l),new n(t)},n.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=Bs(t.s),new n(t)},n.prototype.saturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=Bs(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){void 0===t&&(t=50);var r=this.toRgb(),i=new n(e).toRgb(),a=t/100;return new n({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},n.prototype.analogous=function(e,t){void 0===e&&(e=6),void 0===t&&(t=30);var r=this.toHsl(),i=360/t,a=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,a.push(new n(r));return a},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var t=this.toHsv(),r=t.h,i=t.s,a=t.v,l=[],h=1/e;e--;)l.push(new n({h:r,s:i,v:a})),a=(a+h)%1;return l},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb(),i=t.a+r.a*(1-t.a);return new n({r:(t.r*t.a+r.r*r.a*(1-t.a))/i,g:(t.g*t.a+r.g*r.a*(1-t.a))/i,b:(t.b*t.a+r.b*r.a*(1-t.a))/i,a:i})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,i=[this],a=360/e,l=1;l<e;l++)i.push(new n({h:(r+l*a)%360,s:t.s,l:t.l}));return i},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),zt=2,Ht=.16,dr=.05,zi=.05,Cs=.15,Jo=5,la=4,wo=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Wa(n,e,t){var r;return(r=Math.round(n.h)>=60&&Math.round(n.h)<=240?t?Math.round(n.h)-zt*e:Math.round(n.h)+zt*e:t?Math.round(n.h)+zt*e:Math.round(n.h)-zt*e)<0?r+=360:r>=360&&(r-=360),r}function Sa(n,e,t){return 0===n.h&&0===n.s?n.s:((r=t?n.s-Ht*e:e===la?n.s+Ht:n.s+dr*e)>1&&(r=1),t&&e===Jo&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function ua(n,e,t){var r;return(r=t?n.v+zi*e:n.v-Cs*e)>1&&(r=1),Number(r.toFixed(2))}function ou(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[],r=new we(n),i=Jo;i>0;i-=1){var a=r.toHsv(),l=new we({h:Wa(a,i,!0),s:Sa(a,i,!0),v:ua(a,i,!0)}).toHexString();t.push(l)}t.push(r.toHexString());for(var h=1;h<=la;h+=1){var v=r.toHsv(),E=new we({h:Wa(v,h),s:Sa(v,h),v:ua(v,h)}).toHexString();t.push(E)}return"dark"===e.theme?wo.map(function(P){var U=P.index,ne=P.opacity;return new we(e.backgroundColor||"#141414").mix(t[U],100*ne).toHexString()}):t}var Ea={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ui={},su={};Object.keys(Ea).forEach(function(n){Ui[n]=ou(Ea[n]),Ui[n].primary=Ui[n][5],su[n]=ou(Ea[n],{theme:"dark",backgroundColor:"#141414"}),su[n].primary=su[n][5]});var xo=R(9646),C4=R(4351),zo=R(9300);class Dl{}class Ml{}class bs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(a=>a.toString()),i.length>0){const a=t.toLowerCase();this.headers.set(a,i),this.maybeSetNormalizedName(t,a)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof bs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new bs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof bs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let l=this.headers.get(t);if(!l)return;l=l.filter(h=>-1===a.indexOf(h)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class cu{encodeKey(e){return $c(e)}encodeValue(e){return $c(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const d1=/%(\d[a-f0-9])/gi,Vd={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $c(n){return encodeURIComponent(n).replace(d1,(e,t)=>Vd[t]??e)}function h1(n){return`${n}`}class Ka{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new cu,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ld(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[l,h]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],v=t.get(l)||[];v.push(h),t.set(l,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(h1):[h1(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ka({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(h1(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(h1(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class b4{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Hd(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function p1(n){return typeof Blob<"u"&&n instanceof Blob}function S4(n){return typeof FormData<"u"&&n instanceof FormData}class Gc{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function n3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new bs),this.context||(this.context=new b4),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+l}}else this.params=new Ka,this.urlWithParams=t}serializeBody(){return null===this.body?null:Hd(this.body)||p1(this.body)||S4(this.body)||function E4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ka?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||S4(this.body)?null:p1(this.body)?this.body.type||null:Hd(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ka?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,E=e.params||this.params;const P=e.context??this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((U,ne)=>U.set(ne,e.setHeaders[ne]),v)),e.setParams&&(E=Object.keys(e.setParams).reduce((U,ne)=>U.set(ne,e.setParams[ne]),E)),new Gc(t,r,a,{params:E,headers:v,context:P,reportProgress:h,responseType:i,withCredentials:l})}}var ti=(()=>((ti=ti||{})[ti.Sent=0]="Sent",ti[ti.UploadProgress=1]="UploadProgress",ti[ti.ResponseHeader=2]="ResponseHeader",ti[ti.DownloadProgress=3]="DownloadProgress",ti[ti.Response=4]="Response",ti[ti.User=5]="User",ti))();class lu{constructor(e,t=200,r="OK"){this.headers=e.headers||new bs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class uu extends lu{constructor(e={}){super(e),this.type=ti.ResponseHeader}clone(e={}){return new uu({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Wc extends lu{constructor(e={}){super(e),this.type=ti.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Wc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ys extends lu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function qc(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let m1=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof Gc)a=t;else{let v,E;v=i.headers instanceof bs?i.headers:new bs(i.headers),i.params&&(E=i.params instanceof Ka?i.params:new Ka({fromObject:i.params})),a=new Gc(t,r,void 0!==i.body?i.body:null,{headers:v,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=(0,xo.of)(a).pipe((0,C4.b)(v=>this.handler.handle(v)));if(t instanceof Gc||"events"===i.observe)return l;const h=l.pipe((0,zo.h)(v=>v instanceof Wc));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return h.pipe((0,Fe.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return h.pipe((0,Fe.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return h.pipe((0,Fe.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return h.pipe((0,Fe.U)(v=>v.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ka).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,qc(i,r))}post(t,r,i={}){return this.request("POST",t,qc(i,r))}put(t,r,i={}){return this.request("PUT",t,qc(i,r))}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Dl))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function Bd(n,e){return e(n)}function Ud(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const T4=new m.OlP("HTTP_INTERCEPTORS"),Il=new m.OlP("HTTP_INTERCEPTOR_FNS");function D4(){let n=null;return(e,t)=>(null===n&&(n=((0,m.f3M)(T4,{optional:!0})??[]).reduceRight(Ud,Bd)),n(e,t))}let v1=(()=>{class n extends Dl{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Il)));this.chain=r.reduceRight((i,a)=>function g1(n,e,t){return(r,i)=>t.runInContext(()=>e(r,a=>n(a,i)))}(i,a,this.injector),Bd)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Ml),m.LFG(m.lqb))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const Wd=/^\)\]\}',?\n/;let zl=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new pe.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((ce,ve)=>i.setRequestHeader(ce,ve.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ce=t.detectContentTypeHeader();null!==ce&&i.setRequestHeader("Content-Type",ce)}if(t.responseType){const ce=t.responseType.toLowerCase();i.responseType="json"!==ce?ce:"text"}const a=t.serializeBody();let l=null;const h=()=>{if(null!==l)return l;const ce=i.statusText||"OK",ve=new bs(i.getAllResponseHeaders()),ke=function _1(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return l=new uu({headers:ve,status:i.status,statusText:ce,url:ke}),l},v=()=>{let{headers:ce,status:ve,statusText:ke,url:$e}=h(),mt=null;204!==ve&&(mt=typeof i.response>"u"?i.responseText:i.response),0===ve&&(ve=mt?200:0);let Vt=ve>=200&&ve<300;if("json"===t.responseType&&"string"==typeof mt){const xt=mt;mt=mt.replace(Wd,"");try{mt=""!==mt?JSON.parse(mt):null}catch(Pt){mt=xt,Vt&&(Vt=!1,mt={error:Pt,text:mt})}}Vt?(r.next(new Wc({body:mt,headers:ce,status:ve,statusText:ke,url:$e||void 0})),r.complete()):r.error(new Ys({error:mt,headers:ce,status:ve,statusText:ke,url:$e||void 0}))},E=ce=>{const{url:ve}=h(),ke=new Ys({error:ce,status:i.status||0,statusText:i.statusText||"Unknown Error",url:ve||void 0});r.error(ke)};let P=!1;const U=ce=>{P||(r.next(h()),P=!0);let ve={type:ti.DownloadProgress,loaded:ce.loaded};ce.lengthComputable&&(ve.total=ce.total),"text"===t.responseType&&i.responseText&&(ve.partialText=i.responseText),r.next(ve)},ne=ce=>{let ve={type:ti.UploadProgress,loaded:ce.loaded};ce.lengthComputable&&(ve.total=ce.total),r.next(ve)};return i.addEventListener("load",v),i.addEventListener("error",E),i.addEventListener("timeout",E),i.addEventListener("abort",E),t.reportProgress&&(i.addEventListener("progress",U),null!==a&&i.upload&&i.upload.addEventListener("progress",ne)),i.send(a),r.next({type:ti.Sent}),()=>{i.removeEventListener("error",E),i.removeEventListener("abort",E),i.removeEventListener("load",v),i.removeEventListener("timeout",E),t.reportProgress&&(i.removeEventListener("progress",U),null!==a&&i.upload&&i.upload.removeEventListener("progress",ne)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(V.JF))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const w1=new m.OlP("XSRF_ENABLED"),qd=new m.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),hu=new m.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Kc{}let I4=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,V.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(V.K0),m.LFG(m.Lbi),m.LFG(qd))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function fu(n,e){const t=n.url.toLowerCase();if(!(0,m.f3M)(w1)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,m.f3M)(Kc).getToken(),i=(0,m.f3M)(hu);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var hi=(()=>((hi=hi||{})[hi.Interceptors=0]="Interceptors",hi[hi.LegacyInterceptors=1]="LegacyInterceptors",hi[hi.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",hi[hi.NoXsrfProtection=3]="NoXsrfProtection",hi[hi.JsonpSupport=4]="JsonpSupport",hi[hi.RequestsMadeViaParent=5]="RequestsMadeViaParent",hi))();function js(n,e){return{\u0275kind:n,\u0275providers:e}}function pu(...n){const e=[m1,zl,v1,{provide:Dl,useExisting:v1},{provide:Ml,useExisting:zl},{provide:Il,useValue:fu,multi:!0},{provide:w1,useValue:!0},{provide:Kc,useClass:I4}];for(const t of n)e.push(...t.\u0275providers);return(0,m.MR2)(e)}const Sc=new m.OlP("LEGACY_INTERCEPTOR_FN");let A4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[pu(js(hi.LegacyInterceptors,[{provide:Sc,useFactory:D4},{provide:Il,useExisting:Sc,multi:!0}]))]}),n})();var g=R(8505),T=R(8746),L=R(262),Q=R(3099),_e=R(5698);const Ve="[@ant-design/icons-angular]:";function dn(n){return ou(n)[0]}function on(n,e){switch(e){case"fill":return`${n}-fill`;case"outline":return`${n}-o`;case"twotone":return`${n}-twotone`;case void 0:return n;default:throw new Error(`${Ve}Theme "${e}" is not a recognized theme!`)}}function Qc(n){const e=n.split(":");switch(e.length){case 1:return[n,""];case 2:return[e[1],e[0]];default:throw new Error(`${Ve}The icon type ${n} is not valid!`)}}function kl(n){return new Error(`${Ve}the icon ${n} does not exist or is not registered.`)}function vu(){return new Error(`${Ve}<svg> tag not found.`)}const k4=new m.OlP("ant_icons");let T1=(()=>{class n{constructor(t,r,i,a,l){this._rendererFactory=t,this._handler=r,this._document=i,this.sanitizer=a,this._antIcons=l,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new di.x,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new m1(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}set twoToneColor({primaryColor:t,secondaryColor:r}){this._twoToneColorPalette.primaryColor=t,this._twoToneColorPalette.secondaryColor=r||dn(t)}get twoToneColor(){return{...this._twoToneColorPalette}}get _disableDynamicLoading(){return!1}useJsonpLoading(){this._enableJsonpLoading?function Bt(n){(0,m.X6Q)()&&console.warn(`${Ve} ${n}.`)}("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=t=>{this._jsonpIconLoad$.next(t)})}changeAssetsSource(t){this._assetsUrlRoot=t.endsWith("/")?t:t+"/"}addIcon(...t){t.forEach(r=>{this._svgDefinitions.set(on(r.name,r.theme),r)})}addIconLiteral(t,r){const[i,a]=Qc(t);if(!a)throw function mu(){return new Error(`${Ve}Type should have a namespace. Try "namespace:${name}".`)}();this.addIcon({name:t,icon:r})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(t,r){const i=function Pl(n){return"object"==typeof n&&"string"==typeof n.name&&("string"==typeof n.theme||void 0===n.theme)&&"string"==typeof n.icon}(t)?t:this._svgDefinitions.get(t)||null;if(!i&&this._disableDynamicLoading)throw kl(t);return(i?(0,xo.of)(i):this._loadIconDynamically(t)).pipe((0,Fe.U)(l=>{if(!l)throw kl(t);return this._loadSVGFromCacheOrCreateNew(l,r)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(t){if(!this._http&&!this._enableJsonpLoading)return(0,xo.of)(function Ol(){return function _t(n){console.error(`${Ve} ${n}.`)}('you need to import "HttpClientModule" to use dynamic importing.'),null}());let r=this._inProgressFetches.get(t);if(!r){const[i,a]=Qc(t),l=a?{name:t,icon:""}:function Zc(n){const e=n.split("-"),t=function $s(n){return"o"===n?"outline":n}(e.splice(e.length-1,1)[0]);return{name:e.join("-"),theme:t,icon:""}}(i),v=(a?`${this._assetsUrlRoot}assets/${a}/${i}`:`${this._assetsUrlRoot}assets/${l.theme}/${l.name}`)+(this._enableJsonpLoading?".js":".svg"),E=this.sanitizer.sanitize(m.q3G.URL,v);if(!E)throw function gu(n){return new Error(`${Ve}The url "${n}" is unsafe.`)}(v);r=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(l,E):this._http.get(E,{responseType:"text"}).pipe((0,Fe.U)(U=>({...l,icon:U})))).pipe((0,g.b)(U=>this.addIcon(U)),(0,T.x)(()=>this._inProgressFetches.delete(t)),(0,L.K)(()=>(0,xo.of)(null)),(0,Q.B)()),this._inProgressFetches.set(t,r)}return r}_loadIconDynamicallyWithJsonp(t,r){return new pe.y(i=>{const a=this._document.createElement("script"),l=setTimeout(()=>{h(),i.error(function E1(){return new Error(`${Ve}Importing timeout error.`)}())},6e3);function h(){a.parentNode.removeChild(a),clearTimeout(l)}a.src=r,this._document.body.appendChild(a),this._jsonpIconLoad$.pipe((0,zo.h)(v=>v.name===t.name&&v.theme===t.theme),(0,_e.q)(1)).subscribe(v=>{i.next(v),h()})})}_loadSVGFromCacheOrCreateNew(t,r){let i;const a=r||this._twoToneColorPalette.primaryColor,l=dn(a)||this._twoToneColorPalette.secondaryColor,h="twotone"===t.theme?function Nr(n,e,t,r){return`${on(n,e)}-${t}-${r}`}(t.name,t.theme,a,l):void 0===t.theme?t.name:on(t.name,t.theme),v=this._svgRenderedDefinitions.get(h);return v?i=v.icon:(i=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(function S1(n){return""!==Qc(n)[1]}(t.name)?t.icon:function b1(n){return n.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}(t.icon)),"twotone"===t.theme,a,l)),this._svgRenderedDefinitions.set(h,{...t,icon:i})),function Jd(n){return n.cloneNode(!0)}(i)}_createSVGElementFromString(t){const r=this._document.createElement("div");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw vu;return i}_setSVGAttribute(t){return this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em"),t}_colorizeSVGIcon(t,r,i,a){if(r){const l=t.childNodes,h=l.length;for(let v=0;v<h;v++){const E=l[v];"secondaryColor"===E.getAttribute("fill")?this._renderer.setAttribute(E,"fill",a):this._renderer.setAttribute(E,"fill",i)}}return this._renderer.setAttribute(t,"fill","currentColor"),t}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.FYo),m.LFG(Ml,8),m.LFG(V.K0,8),m.LFG(C.H7),m.LFG(k4,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const Sp={isTestMode:!1},O4={};const Rl=(...n)=>function nh(n,...e){(Sp.isTestMode||(0,m.X6Q)()&&function th(...n){const e=n.reduce((t,r)=>t+r.toString(),"");return!O4[e]&&(O4[e]=!0,!0)}(...e))&&n(...e)}((...e)=>console.warn("[NG-ZORRO]:",...e),...n),Ip={name:"appstore-add",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z" /></svg>'},Fm={name:"export",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7zm18.6-251.7L765 393.7c-5.3-4.2-13-.4-13 6.3v76H438c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z" /></svg>'},j1={name:"save",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z" /></svg>'},u2={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var L8=R(9718);const W1=2,m2=.16,V8=.05,Sh=.05,Eh=.15,g2=5,H8=4,j7=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function $7({r:n,g:e,b:t}){const r=El(n,e,t);return{h:360*r.h,s:r.s,v:r.v}}function v2({r:n,g:e,b:t}){return`#${iu(n,e,t,!1)}`}function y2(n,e,t){let r;return r=Math.round(n.h)>=60&&Math.round(n.h)<=240?t?Math.round(n.h)-W1*e:Math.round(n.h)+W1*e:t?Math.round(n.h)+W1*e:Math.round(n.h)-W1*e,r<0?r+=360:r>=360&&(r-=360),r}function B8(n,e,t){if(0===n.h&&0===n.s)return n.s;let r;return r=t?n.s-m2*e:e===H8?n.s+m2:n.s+V8*e,r>1&&(r=1),t&&e===g2&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function U8(n,e,t){let r;return r=t?n.v+Sh*e:n.v-Eh*e,r>1&&(r=1),Number(r.toFixed(2))}function Y8(n,e={}){const t=[],r=Us(n);for(let i=g2;i>0;i-=1){const a=$7(r),l=v2(Us({h:y2(a,i,!0),s:B8(a,i,!0),v:U8(a,i,!0)}));t.push(l)}t.push(v2(r));for(let i=1;i<=H8;i+=1){const a=$7(r),l=v2(Us({h:y2(a,i),s:B8(a,i),v:U8(a,i)}));t.push(l)}return"dark"===e.theme?j7.map(({index:i,opacity:a})=>v2(function yD(n,e,t){const r=t/100;return{r:(e.r-n.r)*r+n.r,g:(e.g-n.g)*r+n.g,b:(e.b-n.b)*r+n.b}}(Us(e.backgroundColor||"#141414"),Us(t[i]),100*a))):t}function c(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}typeof window<"u"&&window;const u="rc-util-key";function d({mark:n}={}){return n?n.startsWith("data-")?n:`data-${n}`:u}function f(n){return n.attachTo?n.attachTo:document.querySelector("head")||document.body}function _(n,e={}){if(!c())return null;const t=document.createElement("style");e.csp?.nonce&&(t.nonce=e.csp?.nonce),t.innerHTML=n;const r=f(e),{firstChild:i}=r;return e.prepend&&r.prepend?r.prepend(t):e.prepend&&i?r.insertBefore(t,i):r.appendChild(t),t}const D=new Map;const ye=new m.OlP("nz-config"),Ne=`-ant-${Date.now()}-${Math.random()}`;function bt(n,e){const t=function tt(n,e){const t={},r=(l,h)=>{let v=l.clone();return v=h?.(v)||v,v.toRgbString()},i=(l,h)=>{const v=new we(l),E=Y8(v.toRgbString());t[`${h}-color`]=r(v),t[`${h}-color-disabled`]=E[1],t[`${h}-color-hover`]=E[4],t[`${h}-color-active`]=E[7],t[`${h}-color-outline`]=v.clone().setAlpha(.2).toRgbString(),t[`${h}-color-deprecated-bg`]=E[1],t[`${h}-color-deprecated-border`]=E[3]};if(e.primaryColor){i(e.primaryColor,"primary");const l=new we(e.primaryColor),h=Y8(l.toRgbString());h.forEach((E,P)=>{t[`primary-${P+1}`]=E}),t["primary-color-deprecated-l-35"]=r(l,E=>E.lighten(35)),t["primary-color-deprecated-l-20"]=r(l,E=>E.lighten(20)),t["primary-color-deprecated-t-20"]=r(l,E=>E.tint(20)),t["primary-color-deprecated-t-50"]=r(l,E=>E.tint(50)),t["primary-color-deprecated-f-12"]=r(l,E=>E.setAlpha(.12*E.getAlpha()));const v=new we(h[0]);t["primary-color-active-deprecated-f-30"]=r(v,E=>E.setAlpha(.3*E.getAlpha())),t["primary-color-active-deprecated-d-02"]=r(v,E=>E.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`\n  :root {\n    ${Object.keys(t).map(l=>`--${n}-${l}: ${t[l]};`).join("\n")}\n  }\n  `.trim()}(n,e);c()?function W(n,e,t={}){const r=f(t);if(!D.has(r)){const l=_("",t),{parentNode:h}=l;D.set(r,h),h.removeChild(l)}const i=function x(n,e={}){const t=f(e);return Array.from(D.get(t)?.children||[]).find(r=>"STYLE"===r.tagName&&r.getAttribute(d(e))===n)}(e,t);if(i)return t.csp?.nonce&&i.nonce!==t.csp?.nonce&&(i.nonce=t.csp?.nonce),i.innerHTML!==n&&(i.innerHTML=n),i;const a=_(n,t);a?.setAttribute(d(t),e)}(t,`${Ne}-dynamic-theme`):Rl("NzConfigService: SSR do not support dynamic theme with css variables.")}let En=(()=>{class n{constructor(t){this.configUpdated$=new di.x,this.config=t||{},this.config.theme&&bt(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme)}getConfig(){return this.config}getConfigForComponent(t){return this.config[t]}getConfigChangeEventForComponent(t){return this.configUpdated$.pipe((0,zo.h)(r=>r===t),(0,L8.h)(void 0))}set(t,r){this.config[t]={...this.config[t],...r},"theme"===t&&this.config.theme&&bt(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme),this.configUpdated$.next(t)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(ye,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const On=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},u2,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},u2,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],ai=new m.OlP("nz_icons"),sv=(new m.OlP("nz_icon_default_twotone_color"),"#1890ff");let HR=(()=>{class n extends T1{constructor(t,r,i,a,l,h,v){super(t,l,h,r,[...On,...v||[]]),this.nzConfigService=i,this.platform=a,this.configUpdated$=new di.x,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(t){t.getAttribute("viewBox")||this._renderer.setAttribute(t,"viewBox","0 0 1024 1024"),(!t.getAttribute("width")||!t.getAttribute("height"))&&(this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em")),t.getAttribute("fill")||this._renderer.setAttribute(t,"fill","currentColor")}fetchFromIconfont(t){const{scriptUrl:r}=t;if(this._document&&!this.iconfontCache.has(r)){const i=this._renderer.createElement("script");this._renderer.setAttribute(i,"src",r),this._renderer.setAttribute(i,"data-namespace",r.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,i),this.iconfontCache.add(r)}}createIconfontIcon(t){return this._createSVGElementFromString(`<svg><use xlink:href="${t}"></svg>`)}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const t=this.getConfig();this.defaultTheme=t.nzTheme||"outline"}configDefaultTwotoneColor(){const r=this.getConfig().nzTwotoneColor||sv;let i=sv;r&&(r.startsWith("#")?i=r:Rl("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:i}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.FYo),m.LFG(C.H7),m.LFG(En),m.LFG(Xo),m.LFG(Ml,8),m.LFG(V.K0,8),m.LFG(ai,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zD=new m.OlP("nz_icons_patch");let BR=(()=>{class n{constructor(t,r){this.extraIcons=t,this.rootIconService=r,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(t=>this.rootIconService.addIcon(t)),this.patched=!0)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(zD,2),m.LFG(HR))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),e6=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:ai,useValue:t}]}}static forChild(t){return{ngModule:n,providers:[BR,{provide:zD,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[_c]}),n})();function t6(n){return Array.isArray(n)?n:[n]}function ho(n){return null==n?"":"string"==typeof n?n:`${n}px`}var $R=R(5577),GR=R(1144),Iu=R(576);const WR=["addListener","removeListener"],qR=["addEventListener","removeEventListener"],KR=["on","off"];function n6(n,e,t,r){if((0,Iu.m)(t)&&(r=t,t=void 0),r)return n6(n,e,t).pipe((0,ae.Z)(r));const[i,a]=function XR(n){return(0,Iu.m)(n.addEventListener)&&(0,Iu.m)(n.removeEventListener)}(n)?qR.map(l=>h=>n[l](e,h,t)):function ZR(n){return(0,Iu.m)(n.addListener)&&(0,Iu.m)(n.removeListener)}(n)?WR.map(AD(n,e)):function QR(n){return(0,Iu.m)(n.on)&&(0,Iu.m)(n.off)}(n)?KR.map(AD(n,e)):[];if(!i&&(0,GR.z)(n))return(0,$R.z)(l=>n6(l,e,t))((0,Me.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new pe.y(l=>{const h=(...v)=>l.next(1<v.length?v:v[0]);return i(h),()=>a(h)})}function AD(n,e){return t=>r=>n[t](e,r)}var PD=R(4408),r6=R(727);const S2={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=S2;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new r6.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=S2;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=S2;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var kD=R(7565);const tN=new class eN extends kD.v{flush(e){let t;this._active=!0,e?t=e.id:(t=this._scheduled,this._scheduled=void 0);const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class JR extends PD.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=S2.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&t===e._scheduled&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(S2.cancelAnimationFrame(t),e._scheduled=void 0)}});let av,nN=1;const o6={};function OD(n){return n in o6&&(delete o6[n],!0)}const rN={setImmediate(n){const e=nN++;return o6[e]=!0,av||(av=Promise.resolve()),av.then(()=>OD(e)&&n()),e},clearImmediate(n){OD(n)}},{setImmediate:iN,clearImmediate:oN}=rN,s6={setImmediate(...n){const{delegate:e}=s6;return(e?.setImmediate||iN)(...n)},clearImmediate(n){const{delegate:e}=s6;return(e?.clearImmediate||oN)(n)},delegate:void 0},cN=new class aN extends kD.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class sN extends PD.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=s6.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(s6.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var a6=R(4986),E2=R(4482),uN=R(3532);function cv(n,e=a6.z){return function lN(n){return(0,E2.e)((e,t)=>{let r=!1,i=null,a=null,l=!1;const h=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const E=i;i=null,t.next(E)}l&&t.complete()},v=()=>{a=null,l&&t.complete()};e.subscribe((0,Ae.x)(t,E=>{r=!0,i=E,a||(0,Me.Xf)(n(E)).subscribe(a=(0,Ae.x)(t,h,v))},()=>{l=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>function hN(n=0,e,t=a6.P){let r=-1;return null!=e&&((0,uN.K)(e)?t=e:r=e),new pe.y(i=>{let a=function dN(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let l=0;return t.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e))}var fN=R(5032);function c6(n){return(0,E2.e)((e,t)=>{(0,Me.Xf)(n).subscribe((0,Ae.x)(t,()=>t.complete(),fN.Z)),!t.closed&&e.subscribe(t)})}var T2=R(8675);const pN=["contentWrapper"],mN=["*"],gN=new m.OlP("VIRTUAL_SCROLL_STRATEGY");let l6=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new di.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new pe.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(cv(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,xo.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe((0,zo.h)(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=function jR(n){return n instanceof m.SBq?n.nativeElement:n}(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>n6(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.R0b),m.LFG(Xo),m.LFG(V.K0,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RD=(()=>{class n{constructor(t,r,i,a){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=a,this._destroyed=new di.x,this._elementScrolled=new pe.y(l=>this.ngZone.runOutsideAngular(()=>n6(this.elementRef.nativeElement,"scroll").pipe(c6(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=ys()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==ys()?t.left=t.right:1==ys()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;bl()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==t?t=l?i:r:"end"==t&&(t=l?r:i),l&&2==ys()?t==r?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:l&&1==ys()?t==r?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==r?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.SBq),m.Y36(l6),m.Y36(m.R0b),m.Y36(vi,8))},n.\u0275dir=m.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),lv=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new di.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(cv(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Xo),m.LFG(m.R0b),m.LFG(V.K0,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ND=new m.OlP("VIRTUAL_SCROLLABLE");let _N=(()=>{class n extends RD{constructor(t,r,i,a){super(t,r,i,a)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.SBq),m.Y36(l6),m.Y36(m.R0b),m.Y36(vi,8))},n.\u0275dir=m.lG2({type:n,features:[m.qOj]}),n})();const CN=typeof requestAnimationFrame<"u"?tN:cN;let bN=(()=>{class n extends _N{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=function UR(n){return null!=n&&"false"!=`${n}`}(t)}constructor(t,r,i,a,l,h,v,E){super(t,h,i,l),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=a,this.scrollable=E,this._platform=(0,m.f3M)(Xo),this._detachedSubject=new di.x,this._renderedRangeSubject=new di.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new pe.y(P=>this._scrollStrategy.scrolledIndexChange.subscribe(U=>Promise.resolve().then(()=>this.ngZone.run(()=>P.next(U))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=r6.w0.EMPTY,this._viewportChanges=v.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,T2.O)(null),cv(0,CN)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(c6(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function wN(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const a="horizontal"==this.orientation,l=a?"X":"Y";let v=`translate${l}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(v+=` translate${l}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=v&&(this._renderedContentTransform=v,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",a="right",l="rtl"==this.dir?.value;r="start"==t?l?a:i:"end"==t?l?i:a:t||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-h}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.SBq),m.Y36(m.sBO),m.Y36(m.R0b),m.Y36(gN,8),m.Y36(vi,8),m.Y36(l6),m.Y36(lv),m.Y36(ND,8))},n.\u0275cmp=m.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&m.Gf(pN,7),2&t){let i;m.iGM(i=m.CRH())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&m.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[m._Bn([{provide:RD,useFactory:(e,t)=>e||t,deps:[[new m.FiY,new m.tBr(ND)],n]}]),m.qOj,m.jDz],ngContentSelectors:mN,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(m.F$t(),m.TgZ(0,"div",0,1),m.Hsn(2),m.qZA(),m._UZ(3,"div",2)),2&t&&(m.xp6(3),m.Udp("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),FD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})(),uv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Ls,FD,bN,Ls,FD]}),n})();class dv{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class SN extends dv{constructor(e,t,r,i,a){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=a}}class EN extends dv{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class TN extends dv{constructor(e){super(),this.element=e instanceof m.SBq?e.nativeElement:e}}class DN{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof SN?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof EN?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof TN?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class MN extends DN{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=l=>{const h=l.element,v=this._document.createComment("dom-portal");h.parentNode.insertBefore(v,h),this.outletElement.appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(h,v)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||m.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let LD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})(),VD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[V.ez]}),n})();new m.OlP("nz-empty-component-name");let FN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Ls,V.ez,LD,VD,pn]}),n})(),LN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[_c]}),n})();var HD=R(6451);const BD=bl();class VN{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ho(-this._previousScrollPosition.left),e.style.top=ho(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),BD&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),BD&&(r.scrollBehavior=a,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class HN{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe((0,zo.h)(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class UD{enable(){}disable(){}attach(){}}function hv(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function YD(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class BN{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();hv(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let UN=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new UD,this.close=l=>new HN(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new VN(this._viewportRuler,this._document),this.reposition=l=>new BN(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(l6),m.LFG(lv),m.LFG(m.R0b),m.LFG(V.K0))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class YN{constructor(e){if(this.scrollStrategy=new UD,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class eo{constructor(e,t,r,i,a){this.offsetX=r,this.offsetY=i,this.panelClass=a,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class jN{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let jD=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(V.K0))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$N=(()=>{class n extends jD{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let l=a.length-1;l>-1;l--)if(a[l]._keydownEvents.observers.length>0){const h=a[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(i)):h.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(V.K0),m.LFG(m.R0b,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GN=(()=>{class n extends jD{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=ja(a)},this._clickListener=a=>{const l=ja(a),h="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let E=v.length-1;E>-1;E--){const P=v[E];if(P._outsidePointerEvents.observers.length<1||!P.hasAttached())continue;if(P.overlayElement.contains(l)||P.overlayElement.contains(h))break;const U=P._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>U.next(a)):U.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(V.K0),m.LFG(Xo),m.LFG(m.R0b,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$D=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||ba()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),ba()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(V.K0),m.LFG(Xo))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class WN{constructor(e,t,r,i,a,l,h,v,E,P=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=l,this._document=h,this._location=v,this._outsideClickDispatcher=E,this._animationsDisabled=P,this._backdropElement=null,this._backdropClick=new di.x,this._attachments=new di.x,this._detachments=new di.x,this._locationChanges=r6.w0.EMPTY,this._backdropClickHandler=U=>this._backdropClick.next(U),this._backdropTransitionendHandler=U=>{this._disposeBackdrop(U.target)},this._keydownEvents=new di.x,this._outsidePointerEvents=new di.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,_e.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ho(this._config.width),e.height=ho(this._config.height),e.minWidth=ho(this._config.minWidth),e.minHeight=ho(this._config.minHeight),e.maxWidth=ho(this._config.maxWidth),e.maxHeight=ho(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=t6(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(c6((0,HD.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const GD="cdk-overlay-connected-position-bounding-box",qN=/([A-Za-z%]+)$/;class KN{get positions(){return this._preferredPositions}constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new di.x,this._resizeSubscription=r6.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(GD),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let l;for(let h of this._preferredPositions){let v=this._getOriginPoint(e,i,h),E=this._getOverlayPoint(v,t,h),P=this._getOverlayFit(E,t,r,h);if(P.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,v);this._canFitWithFlexibleDimensions(P,E,r)?a.push({position:h,origin:v,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(v,h)}):(!l||l.overlayFit.visibleArea<P.visibleArea)&&(l={overlayFit:P,overlayPoint:E,originPoint:v,position:h,overlayRect:t})}if(a.length){let h=null,v=-1;for(const E of a){const P=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);P>v&&(v=P,h=E)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&K1(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(GD),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;i="start"==r.originX?l:h}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=qD(t);let{x:l,y:h}=e,v=this._getOffset(i,"x"),E=this._getOffset(i,"y");v&&(l+=v),E&&(h+=E);let ne=0-h,ce=h+a.height-r.height,ve=this._subtractOverflows(a.width,0-l,l+a.width-r.width),ke=this._subtractOverflows(a.height,ne,ce),$e=ve*ke;return{visibleArea:$e,isCompletelyWithinViewport:a.width*a.height===$e,fitsInViewportVertically:ke===a.height,fitsInViewportHorizontally:ve==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,l=WD(this._overlayRef.getConfig().minHeight),h=WD(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=l&&l<=i)&&(e.fitsInViewportHorizontally||null!=h&&h<=a)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=qD(t),a=this._viewportRect,l=Math.max(e.x+i.width-a.width,0),h=Math.max(e.y+i.height-a.height,0),v=Math.max(a.top-r.top-e.y,0),E=Math.max(a.left-r.left-e.x,0);let P=0,U=0;return P=i.width<=a.width?E||-l:e.x<this._viewportMargin?a.left-r.left-e.x:0,U=i.height<=a.height?v||-h:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:P,y:U},{x:e.x+P,y:e.y+U}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new jN(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,l,h,P,U,ne;if("top"===t.overlayY)l=e.y,a=r.height-l+this._viewportMargin;else if("bottom"===t.overlayY)h=r.height-e.y+2*this._viewportMargin,a=r.height-h+this._viewportMargin;else{const ce=Math.min(r.bottom-e.y+r.top,e.y),ve=this._lastBoundingBoxSize.height;a=2*ce,l=e.y-ce,a>ve&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-ve/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)ne=r.width-e.x+this._viewportMargin,P=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)U=e.x,P=r.right-e.x;else{const ce=Math.min(r.right-e.x+r.left,e.x),ve=this._lastBoundingBoxSize.width;P=2*ce,U=e.x-ce,P>ve&&!this._isInitialRender&&!this._growAfterOpen&&(U=e.x-ve/2)}return{top:l,left:U,bottom:h,right:ne,width:P,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=ho(r.height),i.top=ho(r.top),i.bottom=ho(r.bottom),i.width=ho(r.width),i.left=ho(r.left),i.right=ho(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=ho(a)),l&&(i.maxWidth=ho(l))}this._lastBoundingBoxSize=r,K1(this._boundingBox.style,i)}_resetBoundingBoxStyles(){K1(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){K1(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const P=this._viewportRuler.getViewportScrollPosition();K1(r,this._getExactOverlayY(t,e,P)),K1(r,this._getExactOverlayX(t,e,P))}else r.position="static";let h="",v=this._getOffset(t,"x"),E=this._getOffset(t,"y");v&&(h+=`translateX(${v}px) `),E&&(h+=`translateY(${E}px)`),r.transform=h.trim(),l.maxHeight&&(i?r.maxHeight=ho(l.maxHeight):a&&(r.maxHeight="")),l.maxWidth&&(i?r.maxWidth=ho(l.maxWidth):a&&(r.maxWidth="")),K1(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=ho(a.y),i}_getExactOverlayX(e,t,r){let l,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=ho(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:YD(e,r),isOriginOutsideView:hv(e,r),isOverlayClipped:YD(t,r),isOverlayOutsideView:hv(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&t6(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof m.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function K1(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function WD(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(qN);return t&&"px"!==t?null:parseFloat(e)}return n||null}function qD(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const KD="cdk-global-overlay-wrapper";class ZN{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(KD),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:l,maxHeight:h}=r,v=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),E=!("100%"!==a&&"100vh"!==a||h&&"100%"!==h&&"100vh"!==h),P=this._xPosition,U=this._xOffset,ne="rtl"===this._overlayRef.getConfig().direction;let ce="",ve="",ke="";v?ke="flex-start":"center"===P?(ke="center",ne?ve=U:ce=U):ne?"left"===P||"end"===P?(ke="flex-end",ce=U):("right"===P||"start"===P)&&(ke="flex-start",ve=U):"left"===P||"start"===P?(ke="flex-start",ce=U):("right"===P||"end"===P)&&(ke="flex-end",ve=U),e.position=this._cssPosition,e.marginLeft=v?"0":ce,e.marginTop=E?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=v?"0":ve,t.justifyContent=ke,t.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(KD),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let QN=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new ZN}flexibleConnectedTo(t){return new KN(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(lv),m.LFG(V.K0),m.LFG(Xo),m.LFG($D))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XN=0,ZD=(()=>{class n{constructor(t,r,i,a,l,h,v,E,P,U,ne,ce){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=l,this._injector=h,this._ngZone=v,this._document=E,this._directionality=P,this._location=U,this._outsideClickDispatcher=ne,this._animationsModuleType=ce}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),l=new YN(t);return l.direction=l.direction||this._directionality.value,new WN(a,r,i,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+XN++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(m.z2F)),new MN(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(UN),m.LFG($D),m.LFG(m._Vd),m.LFG(QN),m.LFG($N),m.LFG(m.zs3),m.LFG(m.R0b),m.LFG(V.K0),m.LFG(vi),m.LFG(V.Ye),m.LFG(GN),m.LFG(m.QbO,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tF={provide:new m.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ZD],useFactory:function eF(n){return()=>n.scrollStrategies.reposition()}};let nF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[ZD,tF],imports:[Ls,LD,uv,uv]}),n})();new eo({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),new eo({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),new eo({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new eo({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new eo({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),new eo({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),new eo({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new eo({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),new eo({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),new eo({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new eo({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),new eo({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),new eo({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),new eo({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"});new eo({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new eo({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new eo({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"}),new eo({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),new eo({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),new eo({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),new eo({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2);let rF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})(),lF=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[lF]}),n})();var dF=R(9841),hF=R(7272);function QD(n,e=a6.z){return(0,E2.e)((t,r)=>{let i=null,a=null,l=null;const h=()=>{if(i){i.unsubscribe(),i=null;const E=a;a=null,r.next(E)}};function v(){const E=l+n,P=e.now();if(P<E)return i=this.schedule(void 0,E-P),void r.add(i);h()}t.subscribe((0,Ae.x)(r,E=>{a=E,l=e.now(),i||(i=e.schedule(v,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{a=i=null}))})}const XD=new Set;let Th,pF=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):gF}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function mF(n){if(!XD.has(n))try{Th||(Th=document.createElement("style"),Th.setAttribute("type","text/css"),document.head.appendChild(Th)),Th.sheet&&(Th.sheet.insertRule(`@media ${n} {body{ }}`,0),XD.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Xo))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gF(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let vF=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new di.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return JD(t6(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){const i=JD(t6(t)).map(l=>this._registerQuery(l).observable);let a=(0,dF.a)(i);return a=(0,hF.z)(a.pipe((0,_e.q)(1)),a.pipe(function fF(n){return(0,zo.h)((e,t)=>n<=t)}(1),QD(0))),a.pipe((0,Fe.U)(l=>{const h={matches:!1,breakpoints:{}};return l.forEach(({matches:v,query:E})=>{h.matches=h.matches||v,h.breakpoints[E]=v}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new pe.y(l=>{const h=v=>this._zone.run(()=>l.next(v));return r.addListener(h),()=>{r.removeListener(h)}}).pipe((0,T2.O)(r),(0,Fe.U)(({matches:l})=>({query:t,matches:l})),c6(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(pF),m.LFG(m.R0b))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JD(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const rM="cdk-high-contrast-black-on-white",iM="cdk-high-contrast-white-on-black",fv="cdk-high-contrast-active";let DF=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,m.f3M)(vF).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(fv,rM,iM),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(fv,rM):2===r&&t.add(fv,iM)}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Xo),m.LFG(V.K0))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MF=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(DF))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[uF]}),n})(),IF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[V.ez]}),n})(),xF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[V.ez,e6]}),n})(),WF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Ls,V.ez,pn,ya,_c,nF,e6,VD,FN,rF,IF,LN,xF,uv,MF]}),n})(),vL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Ls,V.ez,ya,WF,pn,e6]}),n})();var Co=R(2011),Fr=R(3324);function pv(){return(0,E2.e)((n,e)=>{let t,r=!1;n.subscribe((0,Ae.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var mv=R(5026),yL=R(4671);function wL(n,e){return n===e}R(9568);var jt,oM=R(3942),Je=R(5861),Ic=R(6881),Dh=R(4859),xu=R(1877),Wn=R(2090),CL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xc={},gv=gv||{},Un=CL||self;function d6(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function D2(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vv="closure_uid_"+(1e9*Math.random()>>>0),SL=0;function EL(n,e,t){return n.call.apply(n.bind,arguments)}function TL(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ts(n,e,t){return(Ts=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?EL:TL).apply(null,arguments)}function h6(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ao(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function zu(){this.s=this.s,this.o=this.o}zu.prototype.s=!1,zu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function bL(n){Object.prototype.hasOwnProperty.call(n,vv)&&n[vv]||(n[vv]=++SL)}(this)},zu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sM=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function yv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function aM(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(d6(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function Ds(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ds.prototype.h=function(){this.defaultPrevented=!0};var ML=function(){if(!Un.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Un.addEventListener("test",()=>{},e),Un.removeEventListener("test",()=>{},e)}catch{}return n}();function M2(n){return/^[\s\xa0]*$/.test(n)}function f6(){var n=Un.navigator;return n&&(n=n.userAgent)?n:""}function rl(n){return-1!=f6().indexOf(n)}function _v(n){return _v[" "](n),n}_v[" "]=function(){};var Cv,n,xL=rl("Opera"),Mh=rl("Trident")||rl("MSIE"),cM=rl("Edge"),wv=cM||Mh,lM=rl("Gecko")&&!(-1!=f6().toLowerCase().indexOf("webkit")&&!rl("Edge"))&&!(rl("Trident")||rl("MSIE"))&&!rl("Edge"),zL=-1!=f6().toLowerCase().indexOf("webkit")&&!rl("Edge");function uM(){var n=Un.document;return n?n.documentMode:void 0}e:{var bv="",Sv=(n=f6(),lM?/rv:([^\);]+)(\)|;)/.exec(n):cM?/Edge\/([\d\.]+)/.exec(n):Mh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zL?/WebKit\/(\S+)/.exec(n):xL?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Sv&&(bv=Sv?Sv[1]:""),Mh){var Ev=uM();if(null!=Ev&&Ev>parseFloat(bv)){Cv=String(Ev);break e}}Cv=bv}var AL=Un.document&&Mh&&(uM()||parseInt(Cv,10))||void 0;function I2(n,e){if(Ds.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(lM){e:{try{_v(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:PL[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&I2.$.h.call(this)}}Ao(I2,Ds);var PL={2:"touch",3:"pen",4:"mouse"};I2.prototype.h=function(){I2.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var x2="closure_listenable_"+(1e6*Math.random()|0),kL=0;function OL(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++kL,this.fa=this.ia=!1}function p6(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Dv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function hM(n){const e={};for(const t in n)e[t]=n[t];return e}const fM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pM(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<fM.length;a++)t=fM[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function m6(n){this.src=n,this.g={},this.h=0}function Mv(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=sM(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(p6(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Iv(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}m6.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=Iv(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new OL(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var xv="closure_lm_"+(1e6*Math.random()|0),zv={};function mM(n,e,t,r,i){if(r&&r.once)return vM(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)mM(n,e[a],t,r,i);return null}return t=Ov(t),n&&n[x2]?n.O(e,t,D2(r)?!!r.capture:!!r,i):gM(n,e,t,!1,r,i)}function gM(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=D2(i)?!!i.capture:!!i,h=Pv(n);if(h||(n[xv]=h=new m6(n)),(t=h.add(e,t,r,l,a)).proxy)return t;if(r=function NL(){const e=FL;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ML||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(_M(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function vM(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)vM(n,e[a],t,r,i);return null}return t=Ov(t),n&&n[x2]?n.P(e,t,D2(r)?!!r.capture:!!r,i):gM(n,e,t,!0,r,i)}function yM(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)yM(n,e[a],t,r,i);else r=D2(r)?!!r.capture:!!r,t=Ov(t),n&&n[x2]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Iv(a=n.g[e],t,r,i))&&(p6(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Pv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Iv(e,t,r,i)),(t=-1<n?e[n]:null)&&Av(t))}function Av(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[x2])Mv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(_M(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Pv(e))?(Mv(t,n),0==t.h&&(t.src=null,e[xv]=null)):p6(n)}}}function _M(n){return n in zv?zv[n]:zv[n]="on"+n}function FL(n,e){if(n.fa)n=!0;else{e=new I2(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Av(n),n=t.call(r,e)}return n}function Pv(n){return(n=n[xv])instanceof m6?n:null}var kv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ov(n){return"function"==typeof n?n:(n[kv]||(n[kv]=function(e){return n.handleEvent(e)}),n[kv])}function Po(){zu.call(this),this.i=new m6(this),this.S=this,this.J=null}function ns(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ds(e,n);else if(e instanceof Ds)e.target=e.target||n;else{var i=e;pM(e=new Ds(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=g6(l,r,!0,e)&&i}if(i=g6(l=e.g=n,r,!0,e)&&i,i=g6(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=g6(l=e.g=t[a],r,!1,e)&&i}function g6(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var h=l.listener,v=l.la||l.src;l.ia&&Mv(n.i,l),i=!1!==h.call(v,r)&&i}}return i&&!r.defaultPrevented}Ao(Po,zu),Po.prototype[x2]=!0,Po.prototype.removeEventListener=function(n,e,t,r){yM(this,n,e,t,r)},Po.prototype.N=function(){if(Po.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)p6(t[r]);delete n.g[e],n.h--}}this.J=null},Po.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Po.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Rv=Un.JSON.stringify;function VL(){var n=Nv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var wM=new class LL{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new BL,n=>n.reset());class BL{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function UL(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function YL(n){Un.setTimeout(()=>{throw n},0)}let z2,A2=!1,Nv=new class HL{constructor(){this.h=this.g=null}add(e,t){const r=wM.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},CM=()=>{const n=Un.Promise.resolve(void 0);z2=()=>{n.then(jL)}};var jL=()=>{for(var n;n=VL();){try{n.h.call(n.g)}catch(t){YL(t)}var e=wM;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}A2=!1};function v6(n,e){Po.call(this),this.h=n||1,this.g=e||Un,this.j=Ts(this.qb,this),this.l=Date.now()}function Fv(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Lv(n,e,t){if("function"==typeof n)t&&(n=Ts(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ts(n.handleEvent,n)}return 2147483647<Number(e)?-1:Un.setTimeout(n,e||0)}function bM(n){n.g=Lv(()=>{n.g=null,n.i&&(n.i=!1,bM(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ao(v6,Po),(jt=v6.prototype).ga=!1,jt.T=null,jt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ns(this,"tick"),this.ga&&(Fv(this),this.start()))}},jt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},jt.N=function(){v6.$.N.call(this),Fv(this),delete this.g};class $L extends zu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bM(this)}N(){super.N(),this.g&&(Un.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function P2(n){zu.call(this),this.h=n,this.g={}}Ao(P2,zu);var SM=[];function EM(n,e,t,r){Array.isArray(t)||(t&&(SM[0]=t.toString()),t=SM);for(var i=0;i<t.length;i++){var a=mM(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function TM(n){Dv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Av(e)},n),n.g={}}function y6(){this.g=!0}function Ih(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function KL(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return Rv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}P2.prototype.N=function(){P2.$.N.call(this),TM(this)},P2.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},y6.prototype.Ea=function(){this.g=!1},y6.prototype.info=function(){};var Z1={},DM=null;function _6(){return DM=DM||new Po}function MM(n){Ds.call(this,Z1.Ta,n)}function k2(n){const e=_6();ns(e,new MM(e))}function IM(n,e){Ds.call(this,Z1.STAT_EVENT,n),this.stat=e}function Gs(n){const e=_6();ns(e,new IM(e,n))}function xM(n,e){Ds.call(this,Z1.Ua,n),this.size=e}function O2(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Un.setTimeout(function(){n()},e)}Z1.Ta="serverreachability",Ao(MM,Ds),Z1.STAT_EVENT="statevent",Ao(IM,Ds),Z1.Ua="timingevent",Ao(xM,Ds);var w6={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Vv(){}function PM(){}Vv.prototype.h=null;var Uv,R2={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Hv(){Ds.call(this,"d")}function Bv(){Ds.call(this,"c")}function C6(){}function N2(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new P2(this),this.P=ZL,this.V=new v6(n=wv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new kM}function kM(){this.i=null,this.g="",this.h=!1}Ao(Hv,Ds),Ao(Bv,Ds),Ao(C6,Vv),C6.prototype.g=function(){return new XMLHttpRequest},C6.prototype.i=function(){return{}},Uv=new C6;var ZL=45e3,Yv={},b6={};function jv(n,e,t){n.L=1,n.v=D6(Vl(e)),n.s=t,n.S=!0,OM(n,null)}function OM(n,e){n.G=Date.now(),F2(n),n.A=Vl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),jM(t.i,"t",r),n.C=0,t=n.l.J,n.h=new kM,n.g=pI(n.l,t?e:null,!n.s),0<n.O&&(n.M=new $L(Ts(n.Pa,n,n.g),n.O)),EM(n.U,n.g,"readystatechange",n.nb),e=n.I?hM(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),k2(),function GL(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",h=a.split("&"),v=0;v<h.length;v++){var E=h[v].split("=");if(1<E.length){var P=E[0];E=E[1];var U=P.split("_");l=2<=U.length&&"type"==U[1]?l+(P+"=")+E+"&":l+(P+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function RM(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function NM(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=QL(n,t),i==b6){4==e&&(n.o=4,Gs(14),r=!1),Ih(n.j,n.m,null,"[Incomplete Response]");break}if(i==Yv){n.o=4,Gs(15),Ih(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ih(n.j,n.m,i,null),$v(n,i)}RM(n)&&i!=b6&&i!=Yv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Gs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Xv(e),e.M=!0,Gs(11))):(Ih(n.j,n.m,t,"[Invalid Chunked Response]"),Q1(n),L2(n))}function QL(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?b6:(t=Number(e.substring(t,r)),isNaN(t)?Yv:(r+=1)+t>e.length?b6:(e=e.slice(r,r+t),n.C=r+t,e))}function F2(n){n.Y=Date.now()+n.P,FM(n,n.P)}function FM(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=O2(Ts(n.lb,n),e)}function S6(n){n.B&&(Un.clearTimeout(n.B),n.B=null)}function L2(n){0==n.l.H||n.J||uI(n.l,n)}function Q1(n){S6(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Fv(n.V),TM(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function $v(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Gv(t.i,n)))if(!n.K&&Gv(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;P6(t),z6(t)}Qv(t),Gs(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=O2(Ts(t.ib,t),6e3));if(1>=WM(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else J1(t,11)}else if((n.K||t.g==n)&&P6(t),!M2(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.V=E[0],E=E[1],2==t.H)if("c"==E[0]){t.K=E[1],t.pa=E[2];const P=E[3];null!=P&&(t.ra=P,t.l.info("VER="+t.ra));const U=E[4];null!=U&&(t.Ga=U,t.l.info("SVER="+t.Ga));const ne=E[5];null!=ne&&"number"==typeof ne&&0<ne&&(t.L=r=1.5*ne,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const ce=n.g;if(ce){const ve=ce.g?ce.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ve){var a=r.i;a.g||-1==ve.indexOf("spdy")&&-1==ve.indexOf("quic")&&-1==ve.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Wv(a,a.h),a.h=null))}if(r.F){const ke=ce.g?ce.g.getResponseHeader("X-HTTP-Session-Id"):null;ke&&(r.Da=ke,_i(r.I,r.F,ke))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=fI(r,r.J?r.pa:null,r.Y),l.K){qM(r.i,l);var h=l,v=r.L;v&&h.setTimeout(v),h.B&&(S6(h),F2(h)),r.g=l}else cI(r);0<t.j.length&&A6(t)}else"stop"!=E[0]&&"close"!=E[0]||J1(t,7);else 3==t.H&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?J1(t,7):Zv(t):"noop"!=E[0]&&t.h&&t.h.Aa(E),t.A=0)}k2()}catch{}}function LM(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(d6(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function JL(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(d6(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function XL(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(d6(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(jt=N2.prototype).setTimeout=function(n){this.P=n},jt.nb=function(n){n=n.target;const e=this.M;e&&3==il(n)?e.l():this.Pa(n)},jt.Pa=function(n){try{if(n==this.g)e:{const P=il(this.g);var e=this.g.Ia();if(this.g.da(),!(3>P)&&(3!=P||wv||this.g&&(this.h.h||this.g.ja()||nI(this.g)))){this.J||4!=P||7==e||k2(),S6(this);var t=this.g.da();this.ca=t;t:if(RM(this)){var r=nI(this.g);n="";var i=r.length,a=4==il(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Q1(this),L2(this);var l="";break t}this.h.i=new Un.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function WL(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,P,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,v=this.g;if((h=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M2(h)){var E=h;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,Gs(12),Q1(this),L2(this);break e}Ih(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$v(this,t)}this.S?(NM(this,P,l),wv&&this.i&&3==P&&(EM(this.U,this.V,"tick",this.mb),this.V.start())):(Ih(this.j,this.m,l,null),$v(this,l)),4==P&&Q1(this),this.i&&!this.J&&(4==P?uI(this.l,this):(this.i=!1,F2(this)))}else(function vV(n){const e={};n=(n.g&&2<=il(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(M2(n[r]))continue;var t=UL(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function RL(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Gs(12)):(this.o=0,Gs(13)),Q1(this),L2(this)}}}catch{}},jt.mb=function(){if(this.g){var n=il(this.g),e=this.g.ja();this.C<e.length&&(S6(this),NM(this,n,e),this.i&&4!=n&&F2(this))}},jt.cancel=function(){this.J=!0,Q1(this)},jt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function qL(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(k2(),Gs(17)),Q1(this),this.o=2,L2(this)):FM(this,this.Y-n)};var VM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function X1(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof X1){this.h=n.h,E6(this,n.j),this.s=n.s,this.g=n.g,T6(this,n.m),this.l=n.l;var e=n.i,t=new B2;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),HM(this,t),this.o=n.o}else n&&(e=String(n).match(VM))?(this.h=!1,E6(this,e[1]||"",!0),this.s=V2(e[2]||""),this.g=V2(e[3]||"",!0),T6(this,e[4]),this.l=V2(e[5]||"",!0),HM(this,e[6]||"",!0),this.o=V2(e[7]||"")):(this.h=!1,this.i=new B2(null,this.h))}function Vl(n){return new X1(n)}function E6(n,e,t){n.j=t?V2(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function T6(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function HM(n,e,t){e instanceof B2?(n.i=e,function sV(n,e){e&&!n.j&&(Au(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(UM(this,r),jM(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=H2(e,iV)),n.i=new B2(e,n.h))}function _i(n,e,t){n.i.set(e,t)}function D6(n){return _i(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function V2(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function H2(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,tV),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function tV(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}X1.prototype.toString=function(){var n=[],e=this.j;e&&n.push(H2(e,BM,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(H2(e,BM,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(H2(t,"/"==t.charAt(0)?rV:nV,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",H2(t,oV)),n.join("")};var BM=/[#\/\?@]/g,nV=/[#\?:]/g,rV=/[#\?]/g,iV=/[#\?@]/g,oV=/#/g;function B2(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Au(n){n.g||(n.g=new Map,n.h=0,n.i&&function eV(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function UM(n,e){Au(n),e=xh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function YM(n,e){return Au(n),e=xh(n,e),n.g.has(e)}function jM(n,e,t){UM(n,e),0<t.length&&(n.i=null,n.g.set(xh(n,e),yv(t)),n.h+=t.length)}function xh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function $M(n){this.l=n||cV,n=Un.PerformanceNavigationTiming?0<(n=Un.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Un.g&&Un.g.Ka&&Un.g.Ka()&&Un.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(jt=B2.prototype).add=function(n,e){Au(this),this.i=null,n=xh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},jt.forEach=function(n,e){Au(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},jt.ta=function(){Au(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},jt.Z=function(n){Au(this);let e=[];if("string"==typeof n)YM(this,n)&&(e=e.concat(this.g.get(xh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},jt.set=function(n,e){return Au(this),this.i=null,YM(this,n=xh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},jt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},jt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var cV=10;function GM(n){return!!n.h||!!n.g&&n.g.size>=n.j}function WM(n){return n.h?1:n.g?n.g.size:0}function Gv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Wv(n,e){n.g?n.g.add(e):n.h=e}function qM(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function KM(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return yv(n.i)}$M.prototype.cancel=function(){if(this.i=KM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var lV=class{stringify(n){return Un.JSON.stringify(n,void 0)}parse(n){return Un.JSON.parse(n,void 0)}};function uV(){this.g=new lV}function dV(n,e,t){const r=t||"";try{LM(n,function(i,a){let l=i;D2(i)&&(l=Rv(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function M6(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function U2(n){this.l=n.fc||null,this.j=n.ob||!1}function I6(n,e){Po.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=qv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ao(U2,Vv),U2.prototype.g=function(){return new I6(this.l,this.j)},U2.prototype.i=function(n){return function(){return n}}({}),Ao(I6,Po);var qv=0;function ZM(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Y2(n){n.readyState=4,n.l=null,n.j=null,n.A=null,j2(n)}function j2(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(jt=I6.prototype).open=function(n,e){if(this.readyState!=qv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,j2(this)},jt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Un).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},jt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Y2(this)),this.readyState=qv},jt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,j2(this)),this.g&&(this.readyState=3,j2(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Un.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZM(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},jt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Y2(this):j2(this),3==this.readyState&&ZM(this)}},jt.Za=function(n){this.g&&(this.response=this.responseText=n,Y2(this))},jt.Ya=function(n){this.g&&(this.response=n,Y2(this))},jt.ka=function(){this.g&&Y2(this)},jt.setRequestHeader=function(n,e){this.v.append(n,e)},jt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},jt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(I6.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var fV=Un.JSON.parse;function $i(n){Po.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=QM,this.L=this.M=!1}Ao($i,Po);var QM="",pV=/^https?$/i,mV=["POST","PUT"];function XM(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,JM(n),x6(n)}function JM(n){n.F||(n.F=!0,ns(n,"complete"),ns(n,"error"))}function eI(n){if(n.h&&typeof gv<"u"&&(!n.C[1]||4!=il(n)||2!=n.da()))if(n.v&&4==il(n))Lv(n.La,0,n);else if(ns(n,"readystatechange"),4==il(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(VM)[1]||null;!i&&Un.self&&Un.self.location&&(i=Un.self.location.protocol.slice(0,-1)),r=!pV.test(i?i.toLowerCase():"")}t=r}if(t)ns(n,"complete"),ns(n,"success");else{n.m=6;try{var a=2<il(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",JM(n)}}finally{x6(n)}}}function x6(n,e){if(n.g){tI(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ns(n,"ready");try{t.onreadystatechange=r}catch{}}}function tI(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Un.clearTimeout(n.A),n.A=null)}function il(n){return n.g?n.g.readyState:0}function nI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case QM:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function rI(n){let e="";return Dv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Kv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=rI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):_i(n,e,t))}function $2(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function iI(n){this.Ga=0,this.j=[],this.l=new y6,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$2("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$2("baseRetryDelayMs",5e3,n),this.hb=$2("retryDelaySeedMs",1e4,n),this.eb=$2("forwardChannelMaxRetries",2,n),this.xa=$2("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new $M(n&&n.concurrentRequestLimit),this.Ja=new uV,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Zv(n){if(oI(n),3==n.H){var e=n.W++,t=Vl(n.I);if(_i(t,"SID",n.K),_i(t,"RID",e),_i(t,"TYPE","terminate"),G2(n,t),(e=new N2(n,n.l,e)).L=2,e.v=D6(Vl(t)),t=!1,Un.navigator&&Un.navigator.sendBeacon)try{t=Un.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Un.Image&&((new Image).src=e.v,t=!0),t||(e.g=pI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),F2(e)}hI(n)}function z6(n){n.g&&(Xv(n),n.g.cancel(),n.g=null)}function oI(n){z6(n),n.u&&(Un.clearTimeout(n.u),n.u=null),P6(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Un.clearTimeout(n.m),n.m=null)}function A6(n){if(!GM(n.i)&&!n.m){n.m=!0;var e=n.Na;z2||CM(),A2||(z2(),A2=!0),Nv.add(e,n),n.C=0}}function sI(n,e){var t;t=e?e.m:n.W++;const r=Vl(n.I);_i(r,"SID",n.K),_i(r,"RID",t),_i(r,"AID",n.V),G2(n,r),n.o&&n.s&&Kv(r,n.o,n.s),t=new N2(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=aI(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Wv(n.i,t),jv(t,r,e)}function G2(n,e){n.na&&Dv(n.na,function(t,r){_i(e,r,t)}),n.h&&LM({},function(t,r){_i(e,r,t)})}function aI(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Ts(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let h=!0;for(let v=0;v<t;v++){let E=i[v].g;const P=i[v].map;if(E-=a,0>E)a=Math.max(0,i[v].g-100),h=!1;else try{dV(P,l,"req"+E+"_")}catch{r&&r(P)}}if(h){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function cI(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;z2||CM(),A2||(z2(),A2=!0),Nv.add(e,n),n.A=0}}function Qv(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=O2(Ts(n.Ma,n),dI(n,n.A)),n.A++,0))}function Xv(n){null!=n.B&&(Un.clearTimeout(n.B),n.B=null)}function lI(n){n.g=new N2(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Vl(n.wa);_i(e,"RID","rpc"),_i(e,"SID",n.K),_i(e,"AID",n.V),_i(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&_i(e,"TO",n.qa),_i(e,"TYPE","xmlhttp"),G2(n,e),n.o&&n.s&&Kv(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=D6(Vl(e)),t.s=null,t.S=!0,OM(t,n)}function P6(n){null!=n.v&&(Un.clearTimeout(n.v),n.v=null)}function uI(n,e){var t=null;if(n.g==e){P6(n),Xv(n),n.g=null;var r=2}else{if(!Gv(n.i,e))return;t=e.F,qM(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;ns(r=_6(),new xM(r,t)),A6(n)}else cI(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function yV(n,e){return!(WM(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=O2(Ts(n.Na,n,e),dI(n,n.C)),n.C++,0)))}(n,e)||2==r&&Qv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:J1(n,5);break;case 4:J1(n,10);break;case 3:J1(n,6);break;default:J1(n,2)}}function dI(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function J1(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Ts(n.pb,n);t||(t=new X1("//www.google.com/images/cleardot.gif"),Un.location&&"http"==Un.location.protocol||E6(t,"https"),D6(t)),function hV(n,e){const t=new y6;if(Un.Image){const r=new Image;r.onload=h6(M6,t,r,"TestLoadImage: loaded",!0,e),r.onerror=h6(M6,t,r,"TestLoadImage: error",!1,e),r.onabort=h6(M6,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=h6(M6,t,r,"TestLoadImage: timeout",!1,e),Un.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Gs(2);n.H=0,n.h&&n.h.za(e),hI(n),oI(n)}function hI(n){if(n.H=0,n.ma=[],n.h){const e=KM(n.i);(0!=e.length||0!=n.j.length)&&(aM(n.ma,e),aM(n.ma,n.j),n.i.i.length=0,yv(n.j),n.j.length=0),n.h.ya()}}function fI(n,e,t){var r=t instanceof X1?Vl(t):new X1(t);if(""!=r.g)e&&(r.g=e+"."+r.g),T6(r,r.m);else{var i=Un.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new X1(null);r&&E6(a,r),e&&(a.g=e),i&&T6(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&_i(r,t,e),_i(r,"VER",n.ra),G2(n,r),r}function pI(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new $i(t&&n.Ha&&!n.va?new U2({ob:!0}):n.va)).Oa(n.J),e}function mI(){}function k6(){if(Mh&&!(10<=Number(AL)))throw Error("Environmental error: no available transport.")}function Ma(n,e){Po.call(this),this.g=new iI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!M2(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!M2(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new zh(this)}function gI(n){Hv.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function vI(){Bv.call(this),this.status=1}function zh(n){this.g=n}function zc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Jv(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;l=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function Wr(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(jt=$i.prototype).Oa=function(n){this.M=n},jt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Uv.g(),this.C=function AM(n){return n.h||(n.h=n.i())}(this.u?this.u:Uv),this.g.onreadystatechange=Ts(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void XM(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Un.FormData&&n instanceof Un.FormData,!(0<=sM(mV,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tI(this),0<this.B&&((this.L=function gV(n){return Mh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ts(this.ua,this)):this.A=Lv(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){XM(this,a)}},jt.ua=function(){typeof gv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ns(this,"timeout"),this.abort(8))},jt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ns(this,"complete"),ns(this,"abort"),x6(this))},jt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),x6(this,!0)),$i.$.N.call(this)},jt.La=function(){this.s||(this.G||this.v||this.l?eI(this):this.kb())},jt.kb=function(){eI(this)},jt.isActive=function(){return!!this.g},jt.da=function(){try{return 2<il(this)?this.g.status:-1}catch{return-1}},jt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},jt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),fV(e)}},jt.Ia=function(){return this.m},jt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(jt=iI.prototype).ra=8,jt.H=1,jt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new N2(this,this.l,n);let a=this.s;if(this.U&&(a?(a=hM(a),pM(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=aI(this,i,e),_i(t=Vl(this.I),"RID",n),_i(t,"CVER",22),this.F&&_i(t,"X-HTTP-Session-Id",this.F),G2(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(rI(a)))+"&"+e:this.o&&Kv(t,this.o,a)),Wv(this.i,i),this.bb&&_i(t,"TYPE","init"),this.P?(_i(t,"$req",e),_i(t,"SID","null"),i.aa=!0,jv(i,t,null)):jv(i,t,e),this.H=2}}else 3==this.H&&(n?sI(this,n):0==this.j.length||GM(this.i)||sI(this))},jt.Ma=function(){if(this.u=null,lI(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=O2(Ts(this.jb,this),n)}},jt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gs(10),z6(this),lI(this))},jt.ib=function(){null!=this.v&&(this.v=null,z6(this),Qv(this),Gs(19))},jt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Gs(2)):(this.l.info("Failed to ping google.com"),Gs(1))},jt.isActive=function(){return!!this.h&&this.h.isActive(this)},(jt=mI.prototype).Ba=function(){},jt.Aa=function(){},jt.za=function(){},jt.ya=function(){},jt.isActive=function(){return!0},jt.Va=function(){},k6.prototype.g=function(n,e){return new Ma(n,e)},Ao(Ma,Po),Ma.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Gs(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=fI(n,null,n.Y),A6(n)},Ma.prototype.close=function(){Zv(this.g)},Ma.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Rv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&A6(e)},Ma.prototype.N=function(){this.g.h=null,delete this.j,Zv(this.g),delete this.g,Ma.$.N.call(this)},Ao(gI,Hv),Ao(vI,Bv),Ao(zh,mI),zh.prototype.Ba=function(){ns(this.g,"a")},zh.prototype.Aa=function(n){ns(this.g,new gI(n))},zh.prototype.za=function(n){ns(this.g,new vI)},zh.prototype.ya=function(){ns(this.g,"b")},Ao(zc,function _V(){this.blockSize=-1}),zc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},zc.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)Jv(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){Jv(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){Jv(this,r),i=0;break}}this.h=i,this.i+=e},zc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var wV={};function e9(n){return-128<=n&&128>n?function IL(n,e){var t=wV;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Wr([0|e],0>e?-1:0)}):new Wr([0|n],0>n?-1:0)}function ol(n){if(isNaN(n)||!isFinite(n))return Ah;if(0>n)return rs(ol(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=t9;return new Wr(e,0)}var t9=4294967296,Ah=e9(0),n9=e9(1),_I=e9(16777216);function Hl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function tc(n){return-1==n.h}function rs(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Wr(t,~n.h).add(n9)}function O6(n,e){return n.add(rs(e))}function R6(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function W2(n,e){this.g=n,this.h=e}function N6(n,e){if(Hl(e))throw Error("division by zero");if(Hl(n))return new W2(Ah,Ah);if(tc(n))return e=N6(rs(n),e),new W2(rs(e.g),rs(e.h));if(tc(e))return e=N6(n,rs(e)),new W2(rs(e.g),e.h);if(30<n.g.length){if(tc(n)||tc(e))throw Error("slowDivide_ only works with positive integers.");for(var t=n9,r=e;0>=r.X(n);)t=wI(t),r=wI(r);var i=Ph(t,1),a=Ph(r,1);for(r=Ph(r,2),t=Ph(t,2);!Hl(r);){var l=a.add(r);0>=l.X(n)&&(i=i.add(t),a=l),r=Ph(r,1),t=Ph(t,1)}return e=O6(n,i.R(e)),new W2(i,e)}for(i=Ah;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(a=ol(t)).R(e);tc(l)||0<l.X(n);)l=(a=ol(t-=r)).R(e);Hl(a)&&(a=n9),i=i.add(a),n=O6(n,l)}return new W2(i,n)}function wI(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Wr(t,n.h)}function Ph(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Wr(i,n.h)}(jt=Wr.prototype).ea=function(){if(tc(this))return-rs(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:t9+r)*e,e*=t9}return n},jt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Hl(this))return"0";if(tc(this))return"-"+rs(this).toString(n);for(var e=ol(Math.pow(n,6)),t=this,r="";;){var i=N6(t,e).g,a=((0<(t=O6(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Hl(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},jt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},jt.X=function(n){return tc(n=O6(this,n))?-1:Hl(n)?0:1},jt.abs=function(){return tc(this)?rs(this):this},jt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(a&=65535)}return new Wr(t,-2147483648&t[t.length-1]?-1:0)},jt.R=function(n){if(Hl(this)||Hl(n))return Ah;if(tc(this))return tc(n)?rs(this).R(rs(n)):rs(rs(this).R(n));if(tc(n))return rs(this.R(rs(n)));if(0>this.X(_I)&&0>n.X(_I))return ol(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),h=n.D(i)>>>16,v=65535&n.D(i);t[2*r+2*i]+=l*v,R6(t,2*r+2*i),t[2*r+2*i+1]+=a*v,R6(t,2*r+2*i+1),t[2*r+2*i+1]+=l*h,R6(t,2*r+2*i+1),t[2*r+2*i+2]+=a*h,R6(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Wr(t,0)},jt.gb=function(n){return N6(this,n).h},jt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Wr(t,this.h&n.h)},jt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Wr(t,this.h|n.h)},jt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Wr(t,this.h^n.h)},k6.prototype.createWebChannel=k6.prototype.g,Ma.prototype.send=Ma.prototype.u,Ma.prototype.open=Ma.prototype.m,Ma.prototype.close=Ma.prototype.close,w6.NO_ERROR=0,w6.TIMEOUT=8,w6.HTTP_ERROR=6,zM.COMPLETE="complete",PM.EventType=R2,R2.OPEN="a",R2.CLOSE="b",R2.ERROR="c",R2.MESSAGE="d",Po.prototype.listen=Po.prototype.O,$i.prototype.listenOnce=$i.prototype.P,$i.prototype.getLastError=$i.prototype.Sa,$i.prototype.getLastErrorCode=$i.prototype.Ia,$i.prototype.getStatus=$i.prototype.da,$i.prototype.getResponseJson=$i.prototype.Wa,$i.prototype.getResponseText=$i.prototype.ja,$i.prototype.send=$i.prototype.ha,$i.prototype.setWithCredentials=$i.prototype.Oa,zc.prototype.digest=zc.prototype.l,zc.prototype.reset=zc.prototype.reset,zc.prototype.update=zc.prototype.j,Wr.prototype.add=Wr.prototype.add,Wr.prototype.multiply=Wr.prototype.R,Wr.prototype.modulo=Wr.prototype.gb,Wr.prototype.compare=Wr.prototype.X,Wr.prototype.toNumber=Wr.prototype.ea,Wr.prototype.toString=Wr.prototype.toString,Wr.prototype.getBits=Wr.prototype.D,Wr.fromNumber=ol,Wr.fromString=function yI(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return rs(yI(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ol(Math.pow(e,8)),r=Ah,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+a),e);8>a?(a=ol(Math.pow(e,a)),r=r.R(a).add(ol(l))):r=(r=r.R(t)).add(ol(l))}return r};var CV=xc.createWebChannelTransport=function(){return new k6},bV=xc.getStatEventTarget=function(){return _6()},r9=xc.ErrorCode=w6,SV=xc.EventType=zM,EV=xc.Event=Z1,CI=xc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},TV=xc.FetchXmlHttpFactory=U2,F6=xc.WebChannel=PM,DV=xc.XhrIo=$i,MV=xc.Md5=zc,kh=xc.Integer=Wr;const bI="@firebase/firestore";class ko{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ko.UNAUTHENTICATED=new ko(null),ko.GOOGLE_CREDENTIALS=new ko("google-credentials-uid"),ko.FIRST_PARTY=new ko("first-party-uid"),ko.MOCK_USER=new ko("mock-user");let Oh="9.23.0";const Pu=new xu.Yd("@firebase/firestore");function o9(){return Pu.logLevel}function yt(n,...e){if(Pu.logLevel<=xu.in.DEBUG){const t=e.map(s9);Pu.debug(`Firestore (${Oh}): ${n}`,...t)}}function to(n,...e){if(Pu.logLevel<=xu.in.ERROR){const t=e.map(s9);Pu.error(`Firestore (${Oh}): ${n}`,...t)}}function nc(n,...e){if(Pu.logLevel<=xu.in.WARN){const t=e.map(s9);Pu.warn(`Firestore (${Oh}): ${n}`,...t)}}function s9(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Kt(n="Unexpected state"){const e=`FIRESTORE (${Oh}) INTERNAL ASSERTION FAILED: `+n;throw to(e),new Error(e)}function rn(n,e){n||Kt()}function Lt(n,e){return n}const qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Wn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bo{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class SI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ko.UNAUTHENTICATED))}shutdown(){}}class AV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class PV{constructor(e){this.t=e,this.currentUser=ko.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let l=new bo;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new bo,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const E=l;e.enqueueRetryable((0,Je.Z)(function*(){yield E.promise,yield a(r.currentUser)}))},v=E=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(E=>v(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?v(E):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new bo)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rn("string"==typeof r.accessToken),new SI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rn(null===e||"string"==typeof e),new ko(e)}}class kV{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ko.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class OV{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new kV(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ko.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RV{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,yt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rn("string"==typeof t.token),this.T=t.token,new EI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function NV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class TI{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=NV(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Vn(n,e){return n<e?-1:n>e?1:0}function Rh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function DI(n){return n+"\0"}class Ai{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new dt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new dt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new dt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ai.fromMillis(Date.now())}static fromDate(e){return Ai.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ai(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vn(this.nanoseconds,e.nanoseconds):Vn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class sn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new sn(e)}static min(){return new sn(new Ai(0,0))}static max(){return new sn(new Ai(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class q2{constructor(e,t,r){void 0===t?t=0:t>e.length&&Kt(),void 0===r?r=e.length-t:r>e.length-t&&Kt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===q2.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof q2?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mr extends q2{construct(e,t,r){return new Mr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new dt(qe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Mr(t)}static emptyPath(){return new Mr([])}}const FV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gi extends q2{construct(e,t,r){return new Gi(e,t,r)}static isValidIdentifier(e){return FV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new dt(qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new dt(qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new dt(qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===h?(l=!l,i++):"."!==h||l?(r+=h,i++):(a(),i++)}if(a(),l)throw new dt(qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gi(t)}static emptyPath(){return new Gi([])}}class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(Mr.fromString(e))}static fromName(e){return new Rt(Mr.fromString(e).popFirst(5))}static empty(){return new Rt(Mr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new Mr(e.slice()))}}class L6{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function a9(n){return n.fields.find(e=>2===e.kind)}function ed(n){return n.fields.filter(e=>2!==e.kind)}L6.UNKNOWN_ID=-1;class V6{constructor(e,t){this.fieldPath=e,this.kind=t}}class K2{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new K2(0,Ia.min())}}function MI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=sn.fromTimestamp(1e9===r?new Ai(t+1,0):new Ai(t,r));return new Ia(i,Rt.empty(),e)}function II(n){return new Ia(n.readTime,n.key,-1)}class Ia{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ia(sn.min(),Rt.empty(),-1)}static max(){return new Ia(sn.max(),Rt.empty(),-1)}}function c9(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Rt.comparator(n.documentKey,e.documentKey),0!==t?t:Vn(n.largestBatchId,e.largestBatchId))}const xI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ku(n){return l9.apply(this,arguments)}function l9(){return l9=(0,Je.Z)(function*(n){if(n.code!==qe.FAILED_PRECONDITION||n.message!==xI)throw n;yt("LocalStore","Unexpectedly lost primary lease")}),l9.apply(this,arguments)}class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ue((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ue?t:Ue.resolve(t)}catch(t){return Ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ue.reject(t)}static resolve(e){return new Ue((t,r)=>{t(e)})}static reject(e){return new Ue((t,r)=>{r(e)})}static waitFor(e){return new Ue((t,r)=>{let i=0,a=0,l=!1;e.forEach(h=>{++i,h.next(()=>{++a,l&&a===i&&t()},v=>r(v))}),l=!0,a===i&&t()})}static or(e){let t=Ue.resolve(!1);for(const r of e)t=t.next(i=>i?Ue.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new Ue((r,i)=>{const a=e.length,l=new Array(a);let h=0;for(let v=0;v<a;v++){const E=v;t(e[E]).next(P=>{l[E]=P,++h,h===a&&r(l)},P=>i(P))}})}static doWhile(e,t){return new Ue((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class H6{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new bo,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Z2(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=u9(r.target.error);this.v.reject(new Z2(e,i))}}static open(e,t,r,i){try{return new H6(t,e.transaction(i,r))}catch(a){throw new Z2(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(yt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new BV(t)}}class Ac{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Ac.S((0,Wn.z$)())&&to("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return yt("SimpleDb","Removing database:",e),td(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Wn.hl)())return!1;if(Ac.C())return!0;const e=(0,Wn.z$)(),t=Ac.S(e),r=0<t&&t<10,i=Ac.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Je.Z)(function*(){return t.db||(yt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{i(new Z2(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const h=l.target.error;i("VersionError"===h.name?new dt(qe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new dt(qe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Z2(e,h))},a.onupgradeneeded=l=>{yt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{yt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Je.Z)(function*(){const l="readonly"===t;let h=0;for(;;){++h;try{a.db=yield a.$(e);const v=H6.open(a.db,e,l?"readonly":"readwrite",r),E=i(v).next(P=>(v.P(),P)).catch(P=>(v.abort(P),Ue.reject(P))).toPromise();return E.catch(()=>{}),yield v.R,E}catch(v){const E=v,P="FirebaseError"!==E.name&&h<3;if(yt("SimpleDb","Transaction failed with error:",E.message,"Retrying:",P),a.close(),!P)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class HV{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return td(this.L.delete())}}class Z2 extends dt{constructor(e,t){super(qe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ou(n){return"IndexedDbTransactionError"===n.name}class BV{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(yt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(yt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),td(r)}add(e){return yt("SimpleDb","ADD",this.store.name,e,e),td(this.store.add(e))}get(e){return td(this.store.get(e)).next(t=>(void 0===t&&(t=null),yt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return yt("SimpleDb","DELETE",this.store.name,e),td(this.store.delete(e))}count(){return yt("SimpleDb","COUNT",this.store.name),td(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(l,h)=>{a.push(h)}).next(()=>a)}{const i=this.store.getAll(r.range);return new Ue((a,l)=>{i.onerror=h=>{l(h.target.error)},i.onsuccess=h=>{a(h.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ue((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){yt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,l,h)=>h.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new Ue((r,i)=>{t.onerror=a=>{const l=u9(a.target.error);i(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(h=>{h?l.continue():r()}):r()}})}W(e,t){const r=[];return new Ue((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const h=l.target.result;if(!h)return void i();const v=new HV(h),E=t(h.primaryKey,h.value,v);if(E instanceof Ue){const P=E.catch(U=>(v.done(),Ue.reject(U)));r.push(P)}v.isDone?i():null===v.K?h.continue():h.continue(v.K)}}).next(()=>Ue.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function td(n){return new Ue((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=u9(r.target.error);t(i)}})}let AI=!1;function u9(n){const e=Ac.S((0,Wn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new dt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return AI||(AI=!0,setTimeout(()=>{throw r},0)),r}}return n}class UV{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;yt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Je.Z)(function*(){t.task=null;try{yt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Ou(r)?yt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield ku(r)}yield t.et(6e4)}))}}class YV{constructor(e,t){this.localStore=e,this.persistence=t}nt(){var e=this;return(0,Je.Z)(function*(t=50){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>e.st(r,t))}).apply(this,arguments)}st(e,t){const r=new Set;let i=t,a=!0;return Ue.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return yt("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(h=>{i-=h,r.add(l)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,a)).next(h=>(yt("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const l=II(a);c9(l,r)>0&&(r=l)}),new Ia(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let xa=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Q2(n){return null==n}function X2(n){return 0===n&&1/n==-1/0}function PI(n){return"number"==typeof n&&Number.isInteger(n)&&!X2(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ms(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kI(e)),e=jV(n.get(t),e);return kI(e)}function jV(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function kI(n){return n+"\x01\x01"}function sl(n){const e=n.length;if(rn(e>=2),2===e)return rn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Mr.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&Kt(),n.charAt(l+1)){case"\x01":const h=n.substring(a,l);let v;0===i.length?v=h:(i+=h,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(a,l),i+="\0";break;case"\x11":i+=n.substring(a,l+1);break;default:Kt()}a=l+2}return new Mr(r)}const OI=["userId","batchId"];function B6(n,e){return[n,Ms(e)]}function RI(n,e,t){return[n,Ms(e),t]}const $V={},GV=["prefixPath","collectionGroup","readTime","documentId"],WV=["prefixPath","collectionGroup","documentId"],qV=["collectionGroup","readTime","prefixPath","documentId"],KV=["canonicalId","targetId"],ZV=["targetId","path"],QV=["path","targetId"],XV=["collectionId","parent"],JV=["indexId","uid"],eH=["uid","sequenceNumber"],tH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nH=["indexId","uid","orderedDocumentKey"],rH=["userId","collectionPath","documentId"],iH=["userId","collectionPath","largestBatchId"],oH=["userId","collectionGroup","largestBatchId"],NI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sH=[...NI,"documentOverlays"],FI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],LI=FI,aH=[...LI,"indexConfiguration","indexState","indexEntries"];class d9 extends zI{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Oo(n,e){const t=Lt(n);return Ac.M(t.ht,e)}function VI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ru(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function HI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class fi{constructor(e,t){this.comparator=e,this.root=t||is.EMPTY}insert(e,t){return new fi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,is.BLACK,null,null))}remove(e){return new fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,is.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new U6(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new U6(this.root,e,this.comparator,!1)}getReverseIterator(){return new U6(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new U6(this.root,e,this.comparator,!0)}}class U6{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class is{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??is.RED,this.left=i??is.EMPTY,this.right=a??is.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new is(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return is.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return is.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,is.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,is.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Kt();const e=this.left.check();if(e!==this.right.check())throw Kt();return e+(this.isRed()?0:1)}}is.EMPTY=null,is.RED=!0,is.BLACK=!1,is.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt()}get value(){throw Kt()}get color(){throw Kt()}get left(){throw Kt()}get right(){throw Kt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new is(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wi{constructor(e){this.comparator=e,this.data=new fi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new BI(this.data.getIterator())}getIteratorFrom(e){return new BI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wi(this.comparator);return t.data=e,t}}class BI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Nh(n){return n.hasNext()?n.getNext():void 0}class ha{constructor(e){this.fields=e,e.sort(Gi.comparator)}static empty(){return new ha([])}unionWith(e){let t=new wi(Gi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ha(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class UI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class So{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new UI("Invalid base64 string: "+i):i}}(e);return new So(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new So(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}So.EMPTY_BYTE_STRING=new So("");const lH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nu(n){if(rn(!!n),"string"==typeof n){let e=0;const t=lH.exec(n);if(rn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wi(n.seconds),nanos:Wi(n.nanos)}}function Wi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Bl(n){return"string"==typeof n?So.fromBase64String(n):So.fromUint8Array(n)}function Y6(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function j6(n){const e=n.mapValue.fields.__previous_value__;return Y6(e)?j6(e):e}function J2(n){const e=Nu(n.mapValue.fields.__local_write_time__.timestampValue);return new Ai(e.seconds,e.nanos)}class uH{constructor(e,t,r,i,a,l,h,v,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=v,this.useFetchStreams=E}}class Fu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}const Lu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$6={nullValue:"NULL_VALUE"};function Vu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Y6(n)?4:GI(n)?9007199254740991:10:Kt()}function al(n,e){if(n===e)return!0;const t=Vu(n);if(t!==Vu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return J2(n).isEqual(J2(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Nu(r.timestampValue),l=Nu(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Bl(n.bytesValue).isEqual(Bl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Wi(r.geoPointValue.latitude)===Wi(i.geoPointValue.latitude)&&Wi(r.geoPointValue.longitude)===Wi(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Wi(r.integerValue)===Wi(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Wi(r.doubleValue),l=Wi(i.doubleValue);return a===l?X2(a)===X2(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return Rh(n.arrayValue.values||[],e.arrayValue.values||[],al);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(VI(a)!==VI(l))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===l[h]||!al(a[h],l[h])))return!1;return!0}(n,e);default:return Kt()}var i}function e0(n,e){return void 0!==(n.values||[]).find(t=>al(t,e))}function Hu(n,e){if(n===e)return 0;const t=Vu(n),r=Vu(e);if(t!==r)return Vn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Vn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Wi(i.integerValue||i.doubleValue),h=Wi(a.integerValue||a.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(n,e);case 3:return YI(n.timestampValue,e.timestampValue);case 4:return YI(J2(n),J2(e));case 5:return Vn(n.stringValue,e.stringValue);case 6:return function(i,a){const l=Bl(i),h=Bl(a);return l.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),h=a.split("/");for(let v=0;v<l.length&&v<h.length;v++){const E=Vn(l[v],h[v]);if(0!==E)return E}return Vn(l.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Vn(Wi(i.latitude),Wi(a.latitude));return 0!==l?l:Vn(Wi(i.longitude),Wi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],h=a.values||[];for(let v=0;v<l.length&&v<h.length;++v){const E=Hu(l[v],h[v]);if(E)return E}return Vn(l.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Lu.mapValue&&a===Lu.mapValue)return 0;if(i===Lu.mapValue)return 1;if(a===Lu.mapValue)return-1;const l=i.fields||{},h=Object.keys(l),v=a.fields||{},E=Object.keys(v);h.sort(),E.sort();for(let P=0;P<h.length&&P<E.length;++P){const U=Vn(h[P],E[P]);if(0!==U)return U;const ne=Hu(l[h[P]],v[E[P]]);if(0!==ne)return ne}return Vn(h.length,E.length)}(n.mapValue,e.mapValue);default:throw Kt()}}function YI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Vn(n,e);const t=Nu(n),r=Nu(e),i=Vn(t.seconds,r.seconds);return 0!==i?i:Vn(t.nanos,r.nanos)}function Fh(n){return h9(n)}function h9(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Nu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Bl(n.bytesValue).toBase64():"referenceValue"in n?Rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=h9(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const h of i)l?l=!1:a+=",",a+=`${h}:${h9(r.fields[h])}`;return a+"}"}(n.mapValue):Kt();var e}function nd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function f9(n){return!!n&&"integerValue"in n}function t0(n){return!!n&&"arrayValue"in n}function jI(n){return!!n&&"nullValue"in n}function $I(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function W6(n){return!!n&&"mapValue"in n}function n0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ru(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=n0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=n0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function dH(n){return"nullValue"in n?$6:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?nd(Fu.empty(),Rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Kt()}function hH(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?nd(Fu.empty(),Rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Lu:Kt()}function WI(n,e){const t=Hu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function qI(n,e){const t=Hu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class os{constructor(e){this.value=e}static empty(){return new os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!W6(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=n0(t)}setAll(e){let t=Gi.emptyPath(),r={},i=[];e.forEach((l,h)=>{if(!t.isImmediateParentOf(h)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=h.popLast()}l?r[h.lastSegment()]=n0(l):i.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());W6(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return al(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];W6(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ru(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new os(n0(this.value))}}function KI(n){const e=[];return Ru(n.fields,(t,r)=>{const i=new Gi([t]);if(W6(r)){const a=KI(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new ha(e)}class Ci{constructor(e,t,r,i,a,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Ci(e,0,sn.min(),sn.min(),sn.min(),os.empty(),0)}static newFoundDocument(e,t,r,i){return new Ci(e,1,t,sn.min(),r,i,0)}static newNoDocument(e,t){return new Ci(e,2,t,sn.min(),sn.min(),os.empty(),0)}static newUnknownDocument(e,t){return new Ci(e,3,t,sn.min(),sn.min(),os.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(sn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=sn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bu{constructor(e,t){this.position=e,this.inclusive=t}}function ZI(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?Rt.comparator(Rt.fromName(l.referenceValue),t.key):Hu(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function QI(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!al(n.position[t],e.position[t]))return!1;return!0}class Lh{constructor(e,t="asc"){this.field=e,this.dir=t}}function fH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class XI{}class mr extends XI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new pH(e,t,r):"array-contains"===t?new vH(e,r):"in"===t?new ix(e,r):"not-in"===t?new yH(e,r):"array-contains-any"===t?new _H(e,r):new mr(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new mH(e,r):new gH(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Hu(t,this.value)):null!==t&&Vu(this.value)===Vu(t)&&this.matchesComparison(Hu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qr extends XI{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new qr(e,t)}matches(e){return Vh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Vh(n){return"and"===n.op}function p9(n){return"or"===n.op}function m9(n){return JI(n)&&Vh(n)}function JI(n){for(const e of n.filters)if(e instanceof qr)return!1;return!0}function g9(n){if(n instanceof mr)return n.field.canonicalString()+n.op.toString()+Fh(n.value);if(m9(n))return n.filters.map(e=>g9(e)).join(",");{const e=n.filters.map(t=>g9(t)).join(",");return`${n.op}(${e})`}}function ex(n,e){return n instanceof mr?(t=n,(r=e)instanceof mr&&t.op===r.op&&t.field.isEqual(r.field)&&al(t.value,r.value)):n instanceof qr?function(t,r){return r instanceof qr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&ex(a,r.filters[l]),!0)}(n,e):void Kt();var t,r}function tx(n,e){const t=n.filters.concat(e);return qr.create(t,n.op)}function nx(n){return n instanceof mr?`${(e=n).field.canonicalString()} ${e.op} ${Fh(e.value)}`:n instanceof qr?function(e){return e.op.toString()+" {"+e.getFilters().map(nx).join(" ,")+"}"}(n):"Filter";var e}class pH extends mr{constructor(e,t,r){super(e,t,r),this.key=Rt.fromName(r.referenceValue)}matches(e){const t=Rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class mH extends mr{constructor(e,t){super(e,"in",t),this.keys=rx(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gH extends mr{constructor(e,t){super(e,"not-in",t),this.keys=rx(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rx(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Rt.fromName(r.referenceValue))}class vH extends mr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return t0(t)&&e0(t.arrayValue,this.value)}}class ix extends mr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&e0(this.value.arrayValue,t)}}class yH extends mr{constructor(e,t){super(e,"not-in",t)}matches(e){if(e0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!e0(this.value.arrayValue,t)}}class _H extends mr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!t0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>e0(this.value.arrayValue,r))}}class wH{constructor(e,t=null,r=[],i=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=h,this.dt=null}}function v9(n,e=null,t=[],r=[],i=null,a=null,l=null){return new wH(n,e,t,r,i,a,l)}function rd(n){const e=Lt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>g9(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Q2(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Fh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Fh(r)).join(",")),e.dt=t}return e.dt}function r0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!fH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ex(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!QI(n.startAt,e.startAt)&&QI(n.endAt,e.endAt)}function q6(n){return Rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function K6(n,e){return n.filters.filter(t=>t instanceof mr&&t.field.isEqual(e))}function ox(n,e,t){let r=$6,i=!0;for(const a of K6(n,e)){let l=$6,h=!0;switch(a.op){case"<":case"<=":l=dH(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,h=!1;break;case"!=":case"not-in":l=$6}WI({value:r,inclusive:i},{value:l,inclusive:h})<0&&(r=l,i=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];WI({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function sx(n,e,t){let r=Lu,i=!0;for(const a of K6(n,e)){let l=Lu,h=!0;switch(a.op){case">=":case">":l=hH(a.value),h=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,h=!1;break;case"!=":case"not-in":l=Lu}qI({value:r,inclusive:i},{value:l,inclusive:h})>0&&(r=l,i=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];qI({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class Ul{constructor(e,t=null,r=[],i=[],a=null,l="F",h=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=v,this.wt=null,this._t=null}}function ax(n,e,t,r,i,a,l,h){return new Ul(n,e,t,r,i,a,l,h)}function Hh(n){return new Ul(n)}function cx(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function y9(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Z6(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function _9(n){return null!==n.collectionGroup}function id(n){const e=Lt(n);if(null===e.wt){e.wt=[];const t=Z6(e),r=y9(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Lh(t)),e.wt.push(new Lh(Gi.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Lh(Gi.keyField(),a))}}}return e.wt}function Ws(n){const e=Lt(n);if(!e._t)if("F"===e.limitType)e._t=v9(e.path,e.collectionGroup,id(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of id(e))t.push(new Lh(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Bu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Bu(e.startAt.position,e.startAt.inclusive):null;e._t=v9(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function w9(n,e){e.getFirstInequalityField(),Z6(n);const t=n.filters.concat([e]);return new Ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Q6(n,e,t){return new Ul(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function o0(n,e){return r0(Ws(n),Ws(e))&&n.limitType===e.limitType}function lx(n){return`${rd(Ws(n))}|lt:${n.limitType}`}function C9(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>nx(r)).join(", ")}]`),Q2(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Fh(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Fh(r)).join(",")),`Target(${t})`}(Ws(n))}; limitType=${n.limitType})`}function s0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Rt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of id(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const h=ZI(i,a,l);return i.inclusive?h<=0:h<0}(t.startAt,id(t),r)||t.endAt&&!function(i,a,l){const h=ZI(i,a,l);return i.inclusive?h>=0:h>0}(t.endAt,id(t),r)));var t,r}function ux(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dx(n){return(e,t)=>{let r=!1;for(const i of id(n)){const a=CH(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function CH(n,e,t){const r=n.field.isKeyField()?Rt.comparator(e.key,t.key):function(i,a,l){const h=a.data.field(i),v=l.data.field(i);return null!==h&&null!==v?Hu(h,v):Kt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Kt()}}class Yl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ru(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return HI(this.inner)}size(){return this.innerSize}}const bH=new fi(Rt.comparator);function fa(){return bH}const hx=new fi(Rt.comparator);function a0(...n){let e=hx;for(const t of n)e=e.insert(t.key,t);return e}function fx(n){let e=hx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function cl(){return c0()}function px(){return c0()}function c0(){return new Yl(n=>n.toString(),(n,e)=>n.isEqual(e))}const SH=new fi(Rt.comparator),EH=new wi(Rt.comparator);function Zn(...n){let e=EH;for(const t of n)e=e.add(t);return e}const TH=new wi(Vn);function b9(){return TH}function mx(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:X2(e)?"-0":e}}function gx(n){return{integerValue:""+n}}function vx(n,e){return PI(e)?gx(e):mx(n,e)}class X6{constructor(){this._=void 0}}function DH(n,e,t){return n instanceof Bh?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Y6(i)&&(i=j6(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof od?_x(n,e):n instanceof sd?wx(n,e):function(r,i){const a=yx(r,i),l=Cx(a)+Cx(r.gt);return f9(a)&&f9(r.gt)?gx(l):mx(r.serializer,l)}(n,e)}function MH(n,e,t){return n instanceof od?_x(n,e):n instanceof sd?wx(n,e):t}function yx(n,e){return n instanceof Uh?f9(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Bh extends X6{}class od extends X6{constructor(e){super(),this.elements=e}}function _x(n,e){const t=bx(e);for(const r of n.elements)t.some(i=>al(i,r))||t.push(r);return{arrayValue:{values:t}}}class sd extends X6{constructor(e){super(),this.elements=e}}function wx(n,e){let t=bx(e);for(const r of n.elements)t=t.filter(i=>!al(i,r));return{arrayValue:{values:t}}}class Uh extends X6{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Cx(n){return Wi(n.integerValue||n.doubleValue)}function bx(n){return t0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class l0{constructor(e,t){this.field=e,this.transform=t}}class xH{constructor(e,t){this.version=e,this.transformResults=t}}class Pi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function J6(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ef{}function Sx(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new jh(n.key,Pi.none()):new Yh(n.key,n.data,Pi.none());{const t=n.data,r=os.empty();let i=new wi(Gi.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new jl(n.key,r,new ha(i.toArray()),Pi.none())}}function zH(n,e,t){n instanceof Yh?function(r,i,a){const l=r.value.clone(),h=Dx(r.fieldTransforms,i,a.transformResults);l.setAll(h),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof jl?function(r,i,a){if(!J6(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Dx(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(Tx(r)),h.setAll(l),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function u0(n,e,t,r){return n instanceof Yh?function(i,a,l,h){if(!J6(i.precondition,a))return l;const v=i.value.clone(),E=Mx(i.fieldTransforms,h,a);return v.setAll(E),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof jl?function(i,a,l,h){if(!J6(i.precondition,a))return l;const v=Mx(i.fieldTransforms,h,a),E=a.data;return E.setAll(Tx(i)),E.setAll(v),a.convertToFoundDocument(a.version,E).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(P=>P.field))}(n,e,t,r):(l=t,J6(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function AH(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=yx(r.transform,i||null);null!=a&&(null===t&&(t=os.empty()),t.set(r.field,a))}return t||null}function Ex(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Rh(t,r,(i,a)=>function IH(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof od&&r instanceof od||t instanceof sd&&r instanceof sd?Rh(t.elements,r.elements,al):t instanceof Uh&&r instanceof Uh?al(t.gt,r.gt):t instanceof Bh&&r instanceof Bh);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Yh extends ef{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class jl extends ef{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Tx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Dx(n,e,t){const r=new Map;rn(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,h=e.data.field(a.field);r.set(a.field,MH(l,h,t[i]))}return r}function Mx(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,DH(a,l,e))}return r}class jh extends ef{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S9 extends ef{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class E9{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&zH(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=u0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=u0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=px();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=t.has(i.key)?null:h;const v=Sx(l,h);null!==v&&r.set(i.key,v),l.isValidDocument()||l.convertToNoDocument(sn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zn())}isEqual(e){return this.batchId===e.batchId&&Rh(this.mutations,e.mutations,(t,r)=>Ex(t,r))&&Rh(this.baseMutations,e.baseMutations,(t,r)=>Ex(t,r))}}class T9{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){rn(e.mutations.length===r.length);let i=SH;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new T9(e,t,r,i)}}class D9{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kH{constructor(e,t){this.count=e,this.unchangedNames=t}}var fo,Ir;function Ix(n){switch(n){default:return Kt();case qe.CANCELLED:case qe.UNKNOWN:case qe.DEADLINE_EXCEEDED:case qe.RESOURCE_EXHAUSTED:case qe.INTERNAL:case qe.UNAVAILABLE:case qe.UNAUTHENTICATED:return!1;case qe.INVALID_ARGUMENT:case qe.NOT_FOUND:case qe.ALREADY_EXISTS:case qe.PERMISSION_DENIED:case qe.FAILED_PRECONDITION:case qe.ABORTED:case qe.OUT_OF_RANGE:case qe.UNIMPLEMENTED:case qe.DATA_LOSS:return!0}}function xx(n){if(void 0===n)return to("GRPC error has no .code"),qe.UNKNOWN;switch(n){case fo.OK:return qe.OK;case fo.CANCELLED:return qe.CANCELLED;case fo.UNKNOWN:return qe.UNKNOWN;case fo.DEADLINE_EXCEEDED:return qe.DEADLINE_EXCEEDED;case fo.RESOURCE_EXHAUSTED:return qe.RESOURCE_EXHAUSTED;case fo.INTERNAL:return qe.INTERNAL;case fo.UNAVAILABLE:return qe.UNAVAILABLE;case fo.UNAUTHENTICATED:return qe.UNAUTHENTICATED;case fo.INVALID_ARGUMENT:return qe.INVALID_ARGUMENT;case fo.NOT_FOUND:return qe.NOT_FOUND;case fo.ALREADY_EXISTS:return qe.ALREADY_EXISTS;case fo.PERMISSION_DENIED:return qe.PERMISSION_DENIED;case fo.FAILED_PRECONDITION:return qe.FAILED_PRECONDITION;case fo.ABORTED:return qe.ABORTED;case fo.OUT_OF_RANGE:return qe.OUT_OF_RANGE;case fo.UNIMPLEMENTED:return qe.UNIMPLEMENTED;case fo.DATA_LOSS:return qe.DATA_LOSS;default:return Kt()}}(Ir=fo||(fo={}))[Ir.OK=0]="OK",Ir[Ir.CANCELLED=1]="CANCELLED",Ir[Ir.UNKNOWN=2]="UNKNOWN",Ir[Ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ir[Ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ir[Ir.NOT_FOUND=5]="NOT_FOUND",Ir[Ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ir[Ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ir[Ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ir[Ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ir[Ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ir[Ir.ABORTED=10]="ABORTED",Ir[Ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ir[Ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ir[Ir.INTERNAL=13]="INTERNAL",Ir[Ir.UNAVAILABLE=14]="UNAVAILABLE",Ir[Ir.DATA_LOSS=15]="DATA_LOSS";class M9{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return tf}static getOrCreateInstance(){return null===tf&&(tf=new M9),tf}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let tf=null;function zx(){return new TextEncoder}const OH=new kh([4294967295,4294967295],0);function Ax(n){const e=zx().encode(n),t=new MV;return t.update(e),new Uint8Array(t.digest())}function Px(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new kh([t,r],0),new kh([i,a],0)]}class I9{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new d0(`Invalid padding: ${t}`);if(r<0)throw new d0(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new d0(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new d0(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=kh.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(kh.fromNumber(r)));return 1===i.compare(OH)&&(i=new kh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Ax(e),[r,i]=Px(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new I9(a,i,t);return r.forEach(h=>l.insert(h)),l}insert(e){if(0===this.It)return;const t=Ax(e),[r,i]=Px(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class d0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class h0{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,f0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new h0(sn.min(),i,new fi(Vn),fa(),Zn())}}class f0{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new f0(r,t,Zn(),Zn(),Zn())}}class nf{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class kx{constructor(e,t){this.targetId=e,this.Vt=t}}class Ox{constructor(e,t,r=So.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Rx{constructor(){this.St=0,this.Dt=Fx(),this.Ct=So.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Zn(),t=Zn(),r=Zn();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Kt()}}),new f0(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=Fx()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class RH{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=fa(),this.zt=Nx(),this.Wt=new fi(Vn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Kt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const l=a.target;if(q6(l))if(0===i){const h=new Rt(l.path);this.Yt(r,h,Ci.newNoDocument(h,sn.min()))}else rn(1===i);else{const h=this.ie(r);if(h!==i){const v=this.re(e,h);0!==v&&(this.ee(r),this.Wt=this.Wt.insert(r,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=M9.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(E,P,U){var ne,ce,ve,ke,$e,mt;const Vt={localCacheCount:P,existenceFilterCount:U.count},xt=U.unchangedNames;return xt&&(Vt.bloomFilter={applied:0===E,hashCount:null!==(ne=xt?.hashCount)&&void 0!==ne?ne:0,bitmapLength:null!==(ke=null===(ve=null===(ce=xt?.bits)||void 0===ce?void 0:ce.bitmap)||void 0===ve?void 0:ve.length)&&void 0!==ke?ke:0,padding:null!==(mt=null===($e=xt?.bits)||void 0===$e?void 0:$e.padding)&&void 0!==mt?mt:0}),Vt}(v,h,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=r;let v,E;try{v=Bl(a).toUint8Array()}catch(P){if(P instanceof UI)return nc("Decoding the base64 bloom filter in existence filter failed ("+P.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw P}try{E=new I9(v,l,h)}catch(P){return nc(P instanceof d0?"BloomFilter error: ":"Applying bloom filter failed: ",P),1}return 0===E.It?1:i!==t-this.oe(e.targetId,E)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const l=this.Gt.ue(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(h)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const h=this.se(l);if(h){if(a.current&&q6(h.target)){const v=new Rt(h.target.path);null!==this.jt.get(v)||this.ae(l,v)||this.Yt(l,v,Ci.newNoDocument(v,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let r=Zn();this.zt.forEach((a,l)=>{let h=!0;l.forEachWhile(v=>{const E=this.se(v);return!E||"TargetPurposeLimboResolution"===E.purpose||(h=!1,!1)}),h&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new h0(e,t,this.Wt,this.jt,r);return this.jt=fa(),this.zt=Nx(),this.Wt=new fi(Vn),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Rx,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new wi(Vn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||yt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Rx),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Nx(){return new fi(Rt.comparator)}function Fx(){return new fi(Rt.comparator)}const NH={asc:"ASCENDING",desc:"DESCENDING"},FH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LH={and:"AND",or:"OR"};class VH{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function x9(n,e){return n.useProto3Json||Q2(e)?e:{value:e}}function $h(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function HH(n,e){return $h(n,e.toTimestamp())}function no(n){return rn(!!n),sn.fromTimestamp(function(e){const t=Nu(e);return new Ai(t.seconds,t.nanos)}(n))}function z9(n,e){return(t=n,new Mr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Vx(n){const e=Mr.fromString(n);return rn(qx(e)),e}function p0(n,e){return z9(n.databaseId,e.path)}function ll(n,e){const t=Vx(e);if(t.get(1)!==n.databaseId.projectId)throw new dt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new dt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Rt(Bx(t))}function A9(n,e){return z9(n.databaseId,e)}function Hx(n){const e=Vx(n);return 4===e.length?Mr.emptyPath():Bx(e)}function m0(n){return new Mr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Bx(n){return rn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Ux(n,e,t){return{name:p0(n,e),fields:t.value.mapValue.fields}}function Yx(n,e,t){const r=ll(n,e.name),i=no(e.updateTime),a=e.createTime?no(e.createTime):sn.min(),l=new os({mapValue:{fields:e.fields}}),h=Ci.newFoundDocument(r,i,a,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function g0(n,e){let t;if(e instanceof Yh)t={update:Ux(n,e.key,e.value)};else if(e instanceof jh)t={delete:p0(n,e.key)};else if(e instanceof jl)t={update:Ux(n,e.key,e.data),updateMask:qH(e.fieldMask)};else{if(!(e instanceof S9))return Kt();t={verify:p0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Bh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof od)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof sd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Uh)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw Kt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:HH(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Kt()),t;var i}function P9(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Pi.updateTime(no(i.updateTime)):void 0!==i.exists?Pi.exists(i.exists):Pi.none():Pi.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let h=null;"setToServerValue"in l?(rn("REQUEST_TIME"===l.setToServerValue),h=new Bh):"appendMissingElements"in l?h=new od(l.appendMissingElements.values||[]):"removeAllFromArray"in l?h=new sd(l.removeAllFromArray.values||[]):"increment"in l?h=new Uh(a,l.increment):Kt();const v=Gi.fromServerFormat(l.fieldPath);return new l0(v,h)}(n,i)):[];var i;if(e.update){const i=ll(n,e.update.name),a=new os({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new ha((e.updateMask.fieldPaths||[]).map(E=>Gi.fromServerFormat(E)));return new jl(i,a,l,t,r)}return new Yh(i,a,t,r)}if(e.delete){const i=ll(n,e.delete);return new jh(i,t)}if(e.verify){const i=ll(n,e.verify);return new S9(i,t)}return Kt()}function jx(n,e){return{documents:[A9(n,e.path)]}}function k9(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=A9(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=A9(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0!==v.length)return Wx(qr.create(v,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(v){if(0!==v.length)return v.map(E=>{return{field:Uu((P=E).field),direction:$H(P.dir)};var P})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=x9(n,e.limit);var h,v;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function $x(n){let e=Hx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){rn(1===r);const P=t.from[0];P.allDescendants?i=P.collectionId:e=e.child(P.collectionId)}let a=[];t.where&&(a=function(P){const U=Gx(P);return U instanceof qr&&m9(U)?U.getFilters():[U]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(P=>{return new Lh(Gh((U=P).field),function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction));var U}));let h=null;t.limit&&(h=function(P){let U;return U="object"==typeof P?P.value:P,Q2(U)?null:U}(t.limit));let v=null;var P;t.startAt&&(v=new Bu((P=t.startAt).values||[],!!P.before));let E=null;return t.endAt&&(E=function(P){return new Bu(P.values||[],!P.before)}(t.endAt)),ax(e,i,l,a,h,"F",v,E)}function Gx(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gh(e.unaryFilter.field);return mr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Gh(e.unaryFilter.field);return mr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Gh(e.unaryFilter.field);return mr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Gh(e.unaryFilter.field);return mr.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Kt()}}(n):void 0!==n.fieldFilter?mr.create(Gh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return qr.create(e.compositeFilter.filters.map(t=>Gx(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Kt()}}(e.compositeFilter.op))}(n):Kt();var e}function $H(n){return NH[n]}function GH(n){return FH[n]}function WH(n){return LH[n]}function Uu(n){return{fieldPath:n.canonicalString()}}function Gh(n){return Gi.fromServerFormat(n.fieldPath)}function Wx(n){return n instanceof mr?function(e){if("=="===e.op){if($I(e.value))return{unaryFilter:{field:Uu(e.field),op:"IS_NAN"}};if(jI(e.value))return{unaryFilter:{field:Uu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($I(e.value))return{unaryFilter:{field:Uu(e.field),op:"IS_NOT_NAN"}};if(jI(e.value))return{unaryFilter:{field:Uu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uu(e.field),op:GH(e.op),value:e.value}}}(n):n instanceof qr?function(e){const t=e.getFilters().map(r=>Wx(r));return 1===t.length?t[0]:{compositeFilter:{op:WH(e.op),filters:t}}}(n):Kt()}function qH(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qx(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class $l{constructor(e,t,r,i,a=sn.min(),l=sn.min(),h=So.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=v}withSequenceNumber(e){return new $l(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Kx{constructor(e){this.fe=e}}function Zx(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:rf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:p0(i=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:$h(i,a.version.toTimestamp()),createTime:$h(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ad(e.version)};else{if(!e.isUnknownDocument())return Kt();r.unknownDocument={path:t.path.toArray(),version:ad(e.version)}}var i,a;return r}function rf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ad(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function cd(n){const e=new Ai(n.seconds,n.nanoseconds);return sn.fromTimestamp(e)}function ld(n,e){const t=(e.baseMutations||[]).map(a=>P9(n.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>P9(n.fe,a)),i=Ai.fromMillis(e.localWriteTimeMs);return new E9(e.batchId,i,t,r)}function v0(n){const e=cd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?cd(n.lastLimboFreeSnapshotVersion):sn.min();let r;var i;return void 0!==n.query.documents?(rn(1===(i=n.query).documents.length),r=Ws(Hh(Hx(i.documents[0])))):r=Ws($x(n.query)),new $l(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,So.fromBase64String(n.resumeToken))}function Qx(n,e){const t=ad(e.snapshotVersion),r=ad(e.lastLimboFreeSnapshotVersion);let i;i=q6(e.target)?jx(n.fe,e.target):k9(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:rd(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function O9(n){const e=$x({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Q6(e,e.limit,"L"):e}function R9(n,e){return new D9(e.largestBatchId,P9(n.fe,e.overlayMutation))}function Xx(n,e){const t=e.path.lastSegment();return[n,Ms(e.path.popLast()),t]}function Jx(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:ad(r.readTime),documentKey:Ms(r.documentKey.path),largestBatchId:r.largestBatchId}}class ZH{getBundleMetadata(e,t){return ez(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:cd(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return ez(e).put({bundleId:(r=t).id,createTime:ad(no(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return tz(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:O9(i.bundledQuery),readTime:cd(i.readTime)};var i})}saveNamedQuery(e,t){return tz(e).put({name:(r=t).name,readTime:ad(no(r.readTime)),bundledQuery:r.bundledQuery});var r}}function ez(n){return Oo(n,"bundles")}function tz(n){return Oo(n,"namedQueries")}class sf{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new sf(e,t.uid||"")}getOverlay(e,t){return y0(e).get(Xx(this.userId,t)).next(r=>r?R9(this.serializer,r):null)}getOverlays(e,t){const r=cl();return Ue.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,l)=>{const h=new D9(t,l);i.push(this.we(e,h))}),Ue.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Ms(l.getCollectionPath())));const a=[];return i.forEach(l=>{const h=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(y0(e).J("collectionPathOverlayIndex",h))}),Ue.waitFor(a)}getOverlaysForCollection(e,t,r){const i=cl(),a=Ms(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return y0(e).j("collectionPathOverlayIndex",l).next(h=>{for(const v of h){const E=R9(this.serializer,v);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=cl();let l;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return y0(e).X({index:"collectionGroupOverlayIndex",range:h},(v,E,P)=>{const U=R9(this.serializer,E);a.size()<i||U.largestBatchId===l?(a.set(U.getKey(),U),l=U.largestBatchId):P.done()}).next(()=>a)}we(e,t){return y0(e).put(function(r,i,a){const[l,h,v]=Xx(i,a.mutation.key);return{userId:i,collectionPath:h,documentId:v,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:g0(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function y0(n){return Oo(n,"documentOverlays")}class ud{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Wi(e.integerValue));else if("doubleValue"in e){const r=Wi(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),X2(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Bl(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?GI(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Kt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Rt.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function QH(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function nz(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=QH(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}ud.Ve=new ud;class XH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=nz(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=nz(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class JH{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class eB{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class _0{constructor(){this.je=new XH,this.ze=new JH(this.je),this.We=new eB(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class dd{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new dd(this.indexId,this.documentKey,this.arrayValue,r)}}function Yu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=rz(n.arrayValue,e.arrayValue),0!==t?t:(t=rz(n.directionalValue,e.directionalValue),0!==t?t:Rt.comparator(n.documentKey,e.documentKey)))}function rz(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class tB{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){rn(e.collectionGroup===this.collectionId);const t=a9(e);if(void 0!==t&&!this.en(t))return!1;const r=ed(e);let i=new Set,a=0,l=0;for(;a<r.length&&this.en(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const h=r[a];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[l++],h))return!1}++a}for(;a<r.length;++a)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[a]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function iz(n){var e,t;if(rn(n instanceof mr||n instanceof qr),n instanceof mr){if(n instanceof ix){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>mr.create(n.field,"==",a)))||[];return qr.create(i,"or")}return n}const r=n.filters.map(i=>iz(i));return qr.create(r,n.op)}function nB(n){if(0===n.getFilters().length)return[];const e=L9(iz(n));return rn(oz(e)),N9(e)||F9(e)?[e]:e.getFilters()}function N9(n){return n instanceof mr}function F9(n){return n instanceof qr&&m9(n)}function oz(n){return N9(n)||F9(n)||function(e){if(e instanceof qr&&p9(e)){for(const t of e.getFilters())if(!N9(t)&&!F9(t))return!1;return!0}return!1}(n)}function L9(n){if(rn(n instanceof mr||n instanceof qr),n instanceof mr)return n;if(1===n.filters.length)return L9(n.filters[0]);const e=n.filters.map(r=>L9(r));let t=qr.create(e,n.op);return t=af(t),oz(t)?t:(rn(t instanceof qr),rn(Vh(t)),rn(t.filters.length>1),t.filters.reduce((r,i)=>V9(r,i)))}function V9(n,e){let t;return rn(n instanceof mr||n instanceof qr),rn(e instanceof mr||e instanceof qr),t=n instanceof mr?e instanceof mr?qr.create([n,e],"and"):sz(n,e):e instanceof mr?sz(e,n):function(r,i){if(rn(r.filters.length>0&&i.filters.length>0),Vh(r)&&Vh(i))return tx(r,i.getFilters());const a=p9(r)?r:i,l=p9(r)?i:r,h=a.filters.map(v=>V9(v,l));return qr.create(h,"or")}(n,e),af(t)}function sz(n,e){if(Vh(e))return tx(e,n.getFilters());{const t=e.filters.map(r=>V9(n,r));return qr.create(t,"or")}}function af(n){if(rn(n instanceof mr||n instanceof qr),n instanceof mr)return n;const e=n.getFilters();if(1===e.length)return af(e[0]);if(JI(n))return n;const t=e.map(i=>af(i)),r=[];return t.forEach(i=>{i instanceof mr?r.push(i):i instanceof qr&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:qr.create(r,n.op)}class rB{constructor(){this.rn=new H9}addToCollectionParentIndex(e,t){return this.rn.add(t),Ue.resolve()}getCollectionParents(e,t){return Ue.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ue.resolve()}deleteFieldIndex(e,t){return Ue.resolve()}getDocumentsMatchingTarget(e,t){return Ue.resolve(null)}getIndexType(e,t){return Ue.resolve(0)}getFieldIndexes(e,t){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,t){return Ue.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,t){return Ue.resolve(Ia.min())}updateCollectionGroup(e,t,r){return Ue.resolve()}updateIndexEntries(e,t){return Ue.resolve()}}class H9{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new wi(Mr.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wi(Mr.comparator)).toArray()}}const cf=new Uint8Array(0);class iB{constructor(e,t){this.user=e,this.databaseId=t,this.on=new H9,this.un=new Yl(r=>rd(r),(r,i)=>r0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:Ms(i)};return az(e).put(a)}return Ue.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[DI(t),""],!1,!0);return az(e).j(i).next(a=>{for(const l of a){if(l.collectionId!==t)break;r.push(sl(l.parent))}return r})}addFieldIndex(e,t){const r=lf(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;delete i.indexId;const a=r.add(i);if(t.indexState){const l=C0(e);return a.next(h=>{l.put(Jx(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=lf(e),i=C0(e),a=w0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=w0(e);let i=!0;const a=new Map;return Ue.forEach(this.cn(t),l=>this.an(e,l).next(h=>{i&&(i=!!h),a.set(l,h)})).next(()=>{if(i){let l=Zn();const h=[];return Ue.forEach(a,(v,E)=>{var P;yt("IndexedDbIndexManager",`Using index ${P=v,`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map(xt=>`${xt.fieldPath}:${xt.kind}`).join(",")}`} to execute ${rd(t)}`);const U=function(xt,Pt){const Cn=a9(Pt);if(void 0===Cn)return null;for(const mn of K6(xt,Cn.fieldPath))switch(mn.op){case"array-contains-any":return mn.value.arrayValue.values||[];case"array-contains":return[mn.value]}return null}(E,v),ne=function(xt,Pt){const Cn=new Map;for(const mn of ed(Pt))for(const or of K6(xt,mn.fieldPath))switch(or.op){case"==":case"in":Cn.set(mn.fieldPath.canonicalString(),or.value);break;case"not-in":case"!=":return Cn.set(mn.fieldPath.canonicalString(),or.value),Array.from(Cn.values())}return null}(E,v),ce=function(xt,Pt){const Cn=[];let mn=!0;for(const or of ed(Pt)){const Ei=0===or.kind?ox(xt,or.fieldPath,xt.startAt):sx(xt,or.fieldPath,xt.startAt);Cn.push(Ei.value),mn&&(mn=Ei.inclusive)}return new Bu(Cn,mn)}(E,v),ve=function(xt,Pt){const Cn=[];let mn=!0;for(const or of ed(Pt)){const Ei=0===or.kind?sx(xt,or.fieldPath,xt.endAt):ox(xt,or.fieldPath,xt.endAt);Cn.push(Ei.value),mn&&(mn=Ei.inclusive)}return new Bu(Cn,mn)}(E,v),ke=this.hn(v,E,ce),$e=this.hn(v,E,ve),mt=this.ln(v,E,ne),Vt=this.fn(v.indexId,U,ke,ce.inclusive,$e,ve.inclusive,mt);return Ue.forEach(Vt,xt=>r.H(xt,t.limit).next(Pt=>{Pt.forEach(Cn=>{const mn=Rt.fromSegments(Cn.documentKey);l.has(mn)||(l=l.add(mn),h.push(mn))})}))}).next(()=>h)}return Ue.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:nB(qr.create(e.filters,"and")).map(r=>v9(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,a,l,h){const v=(null!=t?t.length:1)*Math.max(r.length,a.length),E=v/(null!=t?t.length:1),P=[];for(let U=0;U<v;++U){const ne=t?this.dn(t[U/E]):cf,ce=this.wn(e,ne,r[U%E],i),ve=this._n(e,ne,a[U%E],l),ke=h.map($e=>this.wn(e,ne,$e,!0));P.push(...this.createRange(ce,ve,ke))}return P}wn(e,t,r,i){const a=new dd(e,Rt.empty(),t,r);return i?a:a.Je()}_n(e,t,r,i){const a=new dd(e,Rt.empty(),t,r);return i?a.Je():a}an(e,t){const r=new tB(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const h of a)r.tn(h)&&(!l||h.fields.length>l.fields.length)&&(l=h);return l})}getIndexType(e,t){let r=2;const i=this.cn(t);return Ue.forEach(i,a=>this.an(e,a).next(l=>{l?0!==r&&l.fields.length<function(h){let v=new wi(Gi.comparator),E=!1;for(const P of h.filters)for(const U of P.getFlattenedFilters())U.field.isKeyField()||("array-contains"===U.op||"array-contains-any"===U.op?E=!0:v=v.add(U.field));for(const P of h.orderBy)P.field.isKeyField()||(v=v.add(P.field));return v.size+(E?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new _0;for(const i of ed(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const l=r.He(i.kind);ud.Ve._e(a,l)}return r.Qe()}dn(e){const t=new _0;return ud.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new _0;return ud.Ve._e(nd(this.databaseId,t),r.He(function(i){const a=ed(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new _0);let a=0;for(const l of ed(e)){const h=r[a++];for(const v of i)if(this.yn(t,l.fieldPath)&&t0(h))i=this.pn(i,l,h);else{const E=v.He(l.kind);ud.Ve._e(h,E)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const h of i){const v=new _0;v.seed(h.Qe()),ud.Ve._e(l,v.He(t.kind)),a.push(v)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof mr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=lf(e),i=C0(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const l=[];return Ue.forEach(a,h=>i.get([h.indexId,this.uid]).next(v=>{l.push(function(E,P){const U=P?new K2(P.sequenceNumber,new Ia(cd(P.readTime),new Rt(sl(P.documentKey)),P.largestBatchId)):K2.empty(),ne=E.fields.map(([ce,ve])=>new V6(Gi.fromServerFormat(ce),ve));return new L6(E.indexId,E.collectionGroup,ne,U)}(h,v))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Vn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=lf(e),a=C0(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>Ue.forEach(h,v=>a.put(Jx(v.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return Ue.forEach(t,(i,a)=>{const l=r.get(i.collectionGroup);return(l?Ue.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),Ue.forEach(h,v=>this.En(e,i,v).next(E=>{const P=this.An(a,v);return E.isEqual(P)?Ue.resolve():this.vn(e,a,v,E,P)}))))})}Rn(e,t,r,i){return w0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return w0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=w0(e);let a=new wi(Yu);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,h)=>{a=a.add(new dd(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>a)}An(e,t){let r=new wi(Yu);const i=this.mn(t,e);if(null==i)return r;const a=a9(t);if(null!=a){const l=e.data.field(a.fieldPath);if(t0(l))for(const h of l.arrayValue.values||[])r=r.add(new dd(t.indexId,e.key,this.dn(h),i))}else r=r.add(new dd(t.indexId,e.key,cf,i));return r}vn(e,t,r,i,a){yt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(h,v,E,P,U){const ne=h.getIterator(),ce=v.getIterator();let ve=Nh(ne),ke=Nh(ce);for(;ve||ke;){let $e=!1,mt=!1;if(ve&&ke){const Vt=E(ve,ke);Vt<0?mt=!0:Vt>0&&($e=!0)}else null!=ve?mt=!0:$e=!0;$e?(P(ke),ke=Nh(ce)):mt?(U(ve),ve=Nh(ne)):(ve=Nh(ne),ke=Nh(ce))}}(i,a,Yu,h=>{l.push(this.Rn(e,t,r,h))},h=>{l.push(this.Pn(e,t,r,h))}),Ue.waitFor(l)}Tn(e){let t=1;return C0(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,h)=>Yu(l,h)).filter((l,h,v)=>!h||0!==Yu(l,v[h-1]));const i=[];i.push(e);for(const l of r){const h=Yu(l,e),v=Yu(l,t);if(0===h)i[0]=e.Je();else if(h>0&&v<0)i.push(l),i.push(l.Je());else if(v>0)break}i.push(t);const a=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];a.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,cf,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,cf,[]]))}return a}bn(e,t){return Yu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(cz)}getMinOffset(e,t){return Ue.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||Kt())).next(cz)}}function az(n){return Oo(n,"collectionParents")}function w0(n){return Oo(n,"indexEntries")}function lf(n){return Oo(n,"indexConfiguration")}function C0(n){return Oo(n,"indexState")}function cz(n){rn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;c9(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ia(e.readTime,e.documentKey,t)}const lz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Is{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Is(e,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function uz(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let h=0;const v=r.X({range:l},(P,U,ne)=>(h++,ne.delete()));a.push(v.next(()=>{rn(1===h)}));const E=[];for(const P of t.mutations){const U=RI(e,P.key.path,t.batchId);a.push(i.delete(U)),E.push(P.key)}return Ue.waitFor(a).next(()=>E)}function uf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Kt();e=n.noDocument}return JSON.stringify(e).length}Is.DEFAULT_COLLECTION_PERCENTILE=10,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Is.DEFAULT=new Is(41943040,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Is.DISABLED=new Is(-1,0,0);class df{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){rn(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new df(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ju(e).X({index:"userMutationsIndex",range:r},(i,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Wh(e),l=ju(e);return l.add({}).next(h=>{rn("number"==typeof h);const v=new E9(h,t,r,i),E=function(ne,ce,ve){const ke=ve.baseMutations.map(mt=>g0(ne.fe,mt)),$e=ve.mutations.map(mt=>g0(ne.fe,mt));return{userId:ce,batchId:ve.batchId,localWriteTimeMs:ve.localWriteTime.toMillis(),baseMutations:ke,mutations:$e}}(this.serializer,this.userId,v),P=[];let U=new wi((ne,ce)=>Vn(ne.canonicalString(),ce.canonicalString()));for(const ne of i){const ce=RI(this.userId,ne.key.path,h);U=U.add(ne.key.path.popLast()),P.push(l.put(E)),P.push(a.put(ce,$V))}return U.forEach(ne=>{P.push(this.indexManager.addToCollectionParentIndex(e,ne))}),e.addOnCommittedListener(()=>{this.Vn[h]=v.keys()}),Ue.waitFor(P).next(()=>v)})}lookupMutationBatch(e,t){return ju(e).get(t).next(r=>r?(rn(r.userId===this.userId),ld(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?Ue.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return ju(e).X({index:"userMutationsIndex",range:i},(l,h,v)=>{h.userId===this.userId&&(rn(h.batchId>=r),a=ld(this.serializer,h)),v.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ju(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ju(e).j("userMutationsIndex",t).next(r=>r.map(i=>ld(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=B6(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Wh(e).X({range:i},(l,h,v)=>{const[E,P,U]=l,ne=sl(P);if(E===this.userId&&t.path.isEqual(ne))return ju(e).get(U).next(ce=>{if(!ce)throw Kt();rn(ce.userId===this.userId),a.push(ld(this.serializer,ce))});v.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wi(Vn);const i=[];return t.forEach(a=>{const l=B6(this.userId,a.path),h=IDBKeyRange.lowerBound(l),v=Wh(e).X({range:h},(E,P,U)=>{const[ne,ce,ve]=E,ke=sl(ce);ne===this.userId&&a.path.isEqual(ke)?r=r.add(ve):U.done()});i.push(v)}),Ue.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=B6(this.userId,r),l=IDBKeyRange.lowerBound(a);let h=new wi(Vn);return Wh(e).X({range:l},(v,E,P)=>{const[U,ne,ce]=v,ve=sl(ne);U===this.userId&&r.isPrefixOf(ve)?ve.length===i&&(h=h.add(ce)):P.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(ju(e).get(a).next(l=>{if(null===l)throw Kt();rn(l.userId===this.userId),r.push(ld(this.serializer,l))}))}),Ue.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return uz(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Ue.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Wh(e).X({range:r},(a,l,h)=>{if(a[0]===this.userId){const v=sl(a[1]);i.push(v)}else h.done()}).next(()=>{rn(0===i.length)})})}containsKey(e,t){return dz(e,this.userId,t)}xn(e){return hz(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function dz(n,e,t){const r=B6(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return Wh(n).X({range:a,Y:!0},(h,v,E)=>{const[P,U,ne]=h;P===e&&U===i&&(l=!0),E.done()}).next(()=>l)}function ju(n){return Oo(n,"mutations")}function Wh(n){return Oo(n,"documentMutations")}function hz(n){return Oo(n,"mutationQueues")}class hd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new hd(0)}static Mn(){return new hd(-1)}}class oB{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new hd(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>sn.fromTimestamp(new Ai(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>qh(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(rn(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return qh(e).X((l,h)=>{const v=v0(h);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,a.push(this.removeTargetData(e,v)))}).next(()=>Ue.waitFor(a)).next(()=>i)}forEachTarget(e,t){return qh(e).X((r,i)=>{const a=v0(i);t(a)})}$n(e){return fz(e).get("targetGlobalKey").next(t=>(rn(null!==t),t))}On(e,t){return fz(e).put("targetGlobalKey",t)}Fn(e,t){return qh(e).put(Qx(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=rd(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return qh(e).X({range:i,index:"queryTargetsIndex"},(l,h,v)=>{const E=v0(h);r0(t,E.target)&&(a=E,v.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=$u(e);return t.forEach(l=>{const h=Ms(l.path);i.push(a.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,l))}),Ue.waitFor(i)}removeMatchingKeys(e,t,r){const i=$u(e);return Ue.forEach(t,a=>{const l=Ms(a.path);return Ue.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=$u(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=$u(e);let a=Zn();return i.X({range:r,Y:!0},(l,h,v)=>{const E=sl(l[1]),P=new Rt(E);a=a.add(P)}).next(()=>a)}containsKey(e,t){const r=Ms(t.path),i=IDBKeyRange.bound([r],[DI(r)],!1,!0);let a=0;return $u(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,h],v,E)=>{0!==l&&(a++,E.done())}).next(()=>a>0)}le(e,t){return qh(e).get(t).next(r=>r?v0(r):null)}}function qh(n){return Oo(n,"targets")}function fz(n){return Oo(n,"targetGlobal")}function $u(n){return Oo(n,"targetDocuments")}function pz([n,e],[t,r]){const i=Vn(n,t);return 0===i?Vn(e,r):i}class sB{constructor(e){this.Ln=e,this.buffer=new wi(pz),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();pz(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mz{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;yt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Je.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ou(r)?yt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ku(r)}yield t.Qn(3e5)}))}}class aB{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ue.resolve(xa.ct);const r=new sB(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(lz)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lz):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,a,l,h,v,E;const P=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(U=>(U>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),i=this.params.maximumSequenceNumbersToCollect):i=U,l=Date.now(),this.nthSequenceNumber(e,i))).next(U=>(r=U,h=Date.now(),this.removeTargets(e,r,t))).next(U=>(a=U,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(U=>(E=Date.now(),o9()<=xu.in.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-P}ms\n\tDetermined least recently used ${i} in `+(h-l)+`ms\n\tRemoved ${a} targets in `+(v-h)+`ms\n\tRemoved ${U} documents in `+(E-v)+`ms\nTotal Duration: ${E-P}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:U})))}}class cB{constructor(e,t){this.db=e,this.garbageCollector=function gz(n,e){return new aB(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return hf(e,r)}removeReference(e,t,r){return hf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return hf(e,t)}Xn(e,t){return function(r,i){let a=!1;return hz(r).Z(l=>dz(r,l,i).next(h=>(h&&(a=!0),Ue.resolve(!h)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(l,h)=>{if(h<=t){const v=this.Xn(e,l).next(E=>{if(!E)return a++,r.getEntry(e,l).next(()=>(r.removeEntry(l,sn.min()),$u(e).delete([0,Ms(l.path)])))});i.push(v)}}).next(()=>Ue.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return hf(e,t)}Yn(e,t){const r=$u(e);let i,a=xa.ct;return r.X({index:"documentTargetsIndex"},([l,h],{path:v,sequenceNumber:E})=>{0===l?(a!==xa.ct&&t(new Rt(sl(i)),a),a=E,i=v):a=xa.ct}).next(()=>{a!==xa.ct&&t(new Rt(sl(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hf(n,e){return $u(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ms(e.path),sequenceNumber:r}));var r}class vz{constructor(){this.changes=new Yl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ci.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lB{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return fd(e).put(r)}removeEntry(e,t,r){return fd(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],rf(a),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Ci.newInvalidDocument(t);return fd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(b0(t))},(i,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:Ci.newInvalidDocument(t)};return fd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(b0(t))},(i,a)=>{r={document:this.ts(t,a),size:uf(a)}}).next(()=>r)}getEntries(e,t){let r=fa();return this.ns(e,t,(i,a)=>{const l=this.ts(i,a);r=r.insert(i,l)}).next(()=>r)}ss(e,t){let r=fa(),i=new fi(Rt.comparator);return this.ns(e,t,(a,l)=>{const h=this.ts(a,l);r=r.insert(a,h),i=i.insert(a,uf(l))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return Ue.resolve();let i=new wi(Cz);t.forEach(v=>i=i.add(v));const a=IDBKeyRange.bound(b0(i.first()),b0(i.last())),l=i.getIterator();let h=l.getNext();return fd(e).X({index:"documentKeyIndex",range:a},(v,E,P)=>{const U=Rt.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;h&&Cz(h,U)<0;)r(h,null),h=l.getNext();h&&h.isEqual(U)&&(r(h,E),h=l.hasNext()?l.getNext():null),h?P.G(b0(h)):P.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,l=[a.popLast().toArray(),a.lastSegment(),rf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fd(e).j(IDBKeyRange.bound(l,h,!0)).next(v=>{let E=fa();for(const P of v){const U=this.ts(Rt.fromSegments(P.prefixPath.concat(P.collectionGroup,P.documentId)),P);U.isFoundDocument()&&(s0(t,U)||i.has(U.key))&&(E=E.insert(U.key,U))}return E})}getAllFromCollectionGroup(e,t,r,i){let a=fa();const l=wz(t,r),h=wz(t,Ia.max());return fd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,h,!0)},(v,E,P)=>{const U=this.ts(Rt.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);a=a.insert(U.key,U),a.size===i&&P.done()}).next(()=>a)}newChangeBuffer(e){return new uB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return _z(e).get("remoteDocumentGlobalKey").next(t=>(rn(!!t),t))}Zn(e,t){return _z(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function KH(n,e){let t;if(e.document)t=Yx(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Rt.fromSegments(e.noDocument.path),i=cd(e.noDocument.readTime);t=Ci.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Kt();{const r=Rt.fromSegments(e.unknownDocument.path),i=cd(e.unknownDocument.version);t=Ci.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Ai(r[0],r[1]);return sn.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(sn.min()))return r}return Ci.newInvalidDocument(e)}}function yz(n){return new lB(n)}class uB extends vz{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Yl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new wi((a,l)=>Vn(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const h=this.us.get(a);if(t.push(this.os.removeEntry(e,a,h.readTime)),l.isValidDocument()){const v=Zx(this.os.serializer,l);i=i.add(a.path.popLast());const E=uf(v);r+=E-h.size,t.push(this.os.addEntry(e,a,v))}else if(r-=h.size,this.trackRemovals){const v=Zx(this.os.serializer,l.convertToNoDocument(sn.min()));t.push(this.os.addEntry(e,a,v))}}),i.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),Ue.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((a,l)=>{this.us.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function _z(n){return Oo(n,"remoteDocumentGlobal")}function fd(n){return Oo(n,"remoteDocumentsV14")}function b0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wz(n,e){const t=e.documentKey.path.toArray();return[n,rf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Cz(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Vn(t[a],r[a]),i)return i;return i=Vn(t.length,r.length),i||(i=Vn(t[t.length-2],r[r.length-2]),i||Vn(t[t.length-1],r[r.length-1]))}class dB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class bz{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&u0(r.mutation,i,ha.empty(),Ai.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Zn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Zn()){const i=cl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=a0();return a.forEach((h,v)=>{l=l.insert(h,v.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=cl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Zn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,h)=>{t.set(l,h)})})}computeViews(e,t,r,i){let a=fa();const l=c0(),h=c0();return t.forEach((v,E)=>{const P=r.get(E.key);i.has(E.key)&&(void 0===P||P.mutation instanceof jl)?a=a.insert(E.key,E):void 0!==P?(l.set(E.key,P.mutation.getFieldMask()),u0(P.mutation,E,P.mutation.getFieldMask(),Ai.now())):l.set(E.key,ha.empty())}),this.recalculateAndSaveOverlays(e,a).next(v=>(v.forEach((E,P)=>l.set(E,P)),t.forEach((E,P)=>{var U;return h.set(E,new dB(P,null!==(U=l.get(E))&&void 0!==U?U:null))}),h))}recalculateAndSaveOverlays(e,t){const r=c0();let i=new fi((l,h)=>l-h),a=Zn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const h of l)h.keys().forEach(v=>{const E=t.get(v);if(null===E)return;let P=r.get(v)||ha.empty();P=h.applyToLocalView(E,P),r.set(v,P);const U=(i.get(h.batchId)||Zn()).add(v);i=i.insert(h.batchId,U)})}).next(()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const v=h.getNext(),E=v.key,P=v.value,U=px();P.forEach(ne=>{if(!a.has(ne)){const ce=Sx(t.get(ne),r.get(ne));null!==ce&&U.set(ne,ce),a=a.add(ne)}}),l.push(this.documentOverlayCache.saveOverlays(e,E,U))}return Ue.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Rt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):_9(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):Ue.resolve(cl());let h=-1,v=a;return l.next(E=>Ue.forEach(E,(P,U)=>(h<U.largestBatchId&&(h=U.largestBatchId),a.get(P)?Ue.resolve():this.remoteDocumentCache.getEntry(e,P).next(ne=>{v=v.insert(P,ne)}))).next(()=>this.populateOverlays(e,E,a)).next(()=>this.computeViews(e,v,E,Zn())).next(P=>({batchId:h,changes:fx(P)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rt(t)).next(r=>{let i=a0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=a0();return this.indexManager.getCollectionParents(e,i).next(l=>Ue.forEach(l,h=>{const v=(E=t,P=h.child(i),new Ul(P,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,P;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(E=>{E.forEach((P,U)=>{a=a.insert(P,U)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((h,v)=>{const E=v.getKey();null===a.get(E)&&(a=a.insert(E,Ci.newInvalidDocument(E)))});let l=a0();return a.forEach((h,v)=>{const E=i.get(h);void 0!==E&&u0(E.mutation,v,ha.empty(),Ai.now()),s0(t,v)&&(l=l.insert(h,v))}),l})}}class hB{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ue.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:no(r.createTime)}),Ue.resolve()}getNamedQuery(e,t){return Ue.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:O9(r.bundledQuery),readTime:no(r.readTime)}),Ue.resolve();var r}}class fB{constructor(){this.overlays=new fi(Rt.comparator),this.ls=new Map}getOverlay(e,t){return Ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=cl();return Ue.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),Ue.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),Ue.resolve()}getOverlaysForCollection(e,t,r){const i=cl(),a=t.length+1,l=new Rt(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const v=h.getNext().value,E=v.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===a&&v.largestBatchId>r&&i.set(v.getKey(),v)}return Ue.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new fi((E,P)=>E-P);const l=this.overlays.getIterator();for(;l.hasNext();){const E=l.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let P=a.get(E.largestBatchId);null===P&&(P=cl(),a=a.insert(E.largestBatchId,P)),P.set(E.getKey(),E)}}const h=cl(),v=a.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,P)=>h.set(E,P)),!(h.size()>=i)););return Ue.resolve(h)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new D9(t,r));let a=this.ls.get(t);void 0===a&&(a=Zn(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class B9{constructor(){this.fs=new wi(Ro.ds),this.ws=new wi(Ro._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Ro(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Ro(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Rt(new Mr([])),r=new Ro(t,e),i=new Ro(t,e+1),a=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Rt(new Mr([])),r=new Ro(t,e),i=new Ro(t,e+1);let a=Zn();return this.ws.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Ro(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ro{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Rt.comparator(e.key,t.key)||Vn(e.As,t.As)}static _s(e,t){return Vn(e.As,t.As)||Rt.comparator(e.key,t.key)}}class pB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new wi(Ro.ds)}checkEmpty(e){return Ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const l=new E9(a,t,r,i);this.mutationQueue.push(l);for(const h of i)this.Rs=this.Rs.add(new Ro(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Ue.resolve(l)}lookupMutationBatch(e,t){return Ue.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return Ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ro(t,0),i=new Ro(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],l=>{const h=this.Ps(l.As);a.push(h)}),Ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wi(Vn);return t.forEach(i=>{const a=new Ro(i,0),l=new Ro(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],h=>{r=r.add(h.As)})}),Ue.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Rt.isDocumentKey(a)||(a=a.child(""));const l=new Ro(new Rt(a),0);let h=new wi(Vn);return this.Rs.forEachWhile(v=>{const E=v.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(h=h.add(v.As)),!0)},l),Ue.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){rn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Ue.forEach(t.mutations,i=>{const a=new Ro(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Ro(t,0),i=this.Rs.firstAfterOrEqual(r);return Ue.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Ue.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mB{constructor(e){this.Ds=e,this.docs=new fi(Rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ue.resolve(r?r.document.mutableCopy():Ci.newInvalidDocument(t))}getEntries(e,t){let r=fa();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Ci.newInvalidDocument(i))}),Ue.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=fa();const l=t.path,h=new Rt(l.child("")),v=this.docs.getIteratorFrom(h);for(;v.hasNext();){const{key:E,value:{document:P}}=v.getNext();if(!l.isPrefixOf(E.path))break;E.path.length>l.length+1||c9(II(P),r)<=0||(i.has(P.key)||s0(t,P))&&(a=a.insert(P.key,P.mutableCopy()))}return Ue.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Kt()}Cs(e,t){return Ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new gB(this)}getSize(e){return Ue.resolve(this.size)}}class gB extends vz{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Ue.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class vB{constructor(e){this.persistence=e,this.xs=new Yl(t=>rd(t),r0),this.lastRemoteSnapshotVersion=sn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new B9,this.targetCount=0,this.Ms=hd.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),Ue.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new hd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ue.resolve()}updateTargetData(e,t){return this.Fn(t),Ue.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((l,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),Ue.waitFor(a).next(()=>i)}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return Ue.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),Ue.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),Ue.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return Ue.resolve(r)}containsKey(e,t){return Ue.resolve(this.ks.containsKey(t))}}class U9{constructor(e,t){this.$s={},this.overlays={},this.Os=new xa(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new vB(this),this.indexManager=new rB,this.remoteDocumentCache=new mB(r=>this.referenceDelegate.Ls(r)),this.serializer=new Kx(t),this.qs=new hB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new pB(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){yt("MemoryPersistence","Starting transaction:",e);const i=new yB(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return Ue.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class yB extends zI{constructor(e){super(),this.currentSequenceNumber=e}}class ff{constructor(e){this.persistence=e,this.Qs=new B9,this.js=null}static zs(e){return new ff(e)}get Ws(){if(this.js)return this.js;throw Kt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),Ue.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),Ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ue.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.Ws,r=>{const i=Rt.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,sn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ue.or([()=>Ue.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class _B{constructor(e){this.serializer=e}O(e,t,r,i){const a=new H6("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",OI,{unique:!0}),h.createObjectStore("documentMutations"),Sz(e),function(h){h.createObjectStore("remoteDocuments")}(e));let l=Ue.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),Sz(e)),l=l.next(()=>function(h){const v=h.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:sn.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",E)}(a))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(h,v){return v.store("mutations").j().next(E=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",OI,{unique:!0});const P=v.store("mutations"),U=E.map(ne=>P.put(ne));return Ue.waitFor(U)})}(e,a))),l=l.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Ys(a))),r<6&&i>=6&&(l=l.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(l=l.next(()=>this.Zs(a))),r<8&&i>=8&&(l=l.next(()=>this.ti(e,a))),r<9&&i>=9&&(l=l.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ei(a))),r<11&&i>=11&&(l=l.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(h){const v=h.createObjectStore("documentOverlays",{keyPath:rH});v.createIndex("collectionPathOverlayIndex",iH,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",oH,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(h){const v=h.createObjectStore("remoteDocumentsV14",{keyPath:GV});v.createIndex("documentKeyIndex",WV),v.createIndex("collectionGroupIndex",qV)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.si(e,a))),r<15&&i>=15&&(l=l.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:JV}).createIndex("sequenceNumberIndex",eH,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:tH}).createIndex("documentKeyIndex",nH,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=uf(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>Ue.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(h=>Ue.forEach(h,v=>{rn(v.userId===a.userId);const E=ld(this.serializer,v);return uz(e,a.userId,E).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((l,h)=>{const v=new Mr(l),E=[0,Ms(v)];a.push(t.get(E).next(P=>P?Ue.resolve():t.put({targetId:0,path:Ms(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Ue.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:XV});const r=t.store("collectionParents"),i=new H9,a=l=>{if(i.add(l)){const h=l.lastSegment(),v=l.popLast();return r.put({collectionId:h,parent:Ms(v)})}};return t.store("remoteDocuments").X({Y:!0},(l,h)=>{const v=new Mr(l);return a(v.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,h,v],E)=>{const P=sl(h);return a(P.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const a=v0(i),l=Qx(this.serializer,a);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,l)=>{const h=t.store("remoteDocumentsV14"),v=(E=l,E.document?new Rt(Mr.fromString(E.document.name).popFirst(5)):E.noDocument?Rt.fromSegments(E.noDocument.path):E.unknownDocument?Rt.fromSegments(E.unknownDocument.path):Kt()).path.toArray();var E;const P={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(h.put(P))}).next(()=>Ue.waitFor(i))}si(e,t){const r=t.store("mutations"),i=yz(this.serializer),a=new U9(ff.zs,this.serializer.fe);return r.j().next(l=>{const h=new Map;return l.forEach(v=>{var E;let P=null!==(E=h.get(v.userId))&&void 0!==E?E:Zn();ld(this.serializer,v).keys().forEach(U=>P=P.add(U)),h.set(v.userId,P)}),Ue.forEach(h,(v,E)=>{const P=new ko(E),U=sf.de(this.serializer,P),ne=a.getIndexManager(P),ce=df.de(P,this.serializer,ne,a.referenceDelegate);return new bz(i,ce,U,ne).recalculateAndSaveOverlaysForDocumentKeys(new d9(t,xa.ct),v).next()})})}}function Sz(n){n.createObjectStore("targetDocuments",{keyPath:ZV}).createIndex("documentTargetsIndex",QV,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",KV,{unique:!0}),n.createObjectStore("targetGlobal")}const Y9="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class j9{constructor(e,t,r,i,a,l,h,v,E,P,U=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=l,this.document=h,this.ri=E,this.oi=P,this.ui=U,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=ne=>Promise.resolve(),!j9.D())throw new dt(qe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cB(this,i),this.di=t+"main",this.serializer=new Kx(v),this.wi=new Ac(this.di,this.ui,new _B(this.serializer)),this.Bs=new oB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yz(this.serializer),this.qs=new ZH,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===P&&to("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new dt(qe.FAILED_PRECONDITION,Y9);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new xa(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Je.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Je.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Je.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>mf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Ou(e))return yt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return yt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return S0(e).get("owner").next(t=>Ue.resolve(this.Ri(t)))}Pi(e){return mf(e).delete(this.clientId)}bi(){var e=this;return(0,Je.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Oo(r,"clientMetadata");return i.j().next(a=>{const l=e.Si(a,18e5),h=a.filter(v=>-1===l.indexOf(v));return Ue.forEach(h,v=>i.delete(v.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ue.resolve(!0):S0(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new dt(qe.FAILED_PRECONDITION,Y9);return!1}}return!(!this.networkEnabled||!this.inForeground)||mf(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&yt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Je.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new d9(t,xa.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>mf(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return df.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new iB(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return sf.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){yt("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(l=this.ui)?aH:14===l?LI:13===l?FI:12===l?sH:11===l?NI:void Kt();var l;let h;return this.wi.runTransaction(e,i,a,v=>(h=new d9(v,this.Os?this.Os.next():xa.ct),"readwrite-primary"===t?this.Ti(h).next(E=>!!E||this.Ei(h)).next(E=>{if(!E)throw to(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new dt(qe.FAILED_PRECONDITION,xI);return r(h)}).next(E=>this.vi(h).next(()=>E)):this.Oi(h).next(()=>r(h)))).then(v=>(h.raiseOnCommittedEvent(),v))}Oi(e){return S0(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new dt(qe.FAILED_PRECONDITION,Y9)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return S0(e).put("owner",t)}static D(){return Ac.D()}Ai(e){const t=S0(e);return t.get("owner").next(r=>this.Ri(r)?(yt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ue.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(to(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Wn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return yt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return to("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){to("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function S0(n){return Oo(n,"owner")}function mf(n){return Oo(n,"clientMetadata")}function $9(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class G9{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Zn(),i=Zn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new G9(e,t.fromCache,r,i)}}class Ez{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(cx(t))return Ue.resolve(null);let r=Ws(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Q6(t,null,"F"),r=Ws(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Zn(...a);return this.Ui.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(v=>{const E=this.ji(t,h);return this.zi(t,E,l,v.readTime)?this.Ki(e,Q6(t,null,"F")):this.Wi(e,E,t,v)}))})))}Gi(e,t,r,i){return cx(t)||i.isEqual(sn.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const l=this.ji(t,a);return this.zi(t,l,r,i)?this.Qi(e,t):(o9()<=xu.in.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),C9(t)),this.Wi(e,l,t,MI(i,-1)))})}ji(e,t){let r=new wi(dx(e));return t.forEach((i,a)=>{s0(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return o9()<=xu.in.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",C9(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ia.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class wB{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new fi(Vn),this.Yi=new Yl(a=>rd(a),r0),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bz(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Tz(n,e,t,r){return new wB(n,e,t,r)}function Dz(n,e){return W9.apply(this,arguments)}function W9(){return W9=(0,Je.Z)(function*(n,e){const t=Lt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let v=Zn();for(const E of i){l.push(E.batchId);for(const P of E.mutations)v=v.add(P.key)}for(const E of a){h.push(E.batchId);for(const P of E.mutations)v=v.add(P.key)}return t.localDocuments.getDocuments(r,v).next(E=>({er:E,removedBatchIds:l,addedBatchIds:h}))})})}),W9.apply(this,arguments)}function Mz(n){const e=Lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Iz(n,e,t){let r=Zn(),i=Zn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=fa();return t.forEach((h,v)=>{const E=a.get(h);v.isFoundDocument()!==E.isFoundDocument()&&(i=i.add(h)),v.isNoDocument()&&v.version.isEqual(sn.min())?(e.removeEntry(h,v.readTime),l=l.insert(h,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||0===v.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(v),l=l.insert(h,v)):yt("LocalStore","Ignoring outdated watch update for ",h,". Current version:",E.version," Watch version:",v.version)}),{nr:l,sr:i}})}function SB(n,e){const t=Lt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Kh(n,e){const t=Lt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,Ue.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new $l(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Zh(n,e,t){return q9.apply(this,arguments)}function q9(){return q9=(0,Je.Z)(function*(n,e,t){const r=Lt(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Ou(l))throw l;yt("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),q9.apply(this,arguments)}function gf(n,e,t){const r=Lt(n);let i=sn.min(),a=Zn();return r.persistence.runTransaction("Execute query","readonly",l=>function(h,v,E){const P=Lt(h),U=P.Yi.get(E);return void 0!==U?Ue.resolve(P.Ji.get(U)):P.Bs.getTargetData(v,E)}(r,l,Ws(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,h.targetId).next(v=>{a=v})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:sn.min(),t?a:Zn())).next(h=>(Az(r,ux(e),h),{documents:h,ir:a})))}function xz(n,e){const t=Lt(n),r=Lt(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(l=>l?l.target:null))}function zz(n,e){const t=Lt(n),r=t.Xi.get(e)||sn.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,MI(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Az(t,e,i),i))}function Az(n,e,t){let r=n.Xi.get(e)||sn.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function K9(){return K9=(0,Je.Z)(function*(n,e,t,r){const i=Lt(n);let a=Zn(),l=fa();for(const E of t){const P=e.rr(E.metadata.name);E.document&&(a=a.add(P));const U=e.ur(E);U.setReadTime(e.cr(E.metadata.readTime)),l=l.insert(P,U)}const h=i.Zi.newChangeBuffer({trackRemovals:!0}),v=yield Kh(i,(E=r,Ws(Hh(Mr.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>Iz(E,h,l).next(P=>(h.apply(E),P)).next(P=>i.Bs.removeMatchingKeysForTargetId(E,v.targetId).next(()=>i.Bs.addMatchingKeys(E,a,v.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(E,P.nr,P.sr)).next(()=>P.nr)))}),K9.apply(this,arguments)}function TB(n,e){return Z9.apply(this,arguments)}function Z9(){return Z9=(0,Je.Z)(function*(n,e,t=Zn()){const r=yield Kh(n,Ws(O9(e.bundledQuery))),i=Lt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const l=no(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.qs.saveNamedQuery(a,e);const h=r.withResumeToken(So.EMPTY_BYTE_STRING,l);return i.Ji=i.Ji.insert(h.targetId,h),i.Bs.updateTargetData(a,h).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,t,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),Z9.apply(this,arguments)}function Pz(n,e){return`firestore_clients_${n}_${e}`}function kz(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Q9(n,e){return`firestore_targets_${n}_${e}`}class vf{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let a,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new dt(i.error.code,i.error.message))),l?new vf(e,t,i.state,a):(to("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class E0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new dt(r.error.code,r.error.message))),a?new E0(e,r.state,i):(to("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=b9();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=PI(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new yf(e,a):(to("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class X9{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new X9(t.clientId,t.onlineState):(to("SharedClientState",`Failed to parse online state: ${e}`),null)}}class J9{constructor(){this.activeTargetIds=b9()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ey{constructor(e,t,r,i,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new fi(Vn),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=Pz(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new J9),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Je.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const a=e.getItem(Pz(e.persistenceKey,i));if(a){const l=yf.ar(i,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Q9(this.persistenceKey,e));if(r){const i=E0.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Q9(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return yt("SharedClientState","READ",e,t),t}setItem(e,t){yt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){yt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(yt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void to("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Je.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(a){let l=xa.ct;if(null!=a)try{const h=JSON.parse(a);rn("number"==typeof h),l=h}catch(h){to("SharedClientState","Failed to read sequence number from WebStorage",h)}return l}(r.newValue);i!==xa.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new vf(this.currentUser,e,t,r),a=kz(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const t=kz(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=Q9(this.persistenceKey,e),a=new E0(e,t,r);this.setItem(i,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return yf.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return vf.ar(new ko(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return E0.ar(i,t)}br(e){return X9.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Je.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);yt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),l=[],h=[];return a.forEach(v=>{i.has(v)||l.push(v)}),i.forEach(v=>{a.has(v)||h.push(v)}),this.syncEngine.Wr(l,h).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=b9();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Oz{constructor(){this.Hr=new J9,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new J9,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class DB{Yr(e){}shutdown(){}}class Rz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){yt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){yt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _f=null;function ty(){return null===_f?_f=268435456+Math.round(2147483648*Math.random()):_f++,"0x"+_f.toString(16)}const MB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IB{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const xs="WebChannelConnection";class xB extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const l=ty(),h=this.To(e,t);yt("RestConnection",`Sending RPC '${e}' ${l}:`,h,r);const v={};return this.Eo(v,i,a),this.Ao(e,h,v,r).then(E=>(yt("RestConnection",`Received RPC '${e}' ${l}: `,E),E),E=>{throw nc("RestConnection",`RPC '${e}' ${l} failed with error: `,E,"url: ",h,"request:",r),E})}vo(e,t,r,i,a,l){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${MB[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=ty();return new Promise((l,h)=>{const v=new DV;v.setWithCredentials(!0),v.listenOnce(SV.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case r9.NO_ERROR:const P=v.getResponseJson();yt(xs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(P)),l(P);break;case r9.TIMEOUT:yt(xs,`RPC '${e}' ${a} timed out`),h(new dt(qe.DEADLINE_EXCEEDED,"Request time out"));break;case r9.HTTP_ERROR:const U=v.getStatus();if(yt(xs,`RPC '${e}' ${a} failed with status:`,U,"response text:",v.getResponseText()),U>0){let ne=v.getResponseJson();Array.isArray(ne)&&(ne=ne[0]);const ce=ne?.error;if(ce&&ce.status&&ce.message){const ve=function(ke){const $e=ke.toLowerCase().replace(/_/g,"-");return Object.values(qe).indexOf($e)>=0?$e:qe.UNKNOWN}(ce.status);h(new dt(ve,ce.message))}else h(new dt(qe.UNKNOWN,"Server responded with status "+v.getStatus()))}else h(new dt(qe.UNAVAILABLE,"Connection failed."));break;default:Kt()}}finally{yt(xs,`RPC '${e}' ${a} completed.`)}});const E=JSON.stringify(i);yt(xs,`RPC '${e}' ${a} sending request:`,i),v.send(t,"POST",E,r,15)})}Ro(e,t,r){const i=ty(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=CV(),h=bV(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;void 0!==E&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.xmlHttpFactory=new TV({})),this.Eo(v.initMessageHeaders,t,r),v.encodeInitMessageHeaders=!0;const P=a.join("");yt(xs,`Creating RPC '${e}' stream ${i}: ${P}`,v);const U=l.createWebChannel(P,v);let ne=!1,ce=!1;const ve=new IB({ro:$e=>{ce?yt(xs,`Not sending because RPC '${e}' stream ${i} is closed:`,$e):(ne||(yt(xs,`Opening RPC '${e}' stream ${i} transport.`),U.open(),ne=!0),yt(xs,`RPC '${e}' stream ${i} sending:`,$e),U.send($e))},oo:()=>U.close()}),ke=($e,mt,Vt)=>{$e.listen(mt,xt=>{try{Vt(xt)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return ke(U,F6.EventType.OPEN,()=>{ce||yt(xs,`RPC '${e}' stream ${i} transport opened.`)}),ke(U,F6.EventType.CLOSE,()=>{ce||(ce=!0,yt(xs,`RPC '${e}' stream ${i} transport closed`),ve.wo())}),ke(U,F6.EventType.ERROR,$e=>{ce||(ce=!0,nc(xs,`RPC '${e}' stream ${i} transport errored:`,$e),ve.wo(new dt(qe.UNAVAILABLE,"The operation could not be completed")))}),ke(U,F6.EventType.MESSAGE,$e=>{var mt;if(!ce){const Vt=$e.data[0];rn(!!Vt);const Pt=Vt.error||(null===(mt=Vt[0])||void 0===mt?void 0:mt.error);if(Pt){yt(xs,`RPC '${e}' stream ${i} received error:`,Pt);const Cn=Pt.status;let mn=function(Ei){const sr=fo[Ei];if(void 0!==sr)return xx(sr)}(Cn),or=Pt.message;void 0===mn&&(mn=qe.INTERNAL,or="Unknown error status: "+Cn+" with message "+Pt.message),ce=!0,ve.wo(new dt(mn,or)),U.close()}else yt(xs,`RPC '${e}' stream ${i} received:`,Vt),ve._o(Vt)}}),ke(h,EV.STAT_EVENT,$e=>{$e.stat===CI.PROXY?yt(xs,`RPC '${e}' stream ${i} detected buffering proxy`):$e.stat===CI.NOPROXY&&yt(xs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{ve.fo()},0),ve}}function Nz(){return typeof window<"u"?window:null}function wf(){return typeof document<"u"?document:null}function T0(n){return new VH(n,!0)}class ny{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&yt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Fz{constructor(e,t,r,i,a,l,h,v){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=v,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ny(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Je.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Je.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Je.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===qe.RESOURCE_EXHAUSTED?(to(t.toString()),to("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===qe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new dt(qe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Je.Z)(function*(){e.state=0,e.start()}))}tu(e){return yt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(yt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zB extends Fz{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function UH(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:Kt(),i=e.targetChange.targetIds||[],a=function(v,E){return v.useProto3Json?(rn(void 0===E||"string"==typeof E),So.fromBase64String(E||"")):(rn(void 0===E||E instanceof Uint8Array),So.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(v){const E=void 0===v.code?qe.UNKNOWN:xx(v.code);return new dt(E,v.message||"")}(l);t=new Ox(r,i,a,h||null)}else if("documentChange"in e){const r=e.documentChange,i=ll(n,r.document.name),a=no(r.document.updateTime),l=r.document.createTime?no(r.document.createTime):sn.min(),h=new os({mapValue:{fields:r.document.fields}}),v=Ci.newFoundDocument(i,a,l,h);t=new nf(r.targetIds||[],r.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const r=e.documentDelete,i=ll(n,r.document),a=r.readTime?no(r.readTime):sn.min(),l=Ci.newNoDocument(i,a);t=new nf([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=ll(n,r.document);t=new nf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Kt();{const r=e.filter,{count:i=0,unchangedNames:a}=r,l=new kH(i,a);t=new kx(r.targetId,l)}}var v;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return sn.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?sn.min():a.readTime?no(a.readTime):sn.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=m0(this.serializer),t.addTarget=function(i,a){let l;const h=a.target;if(l=q6(h)?{documents:jx(i,h)}:{query:k9(i,h)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Lx(i,a.resumeToken);const v=x9(i,a.expectedCount);null!==v&&(l.expectedCount=v)}else if(a.snapshotVersion.compareTo(sn.min())>0){l.readTime=$h(i,a.snapshotVersion.toTimestamp());const v=x9(i,a.expectedCount);null!==v&&(l.expectedCount=v)}return l}(this.serializer,e);const r=function jH(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=m0(this.serializer),t.removeTarget=e,this.Wo(t)}}class AB extends Fz{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(rn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function YH(n,e){return n&&n.length>0?(rn(void 0!==e),n.map(t=>function(r,i){let a=no(r.updateTime?r.updateTime:i);return a.isEqual(sn.min())&&(a=no(i)),new xH(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=no(e.commitTime);return this.listener.cu(r,t)}return rn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=m0(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>g0(this.serializer,r))};this.Wo(t)}}class PB extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new dt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new dt(qe.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new dt(qe.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class OB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(to(t),this.mu=!1):yt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class RB{constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(h=>{r.enqueueAndForget((0,Je.Z)(function*(){var v;Gu(l)&&(yt("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Je.Z)(function*(E){const P=Lt(E);P.vu.add(4),yield Qh(P),P.bu.set("Unknown"),P.vu.delete(4),yield D0(P)}),function(E){return v.apply(this,arguments)})(l))}))}),this.bu=new OB(r,i)}}function D0(n){return iy.apply(this,arguments)}function iy(){return iy=(0,Je.Z)(function*(n){if(Gu(n))for(const e of n.Ru)yield e(!0)}),iy.apply(this,arguments)}function Qh(n){return oy.apply(this,arguments)}function oy(){return oy=(0,Je.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),oy.apply(this,arguments)}function Cf(n,e){const t=Lt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),cy(t)?ay(t):Jh(t).Ko()&&sy(t,e))}function M0(n,e){const t=Lt(n),r=Jh(t);t.Au.delete(e),r.Ko()&&Lz(t,e),0===t.Au.size&&(r.Ko()?r.jo():Gu(t)&&t.bu.set("Unknown"))}function sy(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(sn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jh(n).su(e)}function Lz(n,e){n.Vu.qt(e),Jh(n).iu(e)}function ay(n){n.Vu=new RH({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Jh(n).start(),n.bu.gu()}function cy(n){return Gu(n)&&!Jh(n).Uo()&&n.Au.size>0}function Gu(n){return 0===Lt(n).vu.size}function Vz(n){n.Vu=void 0}function NB(n){return ly.apply(this,arguments)}function ly(){return ly=(0,Je.Z)(function*(n){n.Au.forEach((e,t)=>{sy(n,e)})}),ly.apply(this,arguments)}function FB(n,e){return uy.apply(this,arguments)}function uy(){return uy=(0,Je.Z)(function*(n,e){Vz(n),cy(n)?(n.bu.Iu(e),ay(n)):n.bu.set("Unknown")}),uy.apply(this,arguments)}function LB(n,e,t){return dy.apply(this,arguments)}function dy(){return dy=(0,Je.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof Ox&&2===e.state&&e.cause)try{yield(r=(0,Je.Z)(function*(i,a){const l=a.cause;for(const h of a.targetIds)i.Au.has(h)&&(yield i.remoteSyncer.rejectListen(h,l),i.Au.delete(h),i.Vu.removeTarget(h))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){yt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield bf(n,r)}else if(e instanceof nf?n.Vu.Ht(e):e instanceof kx?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(sn.min()))try{const r=yield Mz(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.Vu.ce(a);return l.targetChanges.forEach((h,v)=>{if(h.resumeToken.approximateByteSize()>0){const E=i.Au.get(v);E&&i.Au.set(v,E.withResumeToken(h.resumeToken,a))}}),l.targetMismatches.forEach((h,v)=>{const E=i.Au.get(h);if(!E)return;i.Au.set(h,E.withResumeToken(So.EMPTY_BYTE_STRING,E.snapshotVersion)),Lz(i,h);const P=new $l(E.target,h,v,E.sequenceNumber);sy(i,P)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){yt("RemoteStore","Failed to raise snapshot:",r),yield bf(n,r)}var r}),dy.apply(this,arguments)}function bf(n,e,t){return hy.apply(this,arguments)}function hy(){return hy=(0,Je.Z)(function*(n,e,t){if(!Ou(e))throw e;n.vu.add(1),yield Qh(n),n.bu.set("Offline"),t||(t=()=>Mz(n.localStore)),n.asyncQueue.enqueueRetryable((0,Je.Z)(function*(){yt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield D0(n)}))}),hy.apply(this,arguments)}function Hz(n,e){return e().catch(t=>bf(n,t,e))}function Xh(n){return fy.apply(this,arguments)}function fy(){return fy=(0,Je.Z)(function*(n){const e=Lt(n),t=Wu(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;VB(e);)try{const i=yield SB(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,HB(e,i)}catch(i){yield bf(e,i)}Bz(e)&&Uz(e)}),fy.apply(this,arguments)}function VB(n){return Gu(n)&&n.Eu.length<10}function HB(n,e){n.Eu.push(e);const t=Wu(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Bz(n){return Gu(n)&&!Wu(n).Uo()&&n.Eu.length>0}function Uz(n){Wu(n).start()}function BB(n){return py.apply(this,arguments)}function py(){return py=(0,Je.Z)(function*(n){Wu(n).hu()}),py.apply(this,arguments)}function UB(n){return my.apply(this,arguments)}function my(){return my=(0,Je.Z)(function*(n){const e=Wu(n);for(const t of n.Eu)e.uu(t.mutations)}),my.apply(this,arguments)}function YB(n,e,t){return gy.apply(this,arguments)}function gy(){return gy=(0,Je.Z)(function*(n,e,t){const r=n.Eu.shift(),i=T9.from(r,e,t);yield Hz(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Xh(n)}),gy.apply(this,arguments)}function jB(n,e){return vy.apply(this,arguments)}function vy(){return vy=(0,Je.Z)(function*(n,e){var t;e&&Wu(n).ou&&(yield(t=(0,Je.Z)(function*(r,i){if(Ix(a=i.code)&&a!==qe.ABORTED){const l=r.Eu.shift();Wu(r).Qo(),yield Hz(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield Xh(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),Bz(n)&&Uz(n)}),vy.apply(this,arguments)}function Yz(n,e){return yy.apply(this,arguments)}function yy(){return yy=(0,Je.Z)(function*(n,e){const t=Lt(n);t.asyncQueue.verifyOperationInProgress(),yt("RemoteStore","RemoteStore received new credentials");const r=Gu(t);t.vu.add(3),yield Qh(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield D0(t)}),yy.apply(this,arguments)}function _y(n,e){return wy.apply(this,arguments)}function wy(){return wy=(0,Je.Z)(function*(n,e){const t=Lt(n);e?(t.vu.delete(2),yield D0(t)):e||(t.vu.add(2),yield Qh(t),t.bu.set("Unknown"))}),wy.apply(this,arguments)}function Jh(n){return n.Su||(n.Su=function(e,t,r){const i=Lt(e);return i.fu(),new zB(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:NB.bind(null,n),ao:FB.bind(null,n),nu:LB.bind(null,n)}),n.Ru.push(function(){var e=(0,Je.Z)(function*(t){t?(n.Su.Qo(),cy(n)?ay(n):n.bu.set("Unknown")):(yield n.Su.stop(),Vz(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Wu(n){return n.Du||(n.Du=function(e,t,r){const i=Lt(e);return i.fu(),new AB(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:BB.bind(null,n),ao:jB.bind(null,n),au:UB.bind(null,n),cu:YB.bind(null,n)}),n.Ru.push(function(){var e=(0,Je.Z)(function*(t){t?(n.Du.Qo(),yield Xh(n)):(yield n.Du.stop(),n.Eu.length>0&&(yt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class Cy{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new bo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,h=new Cy(e,t,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dt(qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e4(n,e){if(to("AsyncQueue",`${e}: ${n}`),Ou(n))return new dt(qe.UNAVAILABLE,`${e}: ${n}`);throw n}class t4{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Rt.comparator(t.key,r.key):(t,r)=>Rt.comparator(t.key,r.key),this.keyedMap=a0(),this.sortedSet=new fi(this.comparator)}static emptySet(e){return new t4(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof t4)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new t4;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jz{constructor(){this.Cu=new fi(Rt.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Kt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class n4{constructor(e,t,r,i,a,l,h,v,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new n4(e,t,t4.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&o0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class $B{constructor(){this.Nu=void 0,this.listeners=[]}}class GB{constructor(){this.queries=new Yl(e=>lx(e),o0),this.onlineState="Unknown",this.ku=new Set}}function by(n,e){return Sy.apply(this,arguments)}function Sy(){return Sy=(0,Je.Z)(function*(n,e){const t=Lt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new $B),i)try{a.Nu=yield t.onListen(r)}catch(l){const h=e4(l,`Initialization of query '${C9(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&Dy(t)}),Sy.apply(this,arguments)}function Ey(n,e){return Ty.apply(this,arguments)}function Ty(){return Ty=(0,Je.Z)(function*(n,e){const t=Lt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Ty.apply(this,arguments)}function WB(n,e){const t=Lt(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const h of l.listeners)h.$u(i)&&(r=!0);l.Nu=i}}r&&Dy(t)}function qB(n,e,t){const r=Lt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function Dy(n){n.ku.forEach(e=>{e.next()})}class My{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new n4(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=n4.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class KB{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class $z{constructor(e){this.serializer=e}rr(e){return ll(this.serializer,e)}ur(e){return e.metadata.exists?Yx(this.serializer,e.document,!1):Ci.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return no(e)}}class ZB{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Gz(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=Mr.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new $z(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const l of i.metadata.queries){const h=(t.get(l)||Zn()).add(a);t.set(l,h)}}return t}complete(){var e=this;return(0,Je.Z)(function*(){const t=yield function EB(n,e,t,r){return K9.apply(this,arguments)}(e.localStore,new $z(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield TB(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Gz(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Wz{constructor(e){this.key=e}}class qz{constructor(e){this.key=e}}class Kz{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Zn(),this.mutatedKeys=Zn(),this.tc=dx(e),this.ec=new t4(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new jz,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,h=!1;const v="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((P,U)=>{const ne=i.get(P),ce=s0(this.query,U)?U:null,ve=!!ne&&this.mutatedKeys.has(ne.key),ke=!!ce&&(ce.hasLocalMutations||this.mutatedKeys.has(ce.key)&&ce.hasCommittedMutations);let $e=!1;ne&&ce?ne.data.isEqual(ce.data)?ve!==ke&&(r.track({type:3,doc:ce}),$e=!0):this.rc(ne,ce)||(r.track({type:2,doc:ce}),$e=!0,(v&&this.tc(ce,v)>0||E&&this.tc(ce,E)<0)&&(h=!0)):!ne&&ce?(r.track({type:0,doc:ce}),$e=!0):ne&&!ce&&(r.track({type:1,doc:ne}),$e=!0,(v||E)&&(h=!0)),$e&&(ce?(l=l.add(ce),a=ke?a.add(P):a.delete(P)):(l=l.delete(P),a=a.delete(P)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const P="F"===this.query.limitType?l.last():l.first();l=l.delete(P.key),a=a.delete(P.key),r.track({type:1,doc:P})}return{ec:l,ic:r,zi:h,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((E,P)=>function(U,ne){const ce=ve=>{switch(ve){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt()}};return ce(U)-ce(ne)}(E.type,P.type)||this.tc(E.doc,P.doc)),this.oc(r);const l=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,v=h!==this.Xu;return this.Xu=h,0!==a.length||v?{snapshot:new n4(this.query,e.ec,i,a,e.mutatedKeys,0===h,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new jz,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Zn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new qz(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new Wz(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Zn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return n4.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class QB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class XB{constructor(e){this.key=e,this.fc=!1}}class JB{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Yl(h=>lx(h),o0),this._c=new Map,this.mc=new Set,this.gc=new fi(Rt.comparator),this.yc=new Map,this.Ic=new B9,this.Tc={},this.Ec=new Map,this.Ac=hd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function eU(n,e){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,Je.Z)(function*(n,e){const t=Qy(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const l=yield Kh(t.localStore,Ws(e)),h=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield xy(t,e,r,"current"===h,l.resumeToken),t.isPrimaryClient&&Cf(t.remoteStore,l)}return i}),Iy.apply(this,arguments)}function xy(n,e,t,r,i){return zy.apply(this,arguments)}function zy(){return zy=(0,Je.Z)(function*(n,e,t,r,i){n.Rc=(U,ne,ce)=>{return(ve=(0,Je.Z)(function*(ke,$e,mt,Vt){let xt=$e.view.sc(mt);xt.zi&&(xt=yield gf(ke.localStore,$e.query,!1).then(({documents:mn})=>$e.view.sc(mn,xt)));const Pt=Vt&&Vt.targetChanges.get($e.targetId),Cn=$e.view.applyChanges(xt,ke.isPrimaryClient,Pt);return Hy(ke,$e.targetId,Cn.cc),Cn.snapshot}),function(ke,$e,mt,Vt){return ve.apply(this,arguments)})(n,U,ne,ce);var ve};const a=yield gf(n.localStore,e,!0),l=new Kz(e,a.ir),h=l.sc(a.documents),v=f0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),E=l.applyChanges(h,n.isPrimaryClient,v);Hy(n,t,E.cc);const P=new QB(e,t,l);return n.wc.set(e,P),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),E.snapshot}),zy.apply(this,arguments)}function tU(n,e){return Ay.apply(this,arguments)}function Ay(){return Ay=(0,Je.Z)(function*(n,e){const t=Lt(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!o0(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Zh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),M0(t.remoteStore,r.targetId),r4(t,r.targetId)}).catch(ku))):(r4(t,r.targetId),yield Zh(t.localStore,r.targetId,!0))}),Ay.apply(this,arguments)}function Py(){return Py=(0,Je.Z)(function*(n,e,t){const r=Xy(n);try{const i=yield function(a,l){const h=Lt(a),v=Ai.now(),E=l.reduce((ne,ce)=>ne.add(ce.key),Zn());let P,U;return h.persistence.runTransaction("Locally write mutations","readwrite",ne=>{let ce=fa(),ve=Zn();return h.Zi.getEntries(ne,E).next(ke=>{ce=ke,ce.forEach(($e,mt)=>{mt.isValidDocument()||(ve=ve.add($e))})}).next(()=>h.localDocuments.getOverlayedDocuments(ne,ce)).next(ke=>{P=ke;const $e=[];for(const mt of l){const Vt=AH(mt,P.get(mt.key).overlayedDocument);null!=Vt&&$e.push(new jl(mt.key,Vt,KI(Vt.value.mapValue),Pi.exists(!0)))}return h.mutationQueue.addMutationBatch(ne,v,$e,l)}).next(ke=>{U=ke;const $e=ke.applyToLocalDocumentSet(P,ve);return h.documentOverlayCache.saveOverlays(ne,ke.batchId,$e)})}).then(()=>({batchId:U.batchId,changes:fx(P)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,h){let v=a.Tc[a.currentUser.toKey()];v||(v=new fi(Vn)),v=v.insert(l,h),a.Tc[a.currentUser.toKey()]=v}(r,i.batchId,t),yield Gl(r,i.changes),yield Xh(r.remoteStore)}catch(i){const a=e4(i,"Failed to persist write");t.reject(a)}}),Py.apply(this,arguments)}function Zz(n,e){return ky.apply(this,arguments)}function ky(){return ky=(0,Je.Z)(function*(n,e){const t=Lt(n);try{const r=yield function bB(n,e){const t=Lt(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const h=[];e.targetChanges.forEach((P,U)=>{const ne=i.get(U);if(!ne)return;h.push(t.Bs.removeMatchingKeys(a,P.removedDocuments,U).next(()=>t.Bs.addMatchingKeys(a,P.addedDocuments,U)));let ce=ne.withSequenceNumber(a.currentSequenceNumber);var ve,ke,$e;null!==e.targetMismatches.get(U)?ce=ce.withResumeToken(So.EMPTY_BYTE_STRING,sn.min()).withLastLimboFreeSnapshotVersion(sn.min()):P.resumeToken.approximateByteSize()>0&&(ce=ce.withResumeToken(P.resumeToken,r)),i=i.insert(U,ce),ke=ce,$e=P,(0===(ve=ne).resumeToken.approximateByteSize()||ke.snapshotVersion.toMicroseconds()-ve.snapshotVersion.toMicroseconds()>=3e8||$e.addedDocuments.size+$e.modifiedDocuments.size+$e.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(a,ce))});let v=fa(),E=Zn();if(e.documentUpdates.forEach(P=>{e.resolvedLimboDocuments.has(P)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,P))}),h.push(Iz(a,l,e.documentUpdates).next(P=>{v=P.nr,E=P.sr})),!r.isEqual(sn.min())){const P=t.Bs.getLastRemoteSnapshotVersion(a).next(U=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(P)}return Ue.waitFor(h).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,v,E)).next(()=>v)}).then(a=>(t.Ji=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.yc.get(a);l&&(rn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?rn(l.fc):i.removedDocuments.size>0&&(rn(l.fc),l.fc=!1))}),yield Gl(t,r,e)}catch(r){yield ku(r)}}),ky.apply(this,arguments)}function Qz(n,e,t){const r=Lt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,l)=>{const h=l.view.Mu(e);h.snapshot&&i.push(h.snapshot)}),function(a,l){const h=Lt(a);h.onlineState=l;let v=!1;h.queries.forEach((E,P)=>{for(const U of P.listeners)U.Mu(l)&&(v=!0)}),v&&Dy(h)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function rU(n,e,t){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,Je.Z)(function*(n,e,t){const r=Lt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let l=new fi(Rt.comparator);l=l.insert(a,Ci.newNoDocument(a,sn.min()));const h=Zn().add(a),v=new h0(sn.min(),new Map,new fi(Vn),l,h);yield Zz(r,v),r.gc=r.gc.remove(a),r.yc.delete(e),By(r)}else yield Zh(r.localStore,e,!1).then(()=>r4(r,e,t)).catch(ku)}),Oy.apply(this,arguments)}function iU(n,e){return Ry.apply(this,arguments)}function Ry(){return Ry=(0,Je.Z)(function*(n,e){const t=Lt(n),r=e.batch.batchId;try{const i=yield function CB(n,e){const t=Lt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,h,v,E){const P=v.batch,U=P.keys();let ne=Ue.resolve();return U.forEach(ce=>{ne=ne.next(()=>E.getEntry(h,ce)).next(ve=>{const ke=v.docVersions.get(ce);rn(null!==ke),ve.version.compareTo(ke)<0&&(P.applyToRemoteDocument(ve,v),ve.isValidDocument()&&(ve.setReadTime(v.commitVersion),E.addEntry(ve)))})}),ne.next(()=>l.mutationQueue.removeMutationBatch(h,P))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let h=Zn();for(let v=0;v<l.mutationResults.length;++v)l.mutationResults[v].transformResults.length>0&&(h=h.add(l.batch.mutations[v].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);Vy(t,r,null),Ly(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Gl(t,i)}catch(i){yield ku(i)}}),Ry.apply(this,arguments)}function oU(n,e,t){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,Je.Z)(function*(n,e,t){const r=Lt(n);try{const i=yield function(a,l){const h=Lt(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return h.mutationQueue.lookupMutationBatch(v,l).next(P=>(rn(null!==P),E=P.keys(),h.mutationQueue.removeMutationBatch(v,P))).next(()=>h.mutationQueue.performConsistencyCheck(v)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(v,E,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>h.localDocuments.getDocuments(v,E))})}(r.localStore,e);Vy(r,e,t),Ly(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Gl(r,i)}catch(i){yield ku(i)}}),Ny.apply(this,arguments)}function Fy(){return Fy=(0,Je.Z)(function*(n,e){const t=Lt(n);Gu(t.remoteStore)||yt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=Lt(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>l.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=e4(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Fy.apply(this,arguments)}function Ly(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function Vy(n,e,t){const r=Lt(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function r4(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Xz(n,r)})}function Xz(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(M0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),By(n))}function Hy(n,e,t){for(const r of t)r instanceof Wz?(n.Ic.addReference(r.key,e),aU(n,r)):r instanceof qz?(yt("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Xz(n,r.key)):Kt()}function aU(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(yt("SyncEngine","New document in limbo: "+t),n.mc.add(r),By(n))}function By(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Rt(Mr.fromString(e)),r=n.Ac.next();n.yc.set(r,new XB(t)),n.gc=n.gc.insert(t,r),Cf(n.remoteStore,new $l(Ws(Hh(t.path)),r,"TargetPurposeLimboResolution",xa.ct))}}function Gl(n,e,t){return Uy.apply(this,arguments)}function Uy(){return Uy=(0,Je.Z)(function*(n,e,t){const r=Lt(n),i=[],a=[],l=[];var h;r.wc.isEmpty()||(r.wc.forEach((h,v)=>{l.push(r.Rc(v,e,t).then(E=>{if((E||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,E?.fromCache?"not-current":"current"),E){i.push(E);const P=G9.Li(v.targetId,E);a.push(P)}}))}),yield Promise.all(l),r.dc.nu(i),yield(h=(0,Je.Z)(function*(v,E){const P=Lt(v);try{yield P.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>Ue.forEach(E,ne=>Ue.forEach(ne.Fi,ce=>P.persistence.referenceDelegate.addReference(U,ne.targetId,ce)).next(()=>Ue.forEach(ne.Bi,ce=>P.persistence.referenceDelegate.removeReference(U,ne.targetId,ce)))))}catch(U){if(!Ou(U))throw U;yt("LocalStore","Failed to update sequence numbers: "+U)}for(const U of E){const ne=U.targetId;if(!U.fromCache){const ce=P.Ji.get(ne),ke=ce.withLastLimboFreeSnapshotVersion(ce.snapshotVersion);P.Ji=P.Ji.insert(ne,ke)}}}),function(v,E){return h.apply(this,arguments)})(r.localStore,a))}),Uy.apply(this,arguments)}function cU(n,e){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,Je.Z)(function*(n,e){const t=Lt(n);if(!t.currentUser.isEqual(e)){yt("SyncEngine","User change. New user:",e.toKey());const r=yield Dz(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(h=>{h.reject(new dt(qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Gl(t,r.er)}var i}),Yy.apply(this,arguments)}function lU(n,e){const t=Lt(n),r=t.yc.get(e);if(r&&r.fc)return Zn().add(r.key);{let i=Zn();const a=t._c.get(e);if(!a)return i;for(const l of a){const h=t.wc.get(l);i=i.unionWith(h.view.nc)}return i}}function uU(n,e){return jy.apply(this,arguments)}function jy(){return jy=(0,Je.Z)(function*(n,e){const t=Lt(n),r=yield gf(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&Hy(t,e.targetId,i.cc),i}),jy.apply(this,arguments)}function dU(n,e){return $y.apply(this,arguments)}function $y(){return $y=(0,Je.Z)(function*(n,e){const t=Lt(n);return zz(t.localStore,e).then(r=>Gl(t,r))}),$y.apply(this,arguments)}function hU(n,e,t,r){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,Je.Z)(function*(n,e,t,r){const i=Lt(n),a=yield function(l,h){const v=Lt(l),E=Lt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",P=>E.Sn(P,h).next(U=>U?v.localDocuments.getDocuments(P,U):Ue.resolve(null)))}(i.localStore,e);var h;null!==a?("pending"===t?yield Xh(i.remoteStore):"acknowledged"===t||"rejected"===t?(Vy(i,e,r||null),Ly(i,e),h=e,Lt(Lt(i.localStore).mutationQueue).Cn(h)):Kt(),yield Gl(i,a)):yt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Gy.apply(this,arguments)}function Wy(){return Wy=(0,Je.Z)(function*(n,e){const t=Lt(n);if(Qy(t),Xy(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Jz(t,r.toArray());t.vc=!0,yield _y(t.remoteStore,!0);for(const a of i)Cf(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(r4(t,l),Zh(t.localStore,l,!0))),M0(t.remoteStore,l)}),yield i,yield Jz(t,r),function(a){const l=Lt(a);l.yc.forEach((h,v)=>{M0(l.remoteStore,v)}),l.Ic.Ts(),l.yc=new Map,l.gc=new fi(Rt.comparator)}(t),t.vc=!1,yield _y(t.remoteStore,!1)}}),Wy.apply(this,arguments)}function Jz(n,e,t){return qy.apply(this,arguments)}function qy(){return qy=(0,Je.Z)(function*(n,e,t){const r=Lt(n),i=[],a=[];for(const l of e){let h;const v=r._c.get(l);if(v&&0!==v.length){h=yield Kh(r.localStore,Ws(v[0]));for(const E of v){const P=r.wc.get(E),U=yield uU(r,P);U.snapshot&&a.push(U.snapshot)}}else{const E=yield xz(r.localStore,l);h=yield Kh(r.localStore,E),yield xy(r,eA(E),l,!1,h.resumeToken)}i.push(h)}return r.dc.nu(a),i}),qy.apply(this,arguments)}function eA(n){return ax(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function pU(n){const e=Lt(n);return Lt(Lt(e.localStore).persistence).$i()}function mU(n,e,t,r){return Ky.apply(this,arguments)}function Ky(){return Ky=(0,Je.Z)(function*(n,e,t,r){const i=Lt(n);if(i.vc)return void yt("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield zz(i.localStore,ux(a[0])),h=h0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,So.EMPTY_BYTE_STRING);yield Gl(i,l,h);break}case"rejected":yield Zh(i.localStore,e,!0),r4(i,e,r);break;default:Kt()}}),Ky.apply(this,arguments)}function gU(n,e,t){return Zy.apply(this,arguments)}function Zy(){return Zy=(0,Je.Z)(function*(n,e,t){const r=Qy(n);if(r.vc){for(const i of e){if(r._c.has(i)){yt("SyncEngine","Adding an already active target "+i);continue}const a=yield xz(r.localStore,i),l=yield Kh(r.localStore,a);yield xy(r,eA(a),l.targetId,!1,l.resumeToken),Cf(r.remoteStore,l)}for(const i of t)r._c.has(i)&&(yield Zh(r.localStore,i,!1).then(()=>{M0(r.remoteStore,i),r4(r,i)}).catch(ku))}}),Zy.apply(this,arguments)}function Qy(n){const e=Lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rU.bind(null,e),e.dc.nu=WB.bind(null,e.eventManager),e.dc.Pc=qB.bind(null,e.eventManager),e}function Xy(n){const e=Lt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oU.bind(null,e),e}class I0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Je.Z)(function*(){t.serializer=T0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Tz(this.persistence,new Ez,e.initialUser,this.serializer)}createPersistence(e){return new U9(ff.zs,this.serializer)}createSharedClientState(e){return new Oz}terminate(){var e=this;return(0,Je.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Jy extends I0{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Je.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield Xy(r.Vc.syncEngine),yield Xh(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Tz(this.persistence,new Ez,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new mz(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new YV(t,this.persistence);return new UV(e.asyncQueue,r)}createPersistence(e){const t=$9(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Is.withCacheSize(this.cacheSizeBytes):Is.DEFAULT;return new j9(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Nz(),wf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Oz}}class tA extends Jy{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Je.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof ey&&(r.sharedClientState.syncEngine={jr:hU.bind(null,i),zr:mU.bind(null,i),Wr:gU.bind(null,i),$i:pU.bind(null,i),Qr:dU.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,Je.Z)(function*(l){yield function fU(n,e){return Wy.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Nz();if(!ey.D(t))throw new dt(qe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=$9(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ey(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class o4{initialize(e,t){var r=this;return(0,Je.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Qz(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=cU.bind(null,r.syncEngine),yield _y(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new GB}createDatastore(e){const t=T0(e.databaseInfo.databaseId),r=new xB(e.databaseInfo);return new PB(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=h=>Qz(this.syncEngine,h,0),l=Rz.D()?new Rz:new DB,new RB(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,h,v,E){const P=new JB(r,i,a,l,h,v);return E&&(P.vc=!0),P}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Je.Z)(function*(t){const r=Lt(t);yt("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Qh(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function nA(n,e=10240){let t=0;return{read:()=>(0,Je.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Je.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Sf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):to("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class _U{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new bo,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Je.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Je.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Je.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new KB(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Je.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Je.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Je.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class wU{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Je.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new dt(qe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Je.Z)(function*(a,l){const h=Lt(a),v=m0(h.serializer)+"/documents",E={documents:l.map(ce=>p0(h.serializer,ce))},P=yield h.vo("BatchGetDocuments",v,E,l.length),U=new Map;P.forEach(ce=>{const ve=function BH(n,e){return"found"in e?function(t,r){rn(!!r.found);const i=ll(t,r.found.name),a=no(r.found.updateTime),l=r.found.createTime?no(r.found.createTime):sn.min(),h=new os({mapValue:{fields:r.found.fields}});return Ci.newFoundDocument(i,a,l,h)}(n,e):"missing"in e?function(t,r){rn(!!r.missing),rn(!!r.readTime);const i=ll(t,r.missing),a=no(r.readTime);return Ci.newNoDocument(i,a)}(n,e):Kt()}(h.serializer,ce);U.set(ve.key.toString(),ve)});const ne=[];return l.forEach(ce=>{const ve=U.get(ce.toString());rn(!!ve),ne.push(ve)}),ne}),function(a,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new jh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Je.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Rt.fromPath(i);e.mutations.push(new S9(a,e.precondition(a)))}),yield(r=(0,Je.Z)(function*(i,a){const l=Lt(i),h=m0(l.serializer)+"/documents",v={writes:a.map(E=>g0(l.serializer,E))};yield l.Io("Commit",h,v)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Kt();t=sn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new dt(qe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(sn.min())?Pi.exists(!1):Pi.updateTime(t):Pi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(sn.min()))throw new dt(qe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pi.updateTime(t)}return Pi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class CU{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new ny(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Je.Z)(function*(){const t=new wU(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!Q2(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ix(t)}return!1}}class bU{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ko.UNAUTHENTICATED,this.clientId=TI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,Je.Z)(function*(h){yt("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(yt("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Je.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new dt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new bo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Je.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=e4(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Ef(n,e){return e_.apply(this,arguments)}function e_(){return e_=(0,Je.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),yt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Je.Z)(function*(a){r.isEqual(a)||(yield Dz(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),e_.apply(this,arguments)}function t_(n,e){return n_.apply(this,arguments)}function n_(){return n_=(0,Je.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield r_(n);yt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Yz(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Yz(e.remoteStore,a)),n._onlineComponents=e}),n_.apply(this,arguments)}function rA(n){return"FirebaseError"===n.name?n.code===qe.FAILED_PRECONDITION||n.code===qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function r_(n){return i_.apply(this,arguments)}function i_(){return i_=(0,Je.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){yt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ef(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!rA(t))throw t;nc("Error using user provided cache. Falling back to memory cache: "+t),yield Ef(n,new I0)}}else yt("FirestoreClient","Using default OfflineComponentProvider"),yield Ef(n,new I0);return n._offlineComponents}),i_.apply(this,arguments)}function Tf(n){return o_.apply(this,arguments)}function o_(){return o_=(0,Je.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(yt("FirestoreClient","Using user provided OnlineComponentProvider"),yield t_(n,n._uninitializedComponentsProvider._online)):(yt("FirestoreClient","Using default OnlineComponentProvider"),yield t_(n,new o4))),n._onlineComponents}),o_.apply(this,arguments)}function iA(n){return r_(n).then(e=>e.persistence)}function Df(n){return r_(n).then(e=>e.localStore)}function oA(n){return Tf(n).then(e=>e.remoteStore)}function s_(n){return Tf(n).then(e=>e.syncEngine)}function s4(n){return a_.apply(this,arguments)}function a_(){return a_=(0,Je.Z)(function*(n){const e=yield Tf(n),t=e.eventManager;return t.onListen=eU.bind(null,e.syncEngine),t.onUnlisten=tU.bind(null,e.syncEngine),t}),a_.apply(this,arguments)}function aA(n,e,t={}){const r=new bo;return n.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return function(i,a,l,h,v){const E=new Sf({next:U=>{a.enqueueAndForget(()=>Ey(i,P));const ne=U.docs.has(l);!ne&&U.fromCache?v.reject(new dt(qe.UNAVAILABLE,"Failed to get document because the client is offline.")):ne&&U.fromCache&&h&&"server"===h.source?v.reject(new dt(qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(U)},error:U=>v.reject(U)}),P=new My(Hh(l.path),E,{includeMetadataChanges:!0,Ku:!0});return by(i,P)}(yield s4(n),n.asyncQueue,e,t,r)})),r.promise}function cA(n,e,t={}){const r=new bo;return n.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return function(i,a,l,h,v){const E=new Sf({next:U=>{a.enqueueAndForget(()=>Ey(i,P)),U.fromCache&&"server"===h.source?v.reject(new dt(qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(U)},error:U=>v.reject(U)}),P=new My(l,E,{includeMetadataChanges:!0,Ku:!0});return by(i,P)}(yield s4(n),n.asyncQueue,e,t,r)})),r.promise}function lA(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const uA=new Map;function c_(n,e,t){if(!t)throw new dt(qe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dA(n,e,t,r){if(!0===e&&!0===r)throw new dt(qe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hA(n){if(!Rt.isDocumentKey(n))throw new dt(qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fA(n){if(Rt.isDocumentKey(n))throw new dt(qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mf(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Kt()}function gr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new dt(qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mf(n);throw new dt(qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function pA(n,e){if(e<=0)throw new dt(qe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class mA{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new dt(qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new dt(qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=lA(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new dt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new dt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new dt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class x0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new dt(qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new dt(qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mA(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new zV;switch(t.type){case"firstParty":return new OV(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new dt(qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=uA.get(e);t&&(yt("ComponentProvider","Removing Datastore"),uA.delete(e),t.terminate())}(this),Promise.resolve()}}class bi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bi(this.firestore,e,this._key)}}class ss{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class ul extends ss{constructor(e,t,r){super(e,t,Hh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bi(this.firestore,null,new Rt(e))}withConverter(e){return new ul(this.firestore,e,this._path)}}function vA(n,e,...t){if(n=(0,Wn.m9)(n),c_("collection","path",e),n instanceof x0){const r=Mr.fromString(e,...t);return fA(r),new ul(n,null,r)}{if(!(n instanceof bi||n instanceof ul))throw new dt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mr.fromString(e,...t));return fA(r),new ul(n.firestore,null,r)}}function If(n,e,...t){if(n=(0,Wn.m9)(n),1===arguments.length&&(e=TI.A()),c_("doc","path",e),n instanceof x0){const r=Mr.fromString(e,...t);return hA(r),new bi(n,null,new Rt(r))}{if(!(n instanceof bi||n instanceof ul))throw new dt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mr.fromString(e,...t));return hA(r),new bi(n.firestore,n instanceof ul?n.converter:null,new Rt(r))}}function yA(n,e){return n=(0,Wn.m9)(n),e=(0,Wn.m9)(e),(n instanceof bi||n instanceof ul)&&(e instanceof bi||e instanceof ul)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function l_(n,e){return n=(0,Wn.m9)(n),e=(0,Wn.m9)(e),n instanceof ss&&e instanceof ss&&n.firestore===e.firestore&&o0(n._query,e._query)&&n.converter===e.converter}class PU{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ny(this,"async_queue_retry"),this.Xc=()=>{const t=wf();t&&yt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=wf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=wf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new bo;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Je.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ou(t))throw t;yt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,to("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=Cy.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&Kt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Je.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function u_(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class kU{constructor(){this._progressObserver={},this._taskCompletionResolver=new bo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Si extends x0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new PU,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||_A(this),this._firestoreClient.terminate()}}function ro(n){return n._firestoreClient||_A(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function _A(n){var e,t,r;const i=n._freezeSettings(),a=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new uH(n._databaseId,h,n._persistenceKey,(E=i).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,lA(E.experimentalLongPollingOptions),E.useFetchStreams));var h,E;n._firestoreClient=new bU(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function wA(n,e,t){const r=new bo;return n.asyncQueue.enqueue((0,Je.Z)(function*(){try{yield Ef(n,t),yield t_(n,e),r.resolve()}catch(i){const a=i;if(!rA(a))throw a;nc("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function CA(n){if(n._initialized||n._terminated)throw new dt(qe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(So.fromBase64String(e))}catch(t){throw new dt(qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dl(So.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new dt(qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pd{constructor(e){this._methodName=e}}class xf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new dt(qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new dt(qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vn(this._lat,e._lat)||Vn(this._long,e._long)}}const jU=/^__.*__$/;class $U{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new jl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yh(e,this.data,t,this.fieldTransforms)}}class bA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new jl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function SA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt()}}class zf{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new zf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return kf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(SA(this.ca)&&jU.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class GU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||T0(e)}ya(e,t,r,i=!1){return new zf({ca:e,methodName:t,ga:r,path:Gi.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function md(n){const e=n._freezeSettings(),t=T0(n._databaseId);return new GU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Af(n,e,t,r,i,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,i);p_("Data must be an object, but it was:",l,r);const h=DA(r,l);let v,E;if(a.merge)v=new ha(l.fieldMask),E=l.fieldTransforms;else if(a.mergeFields){const P=[];for(const U of a.mergeFields){const ne=P0(e,U,t);if(!l.contains(ne))throw new dt(qe.INVALID_ARGUMENT,`Field '${ne}' is specified in your field mask but missing from your input data.`);IA(P,ne)||P.push(ne)}v=new ha(P),E=l.fieldTransforms.filter(U=>v.covers(U.field))}else v=null,E=l.fieldTransforms;return new $U(new os(h),v,E)}class A0 extends pd{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof A0}}function EA(n,e,t){return new zf({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class d_ extends pd{_toFieldTransform(e){return new l0(e.path,new Bh)}isEqual(e){return e instanceof d_}}class WU extends pd{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=EA(this,e,!0),r=this.pa.map(a=>gd(a,t)),i=new od(r);return new l0(e.path,i)}isEqual(e){return this===e}}class qU extends pd{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=EA(this,e,!0),r=this.pa.map(a=>gd(a,t)),i=new sd(r);return new l0(e.path,i)}isEqual(e){return this===e}}class KU extends pd{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Uh(e.serializer,vx(e.serializer,this.Ia));return new l0(e.path,t)}isEqual(e){return this===e}}function h_(n,e,t,r){const i=n.ya(1,e,t);p_("Data must be an object, but it was:",i,r);const a=[],l=os.empty();Ru(r,(v,E)=>{const P=Pf(e,v,t);E=(0,Wn.m9)(E);const U=i.da(P);if(E instanceof A0)a.push(P);else{const ne=gd(E,U);null!=ne&&(a.push(P),l.set(P,ne))}});const h=new ha(a);return new bA(l,h,i.fieldTransforms)}function f_(n,e,t,r,i,a){const l=n.ya(1,e,t),h=[P0(e,r,t)],v=[i];if(a.length%2!=0)throw new dt(qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ne=0;ne<a.length;ne+=2)h.push(P0(e,a[ne])),v.push(a[ne+1]);const E=[],P=os.empty();for(let ne=h.length-1;ne>=0;--ne)if(!IA(E,h[ne])){const ce=h[ne];let ve=v[ne];ve=(0,Wn.m9)(ve);const ke=l.da(ce);if(ve instanceof A0)E.push(ce);else{const $e=gd(ve,ke);null!=$e&&(E.push(ce),P.set(ce,$e))}}const U=new ha(E);return new bA(P,U,l.fieldTransforms)}function TA(n,e,t,r=!1){return gd(t,n.ya(r?4:3,e))}function gd(n,e){if(MA(n=(0,Wn.m9)(n)))return p_("Unsupported field value:",e,n),DA(n,e);if(n instanceof pd)return function(t,r){if(!SA(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let h=gd(l,r.wa(a));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Wn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vx(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ai.fromDate(t);return{timestampValue:$h(r.serializer,i)}}if(t instanceof Ai){const i=new Ai(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$h(r.serializer,i)}}if(t instanceof xf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof dl)return{bytesValue:Lx(r.serializer,t._byteString)};if(t instanceof bi){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:z9(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Mf(t)}`)}(n,e)}function DA(n,e){const t={};return HI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ru(n,(r,i)=>{const a=gd(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function MA(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ai||n instanceof xf||n instanceof dl||n instanceof bi||n instanceof pd)}function p_(n,e,t){if(!MA(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Mf(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function P0(n,e,t){if((e=(0,Wn.m9)(e))instanceof Wl)return e._internalPath;if("string"==typeof e)return Pf(n,e);throw kf("Field path arguments must be of type string or ",n,!1,void 0,t)}const ZU=new RegExp("[~\\*/\\[\\]]");function Pf(n,e,t){if(e.search(ZU)>=0)throw kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wl(...e.split("."))._internalPath}catch{throw kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kf(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let v="";return(a||l)&&(v+=" (found",a&&(v+=` in field ${r}`),l&&(v+=` in document ${i}`),v+=")"),new dt(qe.INVALID_ARGUMENT,h+n+v)}function IA(n,e){return n.some(t=>t.isEqual(e))}class k0{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Of("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QU extends k0{data(){return super.data()}}function Of(n,e){return"string"==typeof e?Pf(n,e):e instanceof Wl?e._internalPath:e._delegate._internalPath}function xA(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new dt(qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m_{}class O0 extends m_{}function qu(n,e,...t){let r=[];e instanceof m_&&r.push(e),r=r.concat(t),function(i){const a=i.filter(h=>h instanceof a4).length,l=i.filter(h=>h instanceof R0).length;if(a>1||a>0&&l>0)throw new dt(qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class R0 extends O0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new R0(e,t,r)}_apply(e){const t=this._parse(e);return kA(e._query,t),new ss(e.firestore,e.converter,w9(e._query,t))}_parse(e){const t=md(e.firestore);return function(i,a,l,h,v,E,P){let U;if(v.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new dt(qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){PA(P,E);const ne=[];for(const ce of P)ne.push(AA(h,i,ce));U={arrayValue:{values:ne}}}else U=AA(h,i,P)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||PA(P,E),U=TA(l,"where",P,"in"===E||"not-in"===E);return mr.create(v,E,U)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class a4 extends m_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new a4(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:qr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const h of l)kA(a,h),a=w9(a,h)}(e._query,t),new ss(e.firestore,e.converter,w9(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class g_ extends O0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new g_(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new dt(qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new dt(qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Lh(i,a);return function(h,v){if(null===y9(h)){const E=Z6(h);null!==E&&OA(0,E,v.field)}}(r,l),l}(e._query,this._field,this._direction);return new ss(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Ul(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Rf extends O0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Rf(e,t,r)}_apply(e){return new ss(e.firestore,e.converter,Q6(e._query,this._limit,this._limitType))}}class Nf extends O0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Nf(e,t,r)}_apply(e){const t=zA(e,this.type,this._docOrFields,this._inclusive);return new ss(e.firestore,e.converter,(i=t,new Ul((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Ff extends O0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ff(e,t,r)}_apply(e){const t=zA(e,this.type,this._docOrFields,this._inclusive);return new ss(e.firestore,e.converter,(i=t,new Ul((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function zA(n,e,t,r){if(t[0]=(0,Wn.m9)(t[0]),t[0]instanceof k0)return function(i,a,l,h,v){if(!h)throw new dt(qe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const E=[];for(const P of id(i))if(P.field.isKeyField())E.push(nd(a,h.key));else{const U=h.data.field(P.field);if(Y6(U))throw new dt(qe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+P.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===U){const ne=P.field.canonicalString();throw new dt(qe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ne}' (used as the orderBy) does not exist.`)}E.push(U)}return new Bu(E,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=md(n.firestore);return function(a,l,h,v,E,P){const U=a.explicitOrderBy;if(E.length>U.length)throw new dt(qe.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ne=[];for(let ce=0;ce<E.length;ce++){const ve=E[ce];if(U[ce].field.isKeyField()){if("string"!=typeof ve)throw new dt(qe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof ve}`);if(!_9(a)&&-1!==ve.indexOf("/"))throw new dt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${ve}' contains a slash.`);const ke=a.path.child(Mr.fromString(ve));if(!Rt.isDocumentKey(ke))throw new dt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ke}' is not because it contains an odd number of segments.`);const $e=new Rt(ke);ne.push(nd(l,$e))}else{const ke=TA(h,v,ve);ne.push(ke)}}return new Bu(ne,P)}(n._query,n.firestore._databaseId,i,e,t,r)}}function AA(n,e,t){if("string"==typeof(t=(0,Wn.m9)(t))){if(""===t)throw new dt(qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_9(e)&&-1!==t.indexOf("/"))throw new dt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Mr.fromString(t));if(!Rt.isDocumentKey(r))throw new dt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nd(n,new Rt(r))}if(t instanceof bi)return nd(n,t._key);throw new dt(qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mf(t)}.`)}function PA(n,e){if(!Array.isArray(n)||0===n.length)throw new dt(qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kA(n,e){if(e.isInequality()){const r=Z6(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new dt(qe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=y9(n);null!==a&&OA(0,i,a)}const t=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new dt(qe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function OA(n,e,t){if(!t.isEqual(e))throw new dt(qe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class v_{convertValue(e,t="none"){switch(Vu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Kt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ru(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new xf(Wi(e.latitude),Wi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=j6(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(J2(e));default:return null}}convertTimestamp(e){const t=Nu(e);return new Ai(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Mr.fromString(e);rn(qx(r));const i=new Fu(r.get(1),r.get(3)),a=new Rt(r.popFirst(5));return i.isEqual(t)||to(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function Lf(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class sY extends v_{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bi(this.firestore,null,t)}}class vd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ql extends k0{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new N0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Of("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class N0 extends ql{data(e={}){return super.data(e)}}class Ku{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new vd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new N0(this._firestore,this._userDataWriter,r.key,r,new vd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new dt(qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new N0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new vd(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const h=new N0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new vd(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,E=-1;return 0!==l.type&&(v=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),E=a.indexOf(l.doc.key)),{type:cY(l.type),doc:h,oldIndex:v,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cY(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt()}}function NA(n,e){return n instanceof ql&&e instanceof ql?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ku&&e instanceof Ku&&n._firestore===e._firestore&&l_(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Zu extends v_{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bi(this.firestore,null,t)}}function FA(n,e,t){n=gr(n,bi);const r=gr(n.firestore,Si),i=Lf(n.converter,e,t);return c4(r,[Af(md(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Pi.none())])}function LA(n,e,t,...r){n=gr(n,bi);const i=gr(n.firestore,Si),a=md(i);let l;return l="string"==typeof(e=(0,Wn.m9)(e))||e instanceof Wl?f_(a,"updateDoc",n._key,e,t,r):h_(a,"updateDoc",n._key,e),c4(i,[l.toMutation(n._key,Pi.exists(!0))])}function VA(n,...e){var t,r,i;n=(0,Wn.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||u_(e[l])||(a=e[l],l++);const h={includeMetadataChanges:a.includeMetadataChanges};if(u_(e[l])){const U=e[l];e[l]=null===(t=U.next)||void 0===t?void 0:t.bind(U),e[l+1]=null===(r=U.error)||void 0===r?void 0:r.bind(U),e[l+2]=null===(i=U.complete)||void 0===i?void 0:i.bind(U)}let v,E,P;if(n instanceof bi)E=gr(n.firestore,Si),P=Hh(n._key.path),v={next:U=>{e[l]&&e[l](y_(E,n,U))},error:e[l+1],complete:e[l+2]};else{const U=gr(n,ss);E=gr(U.firestore,Si),P=U._query;const ne=new Zu(E);v={next:ce=>{e[l]&&e[l](new Ku(E,ne,U,ce))},error:e[l+1],complete:e[l+2]},xA(n._query)}return function(U,ne,ce,ve){const ke=new Sf(ve),$e=new My(ne,ke,ce);return U.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return by(yield s4(U),$e)})),()=>{ke.Dc(),U.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return Ey(yield s4(U),$e)}))}}(ro(E),P,h,v)}function c4(n,e){return function(t,r){const i=new bo;return t.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return function nU(n,e,t){return Py.apply(this,arguments)}(yield s_(t),r,i)})),i.promise}(ro(n),e)}function y_(n,e,t){const r=t.docs.get(e._key),i=new Zu(n);return new ql(n,i,e._key,r,new vd(t.hasPendingWrites,t.fromCache),e.converter)}const DY={maxAttempts:5};class HA{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=md(e)}set(e,t,r){this._verifyNotCommitted();const i=Qu(e,this._firestore),a=Lf(i.converter,t,r),l=Af(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,Pi.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Qu(e,this._firestore);let l;return l="string"==typeof(t=(0,Wn.m9)(t))||t instanceof Wl?f_(this._dataReader,"WriteBatch.update",a._key,t,r,i):h_(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,Pi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Qu(e,this._firestore);return this._mutations=this._mutations.concat(new jh(t._key,Pi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new dt(qe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qu(n,e){if((n=(0,Wn.m9)(n)).firestore!==e)throw new dt(qe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class MY extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=md(e)}get(e){const t=Qu(e,this._firestore),r=new sY(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Kt();const a=i[0];if(a.isFoundDocument())return new k0(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new k0(this._firestore,r,t._key,null,t.converter);throw Kt()})}set(e,t,r){const i=Qu(e,this._firestore),a=Lf(i.converter,t,r),l=Af(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const a=Qu(e,this._firestore);let l;return l="string"==typeof(t=(0,Wn.m9)(t))||t instanceof Wl?f_(this._dataReader,"Transaction.update",a._key,t,r,i):h_(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=Qu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Qu(e,this._firestore),r=new Zu(this._firestore);return super.get(e).then(i=>new ql(this._firestore,r,t._key,i._document,new vd(!1,!1),t.converter))}}!function(n,e=!0){Oh=Ic.SDK_VERSION,(0,Ic._registerComponent)(new Dh.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new Si(new PV(t.getProvider("auth-internal")),new RV(t.getProvider("app-check-internal")),function(h,v){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new dt(qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(h.options.projectId,v)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,Ic.registerVersion)(bI,"3.13.0",n),(0,Ic.registerVersion)(bI,"3.13.0","esm2017")}();function __(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new dt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function UA(){if(typeof Uint8Array>"u")throw new dt("unimplemented","Uint8Arrays are not available in this environment.")}function YA(){if(!function cH(){return typeof atob<"u"}())throw new dt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class F0{constructor(e){this._delegate=e}static fromBase64String(e){return YA(),new F0(dl.fromBase64String(e))}static fromUint8Array(e){return UA(),new F0(dl.fromUint8Array(e))}toBase64(){return YA(),this._delegate.toBase64()}toUint8Array(){return UA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function w_(n){return function NY(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class FY{enableIndexedDbPersistence(e,t){return function RU(n,e){CA(n=gr(n,Si));const t=ro(n);if(t._uninitializedComponentsProvider)throw new dt(qe.FAILED_PRECONDITION,"SDK cache is already specified.");nc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new o4;return wA(t,i,new Jy(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function NU(n){CA(n=gr(n,Si));const e=ro(n);if(e._uninitializedComponentsProvider)throw new dt(qe.FAILED_PRECONDITION,"SDK cache is already specified.");nc("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new o4;return wA(e,r,new tA(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function FU(n){if(n._initialized&&!n._terminated)throw new dt(qe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bo;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Je.Z)(function*(){try{yield(t=(0,Je.Z)(function*(r){if(!Ac.D())return Promise.resolve();const i=r+"main";yield Ac.delete(i)}),function(r){return t.apply(this,arguments)})($9(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class jA{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&nc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function gA(n,e,t,r={}){var i;const a=(n=gr(n,x0))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==l&&nc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let h,v;if("string"==typeof r.mockUserToken)h=r.mockUserToken,v=ko.MOCK_USER;else{h=(0,Wn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new dt(qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new ko(E)}n._authCredentials=new AV(new SI(h,v))}}(this._delegate,e,t,r)}enableNetwork(){return function VU(n){return function SU(n){return n.asyncQueue.enqueue((0,Je.Z)(function*(){const e=yield iA(n),t=yield oA(n);return e.setNetworkEnabled(!0),function(r){const i=Lt(r);return i.vu.delete(0),D0(i)}(t)}))}(ro(n=gr(n,Si)))}(this._delegate)}disableNetwork(){return function HU(n){return function EU(n){return n.asyncQueue.enqueue((0,Je.Z)(function*(){const e=yield iA(n),t=yield oA(n);return e.setNetworkEnabled(!1),(r=(0,Je.Z)(function*(i){const a=Lt(i);a.vu.add(0),yield Qh(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(ro(n=gr(n,Si)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,dA("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function LU(n){return function(e){const t=new bo;return e.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return function sU(n,e){return Fy.apply(this,arguments)}(yield s_(e),t)})),t.promise}(ro(n=gr(n,Si)))}(this._delegate)}onSnapshotsInSync(e){return function vY(n,e){return function MU(n,e){const t=new Sf(e);return n.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return r=yield s4(n),i=t,Lt(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return r=yield s4(n),i=t,void Lt(r).ku.delete(i);var r,i}))}}(ro(n=gr(n,Si)),u_(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new dt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new l4(this,vA(this._delegate,e))}catch(t){throw qs(t,"collection()","Firestore.collection()")}}doc(e){try{return new rc(this,If(this._delegate,e))}catch(t){throw qs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ks(this,function AU(n,e){if(n=gr(n,x0),c_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new dt(qe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ss(n,null,(t=e,new Ul(Mr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw qs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function IY(n,e,t){n=gr(n,Si);const r=Object.assign(Object.assign({},DY),t);return function(i){if(i.maxAttempts<1)throw new dt(qe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const h=new bo;return i.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){const v=yield function sA(n){return Tf(n).then(e=>e.datastore)}(i);new CU(i.asyncQueue,v,l,a,h).run()})),h.promise}(ro(n),i=>e(new MY(n,i)),r)}(this._delegate,t=>e(new $A(this,t)))}batch(){return ro(this._delegate),new GA(new HA(this._delegate,e=>c4(this._delegate,e)))}loadBundle(e){return function BU(n,e){const t=ro(n=gr(n,Si)),r=new kU;return function IU(n,e,t,r){const i=function(a,l){let h;return h="string"==typeof a?zx().encode(a):a,v=function(v,E){if(v instanceof Uint8Array)return nA(v,E);if(v instanceof ArrayBuffer)return nA(new Uint8Array(v),E);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new _U(v,l);var v}(t,T0(e));n.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){!function vU(n,e,t){const r=Lt(n);var i;(i=(0,Je.Z)(function*(a,l,h){try{const v=yield l.getMetadata();if(yield function(ne,ce){const ve=Lt(ne),ke=no(ce.createTime);return ve.persistence.runTransaction("hasNewerBundle","readonly",$e=>ve.qs.getBundleMetadata($e,ce.id)).then($e=>!!$e&&$e.createTime.compareTo(ke)>=0)}(a.localStore,v))return yield l.close(),h._completeWith({taskState:"Success",documentsLoaded:(ne=v).totalDocuments,bytesLoaded:ne.totalBytes,totalDocuments:ne.totalDocuments,totalBytes:ne.totalBytes}),Promise.resolve(new Set);h._updateProgress(Gz(v));const E=new ZB(v,a.localStore,l.serializer);let P=yield l.bc();for(;P;){const ne=yield E.zu(P);ne&&h._updateProgress(ne),P=yield l.bc()}const U=yield E.complete();return yield Gl(a,U.Ju,void 0),yield function(ne,ce){const ve=Lt(ne);return ve.persistence.runTransaction("Save bundle","readwrite",ke=>ve.qs.saveBundleMetadata(ke,ce))}(a.localStore,v),h._completeWith(U.progress),Promise.resolve(U.Hu)}catch(v){return nc("SyncEngine",`Loading bundle failed with ${v}`),h._failWith(v),Promise.resolve(new Set)}var ne}),function(a,l,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield s_(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function UU(n,e){return function xU(n,e){return n.asyncQueue.enqueue((0,Je.Z)(function*(){return function(t,r){const i=Lt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield Df(n),e)}))}(ro(n=gr(n,Si)),e).then(t=>t?new ss(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ks(this,t):null)}}class Vf extends v_{constructor(e){super(),this.firestore=e}convertBytes(e){return new F0(new dl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return rc.forKey(t,this.firestore,null)}}class $A{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Vf(e)}get(e){const t=_d(e);return this._delegate.get(t).then(r=>new L0(this._firestore,new ql(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=_d(e);return r?(__("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=_d(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=_d(e);return this._delegate.delete(t),this}}class GA{constructor(e){this._delegate=e}set(e,t,r){const i=_d(e);return r?(__("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=_d(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=_d(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class yd{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new N0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new V0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=yd.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new yd(e,new Vf(e),t),i.set(t,a)),a}}yd.INSTANCES=new WeakMap;class rc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vf(e)}static forPath(e,t,r){if(e.length%2!=0)throw new dt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new rc(t,new bi(t._delegate,r,new Rt(e)))}static forKey(e,t,r){return new rc(t,new bi(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new l4(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new l4(this.firestore,vA(this._delegate,e))}catch(t){throw qs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Wn.m9)(e))instanceof bi&&yA(this._delegate,e)}set(e,t){t=__("DocumentReference.set",t);try{return t?FA(this._delegate,e,t):FA(this._delegate,e)}catch(r){throw qs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?LA(this._delegate,e):LA(this._delegate,e,t,...r)}catch(i){throw qs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function mY(n){return c4(gr(n.firestore,Si),[new jh(n._key,Pi.none())])}(this._delegate)}onSnapshot(...e){const t=WA(e),r=qA(e,i=>new L0(this.firestore,new ql(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return VA(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function uY(n){n=gr(n,bi);const e=gr(n.firestore,Si),t=ro(e),r=new Zu(e);return function TU(n,e){const t=new bo;return n.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return(r=(0,Je.Z)(function*(i,a,l){try{const h=yield function(v,E){const P=Lt(v);return P.persistence.runTransaction("read document","readonly",U=>P.localDocuments.getDocument(U,E))}(i,a);h.isFoundDocument()?l.resolve(h):h.isNoDocument()?l.resolve(null):l.reject(new dt(qe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const v=e4(h,`Failed to get document '${a} from cache`);l.reject(v)}}),function(i,a,l){return r.apply(this,arguments)})(yield Df(n),e,t);var r})),t.promise}(t,n._key).then(i=>new ql(e,r,n._key,i,new vd(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function dY(n){n=gr(n,bi);const e=gr(n.firestore,Si);return aA(ro(e),n._key,{source:"server"}).then(t=>y_(e,n,t))}(this._delegate):function lY(n){n=gr(n,bi);const e=gr(n.firestore,Si);return aA(ro(e),n._key).then(t=>y_(e,n,t))}(this._delegate),t.then(r=>new L0(this.firestore,new ql(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new rc(this.firestore,this._delegate.withConverter(e?yd.getInstance(this.firestore,e):null))}}function qs(n,e,t){return n.message=n.message.replace(e,t),n}function WA(n){for(const e of n)if("object"==typeof e&&!w_(e))return e;return{}}function qA(n,e){var t,r;let i;return i=w_(n[0])?n[0]:w_(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class L0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new rc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return NA(this._delegate,e._delegate)}}class V0 extends L0{data(e){const t=this._delegate.data(e);return function xV(n,e){n||Kt()}(void 0!==t),t}}class Ks{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Vf(e)}where(e,t,r){try{return new Ks(this.firestore,qu(this._delegate,function XU(n,e,t){const r=e,i=Of("where",n);return R0._create(i,r,t)}(e,t,r)))}catch(i){throw qs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ks(this.firestore,qu(this._delegate,function JU(n,e="asc"){const t=e,r=Of("orderBy",n);return g_._create(r,t)}(e,t)))}catch(r){throw qs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ks(this.firestore,qu(this._delegate,function eY(n){return pA("limit",n),Rf._create("limit",n,"F")}(e)))}catch(t){throw qs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ks(this.firestore,qu(this._delegate,function tY(n){return pA("limitToLast",n),Rf._create("limitToLast",n,"L")}(e)))}catch(t){throw qs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ks(this.firestore,qu(this._delegate,function nY(...n){return Nf._create("startAt",n,!0)}(...e)))}catch(t){throw qs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ks(this.firestore,qu(this._delegate,function rY(...n){return Nf._create("startAfter",n,!1)}(...e)))}catch(t){throw qs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ks(this.firestore,qu(this._delegate,function iY(...n){return Ff._create("endBefore",n,!1)}(...e)))}catch(t){throw qs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ks(this.firestore,qu(this._delegate,function oY(...n){return Ff._create("endAt",n,!0)}(...e)))}catch(t){throw qs(t,"endAt()","Query.endAt()")}}isEqual(e){return l_(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function fY(n){n=gr(n,ss);const e=gr(n.firestore,Si),t=ro(e),r=new Zu(e);return function DU(n,e){const t=new bo;return n.asyncQueue.enqueueAndForget((0,Je.Z)(function*(){return(r=(0,Je.Z)(function*(i,a,l){try{const h=yield gf(i,a,!0),v=new Kz(a,h.ir),E=v.sc(h.documents),P=v.applyChanges(E,!1);l.resolve(P.snapshot)}catch(h){const v=e4(h,`Failed to execute query '${a} against cache`);l.reject(v)}}),function(i,a,l){return r.apply(this,arguments)})(yield Df(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Ku(e,r,n,i))}(this._delegate):"server"===e?.source?function pY(n){n=gr(n,ss);const e=gr(n.firestore,Si),t=ro(e),r=new Zu(e);return cA(t,n._query,{source:"server"}).then(i=>new Ku(e,r,n,i))}(this._delegate):function hY(n){n=gr(n,ss);const e=gr(n.firestore,Si),t=ro(e),r=new Zu(e);return xA(n._query),cA(t,n._query).then(i=>new Ku(e,r,n,i))}(this._delegate),t.then(r=>new C_(this.firestore,new Ku(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=WA(e),r=qA(e,i=>new C_(this.firestore,new Ku(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return VA(this._delegate,t,r)}withConverter(e){return new Ks(this.firestore,this._delegate.withConverter(e?yd.getInstance(this.firestore,e):null))}}class VY{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new V0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class C_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ks(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new V0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new VY(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new V0(this._firestore,r))})}isEqual(e){return NA(this._delegate,e._delegate)}}class l4 extends Ks{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new rc(this.firestore,e):null}doc(e){try{return new rc(this.firestore,void 0===e?If(this._delegate):If(this._delegate,e))}catch(t){throw qs(t,"doc()","CollectionReference.doc()")}}add(e){return function gY(n,e){const t=gr(n.firestore,Si),r=If(n),i=Lf(n.converter,e);return c4(t,[Af(md(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Pi.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new rc(this.firestore,t))}isEqual(e){return yA(this._delegate,e._delegate)}withConverter(e){return new l4(this.firestore,this._delegate.withConverter(e?yd.getInstance(this.firestore,e):null))}}function _d(n){return gr(n,bi)}class b_{constructor(...e){this._delegate=new Wl(...e)}static documentId(){return new b_(Gi.keyField().canonicalString())}isEqual(e){return(e=(0,Wn.m9)(e))instanceof Wl&&this._delegate._internalPath.isEqual(e._internalPath)}}class wd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function zY(){return new d_("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new wd(e)}static delete(){const e=function xY(){return new A0("deleteField")}();return e._methodName="FieldValue.delete",new wd(e)}static arrayUnion(...e){const t=function AY(...n){return new WU("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new wd(t)}static arrayRemove(...e){const t=function PY(...n){return new qU("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new wd(t)}static increment(e){const t=function kY(n){return new KU("increment",n)}(e);return t._methodName="FieldValue.increment",new wd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const HY={Firestore:jA,GeoPoint:xf,Timestamp:Ai,Blob:F0,Transaction:$A,WriteBatch:GA,DocumentReference:rc,DocumentSnapshot:L0,Query:Ks,QueryDocumentSnapshot:V0,QuerySnapshot:C_,CollectionReference:l4,FieldPath:b_,FieldValue:wd,setLogLevel:function LY(n){!function IV(n){Pu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function UY(n){(function BY(n,e){n.INTERNAL.registerComponent(new Dh.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},HY)))})(n,(e,t)=>new jA(e,t,new FY)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(oM.Z);var H0=R(5363),ic=R(3900),YY=R(6063);class jY extends di.x{constructor(e=1/0,t=1/0,r=YY.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let h=0;for(let v=1;v<r.length&&r[v]<=l;v+=2)h=v;h&&r.splice(0,h+1)}}}function S_(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Q.B)({connector:()=>new jY(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}var $Y=R(590);function KA(n,e){return(0,Iu.m)(e)?(0,ic.w)(()=>n,e):(0,ic.w)(()=>n)}var E_=R(9468),Cd=R(259);class B0{constructor(e){return e}}class ZA{constructor(){return(0,Cd.C6)()}}const T_=new m.OlP("angularfire2._apps"),WY={provide:B0,useFactory:function GY(n){return n&&1===n.length?n[0]:new B0((0,Cd.Mq)())},deps:[[new m.FiY,T_]]},qY={provide:ZA,deps:[[new m.FiY,T_]]};function KY(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new B0(r)}}let ZY=(()=>{class n{constructor(t){(0,Cd.KN)("angularfire",Fr.q4.full,"core"),(0,Cd.KN)("angularfire",Fr.q4.full,"app"),(0,Cd.KN)("angular",m.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.Lbi))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[WY,qY]}),n})();function QY(n,...e){return{ngModule:ZY,providers:[{provide:T_,useFactory:KY(n),multi:!0,deps:[m.R0b,m.zs3,Fr.HU,...e]}]}}const XY=(0,Fr.u3)(Cd.ZF,!0),D_=new Map,QA={activated:!1,tokenObservers:[]},JY={initialized:!1,enabled:!1};function qi(n){return D_.get(n)||Object.assign({},QA)}function Hf(){return JY}const M_="https://content-firebaseappcheck.googleapis.com/v1",rj="exchangeDebugToken",XA={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class oj{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Je.Z)(function*(){t.stop();try{t.pending=new Wn.BH,yield function sj(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Wn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const as=new Wn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function I_(n){if(!qi(n).activated)throw as.create("use-before-activation",{appName:n.name})}function Yf(n,e){return z_.apply(this,arguments)}function z_(){return z_=(0,Je.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const U=yield i.getHeartbeatsHeader();U&&(r["X-Firebase-Client"]=U)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,h;try{l=yield fetch(n,a)}catch(U){throw as.create("fetch-network-error",{originalErrorMessage:U?.message})}if(200!==l.status)throw as.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(U){throw as.create("fetch-parse-error",{originalErrorMessage:U?.message})}const v=h.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw as.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const E=1e3*Number(v[1]),P=Date.now();return{token:h.token,expireTimeMillis:P+E,issuedAtTimeMillis:P}}),z_.apply(this,arguments)}function JA(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${M_}/projects/${t}/apps/${r}:${rj}?key=${i}`,body:{debug_token:e}}}const uj="firebase-app-check-database",dj=1,U0="firebase-app-check-store";let jf=null;function A_(){return A_=(0,Je.Z)(function*(n,e){const r=(yield function tP(){return jf||(jf=new Promise((n,e)=>{try{const t=indexedDB.open(uj,dj);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(as.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(U0,{keyPath:"compositeKey"})}}catch(t){e(as.create("storage-open",{originalErrorMessage:t?.message}))}}),jf)}()).transaction(U0,"readwrite"),a=r.objectStore(U0).put({compositeKey:n,value:e});return new Promise((l,h)=>{a.onsuccess=v=>{l()},r.onerror=v=>{var E;h(as.create("storage-set",{originalErrorMessage:null===(E=v.target.error)||void 0===E?void 0:E.message}))}})}),A_.apply(this,arguments)}const Y0=new xu.Yd("@firebase/app-check");function O_(n,e){return(0,Wn.hl)()?function fj(n,e){return function nP(n,e){return A_.apply(this,arguments)}(function iP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Y0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function N_(){return Hf().enabled}function F_(){return L_.apply(this,arguments)}function L_(){return L_=(0,Je.Z)(function*(){const n=Hf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),L_.apply(this,arguments)}const _j={error:"UNKNOWN_ERROR"};function wj(n){return Wn.US.encodeString(JSON.stringify(n),!1)}function $f(n){return V_.apply(this,arguments)}function V_(){return V_=(0,Je.Z)(function*(n,e=!1){const t=n.app;I_(t);const r=qi(t);let a,i=r.token;if(i&&!u4(i)&&(r.token=void 0,i=void 0),!i){const v=yield r.cachedTokenPromise;v&&(u4(v)?i=v:yield O_(t,void 0))}if(!e&&i&&u4(i))return{token:i.token};let h,l=!1;if(N_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Yf(JA(t,yield F_()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const v=yield r.exchangeTokenPromise;return yield O_(t,v),r.token=v,{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield qi(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?Y0.warn(v.message):Y0.error(v),a=v}return i?a?h=u4(i)?{token:i.token,internalError:a}:cP(a):(h={token:i.token},r.token=i,yield O_(t,i)):h=cP(a),l&&function aP(n,e){const t=qi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,h),h}),V_.apply(this,arguments)}function H_(){return H_=(0,Je.Z)(function*(n){const e=n.app;I_(e);const{provider:t}=qi(e);if(N_()){const r=yield F_(),{token:i}=yield Yf(JA(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),H_.apply(this,arguments)}function U_(n,e){const t=qi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function sP(n){const{app:e}=n,t=qi(e);let r=t.tokenRefresher;r||(r=function Cj(n){const{app:e}=n;return new oj((0,Je.Z)(function*(){let r;if(r=qi(e).token?yield $f(n,!0):yield $f(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=qi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},XA.RETRIAL_MIN_WAIT,XA.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function u4(n){return n.expireTimeMillis-Date.now()>0}function cP(n){return{token:wj(_j),error:n}}class bj{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=qi(this.app);for(const t of e)U_(this.app,t.next);return Promise.resolve()}}const gP="app-check-internal";!function Nj(){(0,Ic._registerComponent)(new Dh.wA("app-check",n=>function Sj(n,e){return new bj(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(gP).initialize()})),(0,Ic._registerComponent)(new Dh.wA(gP,n=>function Ej(n){return{getToken:e=>$f(n,e),getLimitedUseToken:()=>function oP(n){return H_.apply(this,arguments)}(n),addTokenListener:e=>function B_(n,e,t,r){const{app:i}=n,a=qi(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&u4(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),sP(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>sP(n))}(n,"INTERNAL",e),removeTokenListener:e=>U_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ic.registerVersion)("@firebase/app-check","0.8.0")}();class j0{constructor(){return(0,Fr.vb)("app-check")}}typeof window<"u"&&window;var Bj=R(9260);const yP=new m.OlP("angularfire2.auth.use-emulator"),_P=new m.OlP("angularfire2.auth.settings"),wP=new m.OlP("angularfire2.auth.tenant-id"),CP=new m.OlP("angularfire2.auth.langugage-code"),bP=new m.OlP("angularfire2.auth.use-device-language"),SP=new m.OlP("angularfire.auth.persistence"),EP=(n,e,t,r,i,a,l,h)=>(0,Co.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,a&&v.useDeviceLanguage(),l)for(const[E,P]of Object.entries(l))v.settings[E]=P;return h&&v.setPersistence(h),v},[t,r,i,a,l,h]);let W_=(()=>{class n{constructor(t,r,i,a,l,h,v,E,P,U,ne,ce){const ve=new di.x,ke=(0,xo.of)(void 0).pipe((0,H0.Q)(l.outsideAngular),(0,ic.w)(()=>a.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,9568)))),(0,Fe.U)(()=>(0,Co.on)(t,a,r)),(0,Fe.U)($e=>EP($e,a,h,E,P,U,v,ne)),S_({bufferSize:1,refCount:!1}));if((0,V.PM)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,xo.of)(null);else{ke.pipe((0,$Y.P)()).subscribe();const mt=ke.pipe((0,ic.w)(Pt=>Pt.getRedirectResult().then(Cn=>Cn,()=>null)),Fr.iC,S_({bufferSize:1,refCount:!1})),Vt=ke.pipe((0,ic.w)(Pt=>new pe.y(Cn=>({unsubscribe:a.runOutsideAngular(()=>Pt.onAuthStateChanged(mn=>Cn.next(mn),mn=>Cn.error(mn),()=>Cn.complete()))})))),xt=ke.pipe((0,ic.w)(Pt=>new pe.y(Cn=>({unsubscribe:a.runOutsideAngular(()=>Pt.onIdTokenChanged(mn=>Cn.next(mn),mn=>Cn.error(mn),()=>Cn.complete()))}))));this.authState=mt.pipe(KA(Vt),(0,E_.R)(l.outsideAngular),(0,H0.Q)(l.insideAngular)),this.user=mt.pipe(KA(xt),(0,E_.R)(l.outsideAngular),(0,H0.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,ic.w)(Pt=>Pt?(0,de.D)(Pt.getIdToken()):(0,xo.of)(null))),this.idTokenResult=this.user.pipe((0,ic.w)(Pt=>Pt?(0,de.D)(Pt.getIdTokenResult()):(0,xo.of)(null))),this.credential=(0,HD.T)(mt,ve,this.authState.pipe((0,zo.h)(Pt=>!Pt))).pipe((0,Fe.U)(Pt=>Pt?.user?Pt:null),(0,E_.R)(l.outsideAngular),(0,H0.Q)(l.insideAngular))}return(0,Co.pX)(this,ke,a,{spy:{apply:($e,mt,Vt)=>{($e.startsWith("signIn")||$e.startsWith("createUser"))&&Vt.then(xt=>ve.next(xt))}}})}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Co.Dh),m.LFG(Co.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Fr.HU),m.LFG(yP,8),m.LFG(_P,8),m.LFG(wP,8),m.LFG(CP,8),m.LFG(bP,8),m.LFG(SP,8),m.LFG(j0,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function TP(n,e){return function Yj(n,e=a6.z){return new pe.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function q_(n,e){return TP(n,e).pipe((0,Fe.U)(t=>({payload:t,type:"query"})))}function Wf(n,e){return q_(n,e).pipe((0,T2.O)(void 0),pv(),(0,Fe.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,h)=>{const v=i.find(P=>P.doc.ref.isEqual(l.ref)),E=t?.payload.docs.find(P=>P.ref.isEqual(l.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(l.metadata)||!v&&E&&JSON.stringify(E.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:l}})}),a}))}function DP(n,e,t){return Wf(n,t).pipe((0,mv.R)((r,i)=>function $j(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Gj(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return K_(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return K_(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return K_(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function _L(n,e=yL.y){return n=n??wL,(0,E2.e)((t,r)=>{let i,a=!0;t.subscribe((0,Ae.x)(r,l=>{const h=e(l);(a||!n(i,h))&&(a=!1,i=h,r.next(l))}))})}(),(0,Fe.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function K_(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function MP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class IP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Wf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Fe.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe((0,T2.O)(void 0),pv(),(0,zo.h)(([r,i])=>i.length>0||!r),(0,Fe.U)(([r,i])=>i),Fr.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,mv.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=MP(e);return DP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(e={}){return q_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Fr.iC)}get(e){return(0,de.D)(this.query.get(e)).pipe(Fr.iC)}add(e){return this.ref.add(e)}doc(e){return new xP(this.ref.doc(e),this.afs)}}class xP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=PP(r,t);return new IP(i,a,this.afs)}snapshotChanges(){return function jj(n,e){return TP(n,e).pipe((0,T2.O)(void 0),pv(),(0,Fe.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Fe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,de.D)(this.ref.get(e)).pipe(Fr.iC)}}class Wj{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Wf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,zo.h)(t=>t.length>0),Fr.iC):Wf(this.query,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,mv.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=MP(e);return DP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(e={}){return q_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Fr.iC)}get(e){return(0,de.D)(this.query.get(e)).pipe(Fr.iC)}}const zP=new m.OlP("angularfire2.enableFirestorePersistence"),AP=new m.OlP("angularfire2.firestore.persistenceSettings"),qj=new m.OlP("angularfire2.firestore.settings"),Kj=new m.OlP("angularfire2.firestore.use-emulator");function PP(n,e=(t=>t)){return{query:e(n),ref:n}}let kP=(()=>{class n{constructor(t,r,i,a,l,h,v,E,P,U,ne,ce,ve,ke,$e,mt,Vt){this.schedulers=v;const xt=(0,Co.on)(t,h,r),Pt=P;U&&EP(xt,h,ne,ve,ke,$e,ce,mt),[this.firestore,this.persistenceEnabled$]=(0,Co.cc)(`${xt.name}.firestore`,"AngularFirestore",xt.name,()=>{const Cn=h.runOutsideAngular(()=>xt.firestore());if(a&&Cn.settings(a),Pt&&Cn.useEmulator(...Pt),i&&!(0,V.PM)(l)){const mn=()=>{try{return(0,de.D)(Cn.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(or){return typeof console<"u"&&console.warn(or),(0,xo.of)(!1)}};return[Cn,h.runOutsideAngular(mn)]}return[Cn,(0,xo.of)(!1)]},[a,Pt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=PP(i,r),h=this.schedulers.ngZone.run(()=>a);return new IP(h,l,this)}collectionGroup(t,r){const i=r||(l=>l),a=this.firestore.collectionGroup(t);return new Wj(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new xP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Co.Dh),m.LFG(Co.xv,8),m.LFG(zP,8),m.LFG(qj,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Fr.HU),m.LFG(AP,8),m.LFG(Kj,8),m.LFG(W_,8),m.LFG(yP,8),m.LFG(_P,8),m.LFG(wP,8),m.LFG(CP,8),m.LFG(bP,8),m.LFG(SP,8),m.LFG(j0,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Zj=(()=>{class n{constructor(){Bj.Z.registerVersion("angularfire",Fr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:zP,useValue:!0},{provide:AP,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[kP]}),n})();const OP_firebase={apiKey:"AIzaSyAwit8Gs6gctZ11MqSefvXa0Gd15lzVpaw",authDomain:"sell-project-83c72.firebaseapp.com",projectId:"sell-project-83c72",storageBucket:"sell-project-83c72.firebasestorage.app",messagingSenderId:"196626313279",appId:"1:196626313279:web:5ea38e5b40202f1eb9488a",measurementId:"G-7WBCQW6ZC6"};class RP{}class Qj{}const Kl="*";function NP(n,e=null){return{type:2,steps:n,options:e}}function FP(n){return{type:6,styles:n,offset:null}}function LP(n){Promise.resolve().then(n)}class $0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){LP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class VP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?LP(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Z_="!";function HP(n){return new m.vHH(3e3,!1)}function P$(){return typeof window<"u"&&typeof window.document<"u"}function Q_(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Xu(n){switch(n.length){case 0:return new $0;case 1:return n[0];default:return new VP(n)}}function BP(n,e,t,r,i=new Map,a=new Map){const l=[],h=[];let v=-1,E=null;if(r.forEach(P=>{const U=P.get("offset"),ne=U==v,ce=ne&&E||new Map;P.forEach((ve,ke)=>{let $e=ke,mt=ve;if("offset"!==ke)switch($e=e.normalizePropertyName($e,l),mt){case Z_:mt=i.get(ke);break;case Kl:mt=a.get(ke);break;default:mt=e.normalizeStyleValue(ke,$e,mt,l)}ce.set($e,mt)}),ne||h.push(ce),E=ce,v=U}),l.length)throw function w$(n){return new m.vHH(3502,!1)}();return h}function X_(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&J_(t,"start",n)));break;case"done":n.onDone(()=>r(t&&J_(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&J_(t,"destroy",n)))}}function J_(n,e,t){const a=ew(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function ew(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function za(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function UP(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let tw=(n,e)=>!1,YP=(n,e,t)=>[],jP=null;function nw(n){const e=n.parentNode||n.host;return e===jP?null:e}(Q_()||typeof Element<"u")&&(P$()?(jP=(()=>document.documentElement)(),tw=(n,e)=>{for(;e;){if(e===n)return!0;e=nw(e)}return!1}):tw=(n,e)=>n.contains(e),YP=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let bd=null,$P=!1;const GP=tw,WP=YP;let qP=(()=>{class n{validateStyleProperty(t){return function O$(n){bd||(bd=function R$(){return typeof document<"u"?document.body:null}()||{},$P=!!bd.style&&"WebkitAppearance"in bd.style);let e=!0;return bd.style&&!function k$(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in bd.style,!e&&$P&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in bd.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return GP(t,r)}getParentElement(t){return nw(t)}query(t,r,i){return WP(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,l,h=[],v){return new $0(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),rw=(()=>{class n{}return n.NOOP=new qP,n})();const N$=1e3,iw="ng-enter",qf="ng-leave",Kf="ng-trigger",Zf=".ng-trigger",ZP="ng-animating",ow=".ng-animating";function Zl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:sw(parseFloat(e[1]),e[2])}function sw(n,e){return"s"===e?n*N$:n}function Qf(n,e,t){return n.hasOwnProperty("duration")?n:function L$(n,e,t){let i,a=0,l="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(HP()),{duration:0,delay:0,easing:""};i=sw(parseFloat(h[1]),h[2]);const v=h[3];null!=v&&(a=sw(parseFloat(v),h[4]));const E=h[5];E&&(l=E)}else i=n;if(!t){let h=!1,v=e.length;i<0&&(e.push(function Xj(){return new m.vHH(3100,!1)}()),h=!0),a<0&&(e.push(function Jj(){return new m.vHH(3101,!1)}()),h=!0),h&&e.splice(v,0,HP())}return{duration:i,delay:a,easing:l}}(n,e,t)}function G0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function QP(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ju(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function JP(n,e,t){return t?e+":"+t+";":""}function ek(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=JP(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=JP(0,U$(t),n.style[t]));n.setAttribute("style",e)}function hl(n,e,t){n.style&&(e.forEach((r,i)=>{const a=cw(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),Q_()&&ek(n))}function Sd(n,e){n.style&&(e.forEach((t,r)=>{const i=cw(r);n.style[i]=""}),Q_()&&ek(n))}function W0(n){return Array.isArray(n)?1==n.length?n[0]:NP(n):n}const aw=new RegExp("{{\\s*(.+?)\\s*}}","g");function tk(n){let e=[];if("string"==typeof n){let t;for(;t=aw.exec(n);)e.push(t[1]);aw.lastIndex=0}return e}function q0(n,e,t){const r=n.toString(),i=r.replace(aw,(a,l)=>{let h=e[l];return null==h&&(t.push(function t$(n){return new m.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function Xf(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const B$=/-+([a-z0-9])/g;function cw(n){return n.replace(B$,(...e)=>e[1].toUpperCase())}function U$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Aa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function n$(n){return new m.vHH(3004,!1)}()}}function nk(n,e){return window.getComputedStyle(n)[e]}const tp="*";function q$(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function K$(n,e,t){if(":"==n[0]){const v=function Z$(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function g$(n){return new m.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function m$(n){return new m.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(rk(i,l));"<"==a[0]&&!(i==tp&&l==tp)&&e.push(rk(l,i))}(r,t,e)):t.push(n),t}const np=new Set(["true","1"]),rp=new Set(["false","0"]);function rk(n,e){const t=np.has(n)||rp.has(n),r=np.has(e)||rp.has(e);return(i,a)=>{let l=n==tp||n==i,h=e==tp||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?np.has(n):rp.has(n)),!h&&r&&"boolean"==typeof a&&(h=a?np.has(e):rp.has(e)),l&&h}}const Q$=new RegExp("s*:selfs*,?","g");function lw(n,e,t,r){return new X$(n).build(e,t,r)}class X${constructor(e){this._driver=e}build(e,t,r){const i=new tG(t);return this._resetContextStyleTimingState(i),Aa(this,W0(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function i$(){return new m.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const v=h,E=v.name;E.toString().split(/\s*,\s*/).forEach(P=>{v.name=P,a.push(this.visitState(v,t))}),v.name=E}else if(1==h.type){const v=this.visitTransition(h,t);r+=v.queryCount,i+=v.depCount,l.push(v)}else t.errors.push(function o$(){return new m.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(v=>{tk(v).forEach(E=>{l.hasOwnProperty(E)||a.add(E)})})}),a.size&&(Xf(a.values()),t.errors.push(function s$(n,e){return new m.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Aa(this,W0(e.animation),t);return{type:1,matchers:q$(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ed(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Aa(this,r,t)),options:Ed(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const h=Aa(this,l,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:a,options:Ed(e.options)}}visitAnimate(e,t){const r=function rG(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return uw(Qf(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=uw(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=Qf(t,e);return uw(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:FP({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,h=!1;if(!l){h=!0;const E={};r.easing&&(E.easing=r.easing),l=FP(E)}t.currentTime+=r.duration+r.delay;const v=this.visitStyle(l,t);v.isEmptyStep=h,i=v}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===Kl?r.push(h):t.errors.push(new m.vHH(3002,!1)):r.push(QP(h));let a=!1,l=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!a))for(let v of h.values())if(v.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,v)=>{const E=t.collectedStyles.get(t.currentQuerySelector),P=E.get(v);let U=!0;P&&(a!=i&&a>=P.startTime&&i<=P.endTime&&(t.errors.push(function c$(n,e,t,r,i){return new m.vHH(3010,!1)}()),U=!1),a=P.startTime),U&&E.set(v,{startTime:a,endTime:i}),t.options&&function H$(n,e,t){const r=e.params||{},i=tk(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function e$(n){return new m.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function l$(){return new m.vHH(3011,!1)}()),r;let a=0;const l=[];let h=!1,v=!1,E=0;const P=e.steps.map(mt=>{const Vt=this._makeStyleAst(mt,t);let xt=null!=Vt.offset?Vt.offset:function nG(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Vt.styles),Pt=0;return null!=xt&&(a++,Pt=Vt.offset=xt),v=v||Pt<0||Pt>1,h=h||Pt<E,E=Pt,l.push(Pt),Vt});v&&t.errors.push(function u$(){return new m.vHH(3012,!1)}()),h&&t.errors.push(function d$(){return new m.vHH(3200,!1)}());const U=e.steps.length;let ne=0;a>0&&a<U?t.errors.push(function h$(){return new m.vHH(3202,!1)}()):0==a&&(ne=1/(U-1));const ce=U-1,ve=t.currentTime,ke=t.currentAnimateTimings,$e=ke.duration;return P.forEach((mt,Vt)=>{const xt=ne>0?Vt==ce?1:ne*Vt:l[Vt],Pt=xt*$e;t.currentTime=ve+ke.delay+Pt,ke.duration=Pt,this._validateStyleAst(mt,t),mt.offset=xt,r.styles.push(mt)}),r}visitReference(e,t){return{type:8,animation:Aa(this,W0(e.animation),t),options:Ed(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ed(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ed(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function J$(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Q$,"")),n=n.replace(/@\*/g,Zf).replace(/@\w+/g,t=>Zf+"-"+t.slice(1)).replace(/:animating/g,ow),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,za(t.collectedStyles,t.currentQuerySelector,new Map);const h=Aa(this,W0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:h,originalSelector:e.selector,options:Ed(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function f$(){return new m.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Qf(e.timings,t.errors,!0);return{type:12,animation:Aa(this,W0(e.animation),t),timings:r,options:null}}}class tG{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ed(n){return n?(n=G0(n)).params&&(n.params=function eG(n){return n?G0(n):null}(n.params)):n={},n}function uw(n,e,t){return{duration:n,delay:e,easing:t}}function dw(n,e,t,r,i,a,l=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:h}}class ip{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const sG=new RegExp(":enter","g"),cG=new RegExp(":leave","g");function hw(n,e,t,r,i,a=new Map,l=new Map,h,v,E=[]){return(new lG).buildKeyframes(n,e,t,r,i,a,l,h,v,E)}class lG{buildKeyframes(e,t,r,i,a,l,h,v,E,P=[]){E=E||new ip;const U=new fw(e,t,E,i,a,P,[]);U.options=v;const ne=v.delay?Zl(v.delay):0;U.currentTimeline.delayNextStep(ne),U.currentTimeline.setStyles([l],null,U.errors,v),Aa(this,r,U);const ce=U.timelines.filter(ve=>ve.containsAnimation());if(ce.length&&h.size){let ve;for(let ke=ce.length-1;ke>=0;ke--){const $e=ce[ke];if($e.element===t){ve=$e;break}}ve&&!ve.allowOnlyTimelineStyles()&&ve.setStyles([h],null,U.errors,v)}return ce.length?ce.map(ve=>ve.buildKeyframes()):[dw(t,[],[],[],0,ne,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const l="number"==typeof a?a:Zl(q0(a,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?Zl(r.duration):null,h=null!=r.delay?Zl(r.delay):null;return 0!==l&&e.forEach(v=>{const E=t.appendInstructionToTimeline(v,l,h);a=Math.max(a,E.duration+E.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Aa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=op);const l=Zl(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Aa(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Zl(e.options.delay):0;e.steps.forEach(l=>{const h=t.createSubContext(e.options);a&&h.delayNextStep(a),Aa(this,l,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Qf(t.params?q0(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(v=>{h.forwardTime((v.offset||0)*a),h.setStyles(v.styles,v.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Zl(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=op);let l=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let v=null;h.forEach((E,P)=>{t.currentQueryIndex=P;const U=t.createSubContext(e.options,E);a&&U.delayNextStep(a),E===t.element&&(v=U.currentTimeline),Aa(this,e.animation,U),U.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,U.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),h=l*(t.currentQueryTotal-1);let v=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":v=h-v;break;case"full":v=r.currentStaggerTime}const P=t.currentTimeline;v&&P.delayNextStep(v);const U=P.currentTime;Aa(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-U+(i.startTime-r.currentTimeline.startTime)}}const op={};class fw{constructor(e,t,r,i,a,l,h,v){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=op,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new sp(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Zl(r.duration)),null!=r.delay&&(i.delay=Zl(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(h=>{(!t||!l.hasOwnProperty(h))&&(l[h]=q0(a[h],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new fw(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=op,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new uG(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(sG,"."+this._enterClassName)).replace(cG,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),h.push(...E)}return!a&&0==h.length&&l.push(function p$(n){return new m.vHH(3014,!1)}()),h}}class sp{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new sp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Kl),this._currentKeyframe.set(t,Kl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function dG(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,Kl)}else Ju(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,v]of l){const E=q0(v,a,r);this._pendingStyles.set(h,E),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Kl),this._updateStyle(h,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,v)=>{const E=Ju(h,new Map,this._backFill);E.forEach((P,U)=>{P===Z_?e.add(U):P===Kl&&t.add(U)}),r||E.set("offset",v/this.duration),i.push(E)});const a=e.size?Xf(e.values()):[],l=t.size?Xf(t.values()):[];if(r){const h=i[0],v=new Map(h);h.set("offset",0),v.set("offset",1),i=[h,v]}return dw(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class uG extends sp{constructor(e,t,r,i,a,l,h=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,h=t/l,v=Ju(e[0]);v.set("offset",0),a.push(v);const E=Ju(e[0]);E.set("offset",sk(h)),a.push(E);const P=e.length-1;for(let U=1;U<=P;U++){let ne=Ju(e[U]);const ce=ne.get("offset");ne.set("offset",sk((t+ce*r)/l)),a.push(ne)}r=l,t=0,i="",e=a}return dw(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function sk(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class pw{}const hG=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fG extends pw{normalizePropertyName(e,t){return cw(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(hG.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function r$(n,e){return new m.vHH(3005,!1)}())}return l+a}}function ak(n,e,t,r,i,a,l,h,v,E,P,U,ne){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:h,queriedElements:v,preStyleProps:E,postStyleProps:P,totalTime:U,errors:ne}}const mw={};class ck{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function pG(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,h,v,E,P){const U=[],ne=this.ast.options&&this.ast.options.params||mw,ve=this.buildStyles(r,h&&h.params||mw,U),ke=v&&v.params||mw,$e=this.buildStyles(i,ke,U),mt=new Set,Vt=new Map,xt=new Map,Pt="void"===i,Cn={params:mG(ke,ne),delay:this.ast.options?.delay},mn=P?[]:hw(e,t,this.ast.animation,a,l,ve,$e,Cn,E,U);let or=0;if(mn.forEach(sr=>{or=Math.max(sr.duration+sr.delay,or)}),U.length)return ak(t,this._triggerName,r,i,Pt,ve,$e,[],[],Vt,xt,or,U);mn.forEach(sr=>{const io=sr.element,ac=za(Vt,io,new Set);sr.preStyleProps.forEach(cc=>ac.add(cc));const As=za(xt,io,new Set);sr.postStyleProps.forEach(cc=>As.add(cc)),io!==t&&mt.add(io)});const Ei=Xf(mt.values());return ak(t,this._triggerName,r,i,Pt,ve,$e,mn,Ei,Vt,xt,or)}}function mG(n,e){const t=G0(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class gG{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=G0(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,h)=>{l&&(l=q0(l,i,t));const v=this.normalizer.normalizePropertyName(h,t);l=this.normalizer.normalizeStyleValue(h,v,l,t),r.set(h,l)})}),r}}class yG{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new gG(i.style,i.options&&i.options.params||{},r))}),lk(this.states,"true","1"),lk(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new ck(e,i,this.states))}),this.fallbackTransition=function _G(n,e,t){return new ck(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function lk(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const wG=new ip;class CG{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],a=lw(this._driver,t,r,i);if(r.length)throw function C$(n){return new m.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=BP(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const h=new Map;if(a?(l=hw(this._driver,t,a,iw,qf,new Map,new Map,r,wG,i),l.forEach(P=>{const U=za(h,P.element,new Map);P.postStyleProps.forEach(ne=>U.set(ne,null))})):(i.push(function b$(){return new m.vHH(3300,!1)}()),l=[]),i.length)throw function S$(n){return new m.vHH(3504,!1)}();h.forEach((P,U)=>{P.forEach((ne,ce)=>{P.set(ce,this._driver.computeStyle(U,ce,Kl))})});const E=Xu(l.map(P=>{const U=h.get(P.element);return this._buildPlayer(P,new Map,U)}));return this._playersById.set(e,E),E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function E$(n){return new m.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=ew(t,"","","");return X_(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const uk="ng-animate-queued",gw="ng-animate-disabled",DG=[],dk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},MG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oc="__ng_removed";class vw{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function AG(n){return n??null}(r?e.value:e),r){const a=G0(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const K0="void",yw=new vw(K0);class IG{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,sc(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function T$(n,e){return new m.vHH(3302,!1)}();if(null==r||0==r.length)throw function D$(n){return new m.vHH(3303,!1)}();if(!function PG(n){return"start"==n||"done"==n}(r))throw function M$(n,e){return new m.vHH(3400,!1)}();const a=za(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const h=za(this._engine.statesByElement,e,new Map);return h.has(t)||(sc(e,Kf),sc(e,Kf+"-"+t),h.set(t,yw)),()=>{this._engine.afterFlush(()=>{const v=a.indexOf(l);v>=0&&a.splice(v,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function I$(n){return new m.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new _w(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(sc(e,Kf),sc(e,Kf+"-"+t),this._engine.statesByElement.set(e,h=new Map));let v=h.get(t);const E=new vw(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&E.absorbOptions(v.options),h.set(t,E),v||(v=yw),E.value!==K0&&v.value===E.value){if(!function RG(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(v.params,E.params)){const ke=[],$e=a.matchStyles(v.value,v.params,ke),mt=a.matchStyles(E.value,E.params,ke);ke.length?this._engine.reportError(ke):this._engine.afterFlush(()=>{Sd(e,$e),hl(e,mt)})}return}const ne=za(this._engine.playersByElement,e,[]);ne.forEach(ke=>{ke.namespaceId==this.id&&ke.triggerName==t&&ke.queued&&ke.destroy()});let ce=a.matchTransition(v.value,E.value,e,E.params),ve=!1;if(!ce){if(!i)return;ce=a.fallbackTransition,ve=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:ce,fromState:v,toState:E,player:l,isFallbackTransition:ve}),ve||(sc(e,uk),l.onStart(()=>{d4(e,uk)})),l.onDone(()=>{let ke=this.players.indexOf(l);ke>=0&&this.players.splice(ke,1);const $e=this._engine.playersByElement.get(e);if($e){let mt=$e.indexOf(l);mt>=0&&$e.splice(mt,1)}}),this.players.push(l),ne.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Zf,!0);r.forEach(i=>{if(i[oc])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const h=[];if(a.forEach((v,E)=>{if(l.set(E,v.value),this._triggers.has(E)){const P=this.trigger(e,E,K0,i);P&&h.push(P)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&Xu(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const v=this._triggers.get(l).fallbackTransition,E=r.get(l)||yw,P=new vw(K0),U=new _w(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:v,fromState:E,toState:P,player:U,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[oc];(!a||a===dk)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){sc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(h=>{if(h.name==r.triggerName){const v=ew(a,r.triggerName,r.fromState.value,r.toState.value);v._data=e,X_(r.player,h.phase,v,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class xG{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new IG(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,h=this.driver.getParentElement(t);for(;h;){const v=i.get(h);if(v){const E=r.indexOf(v);r.splice(E+1,0,e),l=!0;break}h=this.driver.getParentElement(h)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(ap(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!ap(t))return;const a=t[oc];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),sc(e,gw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),d4(e,gw))}removeNode(e,t,r,i){if(ap(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[oc]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return ap(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Zf,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ow,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Xu(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[oc];if(t&&t.setForRemoval){if(e[oc]=dk,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(gw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)sc(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Xu(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function x$(n){return new m.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new ip,i=[],a=new Map,l=[],h=new Map,v=new Map,E=new Map,P=new Set;this.disabledNodes.forEach(Jt=>{P.add(Jt);const Tn=this.driver.query(Jt,".ng-animate-queued",!0);for(let Pn=0;Pn<Tn.length;Pn++)P.add(Tn[Pn])});const U=this.bodyNode,ne=Array.from(this.statesByElement.keys()),ce=pk(ne,this.collectedEnterElements),ve=new Map;let ke=0;ce.forEach((Jt,Tn)=>{const Pn=iw+ke++;ve.set(Tn,Pn),Jt.forEach(Pr=>sc(Pr,Pn))});const $e=[],mt=new Set,Vt=new Set;for(let Jt=0;Jt<this.collectedLeaveElements.length;Jt++){const Tn=this.collectedLeaveElements[Jt],Pn=Tn[oc];Pn&&Pn.setForRemoval&&($e.push(Tn),mt.add(Tn),Pn.hasAnimation?this.driver.query(Tn,".ng-star-inserted",!0).forEach(Pr=>mt.add(Pr)):Vt.add(Tn))}const xt=new Map,Pt=pk(ne,Array.from(mt));Pt.forEach((Jt,Tn)=>{const Pn=qf+ke++;xt.set(Tn,Pn),Jt.forEach(Pr=>sc(Pr,Pn))}),e.push(()=>{ce.forEach((Jt,Tn)=>{const Pn=ve.get(Tn);Jt.forEach(Pr=>d4(Pr,Pn))}),Pt.forEach((Jt,Tn)=>{const Pn=xt.get(Tn);Jt.forEach(Pr=>d4(Pr,Pn))}),$e.forEach(Jt=>{this.processLeaveNode(Jt)})});const Cn=[],mn=[];for(let Jt=this._namespaceList.length-1;Jt>=0;Jt--)this._namespaceList[Jt].drainQueuedTransitions(t).forEach(Pn=>{const Pr=Pn.player,No=Pn.element;if(Cn.push(Pr),this.collectedEnterElements.length){const Ps=No[oc];if(Ps&&Ps.setForMove){if(Ps.previousTriggersValues&&Ps.previousTriggersValues.has(Pn.triggerName)){const xd=Ps.previousTriggersValues.get(Pn.triggerName),lc=this.statesByElement.get(Pn.element);if(lc&&lc.has(Pn.triggerName)){const _p=lc.get(Pn.triggerName);_p.value=xd,lc.set(Pn.triggerName,_p)}}return void Pr.destroy()}}const gl=!U||!this.driver.containsElement(U,No),ka=xt.get(No),t1=ve.get(No),Ni=this._buildInstruction(Pn,r,t1,ka,gl);if(Ni.errors&&Ni.errors.length)return void mn.push(Ni);if(gl)return Pr.onStart(()=>Sd(No,Ni.fromStyles)),Pr.onDestroy(()=>hl(No,Ni.toStyles)),void i.push(Pr);if(Pn.isFallbackTransition)return Pr.onStart(()=>Sd(No,Ni.fromStyles)),Pr.onDestroy(()=>hl(No,Ni.toStyles)),void i.push(Pr);const mO=[];Ni.timelines.forEach(Ps=>{Ps.stretchStartingKeyframe=!0,this.disabledNodes.has(Ps.element)||mO.push(Ps)}),Ni.timelines=mO,r.append(No,Ni.timelines),l.push({instruction:Ni,player:Pr,element:No}),Ni.queriedElements.forEach(Ps=>za(h,Ps,[]).push(Pr)),Ni.preStyleProps.forEach((Ps,xd)=>{if(Ps.size){let lc=v.get(xd);lc||v.set(xd,lc=new Set),Ps.forEach((_p,Nw)=>lc.add(Nw))}}),Ni.postStyleProps.forEach((Ps,xd)=>{let lc=E.get(xd);lc||E.set(xd,lc=new Set),Ps.forEach((_p,Nw)=>lc.add(Nw))})});if(mn.length){const Jt=[];mn.forEach(Tn=>{Jt.push(function z$(n,e){return new m.vHH(3505,!1)}())}),Cn.forEach(Tn=>Tn.destroy()),this.reportError(Jt)}const or=new Map,Ei=new Map;l.forEach(Jt=>{const Tn=Jt.element;r.has(Tn)&&(Ei.set(Tn,Tn),this._beforeAnimationBuild(Jt.player.namespaceId,Jt.instruction,or))}),i.forEach(Jt=>{const Tn=Jt.element;this._getPreviousPlayers(Tn,!1,Jt.namespaceId,Jt.triggerName,null).forEach(Pr=>{za(or,Tn,[]).push(Pr),Pr.destroy()})});const sr=$e.filter(Jt=>gk(Jt,v,E)),io=new Map;fk(io,this.driver,Vt,E,Kl).forEach(Jt=>{gk(Jt,v,E)&&sr.push(Jt)});const As=new Map;ce.forEach((Jt,Tn)=>{fk(As,this.driver,new Set(Jt),v,Z_)}),sr.forEach(Jt=>{const Tn=io.get(Jt),Pn=As.get(Jt);io.set(Jt,new Map([...Array.from(Tn?.entries()??[]),...Array.from(Pn?.entries()??[])]))});const cc=[],Md=[],Id={};l.forEach(Jt=>{const{element:Tn,player:Pn,instruction:Pr}=Jt;if(r.has(Tn)){if(P.has(Tn))return Pn.onDestroy(()=>hl(Tn,Pr.toStyles)),Pn.disabled=!0,Pn.overrideTotalTime(Pr.totalTime),void i.push(Pn);let No=Id;if(Ei.size>1){let ka=Tn;const t1=[];for(;ka=ka.parentNode;){const Ni=Ei.get(ka);if(Ni){No=Ni;break}t1.push(ka)}t1.forEach(Ni=>Ei.set(Ni,No))}const gl=this._buildAnimation(Pn.namespaceId,Pr,or,a,As,io);if(Pn.setRealPlayer(gl),No===Id)cc.push(Pn);else{const ka=this.playersByElement.get(No);ka&&ka.length&&(Pn.parentPlayer=Xu(ka)),i.push(Pn)}}else Sd(Tn,Pr.fromStyles),Pn.onDestroy(()=>hl(Tn,Pr.toStyles)),Md.push(Pn),P.has(Tn)&&i.push(Pn)}),Md.forEach(Jt=>{const Tn=a.get(Jt.element);if(Tn&&Tn.length){const Pn=Xu(Tn);Jt.setRealPlayer(Pn)}}),i.forEach(Jt=>{Jt.parentPlayer?Jt.syncPlayerEvents(Jt.parentPlayer):Jt.destroy()});for(let Jt=0;Jt<$e.length;Jt++){const Tn=$e[Jt],Pn=Tn[oc];if(d4(Tn,qf),Pn&&Pn.hasAnimation)continue;let Pr=[];if(h.size){let gl=h.get(Tn);gl&&gl.length&&Pr.push(...gl);let ka=this.driver.query(Tn,ow,!0);for(let t1=0;t1<ka.length;t1++){let Ni=h.get(ka[t1]);Ni&&Ni.length&&Pr.push(...Ni)}}const No=Pr.filter(gl=>!gl.destroyed);No.length?kG(this,Tn,No):this.processLeaveNode(Tn)}return $e.length=0,cc.forEach(Jt=>{this.players.push(Jt),Jt.onDone(()=>{Jt.destroy();const Tn=this.players.indexOf(Jt);this.players.splice(Tn,1)}),Jt.play()}),cc}elementContainsData(e,t){let r=!1;const i=t[oc];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(l=h)}else{const h=this.playersByElement.get(e);if(h){const v=!a||a==K0;h.forEach(E=>{E.queued||!v&&E.triggerName!=i||l.push(E)})}}return(r||i)&&(l=l.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const E=v.element,P=E!==a,U=za(r,E,[]);this._getPreviousPlayers(E,P,l,h,t.toState).forEach(ce=>{const ve=ce.getRealPlayer();ve.beforeDestroy&&ve.beforeDestroy(),ce.destroy(),U.push(ce)})}Sd(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const h=t.triggerName,v=t.element,E=[],P=new Set,U=new Set,ne=t.timelines.map(ve=>{const ke=ve.element;P.add(ke);const $e=ke[oc];if($e&&$e.removedBeforeQueried)return new $0(ve.duration,ve.delay);const mt=ke!==v,Vt=function OG(n){const e=[];return mk(n,e),e}((r.get(ke)||DG).map(or=>or.getRealPlayer())).filter(or=>!!or.element&&or.element===ke),xt=a.get(ke),Pt=l.get(ke),Cn=BP(0,this._normalizer,0,ve.keyframes,xt,Pt),mn=this._buildPlayer(ve,Cn,Vt);if(ve.subTimeline&&i&&U.add(ke),mt){const or=new _w(e,h,ke);or.setRealPlayer(mn),E.push(or)}return mn});E.forEach(ve=>{za(this.playersByQueriedElement,ve.element,[]).push(ve),ve.onDone(()=>function zG(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,ve.element,ve))}),P.forEach(ve=>sc(ve,ZP));const ce=Xu(ne);return ce.onDestroy(()=>{P.forEach(ve=>d4(ve,ZP)),hl(v,t.toStyles)}),U.forEach(ve=>{za(i,ve,[]).push(ce)}),ce}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new $0(e.duration,e.delay)}}class _w{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new $0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>X_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){za(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ap(n){return n&&1===n.nodeType}function hk(n,e){const t=n.style.display;return n.style.display=e??"none",t}function fk(n,e,t,r,i){const a=[];t.forEach(v=>a.push(hk(v)));const l=[];r.forEach((v,E)=>{const P=new Map;v.forEach(U=>{const ne=e.computeStyle(E,U,i);P.set(U,ne),(!ne||0==ne.length)&&(E[oc]=MG,l.push(E))}),n.set(E,P)});let h=0;return t.forEach(v=>hk(v,a[h++])),l}function pk(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=1,i=new Set(e),a=new Map;function l(h){if(!h)return r;let v=a.get(h);if(v)return v;const E=h.parentNode;return v=t.has(E)?E:i.has(E)?r:l(E),a.set(h,v),v}return e.forEach(h=>{const v=l(h);v!==r&&t.get(v).push(h)}),t}function sc(n,e){n.classList?.add(e)}function d4(n,e){n.classList?.remove(e)}function kG(n,e,t){Xu(t).onDone(()=>n.processLeaveNode(e))}function mk(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof VP?mk(r.players,e):e.push(r)}}function gk(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class cp{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new xG(e,t,r),this._timelineEngine=new CG(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let h=this._triggerCache[l];if(!h){const v=[],E=[],P=lw(this._driver,a,v,E);if(v.length)throw function _$(n,e){return new m.vHH(3404,!1)}();h=function vG(n,e,t){return new yG(n,e,t)}(i,P,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=UP(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,h]=UP(r);return this._timelineEngine.listen(l,t,h,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let FG=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&hl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hl(this._element,this._initialStyles),this._endStyles&&(hl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Sd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Sd(this._element,this._endStyles),this._endStyles=null),hl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ww(n){let e=null;return n.forEach((t,r)=>{(function LG(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class vk{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:nk(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class VG{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return GP(e,t)}getParentElement(e){return nw(e)}query(e,t,r){return WP(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const v={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(v.easing=a);const E=new Map,P=l.filter(ce=>ce instanceof vk);(function Y$(n,e){return 0===n||0===e})(r,i)&&P.forEach(ce=>{ce.currentSnapshot.forEach((ve,ke)=>E.set(ke,ve))});let U=function V$(n){return n.length?n[0]instanceof Map?n:n.map(e=>QP(e)):[]}(t).map(ce=>Ju(ce));U=function j$(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(h=>l.set(h,nk(n,h)))}}return e}(e,U,E);const ne=function NG(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=ww(e[0]),e.length>1&&(r=ww(e[e.length-1]))):e instanceof Map&&(t=ww(e)),t||r?new FG(n,t,r):null}(e,U);return new vk(e,U,v,ne)}}let HG=(()=>{class n extends RP{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:m.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?NP(t):t;return yk(this._renderer,null,r,"register",[i]),new BG(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.FYo),m.LFG(V.K0))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class BG extends Qj{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new UG(this._id,e,t||{},this._renderer)}}class UG{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return yk(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function yk(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const _k="@.disabled";let YG=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const h=l?.parentNode(a);h&&l.removeChild(h,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let P=this._rendererCache.get(a);return P||(P=new wk("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,P)),P}const l=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const v=P=>{Array.isArray(P)?P.forEach(v):this.engine.registerTrigger(l,h,t,P.name,P)};return r.data.animation.forEach(v),new jG(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,h]=a;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.FYo),m.LFG(cp),m.LFG(m.R0b))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class wk{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==_k?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class jG extends wk{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==_k?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function $G(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function GG(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let WG=(()=>{class n extends cp{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(V.K0),m.LFG(rw),m.LFG(pw),m.LFG(m.z2F))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const Ck=[{provide:RP,useClass:HG},{provide:pw,useFactory:function qG(){return new fG}},{provide:cp,useClass:WG},{provide:m.FYo,useFactory:function KG(n,e,t){return new YG(n,e,t)},deps:[C.se,cp,m.R0b]}],Cw=[{provide:rw,useFactory:()=>new VG},{provide:m.QbO,useValue:"BrowserAnimations"},...Ck],bk=[{provide:rw,useClass:qP},{provide:m.QbO,useValue:"NoopAnimations"},...Ck];let ZG=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?bk:Cw}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:Cw,imports:[C.b2]}),n})();var up=R(5137);const QG=[{path:"",loadChildren:()=>R.e(38).then(R.bind(R,3038)).then(n=>n.TemplateModule)}];let XG=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[up.Bz.forRoot(QG),up.Bz]}),n})();const Sk="body[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background-color:var(--ion-color-hu-background)}.container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;align-items:center;justify-content:space-between}.navbar[_ngcontent-%COMP%]{background-color:var(--ion-color-hu-header);padding:0;box-shadow:0 2px 8px #0000001a}.navbar__logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:block}.navbar__logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:24px;font-weight:900;color:var(--ion-color-hu-white);line-height:1.2;letter-spacing:-1px;display:block}.navbar__menu[_ngcontent-%COMP%]{display:flex;list-style:none;gap:40px;margin:0}.navbar__menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-hu-white);text-decoration:none;font-size:16px;font-weight:500;padding:28px 0;display:block;transition:color .3s ease;opacity:.9}.navbar__menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:1;color:var(--ion-color-hu-green_light)}.navbar__actions[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center}.btn[_ngcontent-%COMP%]{padding:12px 28px;border-radius:24px;text-decoration:none;font-weight:600;font-size:16px;transition:all .3s ease;display:inline-block;border:2px solid transparent}.btn--login[_ngcontent-%COMP%]{background-color:transparent;color:var(--ion-color-hu-white);border-color:var(--ion-color-hu-white)}.btn--login[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-hu-white);color:var(--ion-color-hu-green)}.btn--primary[_ngcontent-%COMP%]{background-color:var(--ion-color-hu-white);color:var(--ion-color-hu-green);box-shadow:0 4px 12px #69b93f33}.btn--primary[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-hu-green_light);color:var(--ion-color-hu-black);box-shadow:0 6px 16px #2fe6de4d;transform:translateY(-2px)}@media (max-width: 992px){.navbar__menu[_ngcontent-%COMP%]{gap:24px}.navbar__menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}.btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:14px}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-wrap:wrap;gap:16px}.navbar__menu[_ngcontent-%COMP%]{order:3;width:100%;justify-content:center;gap:20px;padding-bottom:16px}.navbar__actions[_ngcontent-%COMP%]{gap:12px}}.ion-color-hu-black[_ngcontent-%COMP%]{--ion-color-base: var(--ion-color-hu-black) !important}.ion-color-hu-brown[_ngcontent-%COMP%]{--ion-color-base: var(--ion-color-hu-brown) !important}.ion-color-hu-red[_ngcontent-%COMP%]{--ion-color-base: var(--ion-color-hu-red) !important}.ion-color-hu-orange[_ngcontent-%COMP%]{--ion-color-base: var(--ion-color-hu-orange) !important}.ion-color-hu-white[_ngcontent-%COMP%]{--ion-color-base: var(--ion-color-hu-white) !important}";let JG=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-header"]],decls:33,vars:0,consts:[["lang","vi"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"navbar"],[1,"container"],[1,"navbar__logo"],["href","/"],[1,"logo-text"],[1,"navbar__menu"],["href","#languages"],["href","/courses"],["href","/roadmap"],["href","/about"],[1,"navbar__actions"],["href","/login",1,"btn","btn--login"],["href","#start",1,"btn","btn--primary"]],template:function(i,a){1&i&&(m.TgZ(0,"html",0)(1,"head"),m._UZ(2,"meta",1)(3,"meta",2),m.TgZ(4,"title"),m._uU(5,"Memrise Style Navigation"),m.qZA()(),m.TgZ(6,"body")(7,"nav",3)(8,"div",4)(9,"div",5)(10,"a",6)(11,"span",7),m._uU(12,"MEM"),m._UZ(13,"br"),m._uU(14,"RISE"),m.qZA()()(),m.TgZ(15,"ul",8)(16,"li")(17,"a",9),m._uU(18,"Languages"),m.qZA()(),m.TgZ(19,"li")(20,"a",10),m._uU(21,"Courses"),m.qZA()(),m.TgZ(22,"li")(23,"a",11),m._uU(24,"Roadmap"),m.qZA()(),m.TgZ(25,"li")(26,"a",12),m._uU(27,"About"),m.qZA()()(),m.TgZ(28,"div",13)(29,"a",14),m._uU(30,"Login"),m.qZA(),m.TgZ(31,"a",15),m._uU(32,"Start Learning"),m.qZA()()()()()())},styles:[Sk,Sk]}),n})();const Ek="body[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;background-color:var(--ion-color-hu-background)}.container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px}.footer[_ngcontent-%COMP%]{background-color:var(--ion-color-hu-header);padding:60px 20px 40px;color:var(--ion-color-hu-white)}.footer__top[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:24px;margin-bottom:40px}.footer__logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:36px;font-weight:900;color:var(--ion-color-hu-orange);line-height:1.1;letter-spacing:-1px;display:block;text-align:center}.footer__social[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;margin:32px 0}.footer__social[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]{width:48px;height:48px;border:2px solid var(--ion-color-hu-white);border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--ion-color-hu-white);transition:all .3s ease;text-decoration:none}.footer__social[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.footer__social[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-hu-white);color:var(--ion-color-footer-bg);transform:translateY(-3px)}.footer__links[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:40px;max-width:1000px;margin:0 auto;padding-top:40px;border-top:1px solid rgba(255,255,255,.2)}.footer__column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:column;gap:12px}.footer__column[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-hu-white);text-decoration:none;font-size:15px;font-weight:400;transition:all .3s ease;display:inline-block}.footer__column[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--ion-color-hu-orange);transform:translate(4px)}.btn[_ngcontent-%COMP%]{padding:14px 40px;border-radius:24px;text-decoration:none;font-weight:700;font-size:16px;transition:all .3s ease;display:inline-block;border:none;cursor:pointer}.btn--cta[_ngcontent-%COMP%]{background-color:var(--ion-color-hu-orange);color:var(--ion-color-hu-white);box-shadow:0 4px 12px #146daf4d}.btn--cta[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-hu-green);box-shadow:0 6px 16px #69b93f66;transform:translateY(-2px)}@media (max-width: 992px){.footer__links[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:32px}}@media (max-width: 768px){.footer[_ngcontent-%COMP%]{padding:48px 20px 32px}.footer__top[_ngcontent-%COMP%]{gap:20px;margin-bottom:32px}.footer__logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:28px}.footer__social[_ngcontent-%COMP%]{margin:24px 0;gap:12px}.footer__social[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]{width:44px;height:44px}.footer__social[_ngcontent-%COMP%]   .social-link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.footer__links[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:24px;padding-top:32px}.footer__column[_ngcontent-%COMP%]{text-align:center}.footer__column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{align-items:center}.btn--cta[_ngcontent-%COMP%]{padding:12px 32px;font-size:15px}}";let eW=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-footer"]],decls:78,vars:0,consts:[["lang","vi"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"footer"],[1,"container"],[1,"footer__top"],[1,"footer__logo"],[1,"logo-text"],["href","#start",1,"btn","btn--cta"],[1,"footer__social"],["href","#facebook","aria-label","Facebook",1,"social-link"],["width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["href","#twitter","aria-label","Twitter",1,"social-link"],["d","M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["href","#youtube","aria-label","YouTube",1,"social-link"],["d","M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M9.75 15.02l5.75-3.27-5.75-3.27v6.54z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["href","#instagram","aria-label","Instagram",1,"social-link"],["x","2","y","2","width","20","height","20","rx","5","ry","5","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","17.5","y1","6.5","x2","17.51","y2","6.5","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"footer__links"],[1,"footer__column"],["href","#about"],["href","#contact"],["href","#faq"],["href","#arabic"],["href","#spanish"],["href","#french"],["href","#arabic-course"],["href","#spanish-course"],["href","#french-course"],["href","#arabic-phrasebook"],["href","#spanish-phrasebook"],["href","#french-phrasebook"]],template:function(i,a){1&i&&(m.TgZ(0,"html",0)(1,"head"),m._UZ(2,"meta",1)(3,"meta",2),m.TgZ(4,"title"),m._uU(5,"Footer Section"),m.qZA()(),m.TgZ(6,"body")(7,"footer",3)(8,"div",4)(9,"div",5)(10,"div",6)(11,"span",7),m._uU(12,"MEM"),m._UZ(13,"br"),m._uU(14,"RISE"),m.qZA()(),m.TgZ(15,"a",8),m._uU(16,"Start learning"),m.qZA()(),m.TgZ(17,"div",9)(18,"a",10),m.O4$(),m.TgZ(19,"svg",11),m._UZ(20,"path",12),m.qZA()(),m.kcU(),m.TgZ(21,"a",13),m.O4$(),m.TgZ(22,"svg",11),m._UZ(23,"path",14),m.qZA()(),m.kcU(),m.TgZ(24,"a",15),m.O4$(),m.TgZ(25,"svg",11),m._UZ(26,"path",16)(27,"path",17),m.qZA()(),m.kcU(),m.TgZ(28,"a",18),m.O4$(),m.TgZ(29,"svg",11),m._UZ(30,"rect",19)(31,"path",20)(32,"line",21),m.qZA()()(),m.kcU(),m.TgZ(33,"div",22)(34,"div",23)(35,"ul")(36,"li")(37,"a",24),m._uU(38,"About Us"),m.qZA()(),m.TgZ(39,"li")(40,"a",25),m._uU(41,"Contact Us"),m.qZA()(),m.TgZ(42,"li")(43,"a",26),m._uU(44,"FAQ & Help"),m.qZA()()()(),m.TgZ(45,"div",23)(46,"ul")(47,"li")(48,"a",27),m._uU(49,"Learn Arabic"),m.qZA()(),m.TgZ(50,"li")(51,"a",28),m._uU(52,"Learn Spanish"),m.qZA()(),m.TgZ(53,"li")(54,"a",29),m._uU(55,"Learn French"),m.qZA()()()(),m.TgZ(56,"div",23)(57,"ul")(58,"li")(59,"a",30),m._uU(60,"Arabic Course"),m.qZA()(),m.TgZ(61,"li")(62,"a",31),m._uU(63,"Spanish Course"),m.qZA()(),m.TgZ(64,"li")(65,"a",32),m._uU(66,"French Course"),m.qZA()()()(),m.TgZ(67,"div",23)(68,"ul")(69,"li")(70,"a",33),m._uU(71,"Arabic Phrasebook"),m.qZA()(),m.TgZ(72,"li")(73,"a",34),m._uU(74,"Spanish Phrasebook"),m.qZA()(),m.TgZ(75,"li")(76,"a",35),m._uU(77,"French Phrasebook"),m.qZA()()()()()()()()())},styles:[Ek,Ek]}),n})(),tW=(()=>{const e=class{constructor(){}ngOnInit(){}};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=m.Xpm({type:e,selectors:[["app-root"]],decls:4,vars:0,template:function(i,a){1&i&&(m.TgZ(0,"main"),m._UZ(1,"app-header")(2,"router-outlet")(3,"app-footer"),m.qZA())},dependencies:[up.lC,JG,eW]}),n})();var nW=R(1389);class bw{constructor(e){return e}}const Sw=new m.OlP("angularfire2.auth-instances");function oW(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new bw(r)}}const sW={provide:class rW{constructor(){return(0,Fr.vb)("auth")}},deps:[[new m.FiY,Sw]]},aW={provide:bw,useFactory:function iW(n,e){const t=(0,Fr.JM)("auth",n,e);return t&&new bw(t)},deps:[[new m.FiY,Sw],B0]};let cW=(()=>{class n{constructor(){(0,Cd.KN)("angularfire",Fr.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[aW,sW]}),n})();function lW(n,...e){return{ngModule:cW,providers:[{provide:Sw,useFactory:oW(n),multi:!0,deps:[m.R0b,m.zs3,Fr.HU,ZA,[new m.FiY,j0],...e]}]}}const uW=(0,Fr.u3)(nW.o,!0),Td=void 0,hW=["en",[["a","p"],["AM","PM"],Td],[["AM","PM"],Td,Td],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Td,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Td,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Td,"{1} 'at' {0}",Td],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dW(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}],fW=new m.OlP("DynamicComponentInjector");new m.OlP("EventArgument",{providedIn:"root",factory:function pW(){return"$event"}}),new m.OlP("IoEventContext"),new m.OlP("IoEventContextProvider");let mW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();new m.OlP("ReflectRef",{providedIn:"root",factory:()=>window.Reflect});let Dk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[mW]}),n})(),gW=(()=>{class n{constructor(t){this.vcr=t,this.ndcDynamicCreated=new m.vpe,this.componentRef=null}ngOnChanges(t){n.UpdateOnInputs.some(r=>t.hasOwnProperty(r))&&this.createDynamicComponent()}createDynamicComponent(){this.vcr.clear(),this.componentRef=null,this.ndcDynamicComponent&&(this.componentRef=this.vcr.createComponent(this.ndcDynamicComponent,{index:0,injector:this._resolveInjector(),projectableNodes:this.ndcDynamicContent,ngModuleRef:this.ndcDynamicNgModuleRef,environmentInjector:this.ndcDynamicEnvironmentInjector}),this.ndcDynamicCreated.emit(this.componentRef))}_resolveInjector(){let t=this.ndcDynamicInjector||this.vcr.injector;return this.ndcDynamicProviders&&(t=m.zs3.create({providers:this.ndcDynamicProviders,parent:t})),t}}return n.UpdateOnInputs=["ndcDynamicComponent","ndcDynamicInjector","ndcDynamicProviders","ndcDynamicContent","ndcDynamicNgModuleRef","ndcDynamicEnvironmentInjector"],n.\u0275fac=function(t){return new(t||n)(m.Y36(m.s_b))},n.\u0275cmp=m.Xpm({type:n,selectors:[["ndc-dynamic"]],inputs:{ndcDynamicComponent:"ndcDynamicComponent",ndcDynamicInjector:"ndcDynamicInjector",ndcDynamicProviders:"ndcDynamicProviders",ndcDynamicContent:"ndcDynamicContent",ndcDynamicNgModuleRef:"ndcDynamicNgModuleRef",ndcDynamicEnvironmentInjector:"ndcDynamicEnvironmentInjector"},outputs:{ndcDynamicCreated:"ndcDynamicCreated"},standalone:!0,features:[m._Bn([{provide:fW,useExisting:n}]),m.TTD,m.jDz],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),vW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Dk,gW,Dk]}),n})();const Mk="firebasestorage.googleapis.com",Ik="storageBucket";class Ri extends Wn.ZR{constructor(e,t,r=0){super(Ew(e),`Firebase Storage: ${t} (${Ew(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ri.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ew(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var pi=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(pi||(pi={})),pi))();function Ew(n){return"storage/"+n}function Tw(){return new Ri(pi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function xk(){return new Ri(pi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zk(){return new Ri(pi.CANCELED,"User canceled the upload/download.")}function Ak(){return new Ri(pi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function h4(n){return new Ri(pi.INVALID_ARGUMENT,n)}function Pk(){return new Ri(pi.APP_DELETED,"The Firebase app was deleted.")}function kk(n){return new Ri(pi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Z0(n,e){return new Ri(pi.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Q0(n){throw new Ri(pi.INTERNAL_ERROR,"Internal error: "+n)}class zs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=zs.makeFromUrl(e,t)}catch{return new zs(e,"")}if(""===r.path)return r;throw function MW(n){return new Ri(pi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function E(Pt){Pt.path_=decodeURIComponent(Pt.path)}const U=t.replace(/[.]/g,"\\."),xt=[{regex:h,indices:{bucket:1,path:3},postModify:function a(Pt){"/"===Pt.path.charAt(Pt.path.length-1)&&(Pt.path_=Pt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${U}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:E},{regex:new RegExp(`^https?://${t===Mk?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:E}];for(let Pt=0;Pt<xt.length;Pt++){const Cn=xt[Pt],mn=Cn.regex.exec(e);if(mn){let Ei=mn[Cn.indices.path];Ei||(Ei=""),r=new zs(mn[Cn.indices.bucket],Ei),Cn.postModify(r);break}}if(null==r)throw function DW(n){return new Ri(pi.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class PW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function dp(n){return"string"==typeof n||n instanceof String}function Ok(n){return Dw()&&n instanceof Blob}function Dw(){return typeof Blob<"u"&&!(0,Wn.UG)()}function Mw(n,e,t,r){if(r<e)throw h4(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw h4(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ql(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Rk(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var e1=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(e1||(e1={})),e1))();function Nk(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}class LW{constructor(e,t,r,i,a,l,h,v,E,P,U,ne=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=v,this.timeout_=E,this.progressCallback_=P,this.connectionFactory_=U,this.retry=ne,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ce,ve)=>{this.resolve_=ce,this.reject_=ve,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,l=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const v=this.callback_(h,h.getResponse());!function RW(n){return void 0!==n}(v)?a():a(v)}catch(v){l(v)}else if(null!==h){const v=Tw();v.serverResponse=h.getErrorText(),l(this.errorCallback_?this.errorCallback_(h,v):v)}else l(i.canceled?this.appDelete_?Pk():zk():xk())};this.canceled_?t(0,new hp(!1,null,!0)):this.backoffId_=function kW(n,e,t){let r=1,i=null,a=null,l=!1,h=0;function v(){return 2===h}let E=!1;function P(...$e){E||(E=!0,e.apply(null,$e))}function U($e){i=setTimeout(()=>{i=null,n(ce,v())},$e)}function ne(){a&&clearTimeout(a)}function ce($e,...mt){if(E)return void ne();if($e)return ne(),void P.call(null,$e,...mt);if(v()||l)return ne(),void P.call(null,$e,...mt);let xt;r<64&&(r*=2),1===h?(h=2,xt=0):xt=1e3*(r+Math.random()),U(xt)}let ve=!1;function ke($e){ve||(ve=!0,ne(),!E&&(null!==i?($e||(h=2),clearTimeout(i),U(0)):$e||(h=1)))}return U(0),a=setTimeout(()=>{l=!0,ke(!0)},t),ke}((r,i)=>{if(i)return void r(!1,new hp(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const l=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const h=a.getErrorCode()===e1.NO_ERROR,v=a.getStatus();if(!h||Nk(v,this.additionalRetryCodes_)&&this.retry){const P=a.getErrorCode()===e1.ABORT;return void r(!1,new hp(!1,null,P))}const E=-1!==this.successCodes_.indexOf(v);r(!0,new hp(E,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function OW(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class hp{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function $W(...n){const e=function jW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(Dw())return new Blob(n);throw new Ri(pi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Pa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Iw{constructor(e,t){this.data=e,this.contentType=t||null}}function xw(n,e){switch(n){case Pa.RAW:return new Iw(Fk(e));case Pa.BASE64:case Pa.BASE64URL:return new Iw(Lk(n,e));case Pa.DATA_URL:return new Iw(function KW(n){const e=new Vk(n);return e.base64?Lk(Pa.BASE64,e.rest):function qW(n){let e;try{e=decodeURIComponent(n)}catch{throw Z0(Pa.DATA_URL,"Malformed data URL.")}return Fk(e)}(e.rest)}(e),function ZW(n){return new Vk(n).contentType}(e))}throw Tw()}function Fk(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Lk(n,e){switch(n){case Pa.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw Z0(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Pa.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw Z0(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function WW(n){if(typeof atob>"u")throw function AW(n){return new Ri(pi.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Z0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class Vk{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Z0(Pa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function QW(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class fl{constructor(e,t){let r=0,i="";Ok(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Ok(this.data_)){const i=function GW(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new fl(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new fl(r,!0)}}static getBlob(...e){if(Dw()){const t=e.map(r=>r instanceof fl?r.data_:r);return new fl($W.apply(null,t))}{const t=e.map(l=>dp(l)?xw(Pa.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let h=0;h<l.length;h++)i[a++]=l[h]}),new fl(i,!0)}}uploadData(){return this.data_}}function zw(n){let e;try{e=JSON.parse(n)}catch{return null}return function FW(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Hk(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function eq(n,e){return e}class Zs{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||eq}}let fp=null;function X0(){if(fp)return fp;const n=[];n.push(new Zs("bucket")),n.push(new Zs("generation")),n.push(new Zs("metageneration")),n.push(new Zs("name","fullPath",!0));const t=new Zs("name");t.xform=function e(a,l){return function tq(n){return!dp(n)||n.length<2?n:Hk(n)}(l)},n.push(t);const i=new Zs("size");return i.xform=function r(a,l){return void 0!==l?Number(l):l},n.push(i),n.push(new Zs("timeCreated")),n.push(new Zs("updated")),n.push(new Zs("md5Hash",null,!0)),n.push(new Zs("cacheControl",null,!0)),n.push(new Zs("contentDisposition",null,!0)),n.push(new Zs("contentEncoding",null,!0)),n.push(new Zs("contentLanguage",null,!0)),n.push(new Zs("contentType",null,!0)),n.push(new Zs("metadata","customMetadata",!0)),fp=n,fp}function Bk(n,e,t){const r=zw(e);return null===r?null:function rq(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return function nq(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new zs(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function Aw(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const Uk="prefixes",Yk="items";class pl{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ml(n){if(!n)throw Tw()}function pp(n,e){return function t(r,i){const a=Bk(n,i,e);return ml(null!==a),a}}function f4(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function EW(){return new Ri(pi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function SW(){return new Ri(pi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function bW(n){return new Ri(pi.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function TW(n){return new Ri(pi.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function J0(n){const e=f4(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function CW(n){return new Ri(pi.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function jk(n,e,t){const i=Ql(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,h=new pl(i,"GET",pp(n,t),l);return h.errorHandler=J0(e),h}function lq(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const h=Ql(e.bucketOnlyServerUrl(),n.host,n._protocol),E=n.maxOperationRetryTime,P=new pl(h,"GET",function aq(n,e){return function t(r,i){const a=function sq(n,e,t){const r=zw(t);return null===r?null:function oq(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Uk])for(const i of t[Uk]){const a=i.replace(/\/$/,""),l=n._makeStorageReference(new zs(e,a));r.prefixes.push(l)}if(t[Yk])for(const i of t[Yk]){const a=n._makeStorageReference(new zs(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return ml(null!==a),a}}(n,e.bucket),E);return P.urlParams=a,P.errorHandler=f4(e),P}function Gk(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function fq(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class mp{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function Pw(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ml(!1)}return ml(!!t&&-1!==(e||["active"]).indexOf(t)),t}const vq={STATE_CHANGED:"state_changed"},Qs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function kw(n){switch(n){case"running":case"pausing":case"canceling":return Qs.RUNNING;case"paused":return Qs.PAUSED;case"success":return Qs.SUCCESS;case"canceled":return Qs.CANCELED;default:return Qs.ERROR}}class yq{constructor(e,t,r){if(function NW(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function p4(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let Kk=null;class _q{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=e1.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=e1.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=e1.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Q0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Q0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Q0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Q0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Q0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class wq extends _q{initXhr(){this.xhr_.responseType="text"}}function Pc(){return Kk?Kk():new wq}class Zk{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=X0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(pi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(Nk(i.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=xk()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(pi.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function pq(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l=Gk(e,r,i),h={name:l.fullPath},v=Ql(a,n.host,n._protocol),P={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},U=Aw(l,t),ve=new pl(v,"POST",function ce(ke){let $e;Pw(ke);try{$e=ke.getResponseHeader("X-Goog-Upload-URL")}catch{ml(!1)}return ml(dp($e)),$e},n.maxUploadRetryTime);return ve.urlParams=h,ve.headers=P,ve.body=U,ve.errorHandler=f4(e),ve}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Pc,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function mq(n,e,t,r){const v=new pl(t,"POST",function a(E){const P=Pw(E,["active","final"]);let U=null;try{U=E.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ml(!1)}U||ml(!1);const ne=Number(U);return ml(!isNaN(ne)),new mp(ne,r.size(),"final"===P)},n.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=f4(e),v}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,Pc,t,r);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new mp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let l;try{l=function gq(n,e,t,r,i,a,l,h){const v=new mp(0,0);if(l?(v.current=l.current,v.total=l.total):(v.current=0,v.total=r.size()),r.size()!==v.total)throw function xW(){return new Ri(pi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const E=v.total-v.current;let P=E;i>0&&(P=Math.min(P,i));const U=v.current;let ce="";ce=0===P?"finalize":E===P?"upload, finalize":"upload";const ve={"X-Goog-Upload-Command":ce,"X-Goog-Upload-Offset":`${v.current}`},ke=r.slice(U,U+P);if(null===ke)throw Ak();const xt=new pl(t,"POST",function $e(Pt,Cn){const mn=Pw(Pt,["active","final"]),or=v.current+P,Ei=r.size();let sr;return sr="final"===mn?pp(e,a)(Pt,Cn):null,new mp(or,Ei,"final"===mn,sr)},e.maxUploadRetryTime);return xt.headers=ve,xt.body=ke.uploadData(),xt.progressCallback=h||null,xt.errorHandler=f4(n),xt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const h=this._ref.storage._makeRequest(l,Pc,i,a,!1);this._request=h,h.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=jk(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Pc,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function Wk(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},v=function h(){let xt="";for(let Pt=0;Pt<2;Pt++)xt+=Math.random().toString().slice(2);return xt}();l["Content-Type"]="multipart/related; boundary="+v;const E=Gk(e,r,i),P=Aw(E,t),ce=fl.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+P+"\r\n--"+v+"\r\nContent-Type: "+E.contentType+"\r\n\r\n",r,"\r\n--"+v+"--");if(null===ce)throw Ak();const ve={name:E.fullPath},ke=Ql(a,n.host,n._protocol),mt=n.maxUploadRetryTime,Vt=new pl(ke,"POST",pp(n,t),mt);return Vt.urlParams=ve,Vt.headers=l,Vt.body=ce.uploadData(),Vt.errorHandler=f4(e),Vt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Pc,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=zk(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=kw(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new yq(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(kw(this._state)){case Qs.SUCCESS:p4(this._resolve.bind(null,this.snapshot))();break;case Qs.CANCELED:case Qs.ERROR:p4(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(kw(this._state)){case Qs.RUNNING:case Qs.PAUSED:e.next&&p4(e.next.bind(e,this.snapshot))();break;case Qs.SUCCESS:e.complete&&p4(e.complete.bind(e))();break;default:e.error&&p4(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Dd{constructor(e,t){this._service=e,this._location=t instanceof zs?t:zs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Dd(e,t)}get root(){const e=new zs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hk(this._location.path)}get storage(){return this._service}get parent(){const e=function XW(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new zs(this._location.bucket,e);return new Dd(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw kk(e)}}function Xk(n,e,t){return Ow.apply(this,arguments)}function Ow(){return Ow=(0,Je.Z)(function*(n,e,t){const i=yield Jk(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield Xk(n,e,i.nextPageToken))}),Ow.apply(this,arguments)}function Jk(n,e){null!=e&&"number"==typeof e.maxResults&&Mw("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=lq(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Pc)}function Pq(n){n._throwIfRoot("getDownloadURL");const e=function uq(n,e,t){const i=Ql(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,h=new pl(i,"GET",function cq(n,e){return function t(r,i){const a=Bk(n,i,e);return ml(null!==a),function iq(n,e,t,r){const i=zw(e);if(null===i||!dp(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const l=encodeURIComponent;return a.split(",").map(E=>{const U=n.fullPath;return Ql("/b/"+l(n.bucket)+"/o/"+l(U),t,r)+Rk({alt:"media",token:E})})[0]}(a,i,n.host,n._protocol)}}(n,t),l);return h.errorHandler=J0(e),h}(n.storage,n._location,X0());return n.storage.makeRequestWithTokens(e,Pc).then(t=>{if(null===t)throw function zW(){return new Ri(pi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function eO(n,e){const t=function JW(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new zs(n._location.bucket,t);return new Dd(n.storage,r)}function tO(n,e){if(n instanceof Rw){const t=n;if(null==t._bucket)throw function IW(){return new Ri(pi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ik+"' property when initializing the app?")}();const r=new Dd(t,t._bucket);return null!=e?tO(r,e):r}return void 0!==e?eO(n,e):n}function Nq(n,e){if(e&&function Oq(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Rw)return function Rq(n,e){return new Dd(n,e)}(n,e);throw h4("To use ref(service, url), the first argument must be a Storage instance.")}return tO(n,e)}function nO(n,e){const t=e?.[Ik];return null==t?null:zs.makeFromBucketSpec(t,n)}class Rw{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Mk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?zs.makeFromBucketSpec(i,this._host):nO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?zs.makeFromBucketSpec(this._url,e):nO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Mw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Mw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Je.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Je.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Dd(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new PW(Pk());{const l=function YW(n,e,t,r,i,a,l=!0){const h=Rk(n.urlParams),v=n.url+h,E=Object.assign({},n.headers);return function BW(n,e){e&&(n["X-Firebase-GMPID"]=e)}(E,e),function VW(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(E,t),function HW(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(E,a),function UW(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(E,r),new LW(v,n.method,E,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,Je.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const rO="@firebase/storage";function sO(n,e){return Nq(n=(0,Wn.m9)(n),e)}function Gq(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Rw(t,r,i,e,Ic.SDK_VERSION)}!function Wq(){(0,Ic._registerComponent)(new Dh.wA("storage",Gq,"PUBLIC").setMultipleInstances(!0)),(0,Ic.registerVersion)(rO,"0.11.2",""),(0,Ic.registerVersion)(rO,"0.11.2","esm2017")}();class gp{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class cO{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new gp(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new gp(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?l=>t(new gp(l,this,this._ref)):{next:t.next?l=>t.next(new gp(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class lO{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Xl(e,this._service))}get items(){return this._delegate.items.map(e=>new Xl(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Xl{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function $q(n,e){return eO(n,e)}(this._delegate,e);return new Xl(t,this.storage)}get root(){return new Xl(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Xl(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new cO(function Lq(n,e,t){return function Mq(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Zk(n,new fl(e),t)}(n=(0,Wn.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Pa.RAW,r){this._throwIfRoot("putString");const i=xw(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new cO(new Zk(this._delegate,new fl(i.data,!0),a),this)}listAll(){return function Uq(n){return function xq(n){const e={prefixes:[],items:[]};return Xk(n,e).then(()=>e)}(n=(0,Wn.m9)(n))}(this._delegate).then(e=>new lO(e,this.storage))}list(e){return function Bq(n,e){return Jk(n=(0,Wn.m9)(n),e)}(this._delegate,e||void 0).then(t=>new lO(t,this.storage))}getMetadata(){return function Vq(n){return function zq(n){n._throwIfRoot("getMetadata");const e=jk(n.storage,n._location,X0());return n.storage.makeRequestWithTokens(e,Pc)}(n=(0,Wn.m9)(n))}(this._delegate)}updateMetadata(e){return function Hq(n,e){return function Aq(n,e){n._throwIfRoot("updateMetadata");const t=function dq(n,e,t,r){const a=Ql(e.fullServerUrl(),n.host,n._protocol),h=Aw(t,r),E=n.maxOperationRetryTime,P=new pl(a,"PATCH",pp(n,r),E);return P.headers={"Content-Type":"application/json; charset=utf-8"},P.body=h,P.errorHandler=J0(e),P}(n.storage,n._location,e,X0());return n.storage.makeRequestWithTokens(t,Pc)}(n=(0,Wn.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function Yq(n){return Pq(n=(0,Wn.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function jq(n){return function kq(n){n._throwIfRoot("deleteObject");const e=function hq(n,e){const r=Ql(e.fullServerUrl(),n.host,n._protocol),h=new pl(r,"DELETE",function l(v,E){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=J0(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Pc)}(n=(0,Wn.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw kk(e)}}class uO{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(dO(e))throw h4("ref() expected a child path but got a URL, use refFromURL instead.");return new Xl(sO(this._delegate,e),this)}refFromURL(e){if(!dO(e))throw h4("refFromURL() expected a full URL but got a child path, use ref() instead.");try{zs.makeFromUrl(e,this._delegate.host)}catch{throw h4("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xl(sO(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function aO(n,e,t,r={}){!function Fq(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Wn.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function dO(n){return/^[A-Za-z]+:\/\//.test(n)}function Qq(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new uO(t,r)}function hO(n){const e=function Jq(n){return new pe.y(e=>{const t=l=>e.next(l);t(n.snapshot);const a=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){a()}}).pipe(QD(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Fe.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function vp(n){return{getDownloadURL:()=>(0,xo.of)(void 0).pipe(Fr.fc,(0,ic.w)(()=>n.getDownloadURL()),Fr.iC),getMetadata:()=>(0,xo.of)(void 0).pipe(Fr.fc,(0,ic.w)(()=>n.getMetadata()),Fr.iC),delete:()=>(0,de.D)(n.delete()),child:e=>vp(n.child(e)),updateMetadata:e=>(0,de.D)(n.updateMetadata(e)),put:(e,t)=>hO(n.put(e,t)),putString:(e,t,r)=>hO(n.putString(e,t,r)),list:e=>(0,de.D)(n.list(e)),listAll:()=>(0,de.D)(n.listAll())}}!function Xq(n){const e={TaskState:Qs,TaskEvent:vq,StringFormat:Pa,Storage:uO,Reference:Xl};n.INTERNAL.registerComponent(new Dh.wA("storage-compat",Qq,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(oM.Z);const eK=new m.OlP("angularfire2.storageBucket"),tK=new m.OlP("angularfire2.storage.maxUploadRetryTime"),nK=new m.OlP("angularfire2.storage.maxOperationRetryTime"),rK=new m.OlP("angularfire2.storage.use-emulator");let iK=(()=>{class n{constructor(t,r,i,a,l,h,v,E,P,U){const ne=(0,Co.on)(t,l,r);this.storage=(0,Co.cc)(`${ne.name}.storage.${i}`,"AngularFireStorage",ne.name,()=>{const ce=l.runOutsideAngular(()=>ne.storage(i||void 0)),ve=P;return ve&&ce.useEmulator(...ve),v&&ce.setMaxUploadRetryTime(v),E&&ce.setMaxOperationRetryTime(E),ce},[v,E])}ref(t){return vp(this.storage.ref(t))}refFromURL(t){return vp(this.storage.refFromURL(t))}upload(t,r,i){return vp(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Co.Dh),m.LFG(Co.xv,8),m.LFG(eK,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Fr.HU),m.LFG(tK,8),m.LFG(nK,8),m.LFG(rK,8),m.LFG(j0,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var oK=R(7582),sK=R(515),aK=R(5132);const lK=new m.OlP("angularfire2.analytics.analyticsCollectionEnabled"),uK=new m.OlP("angularfire2.analytics.appVersion"),dK=new m.OlP("angularfire2.analytics.appName"),hK=new m.OlP("angularfire2.analytics.debugMode"),fK=new m.OlP("angularfire2.analytics.config"),yp="dataLayer";let pO=(()=>{class n{constructor(t,r,i,a,l,h,v,E,P){if(this.analyticsInitialized=new Promise(()=>{}),(0,V.NF)(v)){window[yp]=window[yp]||[];const ne=(...ke)=>"config"===ke[0]&&"firebase"===ke[2].origin&&(this.measurementId=ke[1],!0),ce=ke=>{window.gtag=(...$e)=>{ke&&ke(...$e),"event"===$e[0]&&$e[2].send_to===this.measurementId&&(a&&($e[2].app_name=a),i&&($e[2].app_version=i)),l&&typeof console<"u"&&console.info(...$e),function(...mt){window[yp].push(arguments)}(...$e)}};window[yp].some(ne)?(this.analyticsInitialized=Promise.resolve(),ce()):this.analyticsInitialized=new Promise(ke=>{ce((...$e)=>{ne(...$e)&&ke()})}),h&&this.updateConfig(h),l&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const U=(0,xo.of)(void 0).pipe((0,H0.Q)(P.outsideAngular),(0,ic.w)(aK.Gb),(0,ic.w)(ne=>ne?E.runOutsideAngular(()=>R.e(814).then(R.bind(R,3814))):sK.E),(0,Fe.U)(()=>(0,Co.cc)("analytics","AngularFireAnalytics",t.name,()=>{const ne=t.analytics();return!1===r&&ne.setAnalyticsCollectionEnabled(!1),ne},[t,r,h,l])),S_({bufferSize:1,refCount:!1}));return(0,Co.pX)(this,U,E)}updateConfig(t){return(0,oK.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Co.Ot),m.LFG(lK,8),m.LFG(uK,8),m.LFG(dK,8),m.LFG(hK,8),m.LFG(fK,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Fr.HU))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_K=(()=>{const e=class{constructor(r,i,a,l,h,v,E,P){this.afAuth=r,this.afs=i,this.http=a,this.storage=l,this.titleService=h,this.platform=v,this.analytics=E,this.router=P}};let n=e;return e.\u0275fac=function(i){return new(i||e)(m.LFG(W_),m.LFG(kP),m.LFG(m1),m.LFG(iK),m.LFG(C.Dx),m.LFG(Xo),m.LFG(pO),m.LFG(up.F0))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),wK=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[V.ez]}),n})();(0,V.qS)(hW);let CK=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=m.oAB({type:e,bootstrap:[tW]}),e.\u0275inj=m.cJS({providers:[_K,{provide:Re,useValue:Y}],imports:[C.b2,XG,QY(()=>XY(OP_firebase)),lW(()=>uW()),ya,Co.hO.initializeApp(OP_firebase),Zj,ZG,A4,vW,e6.forRoot([Fm,Ip,j1]),vL,wK]}),n})();C.q6().bootstrapModule(CK).catch(n=>console.error(n))},9751:(Tt,Le,R)=>{R.d(Le,{y:()=>xe});var C=R(930),m=R(727),V=R(8822),de=R(9635),pe=R(2416),be=R(576),Me=R(2806);let xe=(()=>{class me{constructor(He){He&&(this._subscribe=He)}lift(He){const Ze=new me;return Ze.source=this,Ze.operator=He,Ze}subscribe(He,Ze,ft){const Ye=function se(me){return me&&me instanceof C.Lv||function ae(me){return me&&(0,be.m)(me.next)&&(0,be.m)(me.error)&&(0,be.m)(me.complete)}(me)&&(0,m.Nn)(me)}(He)?He:new C.Hp(He,Ze,ft);return(0,Me.x)(()=>{const{operator:Qe,source:nt}=this;Ye.add(Qe?Qe.call(Ye,nt):nt?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(He){try{return this._subscribe(He)}catch(Ze){He.error(Ze)}}forEach(He,Ze){return new(Ze=Ae(Ze))((ft,Ye)=>{const Qe=new C.Hp({next:nt=>{try{He(nt)}catch(ut){Ye(ut),Qe.unsubscribe()}},error:Ye,complete:ft});this.subscribe(Qe)})}_subscribe(He){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(He)}[V.L](){return this}pipe(...He){return(0,de.U)(He)(this)}toPromise(He){return new(He=Ae(He))((Ze,ft)=>{let Ye;this.subscribe(Qe=>Ye=Qe,Qe=>ft(Qe),()=>Ze(Ye))})}}return me.create=Fe=>new me(Fe),me})();function Ae(me){var Fe;return null!==(Fe=me??pe.v.Promise)&&void 0!==Fe?Fe:Promise}},7579:(Tt,Le,R)=>{R.d(Le,{x:()=>Me});var C=R(9751),m=R(727);const de=(0,R(3888).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=R(8737),be=R(2806);let Me=(()=>{class Ae extends C.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const me=new xe(this,this);return me.operator=se,me}_throwIfClosed(){if(this.closed)throw new de}next(se){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(se)}})}error(se){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:me}=this;for(;me.length;)me.shift().error(se)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:me,isStopped:Fe,observers:He}=this;return me||Fe?m.Lc:(this.currentObservers=null,He.push(se),new m.w0(()=>{this.currentObservers=null,(0,pe.P)(He,se)}))}_checkFinalizedStatuses(se){const{hasError:me,thrownError:Fe,isStopped:He}=this;me?se.error(Fe):He&&se.complete()}asObservable(){const se=new C.y;return se.source=this,se}}return Ae.create=(ae,se)=>new xe(ae,se),Ae})();class xe extends Me{constructor(ae,se){super(),this.destination=ae,this.source=se}next(ae){var se,me;null===(me=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===me||me.call(se,ae)}error(ae){var se,me;null===(me=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===me||me.call(se,ae)}complete(){var ae,se;null===(se=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===se||se.call(ae)}_subscribe(ae){var se,me;return null!==(me=null===(se=this.source)||void 0===se?void 0:se.subscribe(ae))&&void 0!==me?me:m.Lc}}},930:(Tt,Le,R)=>{R.d(Le,{Hp:()=>ft,Lv:()=>me});var C=R(576),m=R(727),V=R(2416),de=R(7849),pe=R(5032);const be=Ae("C",void 0,void 0);function Ae(Ge,Oe,Xe){return{kind:Ge,value:Oe,error:Xe}}var ae=R(3410),se=R(2806);class me extends m.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,m.Nn)(Oe)&&Oe.add(this)):this.destination=ut}static create(Oe,Xe,ct){return new ft(Oe,Xe,ct)}next(Oe){this.isStopped?nt(function xe(Ge){return Ae("N",Ge,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?nt(function Me(Ge){return Ae("E",void 0,Ge)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?nt(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function He(Ge,Oe){return Fe.call(Ge,Oe)}class Ze{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:Xe}=this;if(Xe.next)try{Xe.next(Oe)}catch(ct){Ye(ct)}}error(Oe){const{partialObserver:Xe}=this;if(Xe.error)try{Xe.error(Oe)}catch(ct){Ye(ct)}else Ye(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(Xe){Ye(Xe)}}}class ft extends me{constructor(Oe,Xe,ct){let lt;if(super(),(0,C.m)(Oe)||!Oe)lt={next:Oe??void 0,error:Xe??void 0,complete:ct??void 0};else{let Ee;this&&V.v.useDeprecatedNextContext?(Ee=Object.create(Oe),Ee.unsubscribe=()=>this.unsubscribe(),lt={next:Oe.next&&He(Oe.next,Ee),error:Oe.error&&He(Oe.error,Ee),complete:Oe.complete&&He(Oe.complete,Ee)}):lt=Oe}this.destination=new Ze(lt)}}function Ye(Ge){V.v.useDeprecatedSynchronousErrorHandling?(0,se.O)(Ge):(0,de.h)(Ge)}function nt(Ge,Oe){const{onStoppedNotification:Xe}=V.v;Xe&&ae.z.setTimeout(()=>Xe(Ge,Oe))}const ut={closed:!0,next:pe.Z,error:function Qe(Ge){throw Ge},complete:pe.Z}},727:(Tt,Le,R)=>{R.d(Le,{Lc:()=>be,w0:()=>pe,Nn:()=>Me});var C=R(576);const V=(0,R(3888).d)(Ae=>function(se){Ae(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((me,Fe)=>`${Fe+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var de=R(8737);class pe{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const He of se)He.remove(this);else se.remove(this);const{initialTeardown:me}=this;if((0,C.m)(me))try{me()}catch(He){ae=He instanceof V?He.errors:[He]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const He of Fe)try{xe(He)}catch(Ze){ae=ae??[],Ze instanceof V?ae=[...ae,...Ze.errors]:ae.push(Ze)}}if(ae)throw new V(ae)}}add(ae){var se;if(ae&&ae!==this)if(this.closed)xe(ae);else{if(ae instanceof pe){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(ae)}}_hasParent(ae){const{_parentage:se}=this;return se===ae||Array.isArray(se)&&se.includes(ae)}_addParent(ae){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(ae),se):se?[se,ae]:ae}_removeParent(ae){const{_parentage:se}=this;se===ae?this._parentage=null:Array.isArray(se)&&(0,de.P)(se,ae)}remove(ae){const{_finalizers:se}=this;se&&(0,de.P)(se,ae),ae instanceof pe&&ae._removeParent(this)}}pe.EMPTY=(()=>{const Ae=new pe;return Ae.closed=!0,Ae})();const be=pe.EMPTY;function Me(Ae){return Ae instanceof pe||Ae&&"closed"in Ae&&(0,C.m)(Ae.remove)&&(0,C.m)(Ae.add)&&(0,C.m)(Ae.unsubscribe)}function xe(Ae){(0,C.m)(Ae)?Ae():Ae.unsubscribe()}},2416:(Tt,Le,R)=>{R.d(Le,{v:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Tt,Le,R)=>{R.d(Le,{a:()=>ae});var C=R(9751),m=R(4742),V=R(8996),de=R(4671),pe=R(3268),be=R(3269),Me=R(1810),xe=R(5403),Ae=R(9672);function ae(...Fe){const He=(0,be.yG)(Fe),Ze=(0,be.jO)(Fe),{args:ft,keys:Ye}=(0,m.D)(Fe);if(0===ft.length)return(0,V.D)([],He);const Qe=new C.y(function se(Fe,He,Ze=de.y){return ft=>{me(He,()=>{const{length:Ye}=Fe,Qe=new Array(Ye);let nt=Ye,ut=Ye;for(let Ge=0;Ge<Ye;Ge++)me(He,()=>{const Oe=(0,V.D)(Fe[Ge],He);let Xe=!1;Oe.subscribe((0,xe.x)(ft,ct=>{Qe[Ge]=ct,Xe||(Xe=!0,ut--),ut||ft.next(Ze(Qe.slice()))},()=>{--nt||ft.complete()}))},ft)},ft)}}(ft,He,Ye?nt=>(0,Me.n)(Ye,nt):de.y));return Ze?Qe.pipe((0,pe.Z)(Ze)):Qe}function me(Fe,He,Ze){Fe?(0,Ae.f)(Ze,Fe,He):He()}},7272:(Tt,Le,R)=>{R.d(Le,{z:()=>pe});var C=R(8189),V=R(3269),de=R(8996);function pe(...be){return function m(){return(0,C.J)(1)}()((0,de.D)(be,(0,V.yG)(be)))}},515:(Tt,Le,R)=>{R.d(Le,{E:()=>m});const m=new(R(9751).y)(pe=>pe.complete())},8996:(Tt,Le,R)=>{R.d(Le,{D:()=>Oe});var C=R(8421),m=R(5363),V=R(9468),be=R(9751),xe=R(2202),Ae=R(576),ae=R(9672);function me(Xe,ct){if(!Xe)throw new Error("Iterable cannot be null");return new be.y(lt=>{(0,ae.f)(lt,ct,()=>{const Ee=Xe[Symbol.asyncIterator]();(0,ae.f)(lt,ct,()=>{Ee.next().then(ht=>{ht.done?lt.complete():lt.next(ht.value)})},0,!0)})})}var Fe=R(3670),He=R(8239),Ze=R(1144),ft=R(6495),Ye=R(2206),Qe=R(4532),nt=R(3260);function Oe(Xe,ct){return ct?function Ge(Xe,ct){if(null!=Xe){if((0,Fe.c)(Xe))return function de(Xe,ct){return(0,C.Xf)(Xe).pipe((0,V.R)(ct),(0,m.Q)(ct))}(Xe,ct);if((0,Ze.z)(Xe))return function Me(Xe,ct){return new be.y(lt=>{let Ee=0;return ct.schedule(function(){Ee===Xe.length?lt.complete():(lt.next(Xe[Ee++]),lt.closed||this.schedule())})})}(Xe,ct);if((0,He.t)(Xe))return function pe(Xe,ct){return(0,C.Xf)(Xe).pipe((0,V.R)(ct),(0,m.Q)(ct))}(Xe,ct);if((0,Ye.D)(Xe))return me(Xe,ct);if((0,ft.T)(Xe))return function se(Xe,ct){return new be.y(lt=>{let Ee;return(0,ae.f)(lt,ct,()=>{Ee=Xe[xe.h](),(0,ae.f)(lt,ct,()=>{let ht,Ut;try{({value:ht,done:Ut}=Ee.next())}catch(Et){return void lt.error(Et)}Ut?lt.complete():lt.next(ht)},0,!0)}),()=>(0,Ae.m)(Ee?.return)&&Ee.return()})}(Xe,ct);if((0,nt.L)(Xe))return function ut(Xe,ct){return me((0,nt.Q)(Xe),ct)}(Xe,ct)}throw(0,Qe.z)(Xe)}(Xe,ct):(0,C.Xf)(Xe)}},8421:(Tt,Le,R)=>{R.d(Le,{Xf:()=>Fe});var C=R(7582),m=R(1144),V=R(8239),de=R(9751),pe=R(3670),be=R(2206),Me=R(4532),xe=R(6495),Ae=R(3260),ae=R(576),se=R(7849),me=R(8822);function Fe(Ge){if(Ge instanceof de.y)return Ge;if(null!=Ge){if((0,pe.c)(Ge))return function He(Ge){return new de.y(Oe=>{const Xe=Ge[me.L]();if((0,ae.m)(Xe.subscribe))return Xe.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,m.z)(Ge))return function Ze(Ge){return new de.y(Oe=>{for(let Xe=0;Xe<Ge.length&&!Oe.closed;Xe++)Oe.next(Ge[Xe]);Oe.complete()})}(Ge);if((0,V.t)(Ge))return function ft(Ge){return new de.y(Oe=>{Ge.then(Xe=>{Oe.closed||(Oe.next(Xe),Oe.complete())},Xe=>Oe.error(Xe)).then(null,se.h)})}(Ge);if((0,be.D)(Ge))return Qe(Ge);if((0,xe.T)(Ge))return function Ye(Ge){return new de.y(Oe=>{for(const Xe of Ge)if(Oe.next(Xe),Oe.closed)return;Oe.complete()})}(Ge);if((0,Ae.L)(Ge))return function nt(Ge){return Qe((0,Ae.Q)(Ge))}(Ge)}throw(0,Me.z)(Ge)}function Qe(Ge){return new de.y(Oe=>{(function ut(Ge,Oe){var Xe,ct,lt,Ee;return(0,C.mG)(this,void 0,void 0,function*(){try{for(Xe=(0,C.KL)(Ge);!(ct=yield Xe.next()).done;)if(Oe.next(ct.value),Oe.closed)return}catch(ht){lt={error:ht}}finally{try{ct&&!ct.done&&(Ee=Xe.return)&&(yield Ee.call(Xe))}finally{if(lt)throw lt.error}}Oe.complete()})})(Ge,Oe).catch(Xe=>Oe.error(Xe))})}},6451:(Tt,Le,R)=>{R.d(Le,{T:()=>be});var C=R(8189),m=R(8421),V=R(515),de=R(3269),pe=R(8996);function be(...Me){const xe=(0,de.yG)(Me),Ae=(0,de._6)(Me,1/0),ae=Me;return ae.length?1===ae.length?(0,m.Xf)(ae[0]):(0,C.J)(Ae)((0,pe.D)(ae,xe)):V.E}},9646:(Tt,Le,R)=>{R.d(Le,{of:()=>V});var C=R(3269),m=R(8996);function V(...de){const pe=(0,C.yG)(de);return(0,m.D)(de,pe)}},5403:(Tt,Le,R)=>{R.d(Le,{x:()=>m});var C=R(930);function m(de,pe,be,Me,xe){return new V(de,pe,be,Me,xe)}class V extends C.Lv{constructor(pe,be,Me,xe,Ae,ae){super(pe),this.onFinalize=Ae,this.shouldUnsubscribe=ae,this._next=be?function(se){try{be(se)}catch(me){pe.error(me)}}:super._next,this._error=xe?function(se){try{xe(se)}catch(me){pe.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=Me?function(){try{Me()}catch(se){pe.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},262:(Tt,Le,R)=>{R.d(Le,{K:()=>de});var C=R(8421),m=R(5403),V=R(4482);function de(pe){return(0,V.e)((be,Me)=>{let ae,xe=null,Ae=!1;xe=be.subscribe((0,m.x)(Me,void 0,void 0,se=>{ae=(0,C.Xf)(pe(se,de(pe)(be))),xe?(xe.unsubscribe(),xe=null,ae.subscribe(Me)):Ae=!0})),Ae&&(xe.unsubscribe(),xe=null,ae.subscribe(Me))})}},4351:(Tt,Le,R)=>{R.d(Le,{b:()=>V});var C=R(5577),m=R(576);function V(de,pe){return(0,m.m)(pe)?(0,C.z)(de,pe,1):(0,C.z)(de,1)}},6590:(Tt,Le,R)=>{R.d(Le,{d:()=>V});var C=R(4482),m=R(5403);function V(de){return(0,C.e)((pe,be)=>{let Me=!1;pe.subscribe((0,m.x)(be,xe=>{Me=!0,be.next(xe)},()=>{Me||be.next(de),be.complete()}))})}},9300:(Tt,Le,R)=>{R.d(Le,{h:()=>V});var C=R(4482),m=R(5403);function V(de,pe){return(0,C.e)((be,Me)=>{let xe=0;be.subscribe((0,m.x)(Me,Ae=>de.call(pe,Ae,xe++)&&Me.next(Ae)))})}},8746:(Tt,Le,R)=>{R.d(Le,{x:()=>m});var C=R(4482);function m(V){return(0,C.e)((de,pe)=>{try{de.subscribe(pe)}finally{pe.add(V)}})}},590:(Tt,Le,R)=>{R.d(Le,{P:()=>Me});var C=R(6805),m=R(9300),V=R(5698),de=R(6590),pe=R(8068),be=R(4671);function Me(xe,Ae){const ae=arguments.length>=2;return se=>se.pipe(xe?(0,m.h)((me,Fe)=>xe(me,Fe,se)):be.y,(0,V.q)(1),ae?(0,de.d)(Ae):(0,pe.T)(()=>new C.K))}},4004:(Tt,Le,R)=>{R.d(Le,{U:()=>V});var C=R(4482),m=R(5403);function V(de,pe){return(0,C.e)((be,Me)=>{let xe=0;be.subscribe((0,m.x)(Me,Ae=>{Me.next(de.call(pe,Ae,xe++))}))})}},9718:(Tt,Le,R)=>{R.d(Le,{h:()=>m});var C=R(4004);function m(V){return(0,C.U)(()=>V)}},8189:(Tt,Le,R)=>{R.d(Le,{J:()=>V});var C=R(5577),m=R(4671);function V(de=1/0){return(0,C.z)(m.y,de)}},5577:(Tt,Le,R)=>{R.d(Le,{z:()=>xe});var C=R(4004),m=R(8421),V=R(4482),de=R(9672),pe=R(5403),Me=R(576);function xe(Ae,ae,se=1/0){return(0,Me.m)(ae)?xe((me,Fe)=>(0,C.U)((He,Ze)=>ae(me,He,Fe,Ze))((0,m.Xf)(Ae(me,Fe))),se):("number"==typeof ae&&(se=ae),(0,V.e)((me,Fe)=>function be(Ae,ae,se,me,Fe,He,Ze,ft){const Ye=[];let Qe=0,nt=0,ut=!1;const Ge=()=>{ut&&!Ye.length&&!Qe&&ae.complete()},Oe=ct=>Qe<me?Xe(ct):Ye.push(ct),Xe=ct=>{He&&ae.next(ct),Qe++;let lt=!1;(0,m.Xf)(se(ct,nt++)).subscribe((0,pe.x)(ae,Ee=>{Fe?.(Ee),He?Oe(Ee):ae.next(Ee)},()=>{lt=!0},void 0,()=>{if(lt)try{for(Qe--;Ye.length&&Qe<me;){const Ee=Ye.shift();Ze?(0,de.f)(ae,Ze,()=>Xe(Ee)):Xe(Ee)}Ge()}catch(Ee){ae.error(Ee)}}))};return Ae.subscribe((0,pe.x)(ae,Oe,()=>{ut=!0,Ge()})),()=>{ft?.()}}(me,Fe,Ae,se)))}},5363:(Tt,Le,R)=>{R.d(Le,{Q:()=>de});var C=R(9672),m=R(4482),V=R(5403);function de(pe,be=0){return(0,m.e)((Me,xe)=>{Me.subscribe((0,V.x)(xe,Ae=>(0,C.f)(xe,pe,()=>xe.next(Ae),be),()=>(0,C.f)(xe,pe,()=>xe.complete(),be),Ae=>(0,C.f)(xe,pe,()=>xe.error(Ae),be)))})}},5026:(Tt,Le,R)=>{R.d(Le,{R:()=>de});var C=R(4482),m=R(5403);function de(pe,be){return(0,C.e)(function V(pe,be,Me,xe,Ae){return(ae,se)=>{let me=Me,Fe=be,He=0;ae.subscribe((0,m.x)(se,Ze=>{const ft=He++;Fe=me?pe(Fe,Ze,ft):(me=!0,Ze),xe&&se.next(Fe)},Ae&&(()=>{me&&se.next(Fe),se.complete()})))}}(pe,be,arguments.length>=2,!0))}},3099:(Tt,Le,R)=>{R.d(Le,{B:()=>pe});var C=R(8421),m=R(7579),V=R(930),de=R(4482);function pe(Me={}){const{connector:xe=(()=>new m.x),resetOnError:Ae=!0,resetOnComplete:ae=!0,resetOnRefCountZero:se=!0}=Me;return me=>{let Fe,He,Ze,ft=0,Ye=!1,Qe=!1;const nt=()=>{He?.unsubscribe(),He=void 0},ut=()=>{nt(),Fe=Ze=void 0,Ye=Qe=!1},Ge=()=>{const Oe=Fe;ut(),Oe?.unsubscribe()};return(0,de.e)((Oe,Xe)=>{ft++,!Qe&&!Ye&&nt();const ct=Ze=Ze??xe();Xe.add(()=>{ft--,0===ft&&!Qe&&!Ye&&(He=be(Ge,se))}),ct.subscribe(Xe),!Fe&&ft>0&&(Fe=new V.Hp({next:lt=>ct.next(lt),error:lt=>{Qe=!0,nt(),He=be(ut,Ae,lt),ct.error(lt)},complete:()=>{Ye=!0,nt(),He=be(ut,ae),ct.complete()}}),(0,C.Xf)(Oe).subscribe(Fe))})(me)}}function be(Me,xe,...Ae){if(!0===xe)return void Me();if(!1===xe)return;const ae=new V.Hp({next:()=>{ae.unsubscribe(),Me()}});return(0,C.Xf)(xe(...Ae)).subscribe(ae)}},8675:(Tt,Le,R)=>{R.d(Le,{O:()=>de});var C=R(7272),m=R(3269),V=R(4482);function de(...pe){const be=(0,m.yG)(pe);return(0,V.e)((Me,xe)=>{(be?(0,C.z)(pe,Me,be):(0,C.z)(pe,Me)).subscribe(xe)})}},9468:(Tt,Le,R)=>{R.d(Le,{R:()=>m});var C=R(4482);function m(V,de=0){return(0,C.e)((pe,be)=>{be.add(V.schedule(()=>pe.subscribe(be),de))})}},3900:(Tt,Le,R)=>{R.d(Le,{w:()=>de});var C=R(8421),m=R(4482),V=R(5403);function de(pe,be){return(0,m.e)((Me,xe)=>{let Ae=null,ae=0,se=!1;const me=()=>se&&!Ae&&xe.complete();Me.subscribe((0,V.x)(xe,Fe=>{Ae?.unsubscribe();let He=0;const Ze=ae++;(0,C.Xf)(pe(Fe,Ze)).subscribe(Ae=(0,V.x)(xe,ft=>xe.next(be?be(Fe,ft,Ze,He++):ft),()=>{Ae=null,me()}))},()=>{se=!0,me()}))})}},5698:(Tt,Le,R)=>{R.d(Le,{q:()=>de});var C=R(515),m=R(4482),V=R(5403);function de(pe){return pe<=0?()=>C.E:(0,m.e)((be,Me)=>{let xe=0;be.subscribe((0,V.x)(Me,Ae=>{++xe<=pe&&(Me.next(Ae),pe<=xe&&Me.complete())}))})}},8505:(Tt,Le,R)=>{R.d(Le,{b:()=>pe});var C=R(576),m=R(4482),V=R(5403),de=R(4671);function pe(be,Me,xe){const Ae=(0,C.m)(be)||Me||xe?{next:be,error:Me,complete:xe}:be;return Ae?(0,m.e)((ae,se)=>{var me;null===(me=Ae.subscribe)||void 0===me||me.call(Ae);let Fe=!0;ae.subscribe((0,V.x)(se,He=>{var Ze;null===(Ze=Ae.next)||void 0===Ze||Ze.call(Ae,He),se.next(He)},()=>{var He;Fe=!1,null===(He=Ae.complete)||void 0===He||He.call(Ae),se.complete()},He=>{var Ze;Fe=!1,null===(Ze=Ae.error)||void 0===Ze||Ze.call(Ae,He),se.error(He)},()=>{var He,Ze;Fe&&(null===(He=Ae.unsubscribe)||void 0===He||He.call(Ae)),null===(Ze=Ae.finalize)||void 0===Ze||Ze.call(Ae)}))}):de.y}},8068:(Tt,Le,R)=>{R.d(Le,{T:()=>de});var C=R(6805),m=R(4482),V=R(5403);function de(be=pe){return(0,m.e)((Me,xe)=>{let Ae=!1;Me.subscribe((0,V.x)(xe,ae=>{Ae=!0,xe.next(ae)},()=>Ae?xe.complete():xe.error(be())))})}function pe(){return new C.K}},4408:(Tt,Le,R)=>{R.d(Le,{o:()=>pe});var C=R(727);class m extends C.w0{constructor(Me,xe){super()}schedule(Me,xe=0){return this}}const V={setInterval(be,Me,...xe){const{delegate:Ae}=V;return Ae?.setInterval?Ae.setInterval(be,Me,...xe):setInterval(be,Me,...xe)},clearInterval(be){const{delegate:Me}=V;return(Me?.clearInterval||clearInterval)(be)},delegate:void 0};var de=R(8737);class pe extends m{constructor(Me,xe){super(Me,xe),this.scheduler=Me,this.work=xe,this.pending=!1}schedule(Me,xe=0){var Ae;if(this.closed)return this;this.state=Me;const ae=this.id,se=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(se,ae,xe)),this.pending=!0,this.delay=xe,this.id=null!==(Ae=this.id)&&void 0!==Ae?Ae:this.requestAsyncId(se,this.id,xe),this}requestAsyncId(Me,xe,Ae=0){return V.setInterval(Me.flush.bind(Me,this),Ae)}recycleAsyncId(Me,xe,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return xe;null!=xe&&V.clearInterval(xe)}execute(Me,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(Me,xe);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Me,xe){let ae,Ae=!1;try{this.work(Me)}catch(se){Ae=!0,ae=se||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:Me,scheduler:xe}=this,{actions:Ae}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(Ae,this),null!=Me&&(this.id=this.recycleAsyncId(xe,Me,null)),this.delay=null,super.unsubscribe()}}}},7565:(Tt,Le,R)=>{R.d(Le,{v:()=>V});var C=R(6063);class m{constructor(pe,be=m.now){this.schedulerActionCtor=pe,this.now=be}schedule(pe,be=0,Me){return new this.schedulerActionCtor(this,pe).schedule(Me,be)}}m.now=C.l.now;class V extends m{constructor(pe,be=m.now){super(pe,be),this.actions=[],this._active=!1}flush(pe){const{actions:be}=this;if(this._active)return void be.push(pe);let Me;this._active=!0;do{if(Me=pe.execute(pe.state,pe.delay))break}while(pe=be.shift());if(this._active=!1,Me){for(;pe=be.shift();)pe.unsubscribe();throw Me}}}},4986:(Tt,Le,R)=>{R.d(Le,{P:()=>de,z:()=>V});var C=R(4408);const V=new(R(7565).v)(C.o),de=V},6063:(Tt,Le,R)=>{R.d(Le,{l:()=>C});const C={now:()=>(C.delegate||Date).now(),delegate:void 0}},3410:(Tt,Le,R)=>{R.d(Le,{z:()=>C});const C={setTimeout(m,V,...de){const{delegate:pe}=C;return pe?.setTimeout?pe.setTimeout(m,V,...de):setTimeout(m,V,...de)},clearTimeout(m){const{delegate:V}=C;return(V?.clearTimeout||clearTimeout)(m)},delegate:void 0}},2202:(Tt,Le,R)=>{R.d(Le,{h:()=>m});const m=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Tt,Le,R)=>{R.d(Le,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Tt,Le,R)=>{R.d(Le,{K:()=>m});const m=(0,R(3888).d)(V=>function(){V(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Tt,Le,R)=>{R.d(Le,{_6:()=>be,jO:()=>de,yG:()=>pe});var C=R(576),m=R(3532);function V(Me){return Me[Me.length-1]}function de(Me){return(0,C.m)(V(Me))?Me.pop():void 0}function pe(Me){return(0,m.K)(V(Me))?Me.pop():void 0}function be(Me,xe){return"number"==typeof V(Me)?Me.pop():xe}},4742:(Tt,Le,R)=>{R.d(Le,{D:()=>pe});const{isArray:C}=Array,{getPrototypeOf:m,prototype:V,keys:de}=Object;function pe(Me){if(1===Me.length){const xe=Me[0];if(C(xe))return{args:xe,keys:null};if(function be(Me){return Me&&"object"==typeof Me&&m(Me)===V}(xe)){const Ae=de(xe);return{args:Ae.map(ae=>xe[ae]),keys:Ae}}}return{args:Me,keys:null}}},8737:(Tt,Le,R)=>{function C(m,V){if(m){const de=m.indexOf(V);0<=de&&m.splice(de,1)}}R.d(Le,{P:()=>C})},3888:(Tt,Le,R)=>{function C(m){const de=m(pe=>{Error.call(pe),pe.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}R.d(Le,{d:()=>C})},1810:(Tt,Le,R)=>{function C(m,V){return m.reduce((de,pe,be)=>(de[pe]=V[be],de),{})}R.d(Le,{n:()=>C})},2806:(Tt,Le,R)=>{R.d(Le,{O:()=>de,x:()=>V});var C=R(2416);let m=null;function V(pe){if(C.v.useDeprecatedSynchronousErrorHandling){const be=!m;if(be&&(m={errorThrown:!1,error:null}),pe(),be){const{errorThrown:Me,error:xe}=m;if(m=null,Me)throw xe}}else pe()}function de(pe){C.v.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=pe)}},9672:(Tt,Le,R)=>{function C(m,V,de,pe=0,be=!1){const Me=V.schedule(function(){de(),be?m.add(this.schedule(null,pe)):this.unsubscribe()},pe);if(m.add(Me),!be)return Me}R.d(Le,{f:()=>C})},4671:(Tt,Le,R)=>{function C(m){return m}R.d(Le,{y:()=>C})},1144:(Tt,Le,R)=>{R.d(Le,{z:()=>C});const C=m=>m&&"number"==typeof m.length&&"function"!=typeof m},2206:(Tt,Le,R)=>{R.d(Le,{D:()=>m});var C=R(576);function m(V){return Symbol.asyncIterator&&(0,C.m)(V?.[Symbol.asyncIterator])}},576:(Tt,Le,R)=>{function C(m){return"function"==typeof m}R.d(Le,{m:()=>C})},3670:(Tt,Le,R)=>{R.d(Le,{c:()=>V});var C=R(8822),m=R(576);function V(de){return(0,m.m)(de[C.L])}},6495:(Tt,Le,R)=>{R.d(Le,{T:()=>V});var C=R(2202),m=R(576);function V(de){return(0,m.m)(de?.[C.h])}},8239:(Tt,Le,R)=>{R.d(Le,{t:()=>m});var C=R(576);function m(V){return(0,C.m)(V?.then)}},3260:(Tt,Le,R)=>{R.d(Le,{L:()=>de,Q:()=>V});var C=R(7582),m=R(576);function V(pe){return(0,C.FC)(this,arguments,function*(){const Me=pe.getReader();try{for(;;){const{value:xe,done:Ae}=yield(0,C.qq)(Me.read());if(Ae)return yield(0,C.qq)(void 0);yield yield(0,C.qq)(xe)}}finally{Me.releaseLock()}})}function de(pe){return(0,m.m)(pe?.getReader)}},3532:(Tt,Le,R)=>{R.d(Le,{K:()=>m});var C=R(576);function m(V){return V&&(0,C.m)(V.schedule)}},4482:(Tt,Le,R)=>{R.d(Le,{A:()=>m,e:()=>V});var C=R(576);function m(de){return(0,C.m)(de?.lift)}function V(de){return pe=>{if(m(pe))return pe.lift(function(be){try{return de(be,this)}catch(Me){this.error(Me)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Tt,Le,R)=>{R.d(Le,{Z:()=>de});var C=R(4004);const{isArray:m}=Array;function de(pe){return(0,C.U)(be=>function V(pe,be){return m(be)?pe(...be):pe(be)}(pe,be))}},5032:(Tt,Le,R)=>{function C(){}R.d(Le,{Z:()=>C})},9635:(Tt,Le,R)=>{R.d(Le,{U:()=>V,z:()=>m});var C=R(4671);function m(...de){return V(de)}function V(de){return 0===de.length?C.y:1===de.length?de[0]:function(be){return de.reduce((Me,xe)=>xe(Me),be)}}},7849:(Tt,Le,R)=>{R.d(Le,{h:()=>V});var C=R(2416),m=R(3410);function V(de){m.z.setTimeout(()=>{const{onUnhandledError:pe}=C.v;if(!pe)throw de;pe(de)})}},4532:(Tt,Le,R)=>{function C(m){return new TypeError(`You provided ${null!==m&&"object"==typeof m?"an invalid object":`'${m}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Le,{z:()=>C})},6895:(Tt,Le,R)=>{R.d(Le,{Do:()=>nt,EM:()=>ta,HT:()=>de,JF:()=>kc,K0:()=>be,Mx:()=>oo,NF:()=>To,PM:()=>Os,S$:()=>ft,V_:()=>Ae,Ye:()=>ut,b0:()=>Qe,bD:()=>Fa,ez:()=>dc,q:()=>V,qS:()=>Fo,w_:()=>pe});var C=R(4650);let m=null;function V(){return m}function de(I){m||(m=I)}class pe{}const be=new C.OlP("DocumentToken");let Me=(()=>{class I{historyGo(z){throw new Error("Not implemented")}}return I.\u0275fac=function(z){return new(z||I)},I.\u0275prov=C.Yz7({token:I,factory:function(){return function xe(){return(0,C.LFG)(ae)}()},providedIn:"platform"}),I})();const Ae=new C.OlP("Location Initialized");let ae=(()=>{class I extends Me{constructor(z){super(),this._doc=z,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(z){const G=V().getGlobalEventTarget(this._doc,"window");return G.addEventListener("popstate",z,!1),()=>G.removeEventListener("popstate",z)}onHashChange(z){const G=V().getGlobalEventTarget(this._doc,"window");return G.addEventListener("hashchange",z,!1),()=>G.removeEventListener("hashchange",z)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(z){this._location.pathname=z}pushState(z,G,oe){se()?this._history.pushState(z,G,oe):this._location.hash=oe}replaceState(z,G,oe){se()?this._history.replaceState(z,G,oe):this._location.hash=oe}forward(){this._history.forward()}back(){this._history.back()}historyGo(z=0){this._history.go(z)}getState(){return this._history.state}}return I.\u0275fac=function(z){return new(z||I)(C.LFG(be))},I.\u0275prov=C.Yz7({token:I,factory:function(){return function me(){return new ae((0,C.LFG)(be))}()},providedIn:"platform"}),I})();function se(){return!!window.history.pushState}function Fe(I,F){if(0==I.length)return F;if(0==F.length)return I;let z=0;return I.endsWith("/")&&z++,F.startsWith("/")&&z++,2==z?I+F.substring(1):1==z?I+F:I+"/"+F}function He(I){const F=I.match(/#|\?|$/),z=F&&F.index||I.length;return I.slice(0,z-("/"===I[z-1]?1:0))+I.slice(z)}function Ze(I){return I&&"?"!==I[0]?"?"+I:I}let ft=(()=>{class I{historyGo(z){throw new Error("Not implemented")}}return I.\u0275fac=function(z){return new(z||I)},I.\u0275prov=C.Yz7({token:I,factory:function(){return(0,C.f3M)(Qe)},providedIn:"root"}),I})();const Ye=new C.OlP("appBaseHref");let Qe=(()=>{class I extends ft{constructor(z,G){super(),this._platformLocation=z,this._removeListenerFns=[],this._baseHref=G??this._platformLocation.getBaseHrefFromDOM()??(0,C.f3M)(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}prepareExternalUrl(z){return Fe(this._baseHref,z)}path(z=!1){const G=this._platformLocation.pathname+Ze(this._platformLocation.search),oe=this._platformLocation.hash;return oe&&z?`${G}${oe}`:G}pushState(z,G,oe,je){const rt=this.prepareExternalUrl(oe+Ze(je));this._platformLocation.pushState(z,G,rt)}replaceState(z,G,oe,je){const rt=this.prepareExternalUrl(oe+Ze(je));this._platformLocation.replaceState(z,G,rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){this._platformLocation.historyGo?.(z)}}return I.\u0275fac=function(z){return new(z||I)(C.LFG(Me),C.LFG(Ye,8))},I.\u0275prov=C.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),nt=(()=>{class I extends ft{constructor(z,G){super(),this._platformLocation=z,this._baseHref="",this._removeListenerFns=[],null!=G&&(this._baseHref=G)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(z){this._removeListenerFns.push(this._platformLocation.onPopState(z),this._platformLocation.onHashChange(z))}getBaseHref(){return this._baseHref}path(z=!1){let G=this._platformLocation.hash;return null==G&&(G="#"),G.length>0?G.substring(1):G}prepareExternalUrl(z){const G=Fe(this._baseHref,z);return G.length>0?"#"+G:G}pushState(z,G,oe,je){let rt=this.prepareExternalUrl(oe+Ze(je));0==rt.length&&(rt=this._platformLocation.pathname),this._platformLocation.pushState(z,G,rt)}replaceState(z,G,oe,je){let rt=this.prepareExternalUrl(oe+Ze(je));0==rt.length&&(rt=this._platformLocation.pathname),this._platformLocation.replaceState(z,G,rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(z=0){this._platformLocation.historyGo?.(z)}}return I.\u0275fac=function(z){return new(z||I)(C.LFG(Me),C.LFG(Ye,8))},I.\u0275prov=C.Yz7({token:I,factory:I.\u0275fac}),I})(),ut=(()=>{class I{constructor(z){this._subject=new C.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=z;const G=this._locationStrategy.getBaseHref();this._basePath=function ct(I){if(new RegExp("^(https?:)?//").test(I)){const[,z]=I.split(/\/\/[^\/]+/);return z}return I}(He(Xe(G))),this._locationStrategy.onPopState(oe=>{this._subject.emit({url:this.path(!0),pop:!0,state:oe.state,type:oe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(z=!1){return this.normalize(this._locationStrategy.path(z))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(z,G=""){return this.path()==this.normalize(z+Ze(G))}normalize(z){return I.stripTrailingSlash(function Oe(I,F){if(!I||!F.startsWith(I))return F;const z=F.substring(I.length);return""===z||["/",";","?","#"].includes(z[0])?z:F}(this._basePath,Xe(z)))}prepareExternalUrl(z){return z&&"/"!==z[0]&&(z="/"+z),this._locationStrategy.prepareExternalUrl(z)}go(z,G="",oe=null){this._locationStrategy.pushState(oe,"",z,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+Ze(G)),oe)}replaceState(z,G="",oe=null){this._locationStrategy.replaceState(oe,"",z,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(z+Ze(G)),oe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(z=0){this._locationStrategy.historyGo?.(z)}onUrlChange(z){return this._urlChangeListeners.push(z),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(G=>{this._notifyUrlChangeListeners(G.url,G.state)})),()=>{const G=this._urlChangeListeners.indexOf(z);this._urlChangeListeners.splice(G,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(z="",G){this._urlChangeListeners.forEach(oe=>oe(z,G))}subscribe(z,G,oe){return this._subject.subscribe({next:z,error:G,complete:oe})}}return I.normalizeQueryParams=Ze,I.joinWithSlash=Fe,I.stripTrailingSlash=He,I.\u0275fac=function(z){return new(z||I)(C.LFG(ft))},I.\u0275prov=C.Yz7({token:I,factory:function(){return function Ge(){return new ut((0,C.LFG)(ft))}()},providedIn:"root"}),I})();function Xe(I){return I.replace(/\/index.html$/,"")}function Fo(I,F,z){return(0,C.dwT)(I,F,z)}function oo(I,F){F=encodeURIComponent(F);for(const z of I.split(";")){const G=z.indexOf("="),[oe,je]=-1==G?[z,""]:[z.slice(0,G),z.slice(G+1)];if(oe.trim()===F)return decodeURIComponent(je)}return null}let dc=(()=>{class I{}return I.\u0275fac=function(z){return new(z||I)},I.\u0275mod=C.oAB({type:I}),I.\u0275inj=C.cJS({}),I})();const Fa="browser",Yo="server";function To(I){return I===Fa}function Os(I){return I===Yo}let ta=(()=>{class I{}return I.\u0275prov=(0,C.Yz7)({token:I,providedIn:"root",factory:()=>new hc((0,C.LFG)(be),window)}),I})();class hc{constructor(F,z){this.document=F,this.window=z,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const z=function na(I,F){const z=I.getElementById(F)||I.getElementsByName(F)[0];if(z)return z;if("function"==typeof I.createTreeWalker&&I.body&&(I.body.createShadowRoot||I.body.attachShadow)){const G=I.createTreeWalker(I.body,NodeFilter.SHOW_ELEMENT);let oe=G.currentNode;for(;oe;){const je=oe.shadowRoot;if(je){const rt=je.getElementById(F)||je.querySelector(`[name="${F}"]`);if(rt)return rt}oe=G.nextNode()}}return null}(this.document,F);z&&(this.scrollToElement(z),z.focus())}setHistoryScrollRestoration(F){if(this.supportScrollRestoration()){const z=this.window.history;z&&z.scrollRestoration&&(z.scrollRestoration=F)}}scrollToElement(F){const z=F.getBoundingClientRect(),G=z.left+this.window.pageXOffset,oe=z.top+this.window.pageYOffset,je=this.offset();this.window.scrollTo(G-je[0],oe-je[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const F=mo(this.window.history)||mo(Object.getPrototypeOf(this.window.history));return!(!F||!F.writable&&!F.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function mo(I){return Object.getOwnPropertyDescriptor(I,"scrollRestoration")}class kc{}},4650:(Tt,Le,R)=>{R.d(Le,{$8M:()=>Sl,$WT:()=>Cr,$Z:()=>Tm,AFp:()=>M7,AaK:()=>xe,CRH:()=>s7,CZH:()=>bh,CqO:()=>cg,D6c:()=>rv,EJc:()=>eD,EiD:()=>Np,F$t:()=>fg,F4k:()=>ag,FYo:()=>em,FiY:()=>ua,Gf:()=>r7,GfV:()=>nm,Gpc:()=>se,Hsn:()=>pg,JOm:()=>Ys,JVY:()=>Zw,JZr:()=>ft,L6k:()=>Qw,LAX:()=>Ip,LFG:()=>nn,Lbi:()=>ZT,Lck:()=>WE,MMx:()=>p8,MR2:()=>pC,NdJ:()=>Z3,O4$:()=>Jl,OlP:()=>Dr,P3R:()=>Vp,PXZ:()=>pD,QGY:()=>K3,QbO:()=>QT,Qsj:()=>DC,R0b:()=>Da,RDi:()=>Yw,Rgc:()=>wh,SBq:()=>sh,Sil:()=>nD,Suo:()=>o7,TTD:()=>ga,TgZ:()=>X4,Udp:()=>t8,X6Q:()=>j7,XFs:()=>Ct,Xpm:()=>at,Xts:()=>f3,Y36:()=>x1,YKP:()=>R5,Yjl:()=>tn,Yz7:()=>De,Z0I:()=>Zt,ZZ4:()=>C2,_Bn:()=>O5,_UZ:()=>G3,_Vd:()=>oh,_c5:()=>nv,_uU:()=>Fg,aQg:()=>Mu,c2e:()=>XT,cJS:()=>hn,cg1:()=>o8,dDg:()=>uD,dqk:()=>_n,dwT:()=>ZS,eBb:()=>Xw,eFA:()=>H7,eJc:()=>T8,ekj:()=>n8,eoX:()=>F7,f3M:()=>$n,g9A:()=>x7,h0i:()=>Y1,hGG:()=>b2,iGM:()=>n7,ifc:()=>X,ip1:()=>z8,jDz:()=>L5,kL8:()=>o5,kcU:()=>wl,lG2:()=>Nt,lqb:()=>wu,lri:()=>R7,mCW:()=>N4,n5z:()=>bl,oAB:()=>Te,pB0:()=>Jw,q3G:()=>Yi,q4F:()=>rm,qLn:()=>ah,qOj:()=>H3,qZA:()=>J4,qzn:()=>D1,rWj:()=>N7,sBO:()=>B8,s_b:()=>l2,soG:()=>f2,tBr:()=>Sa,tb:()=>F8,tp0:()=>Ea,uIk:()=>Y3,vHH:()=>Ye,vpe:()=>Mc,wAp:()=>Sn,xp6:()=>fm,z2F:()=>Sh,z3N:()=>Xc,zSh:()=>v3,zs3:()=>Su});var C=R(7579),m=R(727),V=R(9751),de=R(6451),pe=R(3099);function be(o){for(let s in o)if(o[s]===be)return s;throw Error("Could not find renamed property on target object.")}function Me(o,s){for(const c in s)s.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=s[c])}function xe(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(xe).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const c=s.indexOf("\n");return-1===c?s:s.substring(0,c)}function Ae(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const ae=be({__forward_ref__:be});function se(o){return o.__forward_ref__=se,o.toString=function(){return xe(this())},o}function me(o){return Fe(o)?o():o}function Fe(o){return"function"==typeof o&&o.hasOwnProperty(ae)&&o.__forward_ref__===se}function He(o){return o&&!!o.\u0275providers}const ft="https://g.co/ng/security#xss";class Ye extends Error{constructor(s,c){super(Qe(s,c)),this.code=s}}function Qe(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}function nt(o){return"string"==typeof o?o:null==o?"":String(o)}function ct(o,s){throw new Ye(-201,!1)}function Ie(o,s){null==o&&function ge(o,s,c,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${c} ${u} ${s} <=Actual]`))}(s,o,null,"!=")}function De(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function hn(o){return{providers:o.providers||[],imports:o.imports||[]}}function gn(o){return vn(o,yn)||vn(o,cr)}function Zt(o){return null!==gn(o)}function vn(o,s){return o.hasOwnProperty(s)?o[s]:null}function ar(o){return o&&(o.hasOwnProperty(Mn)||o.hasOwnProperty(Wt))?o[Mn]:null}const yn=be({\u0275prov:be}),Mn=be({\u0275inj:be}),cr=be({ngInjectableDef:be}),Wt=be({ngInjectorDef:be});var Ct=(()=>((Ct=Ct||{})[Ct.Default=0]="Default",Ct[Ct.Host=1]="Host",Ct[Ct.Self=2]="Self",Ct[Ct.SkipSelf=4]="SkipSelf",Ct[Ct.Optional=8]="Optional",Ct))();let Rn;function Yn(o){const s=Rn;return Rn=o,s}function tr(o,s,c){const u=gn(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&Ct.Optional?null:void 0!==s?s:void ct(xe(o))}const _n=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),jn={},An="__NG_DI_FLAG__",At="ngTempTokenPath",hr="ngTokenPath",nr=/\n/gm,rr="\u0275",Xt="__source";let yr;function an(o){const s=yr;return yr=o,s}function ci(o,s=Ct.Default){if(void 0===yr)throw new Ye(-203,!1);return null===yr?tr(o,void 0,s):yr.get(o,s&Ct.Optional?null:void 0,s)}function nn(o,s=Ct.Default){return(function qn(){return Rn}()||ci)(me(o),s)}function $n(o,s=Ct.Default){return nn(o,ir(s))}function ir(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function _r(o){const s=[];for(let c=0;c<o.length;c++){const u=me(o[c]);if(Array.isArray(u)){if(0===u.length)throw new Ye(900,!1);let d,f=Ct.Default;for(let _=0;_<u.length;_++){const D=u[_],x=wr(D);"number"==typeof x?-1===x?d=D.token:f|=x:d=D}s.push(nn(d,f))}else s.push(nn(u))}return s}function Er(o,s){return o[An]=s,o.prototype[An]=s,o}function wr(o){return o[An]}function ie(o){return{toString:o}.toString()}var q=(()=>((q=q||{})[q.OnPush=0]="OnPush",q[q.Default=1]="Default",q))(),X=(()=>{return(o=X||(X={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",X;var o})();const $={},he=[],ee=be({\u0275cmp:be}),B=be({\u0275dir:be}),H=be({\u0275pipe:be}),J=be({\u0275mod:be}),fe=be({\u0275fac:be}),Ce=be({__NG_ELEMENT_ID__:be});let it=0;function at(o){return ie(()=>{const s=Lr(o),c={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===q.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||X.Emulated,id:"c"+it++,styles:o.styles||he,_:null,schemas:o.schemas||null,tView:null};Fo(c);const u=o.dependencies;return c.directiveDefs=oo(u,!1),c.pipeDefs=oo(u,!0),c})}function cn(o){return Gt(o)||Nn(o)}function ze(o){return null!==o}function Te(o){return ie(()=>({type:o.type,bootstrap:o.bootstrap||he,declarations:o.declarations||he,imports:o.imports||he,exports:o.exports||he,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function It(o,s){if(null==o)return $;const c={};for(const u in o)if(o.hasOwnProperty(u)){let d=o[u],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),c[d]=u,s&&(s[d]=f)}return c}function Nt(o){return ie(()=>{const s=Lr(o);return Fo(s),s})}function tn(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Gt(o){return o[ee]||null}function Nn(o){return o[B]||null}function ln(o){return o[H]||null}function Cr(o){const s=Gt(o)||Nn(o)||ln(o);return null!==s&&s.standalone}function Or(o,s){const c=o[J]||null;if(!c&&!0===s)throw new Error(`Type ${xe(o)} does not have '\u0275mod' property.`);return c}function Lr(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||he,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:It(o.inputs,s),outputs:It(o.outputs)}}function Fo(o){o.features?.forEach(s=>s(o))}function oo(o,s){if(!o)return null;const c=s?ln:cn;return()=>("function"==typeof o?o():o).map(u=>c(u)).filter(ze)}const Tr=0,Dt=1,bn=2,Kn=3,Gn=4,Fi=5,zr=6,mi=7,Fn=8,Ki=9,Ti=10,un=11,Zi=12,re=13,Se=14,We=15,wt=16,Dn=17,fn=18,In=19,lr=20,Ur=21,xn=22,Oa=1,cs=2,Lo=7,Eo=8,po=9,Gr=10;function li(o){return Array.isArray(o)&&"object"==typeof o[Oa]}function ui(o){return Array.isArray(o)&&!0===o[Oa]}function Vo(o){return 0!=(4&o.flags)}function Di(o){return o.componentOffset>-1}function ki(o){return 1==(1&o.flags)}function Zr(o){return!!o.template}function Qi(o){return 0!=(256&o[bn])}function gi(o,s){return o.hasOwnProperty(fe)?o[fe]:null}class ma{constructor(s,c,u){this.previousValue=s,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function ga(){return ta}function ta(o){return o.type.prototype.ngOnChanges&&(o.setInput=mo),hc}function hc(){const o=so(this),s=o?.current;if(s){const c=o.previous;if(c===$)o.previous=s;else for(let u in s)c[u]=s[u];o.current=null,this.ngOnChanges(s)}}function mo(o,s,c,u){const d=this.declaredInputs[c],f=so(o)||function kc(o,s){return o[na]=s}(o,{previous:$,current:null}),_=f.current||(f.current={}),D=f.previous,x=D[d];_[d]=new ma(x&&x.currentValue,s,D===$),o[u]=s}ga.ngInherit=!0;const na="__ngSimpleChanges__";function so(o){return o[na]||null}const br=function(o,s,c){},Ns="svg";function Ar(o){for(;Array.isArray(o);)o=o[Tr];return o}function Vr(o,s){return Ar(s[o.index])}function ia(o,s){return o.data[s]}function ri(o,s){const c=s[o];return li(c)?c:c[Tr]}function Wo(o){return 64==(64&o[bn])}function Mi(o,s){return null==s?null:o[s]}function ms(o){o[fn]=0}function Fs(o,s){o[Fi]+=s;let c=o,u=o[Kn];for(;null!==u&&(1===s&&1===c[Fi]||-1===s&&0===c[Fi]);)u[Fi]+=s,c=u,u=u[Kn]}const en={lFrame:sa(null),bindingsEnabled:!0};function fc(){return en.bindingsEnabled}function O(){return en.lFrame.lView}function Y(){return en.lFrame.tView}function Ke(){let o=vt();for(;null!==o&&64===o.type;)o=o.parent;return o}function vt(){return en.lFrame.currentTNode}function pn(o,s){const c=en.lFrame;c.currentTNode=o,c.isParent=s}function Hn(){return en.lFrame.isParent}function fr(){en.lFrame.isParent=!1}function n1(o,s){const c=en.lFrame;c.bindingIndex=c.bindingRootIndex=o,Va(s)}function Va(o){en.lFrame.currentDirectiveIndex=o}function _a(){return en.lFrame.currentQueryIndex}function Rc(o){en.lFrame.currentQueryIndex=o}function Nc(o){const s=o[Dt];return 2===s.type?s.declTNode:1===s.type?o[zr]:null}function gc(o,s,c){if(c&Ct.SkipSelf){let d=s,f=o;for(;!(d=d.parent,null!==d||c&Ct.Host||(d=Nc(f),null===d||(f=f[We],10&d.type))););if(null===d)return!1;s=d,o=f}const u=en.lFrame=vl();return u.currentTNode=s,u.lView=o,!0}function oa(o){const s=vl(),c=o[Dt];en.lFrame=s,s.currentTNode=c.firstChild,s.lView=o,s.tView=c,s.contextLView=o,s.bindingIndex=c.bindingStartIndex,s.inI18n=!1}function vl(){const o=en.lFrame,s=null===o?null:o.child;return null===s?sa(o):s}function sa(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function yl(){const o=en.lFrame;return en.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Fc=yl;function _l(){const o=yl();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Bi(){return en.lFrame.selectedIndex}function gs(o){en.lFrame.selectedIndex=o}function Jl(){en.lFrame.currentNamespace=Ns}function wl(){!function s1(){en.lFrame.currentNamespace=null}()}function vc(o,s){for(let c=s.directiveStart,u=s.directiveEnd;c<u;c++){const f=o.data[c].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:D,ngAfterViewInit:x,ngAfterViewChecked:N,ngOnDestroy:W}=f;_&&(o.contentHooks??(o.contentHooks=[])).push(-c,_),D&&((o.contentHooks??(o.contentHooks=[])).push(c,D),(o.contentCheckHooks??(o.contentCheckHooks=[])).push(c,D)),x&&(o.viewHooks??(o.viewHooks=[])).push(-c,x),N&&((o.viewHooks??(o.viewHooks=[])).push(c,N),(o.viewCheckHooks??(o.viewCheckHooks=[])).push(c,N)),null!=W&&(o.destroyHooks??(o.destroyHooks=[])).push(c,W)}}function Vc(o,s,c){F(o,s,3,c)}function Hc(o,s,c,u){(3&o[bn])===c&&F(o,s,c,u)}function I(o,s){let c=o[bn];(3&c)===s&&(c&=2047,c+=1,o[bn]=c)}function F(o,s,c,u){const f=u??-1,_=s.length-1;let D=0;for(let x=void 0!==u?65535&o[fn]:0;x<_;x++)if("number"==typeof s[x+1]){if(D=s[x],null!=u&&D>=u)break}else s[x]<0&&(o[fn]+=65536),(D<f||-1==f)&&(z(o,c,s,x),o[fn]=(4294901760&o[fn])+x+2),x++}function z(o,s,c,u){const d=c[u]<0,f=c[u+1],D=o[d?-c[u]:c[u]];if(d){if(o[bn]>>11<o[fn]>>16&&(3&o[bn])===s){o[bn]+=2048,br(4,D,f);try{f.call(D)}finally{br(5,D,f)}}}else{br(4,D,f);try{f.call(D)}finally{br(5,D,f)}}}const G=-1;class oe{constructor(s,c,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function er(o,s,c){let u=0;for(;u<c.length;){const d=c[u];if("number"==typeof d){if(0!==d)break;u++;const f=c[u++],_=c[u++],D=c[u++];o.setAttribute(s,_,D,f)}else{const f=d,_=c[++u];vs(f)?o.setProperty(s,f,_):o.setAttribute(s,f,_),u++}}return u}function oi(o){return 3===o||4===o||6===o}function vs(o){return 64===o.charCodeAt(0)}function Xi(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let c=-1;for(let u=0;u<s.length;u++){const d=s[u];"number"==typeof d?c=d:0===c||yo(o,c,d,null,-1===c||2===c?s[++u]:null)}}return o}function yo(o,s,c,u,d){let f=0,_=o.length;if(-1===s)_=-1;else for(;f<o.length;){const D=o[f++];if("number"==typeof D){if(D===s){_=-1;break}if(D>s){_=f-1;break}}}for(;f<o.length;){const D=o[f];if("number"==typeof D)break;if(D===c){if(null===u)return void(null!==d&&(o[f+1]=d));if(u===o[f+1])return void(o[f+2]=d)}f++,null!==u&&f++,null!==d&&f++}-1!==_&&(o.splice(_,0,s),f=_+1),o.splice(f++,0,c),null!==u&&o.splice(f++,0,u),null!==d&&o.splice(f++,0,d)}function Ii(o){return o!==G}function Mo(o){return 32767&o}function Zo(o,s){let c=function Io(o){return o>>16}(o),u=s;for(;c>0;)u=u[We],c--;return u}let eu=!0;function Cl(o){const s=eu;return eu=o,s}const zd=255,yc=5;let g4=0;const Qo={};function Bc(o,s){const c=nu(o,s);if(-1!==c)return c;const u=s[Dt];u.firstCreatePass&&(o.injectorIndex=s.length,wa(u.data,o),wa(s,null),wa(u.blueprint,null));const d=ei(o,s),f=o.injectorIndex;if(Ii(d)){const _=Mo(d),D=Zo(d,s),x=D[Dt].data;for(let N=0;N<8;N++)s[f+N]=D[_+N]|x[_+N]}return s[f+8]=d,f}function wa(o,s){o.push(0,0,0,0,0,0,0,0,s)}function nu(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function ei(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,u=null,d=s;for(;null!==d;){if(u=Ya(d),null===u)return G;if(c++,d=d[We],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return G}function vi(o,s,c){!function tu(o,s,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(Ce)&&(u=c[Ce]),null==u&&(u=c[Ce]=g4++);const d=u&zd;s.data[o+(d>>yc)]|=1<<d}(o,s,c)}function Ls(o,s,c){if(c&Ct.Optional||void 0!==o)return o;ct()}function Ba(o,s,c,u){if(c&Ct.Optional&&void 0===u&&(u=null),!(c&(Ct.Self|Ct.Host))){const d=o[Ki],f=Yn(void 0);try{return d?d.get(s,u,c&Ct.Optional):tr(s,u,c&Ct.Optional)}finally{Yn(f)}}return Ls(u,0,c)}function Xo(o,s,c,u=Ct.Default,d){if(null!==o){if(1024&s[bn]){const _=function _s(o,s,c,u,d){let f=o,_=s;for(;null!==f&&null!==_&&1024&_[bn]&&!(256&_[bn]);){const D=_c(f,_,c,u|Ct.Self,Qo);if(D!==Qo)return D;let x=f.parent;if(!x){const N=_[Ur];if(N){const W=N.get(c,Qo,u);if(W!==Qo)return W}x=Ya(_),_=_[We]}f=x}return d}(o,s,c,u,Qo);if(_!==Qo)return _}const f=_c(o,s,c,u,Qo);if(f!==Qo)return f}return Ba(s,c,u,d)}function _c(o,s,c,u,d){const f=function aa(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Ce)?o[Ce]:void 0;return"number"==typeof s?s>=0?s&zd:co:s}(c);if("function"==typeof f){if(!gc(s,o,u))return u&Ct.Host?Ls(d,0,u):Ba(s,c,u,d);try{const _=f(u);if(null!=_||u&Ct.Optional)return _;ct()}finally{Fc()}}else if("number"==typeof f){let _=null,D=nu(o,s),x=G,N=u&Ct.Host?s[wt][zr]:null;for((-1===D||u&Ct.SkipSelf)&&(x=-1===D?ei(o,s):s[D+8],x!==G&&xi(u,!1)?(_=s[Dt],D=Mo(x),s=Zo(x,s)):D=-1);-1!==D;){const W=s[Dt];if(Ca(f,D,W.data)){const te=Ua(D,s,c,_,u,N);if(te!==Qo)return te}x=s[D+8],x!==G&&xi(u,s[Dt].data[D+8]===N)&&Ca(f,D,s)?(_=W,D=Mo(x),s=Zo(x,s)):D=-1}}return d}function Ua(o,s,c,u,d,f){const _=s[Dt],D=_.data[o+8],W=Uc(D,_,c,null==u?Di(D)&&eu:u!=_&&0!=(3&D.type),d&Ct.Host&&f===D);return null!==W?Vs(s,_,W,D):Qo}function Uc(o,s,c,u,d){const f=o.providerIndexes,_=s.data,D=1048575&f,x=o.directiveStart,W=f>>20,ye=d?D+W:o.directiveEnd;for(let Ne=u?D:D+W;Ne<ye;Ne++){const tt=_[Ne];if(Ne<x&&c===tt||Ne>=x&&tt.type===c)return Ne}if(d){const Ne=_[x];if(Ne&&Zr(Ne)&&Ne.type===c)return x}return null}function Vs(o,s,c,u){let d=o[c];const f=s.data;if(function je(o){return o instanceof oe}(d)){const _=d;_.resolving&&function Ge(o,s){const c=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new Ye(-200,`Circular dependency in DI detected for ${o}${c}`)}(function ut(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():nt(o)}(f[c]));const D=Cl(_.canSeeViewProviders);_.resolving=!0;const x=_.injectImpl?Yn(_.injectImpl):null;gc(o,u,Ct.Default);try{d=o[c]=_.factory(void 0,f,o,u),s.firstCreatePass&&c>=u.directiveStart&&function c1(o,s,c){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(u){const _=ta(s);(c.preOrderHooks??(c.preOrderHooks=[])).push(o,_),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,_)}d&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-o,d),f&&((c.preOrderHooks??(c.preOrderHooks=[])).push(o,f),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,f))}(c,f[c],s)}finally{null!==x&&Yn(x),Cl(D),_.resolving=!1,Fc()}}return d}function Ca(o,s,c){return!!(c[s+(o>>yc)]&1<<o)}function xi(o,s){return!(o&Ct.Self||o&Ct.Host&&s)}class Hs{constructor(s,c){this._tNode=s,this._lView=c}get(s,c,u){return Xo(this._tNode,this._lView,s,ir(u),c)}}function co(){return new Hs(Ke(),O())}function bl(o){return ie(()=>{const s=o.prototype.constructor,c=s[fe]||ys(s),u=Object.prototype;let d=Object.getPrototypeOf(o.prototype).constructor;for(;d&&d!==u;){const f=d[fe]||ys(d);if(f&&f!==c)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function ys(o){return Fe(o)?()=>{const s=ys(me(o));return s&&s()}:gi(o)}function Ya(o){const s=o[Dt],c=s.type;return 2===c?s.declTNode:1===c?o[zr]:null}function Sl(o){return function ru(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const c=o.attrs;if(c){const u=c.length;let d=0;for(;d<u;){const f=c[d];if(oi(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<u&&"string"==typeof c[d];)d++;else{if(f===s)return c[d+1];d+=2}}}return null}(Ke(),o)}const ja="__parameters__";function Bs(o,s,c){return ie(()=>{const u=function si(o){return function(...c){if(o){const u=o(...c);for(const d in u)this[d]=u[d]}}}(s);function d(...f){if(this instanceof d)return u.apply(this,f),this;const _=new d(...f);return D.annotation=_,D;function D(x,N,W){const te=x.hasOwnProperty(ja)?x[ja]:Object.defineProperty(x,ja,{value:[]})[ja];for(;te.length<=W;)te.push(null);return(te[W]=te[W]||[]).push(_),x}}return c&&(d.prototype=Object.create(c.prototype)),d.prototype.ngMetadataName=o,d.annotationCls=d,d})}class Dr{constructor(s,c){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=De({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ws(o,s){o.forEach(c=>Array.isArray(c)?ws(c,s):s(c))}function Us(o,s,c){s>=o.length?o.push(c):o.splice(s,0,c)}function Tl(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function w(o,s){const c=[];for(let u=0;u<o;u++)c.push(s);return c}function j(o,s,c){let u=we(o,s);return u>=0?o[1|u]=c:(u=~u,function M(o,s,c,u){let d=o.length;if(d==s)o.push(c,u);else if(1===d)o.push(u,o[0]),o[0]=c;else{for(d--,o.push(o[d-1],o[d]);d>s;)o[d]=o[d-2],d--;o[s]=c,o[s+1]=u}}(o,u,s,c)),u}function K(o,s){const c=we(o,s);if(c>=0)return o[1|c]}function we(o,s){return function zt(o,s,c){let u=0,d=o.length>>c;for(;d!==u;){const f=u+(d-u>>1),_=o[f<<c];if(s===_)return f<<c;_>s?d=f:u=f+1}return~(d<<c)}(o,s,1)}const Sa=Er(Bs("Inject",o=>({token:o})),-1),ua=Er(Bs("Optional"),8),Ea=Er(Bs("SkipSelf"),4);var Ys=(()=>((Ys=Ys||{})[Ys.Important=1]="Important",Ys[Ys.DashCase=2]="DashCase",Ys))();const g1=new Map;let T4=0;const $d="__ngContext__";function Ji(o,s){li(s)?(o[$d]=s[lr],function D4(o){g1.set(o[lr],o)}(s)):o[$d]=s}let hu;function Kc(o,s){return hu(o,s)}function fu(o){const s=o[Kn];return ui(s)?s[Kn]:s}function js(o){return Qd(o[re])}function pu(o){return Qd(o[Gn])}function Qd(o){for(;null!==o&&!ui(o);)o=o[Gn];return o}function Sc(o,s,c,u,d){if(null!=u){let f,_=!1;ui(u)?f=u:li(u)&&(_=!0,u=u[Tr]);const D=Ar(u);0===o&&null!==c?null==d?Nr(s,c,D):on(s,c,D,d||null,!0):1===o&&null!==c?on(s,c,D,d||null,!0):2===o?function P4(o,s,c){const u=Zc(o,s);u&&function Al(o,s,c,u){o.removeChild(s,c,u)}(o,u,s,c)}(s,D,_):3===o&&s.destroyNode(D),null!=f&&function Lw(o,s,c,u,d){const f=c[Lo];f!==Ar(c)&&Sc(s,o,u,f,d);for(let D=Gr;D<c.length;D++){const x=c[D];T1(x[Dt],x,o,s,u,f)}}(s,o,f,c,d)}}function Xd(o,s,c){return o.createElement(s,c)}function T(o,s){const c=o[po],u=c.indexOf(s),d=s[Kn];512&s[bn]&&(s[bn]&=-513,Fs(d,-1)),c.splice(u,1)}function L(o,s){if(o.length<=Gr)return;const c=Gr+s,u=o[c];if(u){const d=u[Dn];null!==d&&d!==o&&T(d,u),s>0&&(o[c-1][Gn]=u[Gn]);const f=Tl(o,Gr+s);!function z4(o,s){T1(o,s,s[un],2,null,null),s[Tr]=null,s[zr]=null}(u[Dt],u);const _=f[In];null!==_&&_.detachView(f[Dt]),u[Kn]=null,u[Gn]=null,u[bn]&=-65}return u}function Q(o,s){if(!(128&s[bn])){const c=s[un];c.destroyNode&&T1(o,s,c,3,null,null),function b(o){let s=o[re];if(!s)return _e(o[Dt],o);for(;s;){let c=null;if(li(s))c=s[re];else{const u=s[Gr];u&&(c=u)}if(!c){for(;s&&!s[Gn]&&s!==o;)li(s)&&_e(s[Dt],s),s=s[Kn];null===s&&(s=o),li(s)&&_e(s[Dt],s),c=s&&s[Gn]}s=c}}(s)}}function _e(o,s){if(!(128&s[bn])){s[bn]&=-65,s[bn]|=128,function _t(o,s){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let u=0;u<c.length;u+=2){const d=s[c[u]];if(!(d instanceof oe)){const f=c[u+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const D=d[f[_]],x=f[_+1];br(4,D,x);try{x.call(D)}finally{br(5,D,x)}}else{br(4,d,f);try{f.call(d)}finally{br(5,d,f)}}}}}(o,s),function Ve(o,s){const c=o.cleanup,u=s[mi];let d=-1;if(null!==c)for(let f=0;f<c.length-1;f+=2)if("string"==typeof c[f]){const _=c[f+3];_>=0?u[d=_]():u[d=-_].unsubscribe(),f+=2}else{const _=u[d=c[f+1]];c[f].call(_)}if(null!==u){for(let f=d+1;f<u.length;f++)(0,u[f])();s[mi]=null}}(o,s),1===s[Dt].type&&s[un].destroy();const c=s[Dn];if(null!==c&&ui(s[Kn])){c!==s[Kn]&&T(c,s);const u=s[In];null!==u&&u.detachView(o)}!function Yd(o){g1.delete(o[lr])}(s)}}function Bt(o,s,c){return function dn(o,s,c){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return c[Tr];{const{componentOffset:d}=u;if(d>-1){const{encapsulation:f}=o.data[u.directiveStart+d];if(f===X.None||f===X.Emulated)return null}return Vr(u,c)}}(o,s.parent,c)}function on(o,s,c,u,d){o.insertBefore(s,c,u,d)}function Nr(o,s,c){o.appendChild(s,c)}function $s(o,s,c,u,d){null!==u?on(o,s,c,u,d):Nr(o,s,c)}function Zc(o,s){return o.parentNode(s)}function b1(o,s,c){return S1(o,s,c)}let mu,th,c3,R4,S1=function Qc(o,s,c){return 40&o.type?Vr(o,c):null};function Ol(o,s,c,u){const d=Bt(o,u,s),f=s[un],D=b1(u.parent||s[zr],u,s);if(null!=d)if(Array.isArray(c))for(let x=0;x<c.length;x++)$s(f,d,c[x],D,!1);else $s(f,d,c,D,!1);void 0!==mu&&mu(f,u,s,c,d)}function gu(o,s){if(null!==s){const c=s.type;if(3&c)return Vr(s,o);if(4&c)return E1(-1,o[s.index]);if(8&c){const u=s.child;if(null!==u)return gu(o,u);{const d=o[s.index];return ui(d)?E1(-1,d):Ar(d)}}if(32&c)return Kc(s,o)()||Ar(o[s.index]);{const u=vu(o,s);return null!==u?Array.isArray(u)?u[0]:gu(fu(o[wt]),u):gu(o,s.next)}}return null}function vu(o,s){return null!==s?o[wt][zr].projection[s.projection]:null}function E1(o,s){const c=Gr+o+1;if(c<s.length){const u=s[c],d=u[Dt].firstChild;if(null!==d)return gu(u,d)}return s[Lo]}function k4(o,s,c,u,d,f,_){for(;null!=c;){const D=u[c.index],x=c.type;if(_&&0===s&&(D&&Ji(Ar(D),u),c.flags|=2),32!=(32&c.flags))if(8&x)k4(o,s,c.child,u,d,f,!1),Sc(s,o,d,D,f);else if(32&x){const N=Kc(c,u);let W;for(;W=N();)Sc(s,o,d,W,f);Sc(s,o,d,D,f)}else 16&x?bp(o,s,u,c,d,f):Sc(s,o,d,D,f);c=_?c.projectionNext:c.next}}function T1(o,s,c,u,d,f){k4(c,u,o.firstChild,s,d,f,!1)}function bp(o,s,c,u,d,f){const _=c[wt],x=_[zr].projection[u.projection];if(Array.isArray(x))for(let N=0;N<x.length;N++)Sc(s,o,d,x[N],f);else k4(o,s,x,_[Kn],d,f,!0)}function O4(o,s,c){""===c?o.removeAttribute(s,"class"):o.setAttribute(s,"class",c)}function eh(o,s,c){const{mergedAttrs:u,classes:d,styles:f}=c;null!==u&&er(o,s,u),null!==d&&O4(o,s,d),null!==f&&function Sp(o,s,c){o.setAttribute(s,"style",c)}(o,s,f)}function Rl(o){return function nh(){if(void 0===th&&(th=null,_n.trustedTypes))try{th=_n.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return th}()?.createHTML(o)||o}function Yw(o){c3=o}function Mp(o){return function l3(){if(void 0===R4&&(R4=null,_n.trustedTypes))try{R4=_n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return R4}()?.createScriptURL(o)||o}class yu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}class jw extends yu{getTypeName(){return"HTML"}}class $w extends yu{getTypeName(){return"Style"}}class Gw extends yu{getTypeName(){return"Script"}}class Ww extends yu{getTypeName(){return"URL"}}class qw extends yu{getTypeName(){return"ResourceURL"}}function Xc(o){return o instanceof yu?o.changingThisBreaksApplicationSecurity:o}function D1(o,s){const c=function Kw(o){return o instanceof yu&&o.getTypeName()||null}(o);if(null!=c&&c!==s){if("ResourceURL"===c&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${c} (see ${ft})`)}return c===s}function Zw(o){return new jw(o)}function Qw(o){return new $w(o)}function Xw(o){return new Gw(o)}function Ip(o){return new Ww(o)}function Jw(o){return new qw(o)}class eC{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const c=(new window.DOMParser).parseFromString(Rl(s),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(s):(c.removeChild(c.firstChild),c)}catch{return null}}}class tC{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const c=this.inertDocument.createElement("template");return c.innerHTML=Rl(s),c}}const rC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function N4(o){return(o=String(o)).match(rC)?o:"unsafe:"+o}function Jc(o){const s={};for(const c of o.split(","))s[c]=!0;return s}function rh(...o){const s={};for(const c of o)for(const u in c)c.hasOwnProperty(u)&&(s[u]=!0);return s}const zp=Jc("area,br,col,hr,img,wbr"),Ap=Jc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pp=Jc("rp,rt"),u3=rh(zp,rh(Ap,Jc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rh(Pp,Jc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rh(Pp,Ap)),d3=Jc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kp=rh(d3,Jc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Op=Jc("script,style,template");class iC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let c=s.firstChild,u=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let d=this.checkClobberedElement(c,c.nextSibling);if(d){c=d;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(s){const c=s.nodeName.toLowerCase();if(!u3.hasOwnProperty(c))return this.sanitizedSomething=!0,!Op.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=s.attributes;for(let d=0;d<u.length;d++){const f=u.item(d),_=f.name,D=_.toLowerCase();if(!kp.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let x=f.value;d3[D]&&(x=N4(x)),this.buf.push(" ",_,'="',Rp(x),'"')}return this.buf.push(">"),!0}endElement(s){const c=s.nodeName.toLowerCase();u3.hasOwnProperty(c)&&!zp.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(s){this.buf.push(Rp(s))}checkClobberedElement(s,c){if(c&&(s.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return c}}const oC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sC=/([^\#-~ |!])/g;function Rp(o){return o.replace(/&/g,"&amp;").replace(oC,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(sC,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let F4;function Np(o,s){let c=null;try{F4=F4||function xp(o){const s=new tC(o);return function nC(){try{return!!(new window.DOMParser).parseFromString(Rl(""),"text/html")}catch{return!1}}()?new eC(s):s}(o);let u=s?String(s):"";c=F4.getInertBodyElement(u);let d=5,f=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=f,f=c.innerHTML,c=F4.getInertBodyElement(u)}while(u!==f);return Rl((new iC).sanitizeChildren(h3(c)||c))}finally{if(c){const u=h3(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function h3(o){return"content"in o&&function aC(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Yi=(()=>((Yi=Yi||{})[Yi.NONE=0]="NONE",Yi[Yi.HTML=1]="HTML",Yi[Yi.STYLE=2]="STYLE",Yi[Yi.SCRIPT=3]="SCRIPT",Yi[Yi.URL=4]="URL",Yi[Yi.RESOURCE_URL=5]="RESOURCE_URL",Yi))();function Fp(o){const s=ih();return s?s.sanitize(Yi.URL,o)||"":D1(o,"URL")?Xc(o):N4(nt(o))}function Lp(o){const s=ih();if(s)return Mp(s.sanitize(Yi.RESOURCE_URL,o)||"");if(D1(o,"ResourceURL"))return Mp(Xc(o));throw new Ye(904,!1)}function Vp(o,s,c){return function fC(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?Lp:Fp}(s,c)(o)}function ih(){const o=O();return o&&o[Zi]}const f3=new Dr("ENVIRONMENT_INITIALIZER"),Hp=new Dr("INJECTOR",-1),Bp=new Dr("INJECTOR_DEF_TYPES");class Up{get(s,c=jn){if(c===jn){const u=new Error(`NullInjectorError: No provider for ${xe(s)}!`);throw u.name="NullInjectorError",u}return c}}function pC(o){return{\u0275providers:o}}function mC(...o){return{\u0275providers:Yp(0,o),\u0275fromNgModule:!0}}function Yp(o,...s){const c=[],u=new Set;let d;return ws(s,f=>{const _=f;p3(_,c,[],u)&&(d||(d=[]),d.push(_))}),void 0!==d&&jp(d,c),c}function jp(o,s){for(let c=0;c<o.length;c++){const{providers:d}=o[c];m3(d,f=>{s.push(f)})}}function p3(o,s,c,u){if(!(o=me(o)))return!1;let d=null,f=ar(o);const _=!f&&Gt(o);if(f||_){if(_&&!_.standalone)return!1;d=o}else{const x=o.ngModule;if(f=ar(x),!f)return!1;d=x}const D=u.has(d);if(_){if(D)return!1;if(u.add(d),_.dependencies){const x="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const N of x)p3(N,s,c,u)}}else{if(!f)return!1;{if(null!=f.imports&&!D){let N;u.add(d);try{ws(f.imports,W=>{p3(W,s,c,u)&&(N||(N=[]),N.push(W))})}finally{}void 0!==N&&jp(N,s)}if(!D){const N=gi(d)||(()=>new d);s.push({provide:d,useFactory:N,deps:he},{provide:Bp,useValue:d,multi:!0},{provide:f3,useValue:()=>nn(d),multi:!0})}const x=f.providers;null==x||D||m3(x,W=>{s.push(W)})}}return d!==o&&void 0!==o.providers}function m3(o,s){for(let c of o)He(c)&&(c=c.\u0275providers),Array.isArray(c)?m3(c,s):s(c)}const gC=be({provide:String,useValue:be});function g3(o){return null!==o&&"object"==typeof o&&gC in o}function _u(o){return"function"==typeof o}const v3=new Dr("Set Injector scope."),L4={},Wp={};let y3;function V4(){return void 0===y3&&(y3=new Up),y3}class wu{}class qp extends wu{get destroyed(){return this._destroyed}constructor(s,c,u,d){super(),this.parent=c,this.source=u,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,H4(s,_=>this.processProvider(_)),this.records.set(Hp,Cu(void 0,this)),d.has("environment")&&this.records.set(wu,Cu(void 0,this));const f=this.records.get(v3);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Bp.multi,he,Ct.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const c=an(this),u=Yn(void 0);try{return s()}finally{an(c),Yn(u)}}get(s,c=jn,u=Ct.Default){this.assertNotDestroyed(),u=ir(u);const d=an(this),f=Yn(void 0);try{if(!(u&Ct.SkipSelf)){let D=this.records.get(s);if(void 0===D){const x=function CC(o){return"function"==typeof o||"object"==typeof o&&o instanceof Dr}(s)&&gn(s);D=x&&this.injectableDefInScope(x)?Cu(_3(s),L4):null,this.records.set(s,D)}if(null!=D)return this.hydrate(s,D)}return(u&Ct.Self?V4():this.parent).get(s,c=u&Ct.Optional&&c===jn?null:c)}catch(_){if("NullInjectorError"===_.name){if((_[At]=_[At]||[]).unshift(xe(s)),d)throw _;return function xr(o,s,c,u){const d=o[At];throw s[Xt]&&d.unshift(s[Xt]),o.message=function ue(o,s,c,u=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==rr?o.slice(2):o;let d=xe(s);if(Array.isArray(s))d=s.map(xe).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let D=s[_];f.push(_+":"+("string"==typeof D?JSON.stringify(D):xe(D)))}d=`{${f.join(", ")}}`}return`${c}${u?"("+u+")":""}[${d}]: ${o.replace(nr,"\n  ")}`}("\n"+o.message,d,c,u),o[hr]=d,o[At]=null,o}(_,s,"R3InjectorError",this.source)}throw _}finally{Yn(f),an(d)}}resolveInjectorInitializers(){const s=an(this),c=Yn(void 0);try{const u=this.get(f3.multi,he,Ct.Self);for(const d of u)d()}finally{an(s),Yn(c)}}toString(){const s=[],c=this.records;for(const u of c.keys())s.push(xe(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ye(205,!1)}processProvider(s){let c=_u(s=me(s))?s:me(s&&s.provide);const u=function _C(o){return g3(o)?Cu(void 0,o.useValue):Cu(Kp(o),L4)}(s);if(_u(s)||!0!==s.multi)this.records.get(c);else{let d=this.records.get(c);d||(d=Cu(void 0,L4,!0),d.factory=()=>_r(d.multi),this.records.set(c,d)),c=s,d.multi.push(s)}this.records.set(c,u)}hydrate(s,c){return c.value===L4&&(c.value=Wp,c.value=c.factory()),"object"==typeof c.value&&c.value&&function wC(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(s){if(!s.providedIn)return!1;const c=me(s.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function _3(o){const s=gn(o),c=null!==s?s.factory:gi(o);if(null!==c)return c;if(o instanceof Dr)throw new Ye(204,!1);if(o instanceof Function)return function yC(o){const s=o.length;if(s>0)throw w(s,"?"),new Ye(204,!1);const c=function zn(o){return o&&(o[yn]||o[cr])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Ye(204,!1)}function Kp(o,s,c){let u;if(_u(o)){const d=me(o);return gi(d)||_3(d)}if(g3(o))u=()=>me(o.useValue);else if(function Gp(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(..._r(o.deps||[]));else if(function $p(o){return!(!o||!o.useExisting)}(o))u=()=>nn(me(o.useExisting));else{const d=me(o&&(o.useClass||o.provide));if(!function Zp(o){return!!o.deps}(o))return gi(d)||_3(d);u=()=>new d(..._r(o.deps))}return u}function Cu(o,s,c=!1){return{factory:o,value:s,multi:c?[]:void 0}}function H4(o,s){for(const c of o)Array.isArray(c)?H4(c,s):c&&He(c)?H4(c.\u0275providers,s):s(c)}class bC{}class Qp{}class Jp{resolveComponentFactory(s){throw function SC(o){const s=Error(`No component factory found for ${xe(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let oh=(()=>{class o{}return o.NULL=new Jp,o})();function EC(){return bu(Ke(),O())}function bu(o,s){return new sh(Vr(o,s))}let sh=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=EC,o})();function TC(o){return o instanceof sh?o.nativeElement:o}class em{}let DC=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function tm(){const o=O(),c=ri(Ke().index,o);return(li(c)?c:o)[un]}(),o})(),MC=(()=>{class o{}return o.\u0275prov=De({token:o,providedIn:"root",factory:()=>null}),o})();class nm{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const rm=new nm("15.2.10"),w3={},C3="ngOriginalError";function b3(o){return o[C3]}class ah{constructor(){this._console=console}handleError(s){const c=this._findOriginalError(s);this._console.error("ERROR",s),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(s){let c=s&&b3(s);for(;c&&b3(c);)c=b3(c);return c||null}}function el(o){return o instanceof Function?o():o}function cm(o,s,c){let u=o.length;for(;;){const d=o.indexOf(s,c);if(-1===d)return d;if(0===d||o.charCodeAt(d-1)<=32){const f=s.length;if(d+f===u||o.charCodeAt(d+f)<=32)return d}c=d+1}}const lm="ng-template";function RC(o,s,c){let u=0,d=!0;for(;u<o.length;){let f=o[u++];if("string"==typeof f&&d){const _=o[u++];if(c&&"class"===f&&-1!==cm(_.toLowerCase(),s,0))return!0}else{if(1===f){for(;u<o.length&&"string"==typeof(f=o[u++]);)if(f.toLowerCase()===s)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function um(o){return 4===o.type&&o.value!==lm}function NC(o,s,c){return s===(4!==o.type||c?o.value:lm)}function FC(o,s,c){let u=4;const d=o.attrs||[],f=function HC(o){for(let s=0;s<o.length;s++)if(oi(o[s]))return s;return o.length}(d);let _=!1;for(let D=0;D<s.length;D++){const x=s[D];if("number"!=typeof x){if(!_)if(4&u){if(u=2|1&u,""!==x&&!NC(o,x,c)||""===x&&1===s.length){if(Za(u))return!1;_=!0}}else{const N=8&u?x:s[++D];if(8&u&&null!==o.attrs){if(!RC(o.attrs,N,c)){if(Za(u))return!1;_=!0}continue}const te=LC(8&u?"class":x,d,um(o),c);if(-1===te){if(Za(u))return!1;_=!0;continue}if(""!==N){let ye;ye=te>f?"":d[te+1].toLowerCase();const Ne=8&u?ye:null;if(Ne&&-1!==cm(Ne,N,0)||2&u&&N!==ye){if(Za(u))return!1;_=!0}}}}else{if(!_&&!Za(u)&&!Za(x))return!1;if(_&&Za(x))continue;_=!1,u=x|1&u}}return Za(u)||_}function Za(o){return 0==(1&o)}function LC(o,s,c,u){if(null===s)return-1;let d=0;if(u||!c){let f=!1;for(;d<s.length;){const _=s[d];if(_===o)return d;if(3===_||6===_)f=!0;else{if(1===_||2===_){let D=s[++d];for(;"string"==typeof D;)D=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=f?1:2}return-1}return function BC(o,s){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const u=o[c];if("number"==typeof u)return-1;if(u===s)return c;c++}return-1}(s,o)}function dm(o,s,c=!1){for(let u=0;u<s.length;u++)if(FC(o,s[u],c))return!0;return!1}function UC(o,s){e:for(let c=0;c<s.length;c++){const u=s[c];if(o.length===u.length){for(let d=0;d<o.length;d++)if(o[d]!==u[d])continue e;return!0}}return!1}function hm(o,s){return o?":not("+s.trim()+")":s}function YC(o){let s=o[0],c=1,u=2,d="",f=!1;for(;c<o.length;){let _=o[c];if("string"==typeof _)if(2&u){const D=o[++c];d+="["+_+(D.length>0?'="'+D+'"':"")+"]"}else 8&u?d+="."+_:4&u&&(d+=" "+_);else""!==d&&!Za(_)&&(s+=hm(f,d),d=""),u=_,f=f||!Za(u);c++}return""!==d&&(s+=hm(f,d)),s}const Bn={};function fm(o){S3(Y(),O(),Bi()+o,!1)}function S3(o,s,c,u){if(!u)if(3==(3&s[bn])){const f=o.preOrderCheckHooks;null!==f&&Vc(s,f,c)}else{const f=o.preOrderHooks;null!==f&&Hc(s,f,0,c)}gs(c)}function gm(o,s=null,c=null,u){const d=vm(o,s,c,u);return d.resolveInjectorInitializers(),d}function vm(o,s=null,c=null,u,d=new Set){const f=[c||he,mC(o)];return u=u||("object"==typeof o?void 0:xe(o)),new qp(f,s||V4(),u||null,d)}let Su=(()=>{class o{static create(c,u){if(Array.isArray(c))return gm({name:""},u,c,"");{const d=c.name??"";return gm({name:d},c.parent,c.providers,d)}}}return o.THROW_IF_NOT_FOUND=jn,o.NULL=new Up,o.\u0275prov=De({token:o,providedIn:"any",factory:()=>nn(Hp)}),o.__NG_ELEMENT_ID__=-1,o})();function x1(o,s=Ct.Default){const c=O();return null===c?nn(o,s):Xo(Ke(),c,me(o),s)}function Tm(){throw new Error("invalid")}function Mm(o,s){const c=o.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const f=c[u+1];if(-1!==f){const _=o.data[f];Rc(c[u]),_.contentQueries(2,s[f],f)}}}function U4(o,s,c,u,d,f,_,D,x,N,W){const te=s.blueprint.slice();return te[Tr]=d,te[bn]=76|u,(null!==W||o&&1024&o[bn])&&(te[bn]|=1024),ms(te),te[Kn]=te[We]=o,te[Fn]=c,te[Ti]=_||o&&o[Ti],te[un]=D||o&&o[un],te[Zi]=x||o&&o[Zi]||null,te[Ki]=N||o&&o[Ki]||null,te[zr]=f,te[lr]=function Il(){return T4++}(),te[Ur]=W,te[wt]=2==s.type?o[wt]:te,te}function z1(o,s,c,u,d){let f=o.data[s];if(null===f)f=function x3(o,s,c,u,d){const f=vt(),_=Hn(),x=o.data[s]=function hb(o,s,c,u,d,f){return{type:c,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,c,s,u,d);return null===o.firstChild&&(o.firstChild=x),null!==f&&(_?null==f.child&&null!==x.parent&&(f.child=x):null===f.next&&(f.next=x,x.prev=f)),x}(o,s,c,u,d),function ao(){return en.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=c,f.value=u,f.attrs=d;const _=function kt(){const o=en.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return pn(f,!0),f}function ch(o,s,c,u){if(0===c)return-1;const d=s.length;for(let f=0;f<c;f++)s.push(u),o.blueprint.push(u),o.data.push(null);return d}function z3(o,s,c){oa(s);try{const u=o.viewQuery;null!==u&&L3(1,u,c);const d=o.template;null!==d&&Im(o,s,d,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Mm(o,s),o.staticViewQueries&&L3(2,o.viewQuery,c);const f=o.components;null!==f&&function ub(o,s){for(let c=0;c<s.length;c++)Fm(o,s[c])}(s,f)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{s[bn]&=-5,_l()}}function Y4(o,s,c,u){const d=s[bn];if(128!=(128&d)){oa(s);try{ms(s),function Ko(o){return en.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&Im(o,s,c,2,u);const _=3==(3&d);if(_){const N=o.preOrderCheckHooks;null!==N&&Vc(s,N,null)}else{const N=o.preOrderHooks;null!==N&&Hc(s,N,0,null),I(s,0)}if(function zb(o){for(let s=js(o);null!==s;s=pu(s)){if(!s[cs])continue;const c=s[po];for(let u=0;u<c.length;u++){const d=c[u];512&d[bn]||Fs(d[Kn],1),d[bn]|=512}}}(s),function xb(o){for(let s=js(o);null!==s;s=pu(s))for(let c=Gr;c<s.length;c++){const u=s[c],d=u[Dt];Wo(u)&&Y4(d,u,d.template,u[Fn])}}(s),null!==o.contentQueries&&Mm(o,s),_){const N=o.contentCheckHooks;null!==N&&Vc(s,N)}else{const N=o.contentHooks;null!==N&&Hc(s,N,1),I(s,1)}!function Dm(o,s){const c=o.hostBindingOpCodes;if(null!==c)try{for(let u=0;u<c.length;u++){const d=c[u];if(d<0)gs(~d);else{const f=d,_=c[++u],D=c[++u];n1(_,f),D(2,s[f])}}}finally{gs(-1)}}(o,s);const D=o.components;null!==D&&function lb(o,s){for(let c=0;c<s.length;c++)Nm(o,s[c])}(s,D);const x=o.viewQuery;if(null!==x&&L3(2,x,u),_){const N=o.viewCheckHooks;null!==N&&Vc(s,N)}else{const N=o.viewHooks;null!==N&&Hc(s,N,2),I(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[bn]&=-41,512&s[bn]&&(s[bn]&=-513,Fs(s[Kn],-1))}finally{_l()}}}function Im(o,s,c,u,d){const f=Bi(),_=2&u;try{gs(-1),_&&s.length>xn&&S3(o,s,xn,!1),br(_?2:0,d),c(u,d)}finally{gs(f),br(_?3:1,d)}}function j4(o,s,c){if(Vo(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const _=o.data[f];_.contentQueries&&_.contentQueries(1,c[f],f)}}}function xm(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=P3(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function P3(o,s,c,u,d,f,_,D,x,N){const W=xn+u,te=W+d,ye=function zm(o,s){const c=[];for(let u=0;u<s;u++)c.push(u<o?null:Bn);return c}(W,te),Ne="function"==typeof N?N():N;return ye[Dt]={type:o,blueprint:ye,template:c,queries:null,viewQuery:D,declTNode:s,data:ye.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:x,consts:Ne,incompleteFirstPass:!1}}function Am(o,s,c,u){const d=Lm(s);null===c?d.push(u):(d.push(c),o.firstCreatePass&&Vm(o).push(u,d.length-1))}function Pm(o,s,c,u){for(let d in o)if(o.hasOwnProperty(d)){c=null===c?{}:c;const f=o[d];null===u?km(c,s,d,f):u.hasOwnProperty(d)&&km(c,s,u[d],f)}return c}function km(o,s,c,u){o.hasOwnProperty(c)?o[c].push(s,u):o[c]=[s,u]}function Om(o,s,c,u,d,f){for(let N=0;N<u.length;N++)vi(Bc(c,s),o,u[N].type);!function Eb(o,s,c){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+c,o.providerIndexes=s}(c,o.data.length,u.length);for(let N=0;N<u.length;N++){const W=u[N];W.providersResolver&&W.providersResolver(W)}let _=!1,D=!1,x=ch(o,s,u.length,null);for(let N=0;N<u.length;N++){const W=u[N];c.mergedAttrs=Xi(c.mergedAttrs,W.hostAttrs),Tb(o,c,s,x,W),Sb(x,W,d),null!==W.contentQueries&&(c.flags|=4),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(c.flags|=64);const te=W.type.prototype;!_&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((o.preOrderHooks??(o.preOrderHooks=[])).push(c.index),_=!0),!D&&(te.ngOnChanges||te.ngDoCheck)&&((o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(c.index),D=!0),x++}!function fb(o,s,c){const d=s.directiveEnd,f=o.data,_=s.attrs,D=[];let x=null,N=null;for(let W=s.directiveStart;W<d;W++){const te=f[W],ye=c?c.get(te):null,tt=ye?ye.outputs:null;x=Pm(te.inputs,W,x,ye?ye.inputs:null),N=Pm(te.outputs,W,N,tt);const bt=null===x||null===_||um(s)?null:Ib(x,W,_);D.push(bt)}null!==x&&(x.hasOwnProperty("class")&&(s.flags|=8),x.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=D,s.inputs=x,s.outputs=N}(o,c,f)}function O3(o,s,c){const u=c.directiveStart,d=c.directiveEnd,f=c.index,_=function r1(){return en.lFrame.currentDirectiveIndex}();try{gs(f);for(let D=u;D<d;D++){const x=o.data[D],N=s[D];Va(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&wb(x,N)}}finally{gs(-1),Va(_)}}function wb(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function R3(o,s,c){s.componentOffset=c,(o.components??(o.components=[])).push(s.index)}function Sb(o,s,c){if(c){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)c[s.exportAs[u]]=o;Zr(s)&&(c[""]=o)}}function Tb(o,s,c,u,d){o.data[u]=d;const f=d.factory||(d.factory=gi(d.type)),_=new oe(f,Zr(d),x1);o.blueprint[u]=_,c[u]=_,function vb(o,s,c,u,d){const f=d.hostBindings;if(f){let _=o.hostBindingOpCodes;null===_&&(_=o.hostBindingOpCodes=[]);const D=~s.index;(function yb(o){let s=o.length;for(;s>0;){const c=o[--s];if("number"==typeof c&&c<0)return c}return 0})(_)!=D&&_.push(D),_.push(c,u,f)}}(o,s,u,ch(o,c,d.hostVars,Bn),d)}function Qa(o,s,c,u,d,f){const _=Vr(o,s);!function N3(o,s,c,u,d,f,_){if(null==f)o.removeAttribute(s,d,c);else{const D=null==_?nt(f):_(f,u||"",d);o.setAttribute(s,d,D,c)}}(s[un],_,f,o.value,c,u,d)}function Mb(o,s,c,u,d,f){const _=f[s];if(null!==_){const D=u.setInput;for(let x=0;x<_.length;){const N=_[x++],W=_[x++],te=_[x++];null!==D?u.setInput(c,te,N,W):c[W]=te}}}function Ib(o,s,c){let u=null,d=0;for(;d<c.length;){const f=c[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(o.hasOwnProperty(f)){null===u&&(u=[]);const _=o[f];for(let D=0;D<_.length;D+=2)if(_[D]===s){u.push(f,_[D+1],c[d+1]);break}}d+=2}else d+=2;else d+=4}return u}function Nm(o,s){const c=ri(s,o);if(Wo(c)){const u=c[Dt];48&c[bn]?Y4(u,c,u.template,c[Fn]):c[Fi]>0&&F3(c)}}function F3(o){for(let u=js(o);null!==u;u=pu(u))for(let d=Gr;d<u.length;d++){const f=u[d];if(Wo(f))if(512&f[bn]){const _=f[Dt];Y4(_,f,_.template,f[Fn])}else f[Fi]>0&&F3(f)}const c=o[Dt].components;if(null!==c)for(let u=0;u<c.length;u++){const d=ri(c[u],o);Wo(d)&&d[Fi]>0&&F3(d)}}function Fm(o,s){const c=ri(s,o),u=c[Dt];(function Ab(o,s){for(let c=s.length;c<o.blueprint.length;c++)s.push(o.blueprint[c])})(u,c),z3(u,c,c[Fn])}function G4(o,s){return o[re]?o[Se][Gn]=s:o[re]=s,o[Se]=s,s}function W4(o){for(;o;){o[bn]|=32;const s=fu(o);if(Qi(o)&&!s)return o;o=s}return null}function lh(o,s,c,u=!0){const d=s[Ti];d.begin&&d.begin();try{Y4(o,s,o.template,c)}catch(_){throw u&&Bm(s,_),_}finally{d.end&&d.end()}}function L3(o,s,c){Rc(0),s(o,c)}function Lm(o){return o[mi]||(o[mi]=[])}function Vm(o){return o.cleanup||(o.cleanup=[])}function Bm(o,s){const c=o[Ki],u=c?c.get(ah,null):null;u&&u.handleError(s)}function V3(o,s,c,u,d){for(let f=0;f<c.length;){const _=c[f++],D=c[f++],x=s[_],N=o.data[_];null!==N.setInput?N.setInput(x,d,u,D):x[D]=d}}function q4(o,s,c){let u=c?o.styles:null,d=c?o.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const D=s[_];"number"==typeof D?f=D:1==f?d=Ae(d,D):2==f&&(u=Ae(u,D+": "+s[++_]+";"))}c?o.styles=u:o.stylesWithoutHost=u,c?o.classes=d:o.classesWithoutHost=d}function K4(o,s,c,u,d=!1){for(;null!==c;){const f=s[c.index];if(null!==f&&u.push(Ar(f)),ui(f))for(let D=Gr;D<f.length;D++){const x=f[D],N=x[Dt].firstChild;null!==N&&K4(x[Dt],x,N,u)}const _=c.type;if(8&_)K4(o,s,c.child,u);else if(32&_){const D=Kc(c,s);let x;for(;x=D();)u.push(x)}else if(16&_){const D=vu(s,c);if(Array.isArray(D))u.push(...D);else{const x=fu(s[wt]);K4(x[Dt],x,D,u,!0)}}c=d?c.projectionNext:c.next}return u}class uh{get rootNodes(){const s=this._lView,c=s[Dt];return K4(c,s,c.firstChild,[])}constructor(s,c){this._lView=s,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fn]}set context(s){this._lView[Fn]=s}get destroyed(){return 128==(128&this._lView[bn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Kn];if(ui(s)){const c=s[Eo],u=c?c.indexOf(this):-1;u>-1&&(L(s,u),Tl(c,u))}this._attachedToViewContainer=!1}Q(this._lView[Dt],this._lView)}onDestroy(s){Am(this._lView[Dt],this._lView,null,s)}markForCheck(){W4(this._cdRefInjectingView||this._lView)}detach(){this._lView[bn]&=-65}reattach(){this._lView[bn]|=64}detectChanges(){lh(this._lView[Dt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function A4(o,s){T1(o,s,s[un],2,null,null)}(this._lView[Dt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ye(902,!1);this._appRef=s}}class Pb extends uh{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;lh(s[Dt],s,s[Fn],!1)}checkNoChanges(){}get context(){return null}}class Um extends oh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const c=Gt(s);return new dh(c,this.ngModule)}}function Ym(o){const s=[];for(let c in o)o.hasOwnProperty(c)&&s.push({propName:o[c],templateName:c});return s}class jm{constructor(s,c){this.injector=s,this.parentInjector=c}get(s,c,u){u=ir(u);const d=this.injector.get(s,w3,u);return d!==w3||c===w3?d:this.parentInjector.get(s,c,u)}}class dh extends Qp{get inputs(){return Ym(this.componentDef.inputs)}get outputs(){return Ym(this.componentDef.outputs)}constructor(s,c){super(),this.componentDef=s,this.ngModule=c,this.componentType=s.type,this.selector=function jC(o){return o.map(YC).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!c}create(s,c,u,d){let f=(d=d||this.ngModule)instanceof wu?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const _=f?new jm(s,f):s,D=_.get(em,null);if(null===D)throw new Ye(407,!1);const x=_.get(MC,null),N=D.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",te=u?function db(o,s,c){return o.selectRootElement(s,c===X.ShadowDom)}(N,u,this.componentDef.encapsulation):Xd(N,W,function kb(o){const s=o.toLowerCase();return"svg"===s?Ns:"math"===s?"math":null}(W)),ye=this.componentDef.onPush?288:272,Ne=P3(0,null,null,1,0,null,null,null,null,null),tt=U4(null,Ne,null,ye,null,null,D,N,x,_,null);let bt,Ot;oa(tt);try{const Qt=this.componentDef;let En,pt=null;Qt.findHostDirectiveDefs?(En=[],pt=new Map,Qt.findHostDirectiveDefs(Qt,En,pt),En.push(Qt)):En=[Qt];const On=function Rb(o,s){const c=o[Dt],u=xn;return o[u]=s,z1(c,u,2,"#host",null)}(tt,te),ai=function $m(o,s,c,u,d,f,_,D){const x=d[Dt];!function Nb(o,s,c,u){for(const d of o)s.mergedAttrs=Xi(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(q4(s,s.mergedAttrs,!0),null!==c&&eh(u,c,s))}(u,o,s,_);const N=f.createRenderer(s,c),W=U4(d,xm(c),null,c.onPush?32:16,d[o.index],o,f,N,D||null,null,null);return x.firstCreatePass&&R3(x,o,u.length-1),G4(d,W),d[o.index]=W}(On,te,Qt,En,tt,D,N);Ot=ia(Ne,xn),te&&function Lb(o,s,c,u){if(u)er(o,c,["ng-version",rm.full]);else{const{attrs:d,classes:f}=function $C(o){const s=[],c=[];let u=1,d=2;for(;u<o.length;){let f=o[u];if("string"==typeof f)2===d?""!==f&&s.push(f,o[++u]):8===d&&c.push(f);else{if(!Za(d))break;d=f}u++}return{attrs:s,classes:c}}(s.selectors[0]);d&&er(o,c,d),f&&f.length>0&&O4(o,c,f.join(" "))}}(N,Qt,te,u),void 0!==c&&function Vb(o,s,c){const u=o.projection=[];for(let d=0;d<s.length;d++){const f=c[d];u.push(null!=f?Array.from(f):null)}}(Ot,this.ngContentSelectors,c),bt=function Fb(o,s,c,u,d,f){const _=Ke(),D=d[Dt],x=Vr(_,d);Om(D,d,_,c,null,u);for(let W=0;W<c.length;W++)Ji(Vs(d,D,_.directiveStart+W,_),d);O3(D,d,_),x&&Ji(x,d);const N=Vs(d,D,_.directiveStart+_.componentOffset,_);if(o[Fn]=d[Fn]=N,null!==f)for(const W of f)W(N,s);return j4(D,_,o),N}(ai,Qt,En,pt,tt,[Hb]),z3(Ne,tt,null)}finally{_l()}return new Ob(this.componentType,bt,bu(Ot,tt),tt,Ot)}}class Ob extends bC{constructor(s,c,u,d,f){super(),this.location=u,this._rootLView=d,this._tNode=f,this.instance=c,this.hostView=this.changeDetectorRef=new Pb(d),this.componentType=s}setInput(s,c){const u=this._tNode.inputs;let d;if(null!==u&&(d=u[s])){const f=this._rootLView;V3(f[Dt],f,d,s,c),W4(ri(this._tNode.index,f))}}get injector(){return new Hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Hb(){const o=Ke();vc(O()[Dt],o)}function H3(o){let s=function Gm(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const u=[o];for(;s;){let d;if(Zr(o))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ye(903,!1);d=s.\u0275dir}if(d){if(c){u.push(d);const _=o;_.inputs=B3(o.inputs),_.declaredInputs=B3(o.declaredInputs),_.outputs=B3(o.outputs);const D=d.hostBindings;D&&Yb(o,D);const x=d.viewQuery,N=d.contentQueries;if(x&&Bb(o,x),N&&Ub(o,N),Me(o.inputs,d.inputs),Me(o.declaredInputs,d.declaredInputs),Me(o.outputs,d.outputs),Zr(d)&&d.data.animation){const W=o.data;W.animation=(W.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let _=0;_<f.length;_++){const D=f[_];D&&D.ngInherit&&D(o),D===H3&&(c=!1)}}s=Object.getPrototypeOf(s)}!function Wm(o){let s=0,c=null;for(let u=o.length-1;u>=0;u--){const d=o[u];d.hostVars=s+=d.hostVars,d.hostAttrs=Xi(d.hostAttrs,c=Xi(c,d.hostAttrs))}}(u)}function B3(o){return o===$?{}:o===he?[]:o}function Bb(o,s){const c=o.viewQuery;o.viewQuery=c?(u,d)=>{s(u,d),c(u,d)}:s}function Ub(o,s){const c=o.contentQueries;o.contentQueries=c?(u,d,f)=>{s(u,d,f),c(u,d,f)}:s}function Yb(o,s){const c=o.hostBindings;o.hostBindings=c?(u,d)=>{s(u,d),c(u,d)}:s}function Z4(o){return!!U3(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function U3(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ts(o,s,c){return!Object.is(o[s],c)&&(o[s]=c,!0)}function Y3(o,s,c,u){const d=O();return ts(d,function Hi(){return en.lFrame.bindingIndex++}(),s)&&(Y(),Qa(function Hr(){const o=en.lFrame;return ia(o.tView,o.selectedIndex)}(),d,o,s,c,u)),Y3}function $3(o,s,c,u,d){const _=d?"class":"style";V3(o,c,s.inputs[_],_,u)}function X4(o,s,c,u){const d=O(),f=Y(),_=xn+o,D=d[un],x=f.firstCreatePass?function rS(o,s,c,u,d,f){const _=s.consts,x=z1(s,o,2,u,Mi(_,d));return function k3(o,s,c,u){if(fc()){const d=null===u?null:{"":-1},f=function Cb(o,s){const c=o.directiveRegistry;let u=null,d=null;if(c)for(let f=0;f<c.length;f++){const _=c[f];if(dm(s,_.selectors,!1))if(u||(u=[]),Zr(_))if(null!==_.findHostDirectiveDefs){const D=[];d=d||new Map,_.findHostDirectiveDefs(_,D,d),u.unshift(...D,_),R3(o,s,D.length)}else u.unshift(_),R3(o,s,0);else d=d||new Map,_.findHostDirectiveDefs?.(_,u,d),u.push(_)}return null===u?null:[u,d]}(o,c);let _,D;null===f?_=D=null:[_,D]=f,null!==_&&Om(o,s,c,_,d,D),d&&function bb(o,s,c){if(s){const u=o.localNames=[];for(let d=0;d<s.length;d+=2){const f=c[s[d+1]];if(null==f)throw new Ye(-301,!1);u.push(s[d],f)}}}(c,u,d)}c.mergedAttrs=Xi(c.mergedAttrs,c.attrs)}(s,c,x,Mi(_,f)),null!==x.attrs&&q4(x,x.attrs,!1),null!==x.mergedAttrs&&q4(x,x.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,x),x}(_,f,d,s,c,u):f.data[_],N=d[_]=Xd(D,s,function a1(){return en.lFrame.currentNamespace}()),W=ki(x);return pn(x,!0),eh(D,N,x),32!=(32&x.flags)&&Ol(f,d,N,x),0===function La(){return en.lFrame.elementDepthCount}()&&Ji(N,d),function Oc(){en.lFrame.elementDepthCount++}(),W&&(function A3(o,s,c){fc()&&(function _b(o,s,c,u){const d=c.directiveStart,f=c.directiveEnd;Di(c)&&function Db(o,s,c){const u=Vr(s,o),d=xm(c),f=o[Ti],_=G4(o,U4(o,d,null,c.onPush?32:16,u,s,f,f.createRenderer(u,c),null,null,null));o[s.index]=_}(s,c,o.data[d+c.componentOffset]),o.firstCreatePass||Bc(c,s),Ji(u,s);const _=c.initialInputs;for(let D=d;D<f;D++){const x=o.data[D],N=Vs(s,o,D,c);Ji(N,s),null!==_&&Mb(0,D-d,N,x,0,_),Zr(x)&&(ri(c.index,s)[Fn]=Vs(s,o,D,c))}}(o,s,c,Vr(c,s)),64==(64&c.flags)&&O3(o,s,c))}(f,d,x),j4(f,x,d)),null!==u&&function $4(o,s,c=Vr){const u=s.localNames;if(null!==u){let d=s.index+1;for(let f=0;f<u.length;f+=2){const _=u[f+1],D=-1===_?c(s,o):o[_];o[d++]=D}}}(d,x),X4}function J4(){let o=Ke();Hn()?fr():(o=o.parent,pn(o,!1));const s=o;!function va(){en.lFrame.elementDepthCount--}();const c=Y();return c.firstCreatePass&&(vc(c,o),Vo(o)&&c.queries.elementEnd(o)),null!=s.classesWithoutHost&&function Xn(o){return 0!=(8&o.flags)}(s)&&$3(c,s,O(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Jn(o){return 0!=(16&o.flags)}(s)&&$3(c,s,O(),s.stylesWithoutHost,!1),J4}function G3(o,s,c,u){return X4(o,s,c,u),J4(),G3}function K3(o){return!!o&&"function"==typeof o.then}function ag(o){return!!o&&"function"==typeof o.subscribe}const cg=ag;function Z3(o,s,c,u){const d=O(),f=Y(),_=Ke();return function ug(o,s,c,u,d,f,_){const D=ki(u),N=o.firstCreatePass&&Vm(o),W=s[Fn],te=Lm(s);let ye=!0;if(3&u.type||_){const bt=Vr(u,s),Ot=_?_(bt):bt,Qt=te.length,En=_?On=>_(Ar(On[u.index])):u.index;let pt=null;if(!_&&D&&(pt=function sS(o,s,c,u){const d=o.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const _=d[f];if(_===c&&d[f+1]===u){const D=s[mi],x=d[f+2];return D.length>x?D[x]:null}"string"==typeof _&&(f+=2)}return null}(o,s,d,u.index)),null!==pt)(pt.__ngLastListenerFn__||pt).__ngNextListenerFn__=f,pt.__ngLastListenerFn__=f,ye=!1;else{f=hg(u,s,W,f,!1);const On=c.listen(Ot,d,f);te.push(f,On),N&&N.push(d,En,Qt,Qt+1)}}else f=hg(u,s,W,f,!1);const Ne=u.outputs;let tt;if(ye&&null!==Ne&&(tt=Ne[d])){const bt=tt.length;if(bt)for(let Ot=0;Ot<bt;Ot+=2){const ai=s[tt[Ot]][tt[Ot+1]].subscribe(f),ji=te.length;te.push(f,ai),N&&N.push(d,u.index,ji,-(ji+1))}}}(f,d,d[un],_,o,s,u),Z3}function dg(o,s,c,u){try{return br(6,s,c),!1!==c(u)}catch(d){return Bm(o,d),!1}finally{br(7,s,c)}}function hg(o,s,c,u,d){return function f(_){if(_===Function)return u;W4(o.componentOffset>-1?ri(o.index,s):s);let x=dg(s,c,u,_),N=f.__ngNextListenerFn__;for(;N;)x=dg(s,c,N,_)&&x,N=N.__ngNextListenerFn__;return d&&!1===x&&(_.preventDefault(),_.returnValue=!1),x}}function cS(o,s){let c=null;const u=function VC(o){const s=o.attrs;if(null!=s){const c=s.indexOf(5);if(!(1&c))return s[c+1]}return null}(o);for(let d=0;d<s.length;d++){const f=s[d];if("*"!==f){if(null===u?dm(o,f,!0):UC(u,f))return d}else c=d}return c}function fg(o){const s=O()[wt][zr];if(!s.projection){const u=s.projection=w(o?o.length:1,null),d=u.slice();let f=s.child;for(;null!==f;){const _=o?cS(f,o):0;null!==_&&(d[_]?d[_].projectionNext=f:u[_]=f,d[_]=f),f=f.next}}}function pg(o,s=0,c){const u=O(),d=Y(),f=z1(d,xn+o,16,null,c||null);null===f.projection&&(f.projection=s),fr(),32!=(32&f.flags)&&function Fw(o,s,c){bp(s[un],0,s,c,Bt(o,c,s),b1(c.parent||s[zr],c,s))}(d,u,f)}function e2(o,s){return o<<17|s<<2}function Nl(o){return o>>17&32767}function X3(o){return 2|o}function Tu(o){return(131068&o)>>2}function J3(o,s){return-131069&o|s<<2}function e8(o){return 1|o}function Eg(o,s,c,u,d){const f=o[c+1],_=null===s;let D=u?Nl(f):Tu(f),x=!1;for(;0!==D&&(!1===x||_);){const W=o[D+1];pS(o[D],s)&&(x=!0,o[D+1]=u?e8(W):X3(W)),D=u?Nl(W):Tu(W)}x&&(o[c+1]=u?X3(f):e8(f))}function pS(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&we(o,s)>=0}function t8(o,s,c){return Xa(o,s,c,!1),t8}function n8(o,s){return Xa(o,s,null,!0),n8}function Xa(o,s,c,u){const d=O(),f=Y(),_=function Xr(o){const s=en.lFrame,c=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,c}(2);f.firstUpdatePass&&function kg(o,s,c,u){const d=o.data;if(null===d[c+1]){const f=d[Bi()],_=function Pg(o,s){return s>=o.expandoStartIndex}(o,c);(function Ng(o,s){return 0!=(o.flags&(s?8:16))})(f,u)&&null===s&&!_&&(s=!1),s=function bS(o,s,c,u){const d=function mc(o){const s=en.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let f=u?s.residualClasses:s.residualStyles;if(null===d)0===(u?s.classBindings:s.styleBindings)&&(c=fh(c=r8(null,o,s,c,u),s.attrs,u),f=null);else{const _=s.directiveStylingLast;if(-1===_||o[_]!==d)if(c=r8(d,o,s,c,u),null===f){let x=function SS(o,s,c){const u=c?s.classBindings:s.styleBindings;if(0!==Tu(u))return o[Nl(u)]}(o,s,u);void 0!==x&&Array.isArray(x)&&(x=r8(null,o,s,x[1],u),x=fh(x,s.attrs,u),function ES(o,s,c,u){o[Nl(c?s.classBindings:s.styleBindings)]=u}(o,s,u,x))}else f=function TS(o,s,c){let u;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)u=fh(u,o[f].hostAttrs,c);return fh(u,s.attrs,c)}(o,s,u)}return void 0!==f&&(u?s.residualClasses=f:s.residualStyles=f),c}(d,f,s,u),function hS(o,s,c,u,d,f){let _=f?s.classBindings:s.styleBindings,D=Nl(_),x=Tu(_);o[u]=c;let W,N=!1;if(Array.isArray(c)?(W=c[1],(null===W||we(c,W)>0)&&(N=!0)):W=c,d)if(0!==x){const ye=Nl(o[D+1]);o[u+1]=e2(ye,D),0!==ye&&(o[ye+1]=J3(o[ye+1],u)),o[D+1]=function uS(o,s){return 131071&o|s<<17}(o[D+1],u)}else o[u+1]=e2(D,0),0!==D&&(o[D+1]=J3(o[D+1],u)),D=u;else o[u+1]=e2(x,0),0===D?D=u:o[x+1]=J3(o[x+1],u),x=u;N&&(o[u+1]=X3(o[u+1])),Eg(o,W,u,!0),Eg(o,W,u,!1),function fS(o,s,c,u,d){const f=d?o.residualClasses:o.residualStyles;null!=f&&"string"==typeof s&&we(f,s)>=0&&(c[u+1]=e8(c[u+1]))}(s,W,o,u,f),_=e2(D,x),f?s.classBindings=_:s.styleBindings=_}(d,f,s,c,_,u)}}(f,o,_,u),s!==Bn&&ts(d,_,s)&&function Rg(o,s,c,u,d,f,_,D){if(!(3&s.type))return;const x=o.data,N=x[D+1],W=function dS(o){return 1==(1&o)}(N)?i8(x,s,c,d,Tu(N),_):void 0;t2(W)||(t2(f)||function lS(o){return 2==(2&o)}(N)&&(f=i8(x,null,c,d,D,_)),function Vw(o,s,c,u,d){if(s)d?o.addClass(c,u):o.removeClass(c,u);else{let f=-1===u.indexOf("-")?void 0:Ys.DashCase;null==d?o.removeStyle(c,u,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=Ys.Important),o.setStyle(c,u,d,f))}}(u,_,function Qr(o,s){return Ar(s[o])}(Bi(),c),d,f))}(f,f.data[Bi()],d,d[un],o,d[_+1]=function xS(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=xe(Xc(o)))),o}(s,c),u,_)}function r8(o,s,c,u,d){let f=null;const _=c.directiveEnd;let D=c.directiveStylingLast;for(-1===D?D=c.directiveStart:D++;D<_&&(f=s[D],u=fh(u,f.hostAttrs,d),f!==o);)D++;return null!==o&&(c.directiveStylingLast=D),u}function fh(o,s,c){const u=c?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?d=_:d===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),j(o,_,!!c||s[++f]))}return void 0===o?null:o}function i8(o,s,c,u,d,f){const _=null===s;let D;for(;d>0;){const x=o[d],N=Array.isArray(x),W=N?x[1]:x,te=null===W;let ye=c[d+1];ye===Bn&&(ye=te?he:void 0);let Ne=te?K(ye,u):W===u?ye:void 0;if(N&&!t2(Ne)&&(Ne=K(x,u)),t2(Ne)&&(D=Ne,_))return D;const tt=o[d+1];d=_?Nl(tt):Tu(tt)}if(null!==s){let x=f?s.residualClasses:s.residualStyles;null!=x&&(D=K(x,u))}return D}function t2(o){return void 0!==o}function Fg(o,s=""){const c=O(),u=Y(),d=o+xn,f=u.firstCreatePass?z1(u,d,1,s,null):u.data[d],_=c[d]=function C1(o,s){return o.createText(s)}(c[un],s);Ol(u,c,_,f),pn(f,!1)}const Du=void 0;var KS=["en",[["a","p"],["AM","PM"],Du],[["AM","PM"],Du,Du],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Du,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Du,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Du,"{1} 'at' {0}",Du],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qS(o){const c=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let B1={};function ZS(o,s,c){"string"!=typeof s&&(c=s,s=o[Sn.LocaleId]),s=s.toLowerCase().replace(/_/g,"-"),B1[s]=o,c&&(B1[s][Sn.ExtraData]=c)}function o8(o){const s=function QS(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=s5(s);if(c)return c;const u=s.split("-")[0];if(c=s5(u),c)return c;if("en"===u)return KS;throw new Ye(701,!1)}function o5(o){return o8(o)[Sn.PluralCase]}function s5(o){return o in B1||(B1[o]=_n.ng&&_n.ng.common&&_n.ng.common.locales&&_n.ng.common.locales[o]),B1[o]}var Sn=(()=>((Sn=Sn||{})[Sn.LocaleId=0]="LocaleId",Sn[Sn.DayPeriodsFormat=1]="DayPeriodsFormat",Sn[Sn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Sn[Sn.DaysFormat=3]="DaysFormat",Sn[Sn.DaysStandalone=4]="DaysStandalone",Sn[Sn.MonthsFormat=5]="MonthsFormat",Sn[Sn.MonthsStandalone=6]="MonthsStandalone",Sn[Sn.Eras=7]="Eras",Sn[Sn.FirstDayOfWeek=8]="FirstDayOfWeek",Sn[Sn.WeekendRange=9]="WeekendRange",Sn[Sn.DateFormat=10]="DateFormat",Sn[Sn.TimeFormat=11]="TimeFormat",Sn[Sn.DateTimeFormat=12]="DateTimeFormat",Sn[Sn.NumberSymbols=13]="NumberSymbols",Sn[Sn.NumberFormats=14]="NumberFormats",Sn[Sn.CurrencyCode=15]="CurrencyCode",Sn[Sn.CurrencySymbol=16]="CurrencySymbol",Sn[Sn.CurrencyName=17]="CurrencyName",Sn[Sn.Currencies=18]="Currencies",Sn[Sn.Directionality=19]="Directionality",Sn[Sn.PluralCase=20]="PluralCase",Sn[Sn.ExtraData=21]="ExtraData",Sn))();const U1="en-US";let a5=U1;function l8(o,s,c,u,d){if(o=me(o),Array.isArray(o))for(let f=0;f<o.length;f++)l8(o[f],s,c,u,d);else{const f=Y(),_=O();let D=_u(o)?o:me(o.provide),x=Kp(o);const N=Ke(),W=1048575&N.providerIndexes,te=N.directiveStart,ye=N.providerIndexes>>20;if(_u(o)||!o.multi){const Ne=new oe(x,d,x1),tt=d8(D,s,d?W:W+ye,te);-1===tt?(vi(Bc(N,_),f,D),u8(f,o,s.length),s.push(D),N.directiveStart++,N.directiveEnd++,d&&(N.providerIndexes+=1048576),c.push(Ne),_.push(Ne)):(c[tt]=Ne,_[tt]=Ne)}else{const Ne=d8(D,s,W+ye,te),tt=d8(D,s,W,W+ye),Ot=tt>=0&&c[tt];if(d&&!Ot||!d&&!(Ne>=0&&c[Ne])){vi(Bc(N,_),f,D);const Qt=function GE(o,s,c,u,d){const f=new oe(o,c,x1);return f.multi=[],f.index=s,f.componentProviders=0,k5(f,d,u&&!c),f}(d?$E:jE,c.length,d,u,x);!d&&Ot&&(c[tt].providerFactory=Qt),u8(f,o,s.length,0),s.push(D),N.directiveStart++,N.directiveEnd++,d&&(N.providerIndexes+=1048576),c.push(Qt),_.push(Qt)}else u8(f,o,Ne>-1?Ne:tt,k5(c[d?tt:Ne],x,!d&&u));!d&&u&&Ot&&c[tt].componentProviders++}}}function u8(o,s,c,u){const d=_u(s),f=function vC(o){return!!o.useClass}(s);if(d||f){const x=(f?me(s.useClass):s).prototype.ngOnDestroy;if(x){const N=o.destroyHooks||(o.destroyHooks=[]);if(!d&&s.multi){const W=N.indexOf(c);-1===W?N.push(c,[u,x]):N[W+1].push(u,x)}else N.push(c,x)}}}function k5(o,s,c){return c&&o.componentProviders++,o.multi.push(s)-1}function d8(o,s,c,u){for(let d=c;d<u;d++)if(s[d]===o)return d;return-1}function jE(o,s,c,u){return h8(this.multi,[])}function $E(o,s,c,u){const d=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,D=Vs(c,c[Dt],this.providerFactory.index,u);f=D.slice(0,_),h8(d,f);for(let x=_;x<D.length;x++)f.push(D[x])}else f=[],h8(d,f);return f}function h8(o,s){for(let c=0;c<o.length;c++)s.push((0,o[c])());return s}function O5(o,s=[]){return c=>{c.providersResolver=(u,d)=>function YE(o,s,c){const u=Y();if(u.firstCreatePass){const d=Zr(o);l8(c,u.data,u.blueprint,d,!0),l8(s,u.data,u.blueprint,d,!1)}}(u,d?d(o):o,s)}}class Y1{}class R5{}function WE(o,s){return new N5(o,s??null)}class N5 extends Y1{constructor(s,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Um(this);const u=Or(s);this._bootstrapComponents=el(u.bootstrap),this._r3Injector=vm(s,c,[{provide:Y1,useValue:this},{provide:oh,useValue:this.componentFactoryResolver}],xe(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class f8 extends R5{constructor(s){super(),this.moduleType=s}create(s){return new N5(this.moduleType,s)}}class F5 extends Y1{constructor(s,c,u){super(),this.componentFactoryResolver=new Um(this),this.instance=null;const d=new qp([...s,{provide:Y1,useValue:this},{provide:oh,useValue:this.componentFactoryResolver}],c||V4(),u,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function p8(o,s,c=null){return new F5(o,s,c).injector}let qE=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const u=Yp(0,c.type),d=u.length>0?p8([u],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,d)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=De({token:o,providedIn:"environment",factory:()=>new o(nn(wu))}),o})();function L5(o){o.getStandaloneInjector=s=>s.get(qE).getOrCreateStandaloneInjector(o)}function v8(o){return s=>{setTimeout(o,void 0,s)}}const Mc=class yT extends C.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,c,u){let d=s,f=c||(()=>null),_=u;if(s&&"object"==typeof s){const x=s;d=x.next?.bind(x),f=x.error?.bind(x),_=x.complete?.bind(x)}this.__isAsync&&(f=v8(f),d&&(d=v8(d)),_&&(_=v8(_)));const D=super.subscribe({next:d,error:f,complete:_});return s instanceof m.w0&&s.add(D),D}};function _T(){return this._results[Symbol.iterator]()}class y8{get changes(){return this._changes||(this._changes=new Mc)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=y8.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=_T)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,c){return this._results.reduce(s,c)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,c){const u=this;u.dirty=!1;const d=function lo(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function _o(o,s,c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++){let d=o[u],f=s[u];if(c&&(d=c(d),f=c(f)),f!==d)return!1}return!0}(u._results,d,c))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let wh=(()=>{class o{}return o.__NG_ELEMENT_ID__=bT,o})();const wT=wh,CT=class extends wT{constructor(s,c,u){super(),this._declarationLView=s,this._declarationTContainer=c,this.elementRef=u}createEmbeddedView(s,c){const u=this._declarationTContainer.tView,d=U4(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,c||null);d[Dn]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[In];return null!==_&&(d[In]=_.createEmbeddedView(u)),z3(u,d,s),new uh(d)}};function bT(){return c2(Ke(),O())}function c2(o,s){return 4&o.type?new CT(s,o,bu(o,s)):null}let l2=(()=>{class o{}return o.__NG_ELEMENT_ID__=ST,o})();function ST(){return J5(Ke(),O())}const ET=l2,Q5=class extends ET{constructor(s,c,u){super(),this._lContainer=s,this._hostTNode=c,this._hostLView=u}get element(){return bu(this._hostTNode,this._hostLView)}get injector(){return new Hs(this._hostTNode,this._hostLView)}get parentInjector(){const s=ei(this._hostTNode,this._hostLView);if(Ii(s)){const c=Zo(s,this._hostLView),u=Mo(s);return new Hs(c[Dt].data[u+8],c)}return new Hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const c=X5(this._lContainer);return null!==c&&c[s]||null}get length(){return this._lContainer.length-Gr}createEmbeddedView(s,c,u){let d,f;"number"==typeof u?d=u:null!=u&&(d=u.index,f=u.injector);const _=s.createEmbeddedView(c||{},f);return this.insert(_,d),_}createComponent(s,c,u,d,f){const _=s&&!function Ga(o){return"function"==typeof o}(s);let D;if(_)D=c;else{const te=c||{};D=te.index,u=te.injector,d=te.projectableNodes,f=te.environmentInjector||te.ngModuleRef}const x=_?s:new dh(Gt(s)),N=u||this.parentInjector;if(!f&&null==x.ngModule){const ye=(_?N:this.parentInjector).get(wu,null);ye&&(f=ye)}const W=x.create(N,d,void 0,f);return this.insert(W.hostView,D),W}insert(s,c){const u=s._lView,d=u[Dt];if(function ps(o){return ui(o[Kn])}(u)){const W=this.indexOf(s);if(-1!==W)this.detach(W);else{const te=u[Kn],ye=new Q5(te,te[zr],te[Kn]);ye.detach(ye.indexOf(s))}}const f=this._adjustIndex(c),_=this._lContainer;!function p(o,s,c,u){const d=Gr+u,f=c.length;u>0&&(c[d-1][Gn]=s),u<f-Gr?(s[Gn]=c[d],Us(c,Gr+u,s)):(c.push(s),s[Gn]=null),s[Kn]=c;const _=s[Dn];null!==_&&c!==_&&function g(o,s){const c=o[po];s[wt]!==s[Kn][Kn][wt]&&(o[cs]=!0),null===c?o[po]=[s]:c.push(s)}(_,s);const D=s[In];null!==D&&D.insertView(o),s[bn]|=64}(d,u,_,f);const D=E1(f,_),x=u[un],N=Zc(x,_[Lo]);return null!==N&&function a3(o,s,c,u,d,f){u[Tr]=d,u[zr]=s,T1(o,u,c,1,d,f)}(d,_[zr],x,u,N,D),s.attachToViewContainerRef(),Us(_8(_),f,s),s}move(s,c){return this.insert(s,c)}indexOf(s){const c=X5(this._lContainer);return null!==c?c.indexOf(s):-1}remove(s){const c=this._adjustIndex(s,-1),u=L(this._lContainer,c);u&&(Tl(_8(this._lContainer),c),Q(u[Dt],u))}detach(s){const c=this._adjustIndex(s,-1),u=L(this._lContainer,c);return u&&null!=Tl(_8(this._lContainer),c)?new uh(u):null}_adjustIndex(s,c=0){return s??this.length+c}};function X5(o){return o[Eo]}function _8(o){return o[Eo]||(o[Eo]=[])}function J5(o,s){let c;const u=s[o.index];if(ui(u))c=u;else{let d;if(8&o.type)d=Ar(u);else{const f=s[un];d=f.createComment("");const _=Vr(o,s);on(f,Zc(f,_),d,function Jd(o,s){return o.nextSibling(s)}(f,_),!1)}s[o.index]=c=function Rm(o,s,c,u){return[o,!0,!1,s,null,0,u,c,null,null]}(u,s,d,o),G4(s,c)}return new Q5(c,o,s)}class w8{constructor(s){this.queryList=s,this.matches=null}clone(){return new w8(this.queryList)}setDirty(){this.queryList.setDirty()}}class C8{constructor(s=[]){this.queries=s}createEmbeddedView(s){const c=s.queries;if(null!==c){const u=null!==s.contentQueries?s.contentQueries[0]:c.length,d=[];for(let f=0;f<u;f++){const _=c.getByIndex(f);d.push(this.queries[_.indexInDeclarationView].clone())}return new C8(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let c=0;c<this.queries.length;c++)null!==l7(s,c).matches&&this.queries[c].setDirty()}}class e7{constructor(s,c,u=null){this.predicate=s,this.flags=c,this.read=u}}class b8{constructor(s=[]){this.queries=s}elementStart(s,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,c)}elementEnd(s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(s)}embeddedTView(s){let c=null;for(let u=0;u<this.length;u++){const d=null!==c?c.length:0,f=this.getByIndex(u).embeddedTView(s,d);f&&(f.indexInDeclarationView=u,null!==c?c.push(f):c=[f])}return null!==c?new b8(c):null}template(s,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,c)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class S8{constructor(s,c=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(s,c){this.isApplyingToNode(c)&&this.matchTNode(s,c)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,c){this.elementStart(s,c)}embeddedTView(s,c){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,c),new S8(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const f=u[d];this.matchTNodeWithReadOption(s,c,TT(c,f)),this.matchTNodeWithReadOption(s,c,Uc(c,s,f,!1,!1))}else u===wh?4&c.type&&this.matchTNodeWithReadOption(s,c,-1):this.matchTNodeWithReadOption(s,c,Uc(c,s,u,!1,!1))}matchTNodeWithReadOption(s,c,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===sh||d===l2||d===wh&&4&c.type)this.addMatch(c.index,-2);else{const f=Uc(c,s,d,!1,!1);null!==f&&this.addMatch(c.index,f)}else this.addMatch(c.index,u)}}addMatch(s,c){null===this.matches?this.matches=[s,c]:this.matches.push(s,c)}}function TT(o,s){const c=o.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===s)return c[u+1];return null}function MT(o,s,c,u){return-1===c?function DT(o,s){return 11&o.type?bu(o,s):4&o.type?c2(o,s):null}(s,o):-2===c?function IT(o,s,c){return c===sh?bu(s,o):c===wh?c2(s,o):c===l2?J5(s,o):void 0}(o,s,u):Vs(o,o[Dt],c,s)}function t7(o,s,c,u){const d=s[In].queries[u];if(null===d.matches){const f=o.data,_=c.matches,D=[];for(let x=0;x<_.length;x+=2){const N=_[x];D.push(N<0?null:MT(s,f[N],_[x+1],c.metadata.read))}d.matches=D}return d.matches}function E8(o,s,c,u){const d=o.queries.getByIndex(c),f=d.matches;if(null!==f){const _=t7(o,s,d,c);for(let D=0;D<f.length;D+=2){const x=f[D];if(x>0)u.push(_[D/2]);else{const N=f[D+1],W=s[-x];for(let te=Gr;te<W.length;te++){const ye=W[te];ye[Dn]===ye[Kn]&&E8(ye[Dt],ye,N,u)}if(null!==W[po]){const te=W[po];for(let ye=0;ye<te.length;ye++){const Ne=te[ye];E8(Ne[Dt],Ne,N,u)}}}}}return u}function n7(o){const s=O(),c=Y(),u=_a();Rc(u+1);const d=l7(c,u);if(o.dirty&&function Go(o){return 4==(4&o[bn])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)o.reset([]);else{const f=d.crossesNgTemplate?E8(c,s,u,[]):t7(c,s,d,u);o.reset(f,TC),o.notifyOnChanges()}return!0}return!1}function r7(o,s,c){const u=Y();u.firstCreatePass&&(c7(u,new e7(o,s,c),-1),2==(2&s)&&(u.staticViewQueries=!0)),a7(u,O(),s)}function o7(o,s,c,u){const d=Y();if(d.firstCreatePass){const f=Ke();c7(d,new e7(s,c,u),f.index),function zT(o,s){const c=o.contentQueries||(o.contentQueries=[]);s!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,s)}(d,o),2==(2&c)&&(d.staticContentQueries=!0)}a7(d,O(),c)}function s7(){return function xT(o,s){return o[In].queries[s].queryList}(O(),_a())}function a7(o,s,c){const u=new y8(4==(4&c));Am(o,s,u,u.destroy),null===s[In]&&(s[In]=new C8),s[In].queries.push(new w8(u))}function c7(o,s,c){null===o.queries&&(o.queries=new b8),o.queries.track(new S8(s,c))}function l7(o,s){return o.queries.getByIndex(s)}function T8(o){return!!Or(o)}function h2(...o){}const z8=new Dr("Application Initializer");let bh=(()=>{class o{constructor(c){this.appInits=c,this.resolve=h2,this.reject=h2,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const c=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(K3(f))c.push(f);else if(cg(f)){const _=new Promise((D,x)=>{f.subscribe({complete:D,error:x})});c.push(_)}}Promise.all(c).then(()=>{u()}).catch(d=>{this.reject(d)}),0===c.length&&u(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(nn(z8,8))},o.\u0275prov=De({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const M7=new Dr("AppId",{providedIn:"root",factory:function I7(){return`${A8()}${A8()}${A8()}`}});function A8(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const x7=new Dr("Platform Initializer"),ZT=new Dr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),QT=new Dr("AnimationModuleType");let XT=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=De({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const f2=new Dr("LocaleId",{providedIn:"root",factory:()=>$n(f2,Ct.Optional|Ct.SkipSelf)||function JT(){return typeof $localize<"u"&&$localize.locale||U1}()}),eD=new Dr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tD{constructor(s,c){this.ngModuleFactory=s,this.componentFactories=c}}let nD=(()=>{class o{compileModuleSync(c){return new f8(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),f=el(Or(c).declarations).reduce((_,D)=>{const x=Gt(D);return x&&_.push(new dh(x)),_},[]);return new tD(u,f)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=De({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const oD=(()=>Promise.resolve(0))();function P8(o){typeof Zone>"u"?oD.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Da{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mc(!1),this.onMicrotaskEmpty=new Mc(!1),this.onStable=new Mc(!1),this.onError=new Mc(!1),typeof Zone>"u")throw new Ye(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&c,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function P7(){let o=_n.requestAnimationFrame,s=_n.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function cD(o){const s=()=>{!function aD(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(_n,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,O8(o),o.isCheckStableRunning=!0,k8(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),O8(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,d,f,_,D)=>{try{return k7(o),c.invokeTask(d,f,_,D)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||o.shouldCoalesceRunChangeDetection)&&s(),O7(o)}},onInvoke:(c,u,d,f,_,D,x)=>{try{return k7(o),c.invoke(d,f,_,D,x)}finally{o.shouldCoalesceRunChangeDetection&&s(),O7(o)}},onHasTask:(c,u,d,f)=>{c.hasTask(d,f),u===d&&("microTask"==f.change?(o._hasPendingMicrotasks=f.microTask,O8(o),k8(o)):"macroTask"==f.change&&(o.hasPendingMacrotasks=f.macroTask))},onHandleError:(c,u,d,f)=>(c.handleError(d,f),o.runOutsideAngular(()=>o.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Da.isInAngularZone())throw new Ye(909,!1)}static assertNotInAngularZone(){if(Da.isInAngularZone())throw new Ye(909,!1)}run(s,c,u){return this._inner.run(s,c,u)}runTask(s,c,u,d){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+d,s,sD,h2,h2);try{return f.runTask(_,c,u)}finally{f.cancelTask(_)}}runGuarded(s,c,u){return this._inner.runGuarded(s,c,u)}runOutsideAngular(s){return this._outer.run(s)}}const sD={};function k8(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function O8(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function k7(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function O7(o){o._nesting--,k8(o)}class lD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mc,this.onMicrotaskEmpty=new Mc,this.onStable=new Mc,this.onError=new Mc}run(s,c,u){return s.apply(c,u)}runGuarded(s,c,u){return s.apply(c,u)}runOutsideAngular(s){return s()}runTask(s,c,u,d){return s.apply(c,u)}}const R7=new Dr(""),N7=new Dr("");let R8,uD=(()=>{class o{constructor(c,u,d){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,R8||(function dD(o){R8=o}(d),d.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Da.assertNotInAngularZone(),P8(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())P8(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,d){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:f,updateCb:d})}whenStable(c,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,d){return[]}}return o.\u0275fac=function(c){return new(c||o)(nn(Da),nn(F7),nn(N7))},o.\u0275prov=De({token:o,factory:o.\u0275fac}),o})(),F7=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return R8?.findTestabilityInTree(this,c,u)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=De({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const nl=!1;let Fl=null;const L7=new Dr("AllowMultipleToken"),N8=new Dr("PlatformDestroyListeners"),F8=new Dr("appBootstrapListener");class pD{constructor(s,c){this.name=s,this.token=c}}function H7(o,s,c=[]){const u=`Platform: ${s}`,d=new Dr(u);return(f=[])=>{let _=p2();if(!_||_.injector.get(L7,!1)){const D=[...c,...f,{provide:d,useValue:!0}];o?o(D):function mD(o){if(Fl&&!Fl.get(L7,!1))throw new Ye(400,!1);Fl=o;const s=o.get(U7);(function V7(o){const s=o.get(x7,null);s&&s.forEach(c=>c())})(o)}(function L8(o=[],s){return Su.create({name:s,providers:[{provide:v3,useValue:"platform"},{provide:N8,useValue:new Set([()=>Fl=null])},...o]})}(D,u))}return function B7(o){const s=p2();if(!s)throw new Ye(401,!1);return s}()}}function p2(){return Fl?.get(U7)??null}let U7=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const d=function W1(o,s){let c;return c="noop"===o?new lD:("zone.js"===o?void 0:o)||new Da(s),c}(u?.ngZone,function Y7(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(u)),f=[{provide:Da,useValue:d}];return d.run(()=>{const _=Su.create({providers:f,parent:this.injector,name:c.moduleType.name}),D=c.create(_),x=D.injector.get(ah,null);if(!x)throw new Ye(402,!1);return d.runOutsideAngular(()=>{const N=d.onError.subscribe({next:W=>{x.handleError(W)}});D.onDestroy(()=>{Eh(this._modules,D),N.unsubscribe()})}),function m2(o,s,c){try{const u=c();return K3(u)?u.catch(d=>{throw s.runOutsideAngular(()=>o.handleError(d)),d}):u}catch(u){throw s.runOutsideAngular(()=>o.handleError(u)),u}}(x,d,()=>{const N=D.injector.get(bh);return N.runInitializers(),N.donePromise.then(()=>(function c5(o){Ie(o,"Expected localeId to be defined"),"string"==typeof o&&(a5=o.toLowerCase().replace(/_/g,"-"))}(D.injector.get(f2,U1)||U1),this._moduleDoBootstrap(D),D))})})}bootstrapModule(c,u=[]){const d=V8({},u);return function hD(o,s,c){const u=new f8(c);return Promise.resolve(u)}(0,0,c).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(c){const u=c.injector.get(Sh);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!c.instance.ngDoBootstrap)throw new Ye(-403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ye(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get(N8,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(nn(Su))},o.\u0275prov=De({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function V8(o,s){return Array.isArray(s)?s.reduce(V8,o):{...o,...s}}let Sh=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,u,d){this._zone=c,this._injector=u,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new V.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),_=new V.y(D=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Da.assertNotInAngularZone(),P8(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Da.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{x.unsubscribe(),N.unsubscribe()}});this.isStable=(0,de.T)(f,_.pipe((0,pe.B)()))}bootstrap(c,u){const d=c instanceof Qp;if(!this._injector.get(bh).done){!d&&Cr(c);throw new Ye(405,nl)}let _;_=d?c:this._injector.get(oh).resolveComponentFactory(c),this.componentTypes.push(_.componentType);const D=function fD(o){return o.isBoundToModule}(_)?void 0:this._injector.get(Y1),N=_.create(Su.NULL,[],u||_.selector,D),W=N.location.nativeElement,te=N.injector.get(R7,null);return te?.registerApplication(W),N.onDestroy(()=>{this.detachView(N.hostView),Eh(this.components,N),te?.unregisterApplication(W)}),this._loadComponent(N),N}tick(){if(this._runningTick)throw new Ye(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;Eh(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get(F8,[]);u.push(...this._bootstrapListeners),u.forEach(d=>d(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Eh(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ye(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(nn(Da),nn(wu),nn(ah))},o.\u0275prov=De({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Eh(o,s){const c=o.indexOf(s);c>-1&&o.splice(c,1)}function j7(){return!1}let B8=(()=>{class o{}return o.__NG_ELEMENT_ID__=U8,o})();function U8(o){return function Y8(o,s,c){if(Di(o)&&!c){const u=ri(o.index,s);return new uh(u,u)}return 47&o.type?new uh(s[wt],s):null}(Ke(),O(),16==(16&o))}class q7{constructor(){}supports(s){return Z4(s)}create(s){return new q8(s)}}const ED=(o,s)=>s;class q8{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||ED}forEachItem(s){let c;for(c=this._itHead;null!==c;c=c._next)s(c)}forEachOperation(s){let c=this._itHead,u=this._removalsHead,d=0,f=null;for(;c||u;){const _=!u||c&&c.currentIndex<Q7(u,d,f)?c:u,D=Q7(_,d,f),x=_.currentIndex;if(_===u)d--,u=u._nextRemoved;else if(c=c._next,null==_.previousIndex)d++;else{f||(f=[]);const N=D-d,W=x-d;if(N!=W){for(let ye=0;ye<N;ye++){const Ne=ye<f.length?f[ye]:f[ye]=0,tt=Ne+ye;W<=tt&&tt<N&&(f[ye]=Ne+1)}f[_.previousIndex]=W-N}}D!==x&&s(_,D,x)}}forEachPreviousItem(s){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachMovedItem(s){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}forEachIdentityChange(s){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)s(c)}diff(s){if(null==s&&(s=[]),!Z4(s))throw new Ye(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,_,c=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let D=0;D<this.length;D++)f=s[D],_=this._trackByFn(D,f),null!==c&&Object.is(c.trackById,_)?(u&&(c=this._verifyReinsertion(c,f,_,D)),Object.is(c.item,f)||this._addIdentityChange(c,f)):(c=this._mismatch(c,f,_,D),u=!0),c=c._next}else d=0,function Zb(o,s){if(Array.isArray(o))for(let c=0;c<o.length;c++)s(o[c]);else{const c=o[Symbol.iterator]();let u;for(;!(u=c.next()).done;)s(u.value)}}(s,D=>{_=this._trackByFn(d,D),null!==c&&Object.is(c.trackById,_)?(u&&(c=this._verifyReinsertion(c,D,_,d)),Object.is(c.item,D)||this._addIdentityChange(c,D)):(c=this._mismatch(c,D,_,d),u=!0),c=c._next,d++}),this.length=d;return this._truncate(c),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,c,u,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._moveAfter(s,f,d)):s=this._addAfter(new K7(c,u),f,d),s}_verifyReinsertion(s,c,u,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const c=s._next;this._addToRemovals(this._unlink(s)),s=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,c,u),this._addToMoves(s,u),s}_moveAfter(s,c,u){return this._unlink(s),this._insertAfter(s,c,u),this._addToMoves(s,u),s}_addAfter(s,c,u){return this._insertAfter(s,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,c,u){const d=null===c?this._itHead:c._next;return s._next=d,s._prev=c,null===d?this._itTail=s:d._prev=s,null===c?this._itHead=s:c._next=s,null===this._linkedRecords&&(this._linkedRecords=new Z7),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const c=s._prev,u=s._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,s}_addToMoves(s,c){return s.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Z7),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,c){return s.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class K7{constructor(s,c){this.item=s,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const c=s._prevDup,u=s._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class Z7{constructor(){this.map=new Map}put(s){const c=s.trackById;let u=this.map.get(c);u||(u=new TD,this.map.set(c,u)),u.add(s)}get(s,c){const d=this.map.get(s);return d?d.get(s,c):null}remove(s){const c=s.trackById;return this.map.get(c).remove(s)&&this.map.delete(c),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Q7(o,s,c){const u=o.previousIndex;if(null===u)return u;let d=0;return c&&u<c.length&&(d=c[u]),u+s+d}class X7{constructor(){}supports(s){return s instanceof Map||U3(s)}create(){return new DD}}class DD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let c;for(c=this._mapHead;null!==c;c=c._next)s(c)}forEachPreviousItem(s){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)s(c)}forEachChangedItem(s){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}diff(s){if(s){if(!(s instanceof Map||U3(s)))throw new Ye(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,d)=>{if(c&&c.key===d)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const f=this._getOrCreateRecordForKey(d,u);c=this._insertBeforeOrAppend(c,f)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,c){if(s){const u=s._prev;return c._next=s,c._prev=u,s._prev=c,u&&(u._next=c),s===this._mapHead&&(this._mapHead=c),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(s,c){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,c);const f=d._prev,_=d._next;return f&&(f._next=_),_&&(_._prev=f),d._next=null,d._prev=null,d}const u=new MD(s);return this._records.set(s,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,c){Object.is(c,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=c,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,c){s instanceof Map?s.forEach(c):Object.keys(s).forEach(u=>c(s[u],u))}}class MD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function J7(){return new C2([new q7])}let C2=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(null!=u){const d=u.factories.slice();c=c.concat(d)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||J7()),deps:[[o,new Ea,new ua]]}}find(c){const u=this.factories.find(d=>d.supports(c));if(null!=u)return u;throw new Ye(901,!1)}}return o.\u0275prov=De({token:o,providedIn:"root",factory:J7}),o})();function K8(){return new Mu([new X7])}let Mu=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(u){const d=u.factories.slice();c=c.concat(d)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||K8()),deps:[[o,new Ea,new ua]]}}find(c){const u=this.factories.find(d=>d.supports(c));if(u)return u;throw new Ye(901,!1)}}return o.\u0275prov=De({token:o,providedIn:"root",factory:K8}),o})();const nv=H7(null,"core",[]);let b2=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(nn(Sh))},o.\u0275mod=Te({type:o}),o.\u0275inj=hn({}),o})();function rv(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},1481:(Tt,Le,R)=>{R.d(Le,{Dx:()=>wn,H7:()=>q,b2:()=>qn,q6:()=>cr,se:()=>St});var C=R(6895),m=R(4650);class V extends C.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class de extends V{static makeCurrent(){(0,C.HT)(new de)}onAndCancel(B,H,J){return B.addEventListener(H,J,!1),()=>{B.removeEventListener(H,J,!1)}}dispatchEvent(B,H){B.dispatchEvent(H)}remove(B){B.parentNode&&B.parentNode.removeChild(B)}createElement(B,H){return(H=H||this.getDefaultDocument()).createElement(B)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(B){return B.nodeType===Node.ELEMENT_NODE}isShadowRoot(B){return B instanceof DocumentFragment}getGlobalEventTarget(B,H){return"window"===H?window:"document"===H?B:"body"===H?B.body:null}getBaseHref(B){const H=function be(){return pe=pe||document.querySelector("base"),pe?pe.getAttribute("href"):null}();return null==H?null:function xe(ee){Me=Me||document.createElement("a"),Me.setAttribute("href",ee);const B=Me.pathname;return"/"===B.charAt(0)?B:`/${B}`}(H)}resetBaseElement(){pe=null}getUserAgent(){return window.navigator.userAgent}getCookie(B){return(0,C.Mx)(document.cookie,B)}}let Me,pe=null;const Ae=new m.OlP("TRANSITION_ID"),se=[{provide:m.ip1,useFactory:function ae(ee,B,H){return()=>{H.get(m.CZH).donePromise.then(()=>{const J=(0,C.q)(),fe=B.querySelectorAll(`style[ng-transition="${ee}"]`);for(let Ce=0;Ce<fe.length;Ce++)J.remove(fe[Ce])})}},deps:[Ae,C.K0,m.zs3],multi:!0}];let Fe=(()=>{class ee{build(){return new XMLHttpRequest}}return ee.\u0275fac=function(H){return new(H||ee)},ee.\u0275prov=m.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const He=new m.OlP("EventManagerPlugins");let Ze=(()=>{class ee{constructor(H,J){this._zone=J,this._eventNameToPlugin=new Map,H.forEach(fe=>{fe.manager=this}),this._plugins=H.slice().reverse()}addEventListener(H,J,fe){return this._findPluginFor(J).addEventListener(H,J,fe)}addGlobalEventListener(H,J,fe){return this._findPluginFor(J).addGlobalEventListener(H,J,fe)}getZone(){return this._zone}_findPluginFor(H){const J=this._eventNameToPlugin.get(H);if(J)return J;const fe=this._plugins;for(let Ce=0;Ce<fe.length;Ce++){const it=fe[Ce];if(it.supports(H))return this._eventNameToPlugin.set(H,it),it}throw new Error(`No event manager plugin found for event ${H}`)}}return ee.\u0275fac=function(H){return new(H||ee)(m.LFG(He),m.LFG(m.R0b))},ee.\u0275prov=m.Yz7({token:ee,factory:ee.\u0275fac}),ee})();class ft{constructor(B){this._doc=B}addGlobalEventListener(B,H,J){const fe=(0,C.q)().getGlobalEventTarget(this._doc,B);if(!fe)throw new Error(`Unsupported event target ${fe} for event ${H}`);return this.addEventListener(fe,H,J)}}let Ye=(()=>{class ee{constructor(){this.usageCount=new Map}addStyles(H){for(const J of H)1===this.changeUsageCount(J,1)&&this.onStyleAdded(J)}removeStyles(H){for(const J of H)0===this.changeUsageCount(J,-1)&&this.onStyleRemoved(J)}onStyleRemoved(H){}onStyleAdded(H){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(H,J){const fe=this.usageCount;let Ce=fe.get(H)??0;return Ce+=J,Ce>0?fe.set(H,Ce):fe.delete(H),Ce}ngOnDestroy(){for(const H of this.getAllStyles())this.onStyleRemoved(H);this.usageCount.clear()}}return ee.\u0275fac=function(H){return new(H||ee)},ee.\u0275prov=m.Yz7({token:ee,factory:ee.\u0275fac}),ee})(),Qe=(()=>{class ee extends Ye{constructor(H){super(),this.doc=H,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(H){for(const J of this.hostNodes)this.addStyleToHost(J,H)}onStyleRemoved(H){const J=this.styleRef;J.get(H)?.forEach(Ce=>Ce.remove()),J.delete(H)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(H){this.hostNodes.add(H);for(const J of this.getAllStyles())this.addStyleToHost(H,J)}removeHost(H){this.hostNodes.delete(H)}addStyleToHost(H,J){const fe=this.doc.createElement("style");fe.textContent=J,H.appendChild(fe);const Ce=this.styleRef.get(J);Ce?Ce.push(fe):this.styleRef.set(J,[fe])}resetHostNodes(){const H=this.hostNodes;H.clear(),H.add(this.doc.head)}}return ee.\u0275fac=function(H){return new(H||ee)(m.LFG(C.K0))},ee.\u0275prov=m.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ut=/%COMP%/g,Ee=new m.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Et(ee,B){return B.flat(100).map(H=>H.replace(ut,ee))}function $t(ee){return B=>{if("__ngUnwrap__"===B)return ee;!1===ee(B)&&(B.preventDefault(),B.returnValue=!1)}}let St=(()=>{class ee{constructor(H,J,fe,Ce){this.eventManager=H,this.sharedStylesHost=J,this.appId=fe,this.removeStylesOnCompDestory=Ce,this.rendererByCompId=new Map,this.defaultRenderer=new Kr(H)}createRenderer(H,J){if(!H||!J)return this.defaultRenderer;const fe=this.getOrCreateRenderer(H,J);return fe instanceof Ie?fe.applyToHost(H):fe instanceof $r&&fe.applyStyles(),fe}getOrCreateRenderer(H,J){const fe=this.rendererByCompId;let Ce=fe.get(J.id);if(!Ce){const it=this.eventManager,at=this.sharedStylesHost,Ft=this.removeStylesOnCompDestory;switch(J.encapsulation){case m.ifc.Emulated:Ce=new Ie(it,at,J,this.appId,Ft);break;case m.ifc.ShadowDom:return new jr(it,at,H,J);default:Ce=new $r(it,at,J,Ft)}Ce.onDestroy=()=>fe.delete(J.id),fe.set(J.id,Ce)}return Ce}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ee.\u0275fac=function(H){return new(H||ee)(m.LFG(Ze),m.LFG(Qe),m.LFG(m.AFp),m.LFG(Ee))},ee.\u0275prov=m.Yz7({token:ee,factory:ee.\u0275fac}),ee})();class Kr{constructor(B){this.eventManager=B,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(B,H){return H?document.createElementNS(nt[H]||H,B):document.createElement(B)}createComment(B){return document.createComment(B)}createText(B){return document.createTextNode(B)}appendChild(B,H){(Br(B)?B.content:B).appendChild(H)}insertBefore(B,H,J){B&&(Br(B)?B.content:B).insertBefore(H,J)}removeChild(B,H){B&&B.removeChild(H)}selectRootElement(B,H){let J="string"==typeof B?document.querySelector(B):B;if(!J)throw new Error(`The selector "${B}" did not match any elements`);return H||(J.textContent=""),J}parentNode(B){return B.parentNode}nextSibling(B){return B.nextSibling}setAttribute(B,H,J,fe){if(fe){H=fe+":"+H;const Ce=nt[fe];Ce?B.setAttributeNS(Ce,H,J):B.setAttribute(H,J)}else B.setAttribute(H,J)}removeAttribute(B,H,J){if(J){const fe=nt[J];fe?B.removeAttributeNS(fe,H):B.removeAttribute(`${J}:${H}`)}else B.removeAttribute(H)}addClass(B,H){B.classList.add(H)}removeClass(B,H){B.classList.remove(H)}setStyle(B,H,J,fe){fe&(m.JOm.DashCase|m.JOm.Important)?B.style.setProperty(H,J,fe&m.JOm.Important?"important":""):B.style[H]=J}removeStyle(B,H,J){J&m.JOm.DashCase?B.style.removeProperty(H):B.style[H]=""}setProperty(B,H,J){B[H]=J}setValue(B,H){B.nodeValue=H}listen(B,H,J){return"string"==typeof B?this.eventManager.addGlobalEventListener(B,H,$t(J)):this.eventManager.addEventListener(B,H,$t(J))}}function Br(ee){return"TEMPLATE"===ee.tagName&&void 0!==ee.content}class jr extends Kr{constructor(B,H,J,fe){super(B),this.sharedStylesHost=H,this.hostEl=J,this.shadowRoot=J.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ce=Et(fe.id,fe.styles);for(const it of Ce){const at=document.createElement("style");at.textContent=it,this.shadowRoot.appendChild(at)}}nodeOrShadowRoot(B){return B===this.hostEl?this.shadowRoot:B}appendChild(B,H){return super.appendChild(this.nodeOrShadowRoot(B),H)}insertBefore(B,H,J){return super.insertBefore(this.nodeOrShadowRoot(B),H,J)}removeChild(B,H){return super.removeChild(this.nodeOrShadowRoot(B),H)}parentNode(B){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(B)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $r extends Kr{constructor(B,H,J,fe,Ce=J.id){super(B),this.sharedStylesHost=H,this.removeStylesOnCompDestory=fe,this.rendererUsageCount=0,this.styles=Et(Ce,J.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ie extends $r{constructor(B,H,J,fe,Ce){const it=fe+"-"+J.id;super(B,H,J,Ce,it),this.contentAttr=function ht(ee){return"_ngcontent-%COMP%".replace(ut,ee)}(it),this.hostAttr=function Ut(ee){return"_nghost-%COMP%".replace(ut,ee)}(it)}applyToHost(B){this.applyStyles(),this.setAttribute(B,this.hostAttr,"")}createElement(B,H){const J=super.createElement(B,H);return super.setAttribute(J,this.contentAttr,""),J}}let ge=(()=>{class ee extends ft{constructor(H){super(H)}supports(H){return!0}addEventListener(H,J,fe){return H.addEventListener(J,fe,!1),()=>this.removeEventListener(H,J,fe)}removeEventListener(H,J,fe){return H.removeEventListener(J,fe)}}return ee.\u0275fac=function(H){return new(H||ee)(m.LFG(C.K0))},ee.\u0275prov=m.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const Pe=["alt","control","meta","shift"],Be={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ot={alt:ee=>ee.altKey,control:ee=>ee.ctrlKey,meta:ee=>ee.metaKey,shift:ee=>ee.shiftKey};let De=(()=>{class ee extends ft{constructor(H){super(H)}supports(H){return null!=ee.parseEventName(H)}addEventListener(H,J,fe){const Ce=ee.parseEventName(J),it=ee.eventCallback(Ce.fullKey,fe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,C.q)().onAndCancel(H,Ce.domEventName,it))}static parseEventName(H){const J=H.toLowerCase().split("."),fe=J.shift();if(0===J.length||"keydown"!==fe&&"keyup"!==fe)return null;const Ce=ee._normalizeKey(J.pop());let it="",at=J.indexOf("code");if(at>-1&&(J.splice(at,1),it="code."),Pe.forEach(cn=>{const ze=J.indexOf(cn);ze>-1&&(J.splice(ze,1),it+=cn+".")}),it+=Ce,0!=J.length||0===Ce.length)return null;const Ft={};return Ft.domEventName=fe,Ft.fullKey=it,Ft}static matchEventFullKeyCode(H,J){let fe=Be[H.key]||H.key,Ce="";return J.indexOf("code.")>-1&&(fe=H.code,Ce="code."),!(null==fe||!fe)&&(fe=fe.toLowerCase()," "===fe?fe="space":"."===fe&&(fe="dot"),Pe.forEach(it=>{it!==fe&&(0,ot[it])(H)&&(Ce+=it+".")}),Ce+=fe,Ce===J)}static eventCallback(H,J,fe){return Ce=>{ee.matchEventFullKeyCode(Ce,H)&&fe.runGuarded(()=>J(Ce))}}static _normalizeKey(H){return"esc"===H?"escape":H}}return ee.\u0275fac=function(H){return new(H||ee)(m.LFG(C.K0))},ee.\u0275prov=m.Yz7({token:ee,factory:ee.\u0275fac}),ee})();const cr=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:C.bD},{provide:m.g9A,useValue:function zn(){de.makeCurrent()},multi:!0},{provide:C.K0,useFactory:function yn(){return(0,m.RDi)(document),document},deps:[]}]),Wt=new m.OlP(""),Ct=[{provide:m.rWj,useClass:class me{addToWindow(B){m.dqk.getAngularTestability=(J,fe=!0)=>{const Ce=B.findTestabilityInTree(J,fe);if(null==Ce)throw new Error("Could not find testability for element.");return Ce},m.dqk.getAllAngularTestabilities=()=>B.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>B.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(J=>{const fe=m.dqk.getAllAngularTestabilities();let Ce=fe.length,it=!1;const at=function(Ft){it=it||Ft,Ce--,0==Ce&&J(it)};fe.forEach(function(Ft){Ft.whenStable(at)})})}findTestabilityInTree(B,H,J){return null==H?null:B.getTestability(H)??(J?(0,C.q)().isShadowRoot(H)?this.findTestabilityInTree(B,H.host,!0):this.findTestabilityInTree(B,H.parentElement,!0):null)}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],Rn=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function ar(){return new m.qLn},deps:[]},{provide:He,useClass:ge,multi:!0,deps:[C.K0,m.R0b,m.Lbi]},{provide:He,useClass:De,multi:!0,deps:[C.K0]},{provide:St,useClass:St,deps:[Ze,Qe,m.AFp,Ee]},{provide:m.FYo,useExisting:St},{provide:Ye,useExisting:Qe},{provide:Qe,useClass:Qe,deps:[C.K0]},{provide:Ze,useClass:Ze,deps:[He,m.R0b]},{provide:C.JF,useClass:Fe,deps:[]},[]];let qn=(()=>{class ee{constructor(H){}static withServerTransition(H){return{ngModule:ee,providers:[{provide:m.AFp,useValue:H.appId},{provide:Ae,useExisting:m.AFp},se]}}}return ee.\u0275fac=function(H){return new(H||ee)(m.LFG(Wt,12))},ee.\u0275mod=m.oAB({type:ee}),ee.\u0275inj=m.cJS({providers:[...Rn,...Ct],imports:[C.ez,m.hGG]}),ee})(),wn=(()=>{class ee{constructor(H){this._doc=H}getTitle(){return this._doc.title}setTitle(H){this._doc.title=H||""}}return ee.\u0275fac=function(H){return new(H||ee)(m.LFG(C.K0))},ee.\u0275prov=m.Yz7({token:ee,factory:function(H){let J=null;return J=H?new H:function _n(){return new wn((0,m.LFG)(C.K0))}(),J},providedIn:"root"}),ee})();typeof window<"u"&&window;let q=(()=>{class ee{}return ee.\u0275fac=function(H){return new(H||ee)},ee.\u0275prov=m.Yz7({token:ee,factory:function(H){let J=null;return J=H?new(H||ee):m.LFG($),J},providedIn:"root"}),ee})(),$=(()=>{class ee extends q{constructor(H){super(),this._doc=H}sanitize(H,J){if(null==J)return null;switch(H){case m.q3G.NONE:return J;case m.q3G.HTML:return(0,m.qzn)(J,"HTML")?(0,m.z3N)(J):(0,m.EiD)(this._doc,String(J)).toString();case m.q3G.STYLE:return(0,m.qzn)(J,"Style")?(0,m.z3N)(J):J;case m.q3G.SCRIPT:if((0,m.qzn)(J,"Script"))return(0,m.z3N)(J);throw new Error("unsafe value used in a script context");case m.q3G.URL:return(0,m.qzn)(J,"URL")?(0,m.z3N)(J):(0,m.mCW)(String(J));case m.q3G.RESOURCE_URL:if((0,m.qzn)(J,"ResourceURL"))return(0,m.z3N)(J);throw new Error(`unsafe value used in a resource URL context (see ${m.JZr})`);default:throw new Error(`Unexpected SecurityContext ${H} (see ${m.JZr})`)}}bypassSecurityTrustHtml(H){return(0,m.JVY)(H)}bypassSecurityTrustStyle(H){return(0,m.L6k)(H)}bypassSecurityTrustScript(H){return(0,m.eBb)(H)}bypassSecurityTrustUrl(H){return(0,m.LAX)(H)}bypassSecurityTrustResourceUrl(H){return(0,m.pB0)(H)}}return ee.\u0275fac=function(H){return new(H||ee)(m.LFG(C.K0))},ee.\u0275prov=m.Yz7({token:ee,factory:function(H){let J=null;return J=H?new H:function X(ee){return new $(ee.get(C.K0))}(m.LFG(m.zs3)),J},providedIn:"root"}),ee})()},5137:(Tt,Le,R)=>{R.d(Le,{F0:()=>vi,Bz:()=>kd,lC:()=>ga});var C=R(4650),m=R(8996),V=R(9646),de=R(7579);class pe extends de.x{constructor(S){super(),this._value=S}get value(){return this.getValue()}_subscribe(S){const y=super._subscribe(S);return!y.closed&&S.next(this._value),y}getValue(){const{hasError:S,thrownError:y,_value:M}=this;if(S)throw y;return this._throwIfClosed(),M}next(S){super.next(this._value=S)}}var be=R(6805),Me=R(9841),xe=R(7272),Ae=R(9751),ae=R(8421);function se(w){return new Ae.y(S=>{(0,ae.Xf)(w()).subscribe(S)})}var me=R(9635),Fe=R(576);function He(w,S){const y=(0,Fe.m)(w)?w:()=>w,M=k=>k.error(y());return new Ae.y(S?k=>S.schedule(M,0,k):M)}var Ze=R(515),ft=R(727),Ye=R(4482),Qe=R(5403);function nt(){return(0,Ye.e)((w,S)=>{let y=null;w._refCount++;const M=(0,Qe.x)(S,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(y=null);const k=w._connection,j=y;y=null,k&&(!j||k===j)&&k.unsubscribe(),S.unsubscribe()});w.subscribe(M),M.closed||(y=w.connect())})}class ut extends Ae.y{constructor(S,y){super(),this.source=S,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Ye.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new ft.w0;const y=this.getSubject();S.add(this.source.subscribe((0,Qe.x)(y,void 0,()=>{this._teardown(),y.complete()},M=>{this._teardown(),y.error(M)},()=>this._teardown()))),S.closed&&(this._connection=null,S=ft.w0.EMPTY)}return S}refCount(){return nt()(this)}}var Ge=R(6895),Oe=R(4004),Xe=R(3900),ct=R(5698),lt=R(8675),Ee=R(9300),ht=R(5577),Ut=R(590),Et=R(4351),$t=R(8505),St=R(262),Kr=R(5026);function pr(w){return w<=0?()=>Ze.E:(0,Ye.e)((S,y)=>{let M=[];S.subscribe((0,Qe.x)(y,k=>{M.push(k),w<M.length&&M.shift()},()=>{for(const k of M)y.next(k);y.complete()},void 0,()=>{M=null}))})}var kr=R(8068),Br=R(6590),jr=R(4671);function $r(w,S){const y=arguments.length>=2;return M=>M.pipe(w?(0,Ee.h)((k,j)=>w(k,j,M)):jr.y,pr(1),y?(0,Br.d)(S):(0,kr.T)(()=>new be.K))}var ge=R(9718),Pe=R(8746),Be=R(8189),ot=R(1481);const De="primary",gt=Symbol("RouteTitle");class hn{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const y=this.params[S];return Array.isArray(y)?y[0]:y}return null}getAll(S){if(this.has(S)){const y=this.params[S];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function gn(w){return new hn(w)}function Zt(w,S,y){const M=y.path.split("/");if(M.length>w.length||"full"===y.pathMatch&&(S.hasChildren()||M.length<w.length))return null;const k={};for(let j=0;j<M.length;j++){const K=M[j],we=w[j];if(K.startsWith(":"))k[K.substring(1)]=we;else if(K!==we.path)return null}return{consumed:w.slice(0,M.length),posParams:k}}function zn(w,S){const y=w?Object.keys(w):void 0,M=S?Object.keys(S):void 0;if(!y||!M||y.length!=M.length)return!1;let k;for(let j=0;j<y.length;j++)if(k=y[j],!ar(w[k],S[k]))return!1;return!0}function ar(w,S){if(Array.isArray(w)&&Array.isArray(S)){if(w.length!==S.length)return!1;const y=[...w].sort(),M=[...S].sort();return y.every((k,j)=>M[j]===k)}return w===S}function yn(w){return Array.prototype.concat.apply([],w)}function Mn(w){return w.length>0?w[w.length-1]:null}function Wt(w,S){for(const y in w)w.hasOwnProperty(y)&&S(w[y],y)}function Ct(w){return(0,C.CqO)(w)?w:(0,C.QGY)(w)?(0,m.D)(Promise.resolve(w)):(0,V.of)(w)}const Rn=!1,qn={exact:function _n(w,S,y){if(!rr(w.segments,S.segments)||!jn(w.segments,S.segments,y)||w.numberOfChildren!==S.numberOfChildren)return!1;for(const M in S.children)if(!w.children[M]||!_n(w.children[M],S.children[M],y))return!1;return!0},subset:Mt},Yn={exact:function vr(w,S){return zn(w,S)},subset:function wn(w,S){return Object.keys(S).length<=Object.keys(w).length&&Object.keys(S).every(y=>ar(w[y],S[y]))},ignored:()=>!0};function tr(w,S,y){return qn[y.paths](w.root,S.root,y.matrixParams)&&Yn[y.queryParams](w.queryParams,S.queryParams)&&!("exact"===y.fragment&&w.fragment!==S.fragment)}function Mt(w,S,y){return Yt(w,S,S.segments,y)}function Yt(w,S,y,M){if(w.segments.length>y.length){const k=w.segments.slice(0,y.length);return!(!rr(k,y)||S.hasChildren()||!jn(k,y,M))}if(w.segments.length===y.length){if(!rr(w.segments,y)||!jn(w.segments,y,M))return!1;for(const k in S.children)if(!w.children[k]||!Mt(w.children[k],S.children[k],M))return!1;return!0}{const k=y.slice(0,w.segments.length),j=y.slice(w.segments.length);return!!(rr(w.segments,k)&&jn(w.segments,k,M)&&w.children[De])&&Yt(w.children[De],S,j,M)}}function jn(w,S,y){return S.every((M,k)=>Yn[y](w[k].parameters,M.parameters))}class An{constructor(S=new At([],{}),y={},M=null){this.root=S,this.queryParams=y,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return ci.serialize(this)}}class At{constructor(S,y){this.segments=S,this.children=y,this.parent=null,Wt(y,(M,k)=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nn(this)}}class hr{constructor(S,y){this.path=S,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=gn(this.parameters)),this._parameterMap}toString(){return ue(this)}}function rr(w,S){return w.length===S.length&&w.every((y,M)=>y.path===S[M].path)}let yr=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=C.Yz7({token:w,factory:function(){return new an},providedIn:"root"}),w})();class an{parse(S){const y=new J(S);return new An(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(S){const y=`/${Qn(S.root,!0)}`,M=function q(w){const S=Object.keys(w).map(y=>{const M=w[y];return Array.isArray(M)?M.map(k=>`${ir(y)}=${ir(k)}`).join("&"):`${ir(y)}=${ir(M)}`}).filter(y=>!!y);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${y}${M}${"string"==typeof S.fragment?`#${function _r(w){return encodeURI(w)}(S.fragment)}`:""}`}}const ci=new an;function nn(w){return w.segments.map(S=>ue(S)).join("/")}function Qn(w,S){if(!w.hasChildren())return nn(w);if(S){const y=w.children[De]?Qn(w.children[De],!1):"",M=[];return Wt(w.children,(k,j)=>{j!==De&&M.push(`${j}:${Qn(k,!1)}`)}),M.length>0?`${y}(${M.join("//")})`:y}{const y=function Xt(w,S){let y=[];return Wt(w.children,(M,k)=>{k===De&&(y=y.concat(S(M,k)))}),Wt(w.children,(M,k)=>{k!==De&&(y=y.concat(S(M,k)))}),y}(w,(M,k)=>k===De?[Qn(w.children[De],!1)]:[`${k}:${Qn(M,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[De]?`${nn(w)}/${y[0]}`:`${nn(w)}/(${y.join("//")})`}}function $n(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ir(w){return $n(w).replace(/%3B/gi,";")}function Er(w){return $n(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wr(w){return decodeURIComponent(w)}function xr(w){return wr(w.replace(/\+/g,"%20"))}function ue(w){return`${Er(w.path)}${function ie(w){return Object.keys(w).map(S=>`;${Er(S)}=${Er(w[S])}`).join("")}(w.parameters)}`}const X=/^[^\/()?;=#]+/;function $(w){const S=w.match(X);return S?S[0]:""}const he=/^[^=?&#]+/,B=/^[^&#]+/;class J{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new At([],{}):new At([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(S.length>0||Object.keys(y).length>0)&&(M[De]=new At(S,y)),M}parseSegment(){const S=$(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new C.vHH(4009,Rn);return this.capture(S),new hr(wr(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const y=$(this.remaining);if(!y)return;this.capture(y);let M="";if(this.consumeOptional("=")){const k=$(this.remaining);k&&(M=k,this.capture(M))}S[wr(y)]=wr(M)}parseQueryParam(S){const y=function ee(w){const S=w.match(he);return S?S[0]:""}(this.remaining);if(!y)return;this.capture(y);let M="";if(this.consumeOptional("=")){const K=function H(w){const S=w.match(B);return S?S[0]:""}(this.remaining);K&&(M=K,this.capture(M))}const k=xr(y),j=xr(M);if(S.hasOwnProperty(k)){let K=S[k];Array.isArray(K)||(K=[K],S[k]=K),K.push(j)}else S[k]=j}parseParens(S){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=$(this.remaining),k=this.remaining[M.length];if("/"!==k&&")"!==k&&";"!==k)throw new C.vHH(4010,Rn);let j;M.indexOf(":")>-1?(j=M.slice(0,M.indexOf(":")),this.capture(j),this.capture(":")):S&&(j=De);const K=this.parseChildren();y[j]=1===Object.keys(K).length?K[De]:new At([],K),this.consumeOptional("//")}return y}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new C.vHH(4011,Rn)}}function fe(w){return w.segments.length>0?new At([],{[De]:w}):w}function Ce(w){const S={};for(const M of Object.keys(w.children)){const j=Ce(w.children[M]);(j.segments.length>0||j.hasChildren())&&(S[M]=j)}return function it(w){if(1===w.numberOfChildren&&w.children[De]){const S=w.children[De];return new At(w.segments.concat(S.segments),S.children)}return w}(new At(w.segments,S))}function at(w){return w instanceof An}const Ft=!1;function st(w,S,y,M,k){if(0===y.length)return tn(S.root,S.root,S.root,M,k);const j=function ln(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Nn(!0,0,w);let S=0,y=!1;const M=w.reduce((k,j,K)=>{if("object"==typeof j&&null!=j){if(j.outlets){const we={};return Wt(j.outlets,(et,zt)=>{we[zt]="string"==typeof et?et.split("/"):et}),[...k,{outlets:we}]}if(j.segmentPath)return[...k,j.segmentPath]}return"string"!=typeof j?[...k,j]:0===K?(j.split("/").forEach((we,et)=>{0==et&&"."===we||(0==et&&""===we?y=!0:".."===we?S++:""!=we&&k.push(we))}),k):[...k,j]},[]);return new Nn(y,S,M)}(y);return j.toRoot()?tn(S.root,S.root,new At([],{}),M,k):function K(et){const zt=function Lr(w,S,y,M){if(w.isAbsolute)return new Cr(S.root,!0,0);if(-1===M)return new Cr(y,y===S.root,0);return function Fo(w,S,y){let M=w,k=S,j=y;for(;j>k;){if(j-=k,M=M.parent,!M)throw new C.vHH(4005,Ft&&"Invalid number of '../'");k=M.segments.length}return new Cr(M,!1,k-j)}(y,M+(It(w.commands[0])?0:1),w.numberOfDoubleDots)}(j,S,w.snapshot?._urlSegment,et),Ht=zt.processChildren?Dt(zt.segmentGroup,zt.index,j.commands):Tr(zt.segmentGroup,zt.index,j.commands);return tn(S.root,zt.segmentGroup,Ht,M,k)}(w.snapshot?._lastPathIndex)}function It(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Nt(w){return"object"==typeof w&&null!=w&&w.outlets}function tn(w,S,y,M,k){let K,j={};M&&Wt(M,(et,zt)=>{j[zt]=Array.isArray(et)?et.map(Ht=>`${Ht}`):`${et}`}),K=w===S?y:Gt(w,S,y);const we=fe(Ce(K));return new An(we,j,k)}function Gt(w,S,y){const M={};return Wt(w.children,(k,j)=>{M[j]=k===S?y:Gt(k,S,y)}),new At(w.segments,M)}class Nn{constructor(S,y,M){if(this.isAbsolute=S,this.numberOfDoubleDots=y,this.commands=M,S&&M.length>0&&It(M[0]))throw new C.vHH(4003,Ft&&"Root segment cannot have matrix parameters");const k=M.find(Nt);if(k&&k!==Mn(M))throw new C.vHH(4004,Ft&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cr{constructor(S,y,M){this.segmentGroup=S,this.processChildren=y,this.index=M}}function Tr(w,S,y){if(w||(w=new At([],{})),0===w.segments.length&&w.hasChildren())return Dt(w,S,y);const M=function bn(w,S,y){let M=0,k=S;const j={match:!1,pathIndex:0,commandIndex:0};for(;k<w.segments.length;){if(M>=y.length)return j;const K=w.segments[k],we=y[M];if(Nt(we))break;const et=`${we}`,zt=M<y.length-1?y[M+1]:null;if(k>0&&void 0===et)break;if(et&&zt&&"object"==typeof zt&&void 0===zt.outlets){if(!zr(et,zt,K))return j;M+=2}else{if(!zr(et,{},K))return j;M++}k++}return{match:!0,pathIndex:k,commandIndex:M}}(w,S,y),k=y.slice(M.commandIndex);if(M.match&&M.pathIndex<w.segments.length){const j=new At(w.segments.slice(0,M.pathIndex),{});return j.children[De]=new At(w.segments.slice(M.pathIndex),w.children),Dt(j,0,k)}return M.match&&0===k.length?new At(w.segments,{}):M.match&&!w.hasChildren()?Kn(w,S,y):M.match?Dt(w,0,k):Kn(w,S,y)}function Dt(w,S,y){if(0===y.length)return new At(w.segments,{});{const M=function oo(w){return Nt(w[0])?w[0].outlets:{[De]:w}}(y),k={};if(!M[De]&&w.children[De]&&1===w.numberOfChildren&&0===w.children[De].segments.length){const j=Dt(w.children[De],S,y);return new At(w.segments,j.children)}return Wt(M,(j,K)=>{"string"==typeof j&&(j=[j]),null!==j&&(k[K]=Tr(w.children[K],S,j))}),Wt(w.children,(j,K)=>{void 0===M[K]&&(k[K]=j)}),new At(w.segments,k)}}function Kn(w,S,y){const M=w.segments.slice(0,S);let k=0;for(;k<y.length;){const j=y[k];if(Nt(j)){const et=Gn(j.outlets);return new At(M,et)}if(0===k&&It(y[0])){M.push(new hr(w.segments[S].path,Fi(y[0]))),k++;continue}const K=Nt(j)?j.outlets[De]:`${j}`,we=k<y.length-1?y[k+1]:null;K&&we&&It(we)?(M.push(new hr(K,Fi(we))),k+=2):(M.push(new hr(K,{})),k++)}return new At(M,{})}function Gn(w){const S={};return Wt(w,(y,M)=>{"string"==typeof y&&(y=[y]),null!==y&&(S[M]=Kn(new At([],{}),0,y))}),S}function Fi(w){const S={};return Wt(w,(y,M)=>S[M]=`${y}`),S}function zr(w,S,y){return w==y.path&&zn(S,y.parameters)}const mi="imperative";class Fn{constructor(S,y){this.id=S,this.url=y}}class Ki extends Fn{constructor(S,y,M="imperative",k=null){super(S,y),this.type=0,this.navigationTrigger=M,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ti extends Fn{constructor(S,y,M){super(S,y),this.urlAfterRedirects=M,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class un extends Fn{constructor(S,y,M,k){super(S,y),this.reason=M,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zi extends Fn{constructor(S,y,M,k){super(S,y),this.reason=M,this.code=k,this.type=16}}class re extends Fn{constructor(S,y,M,k){super(S,y),this.error=M,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Se extends Fn{constructor(S,y,M,k){super(S,y),this.urlAfterRedirects=M,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class We extends Fn{constructor(S,y,M,k){super(S,y),this.urlAfterRedirects=M,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wt extends Fn{constructor(S,y,M,k,j){super(S,y),this.urlAfterRedirects=M,this.state=k,this.shouldActivate=j,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dn extends Fn{constructor(S,y,M,k){super(S,y),this.urlAfterRedirects=M,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fn extends Fn{constructor(S,y,M,k){super(S,y),this.urlAfterRedirects=M,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class In{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lr{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ur{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xn{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ni{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oa{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cs{constructor(S,y,M){this.routerEvent=S,this.position=y,this.anchor=M,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let po=(()=>{class w{createUrlTree(y,M,k,j,K,we){return st(y||M.root,k,j,K,we)}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac}),w})(),Ra=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=C.Yz7({token:w,factory:function(S){return po.\u0275fac(S)},providedIn:"root"}),w})();class li{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const y=this.pathFromRoot(S);return y.length>1?y[y.length-2]:null}children(S){const y=ui(S,this._root);return y?y.children.map(M=>M.value):[]}firstChild(S){const y=ui(S,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(S){const y=Vo(S,this._root);return y.length<2?[]:y[y.length-2].children.map(k=>k.value).filter(k=>k!==S)}pathFromRoot(S){return Vo(S,this._root).map(y=>y.value)}}function ui(w,S){if(w===S.value)return S;for(const y of S.children){const M=ui(w,y);if(M)return M}return null}function Vo(w,S){if(w===S.value)return[S];for(const y of S.children){const M=Vo(w,y);if(M.length)return M.unshift(S),M}return[]}class Di{constructor(S,y){this.value=S,this.children=y}toString(){return`TreeNode(${this.value})`}}function ki(w){const S={};return w&&w.children.forEach(y=>S[y.value.outlet]=y),S}class Zr extends li{constructor(S,y){super(S),this.snapshot=y,ls(this,S)}toString(){return this.snapshot.toString()}}function Qi(w,S){const y=function Xs(w,S){const K=new Bo([],{},{},"",{},De,S,null,w.root,-1,{});return new pa("",new Di(K,[]))}(w,S),M=new pe([new hr("",{})]),k=new pe({}),j=new pe({}),K=new pe({}),we=new pe(""),et=new Ho(M,k,K,we,j,De,S,y.root);return et.snapshot=y.root,new Zr(new Di(et,[]),y)}class Ho{constructor(S,y,M,k,j,K,we,et){this.url=S,this.params=y,this.queryParams=M,this.fragment=k,this.data=j,this.outlet=K,this.component=we,this.title=this.data?.pipe((0,Oe.U)(zt=>zt[gt]))??(0,V.of)(void 0),this._futureSnapshot=et}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Oe.U)(S=>gn(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Oe.U)(S=>gn(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Li(w,S="emptyOnly"){const y=w.pathFromRoot;let M=0;if("always"!==S)for(M=y.length-1;M>=1;){const k=y[M],j=y[M-1];if(k.routeConfig&&""===k.routeConfig.path)M--;else{if(j.component)break;M--}}return function Na(w){return w.reduce((S,y)=>({params:{...S.params,...y.params},data:{...S.data,...y.data},resolve:{...y.data,...S.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(M))}class Bo{get title(){return this.data?.[gt]}constructor(S,y,M,k,j,K,we,et,zt,Ht,dr){this.url=S,this.params=y,this.queryParams=M,this.fragment=k,this.data=j,this.outlet=K,this.component=we,this.routeConfig=et,this._urlSegment=zt,this._lastPathIndex=Ht,this._resolve=dr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pa extends li{constructor(S,y){super(y),this.url=S,ls(this,y)}toString(){return uc(this._root)}}function ls(w,S){S.value._routerState=w,S.children.forEach(y=>ls(w,y))}function uc(w){const S=w.children.length>0?` { ${w.children.map(uc).join(", ")} } `:"";return`${w.value}${S}`}function us(w){if(w.snapshot){const S=w.snapshot,y=w._futureSnapshot;w.snapshot=y,zn(S.queryParams,y.queryParams)||w.queryParams.next(y.queryParams),S.fragment!==y.fragment&&w.fragment.next(y.fragment),zn(S.params,y.params)||w.params.next(y.params),function vn(w,S){if(w.length!==S.length)return!1;for(let y=0;y<w.length;++y)if(!zn(w[y],S[y]))return!1;return!0}(S.url,y.url)||w.url.next(y.url),zn(S.data,y.data)||w.data.next(y.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function ks(w,S){const y=zn(w.params,S.params)&&function nr(w,S){return rr(w,S)&&w.every((y,M)=>zn(y.parameters,S[M].parameters))}(w.url,S.url);return y&&!(!w.parent!=!S.parent)&&(!w.parent||ks(w.parent,S.parent))}function hs(w,S,y){if(y&&w.shouldReuseRoute(S.value,y.value.snapshot)){const M=y.value;M._futureSnapshot=S.value;const k=function Uo(w,S,y){return S.children.map(M=>{for(const k of y.children)if(w.shouldReuseRoute(M.value,k.value.snapshot))return hs(w,M,k);return hs(w,M)})}(w,S,y);return new Di(M,k)}{if(w.shouldAttach(S.value)){const j=w.retrieve(S.value);if(null!==j){const K=j.route;return K.value._futureSnapshot=S.value,K.children=S.children.map(we=>hs(w,we)),K}}const M=function dc(w){return new Ho(new pe(w.url),new pe(w.params),new pe(w.queryParams),new pe(w.fragment),new pe(w.data),w.outlet,w.component,w)}(S.value),k=S.children.map(j=>hs(w,j));return new Di(M,k)}}const Fa="ngNavigationCancelingError";function Yo(w,S){const{redirectTo:y,navigationBehaviorOptions:M}=at(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,k=Js(!1,0,S);return k.url=y,k.navigationBehaviorOptions=M,k}function Js(w,S,y){const M=new Error("NavigationCancelingError: "+(w||""));return M[Fa]=!0,M.cancellationCode=S,y&&(M.url=y),M}function ea(w){return To(w)&&at(w.url)}function To(w){return w&&w[Fa]}class Os{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new gi,this.attachRef=null}}let gi=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(y,M){const k=this.getOrCreateContext(y);k.outlet=M,this.contexts.set(y,k)}onChildOutletDestroyed(y){const M=this.getContext(y);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let M=this.getContext(y);return M||(M=new Os,this.contexts.set(y,M)),M}getContext(y){return this.contexts.get(y)||null}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const ma=!1;let ga=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=De,this.activateEvents=new C.vpe,this.deactivateEvents=new C.vpe,this.attachEvents=new C.vpe,this.detachEvents=new C.vpe,this.parentContexts=(0,C.f3M)(gi),this.location=(0,C.f3M)(C.s_b),this.changeDetector=(0,C.f3M)(C.sBO),this.environmentInjector=(0,C.f3M)(C.lqb)}ngOnChanges(y){if(y.name){const{firstChange:M,previousValue:k}=y.name;if(M)return;this.isTrackedInParentContexts(k)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(k)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(y){return this.parentContexts.getContext(y)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const y=this.parentContexts.getContext(this.name);y?.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C.vHH(4012,ma);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C.vHH(4012,ma);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C.vHH(4012,ma);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,M){this.activated=y,this._activatedRoute=M,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,M){if(this.isActivated)throw new C.vHH(4013,ma);this._activatedRoute=y;const k=this.location,K=y.snapshot.component,we=this.parentContexts.getOrCreateContext(this.name).children,et=new ta(y,we,k.injector);if(M&&function hc(w){return!!w.resolveComponentFactory}(M)){const zt=M.resolveComponentFactory(K);this.activated=k.createComponent(zt,k.length,et)}else this.activated=k.createComponent(K,{index:k.length,injector:et,environmentInjector:M??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275dir=C.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[C.TTD]}),w})();class ta{constructor(S,y,M){this.route=S,this.childContexts=y,this.parent=M}get(S,y){return S===Ho?this.route:S===gi?this.childContexts:this.parent.get(S,y)}}let mo=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275cmp=C.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[C.jDz],decls:1,vars:0,template:function(y,M){1&y&&C._UZ(0,"router-outlet")},dependencies:[ga],encapsulation:2}),w})();function na(w,S){return w.providers&&!w._injector&&(w._injector=(0,C.MMx)(w.providers,S,`Route: ${w.path}`)),w._injector??S}function Vi(w){const S=w.children&&w.children.map(Vi),y=S?{...w,children:S}:{...w};return!y.component&&!y.loadComponent&&(S||y.loadChildren)&&y.outlet&&y.outlet!==De&&(y.component=mo),y}function Qr(w){return w.outlet||De}function Vr(w,S){const y=w.filter(M=>Qr(M)===S);return y.push(...w.filter(M=>Qr(M)!==S)),y}function $o(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let S=w.parent;S;S=S.parent){const y=S.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class fs{constructor(S,y,M,k){this.routeReuseStrategy=S,this.futureState=y,this.currState=M,this.forwardEvent=k}activate(S){const y=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,M,S),us(this.futureState.root),this.activateChildRoutes(y,M,S)}deactivateChildRoutes(S,y,M){const k=ki(y);S.children.forEach(j=>{const K=j.value.outlet;this.deactivateRoutes(j,k[K],M),delete k[K]}),Wt(k,(j,K)=>{this.deactivateRouteAndItsChildren(j,M)})}deactivateRoutes(S,y,M){const k=S.value,j=y?y.value:null;if(k===j)if(k.component){const K=M.getContext(k.outlet);K&&this.deactivateChildRoutes(S,y,K.children)}else this.deactivateChildRoutes(S,y,M);else j&&this.deactivateRouteAndItsChildren(y,M)}deactivateRouteAndItsChildren(S,y){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,y):this.deactivateRouteAndOutlet(S,y)}detachAndStoreRouteSubtree(S,y){const M=y.getContext(S.value.outlet),k=M&&S.value.component?M.children:y,j=ki(S);for(const K of Object.keys(j))this.deactivateRouteAndItsChildren(j[K],k);if(M&&M.outlet){const K=M.outlet.detach(),we=M.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:K,route:S,contexts:we})}}deactivateRouteAndOutlet(S,y){const M=y.getContext(S.value.outlet),k=M&&S.value.component?M.children:y,j=ki(S);for(const K of Object.keys(j))this.deactivateRouteAndItsChildren(j[K],k);M&&(M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated()),M.attachRef=null,M.resolver=null,M.route=null)}activateChildRoutes(S,y,M){const k=ki(y);S.children.forEach(j=>{this.activateRoutes(j,k[j.value.outlet],M),this.forwardEvent(new Oa(j.value.snapshot))}),S.children.length&&this.forwardEvent(new xn(S.value.snapshot))}activateRoutes(S,y,M){const k=S.value,j=y?y.value:null;if(us(k),k===j)if(k.component){const K=M.getOrCreateContext(k.outlet);this.activateChildRoutes(S,y,K.children)}else this.activateChildRoutes(S,y,M);else if(k.component){const K=M.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const we=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),K.children.onOutletReAttached(we.contexts),K.attachRef=we.componentRef,K.route=we.route.value,K.outlet&&K.outlet.attach(we.componentRef,we.route.value),us(we.route.value),this.activateChildRoutes(S,null,K.children)}else{const we=$o(k.snapshot),et=we?.get(C._Vd)??null;K.attachRef=null,K.route=k,K.resolver=et,K.injector=we,K.outlet&&K.outlet.activateWith(k,K.injector),this.activateChildRoutes(S,null,K.children)}}else this.activateChildRoutes(S,null,M)}}class ri{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Go{constructor(S,y){this.component=S,this.route=y}}function Wo(w,S,y){const M=w._root;return ms(M,S?S._root:null,y,[M.value])}function Mi(w,S){const y=Symbol(),M=S.get(w,y);return M===y?"function"!=typeof w||(0,C.Z0I)(w)?S.get(w):w:M}function ms(w,S,y,M,k={canDeactivateChecks:[],canActivateChecks:[]}){const j=ki(S);return w.children.forEach(K=>{(function Fs(w,S,y,M,k={canDeactivateChecks:[],canActivateChecks:[]}){const j=w.value,K=S?S.value:null,we=y?y.getContext(w.value.outlet):null;if(K&&j.routeConfig===K.routeConfig){const et=function en(w,S,y){if("function"==typeof y)return y(w,S);switch(y){case"pathParamsChange":return!rr(w.url,S.url);case"pathParamsOrQueryParamsChange":return!rr(w.url,S.url)||!zn(w.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ks(w,S)||!zn(w.queryParams,S.queryParams);default:return!ks(w,S)}}(K,j,j.routeConfig.runGuardsAndResolvers);et?k.canActivateChecks.push(new ri(M)):(j.data=K.data,j._resolvedData=K._resolvedData),ms(w,S,j.component?we?we.children:null:y,M,k),et&&we&&we.outlet&&we.outlet.isActivated&&k.canDeactivateChecks.push(new Go(we.outlet.component,K))}else K&&qo(S,we,k),k.canActivateChecks.push(new ri(M)),ms(w,null,j.component?we?we.children:null:y,M,k)})(K,j[K.value.outlet],y,M.concat([K.value]),k),delete j[K.value.outlet]}),Wt(j,(K,we)=>qo(K,y.getContext(we),k)),k}function qo(w,S,y){const M=ki(w),k=w.value;Wt(M,(j,K)=>{qo(j,k.component?S?S.children.getContext(K):null:S,y)}),y.canDeactivateChecks.push(new Go(k.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,k))}function go(w){return"function"==typeof w}function le(w){return w instanceof be.K||"EmptyError"===w?.name}const Re=Symbol("INITIAL_VALUE");function Ke(){return(0,Xe.w)(w=>(0,Me.a)(w.map(S=>S.pipe((0,ct.q)(1),(0,lt.O)(Re)))).pipe((0,Oe.U)(S=>{for(const y of S)if(!0!==y){if(y===Re)return Re;if(!1===y||y instanceof An)return y}return!0}),(0,Ee.h)(S=>S!==Re),(0,ct.q)(1)))}function ii(w){return(0,me.z)((0,$t.b)(S=>{if(at(S))throw Yo(0,S)}),(0,Oe.U)(S=>!0===S))}const Hi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xr(w,S,y,M,k){const j=ao(w,S,y);return j.matched?function Ko(w,S,y,M){const k=S.canMatch;if(!k||0===k.length)return(0,V.of)(!0);const j=k.map(K=>{const we=Mi(K,w);return Ct(function ya(w){return w&&go(w.canMatch)}(we)?we.canMatch(S,y):w.runInContext(()=>we(S,y)))});return(0,V.of)(j).pipe(Ke(),ii())}(M=na(S,M),S,y).pipe((0,Oe.U)(K=>!0===K?j:{...Hi})):(0,V.of)(j)}function ao(w,S,y){if(""===S.path)return"full"===S.pathMatch&&(w.hasChildren()||y.length>0)?{...Hi}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const k=(S.matcher||Zt)(y,w,S);if(!k)return{...Hi};const j={};Wt(k.posParams,(we,et)=>{j[et]=we.path});const K=k.consumed.length>0?{...j,...k.consumed[k.consumed.length-1].parameters}:j;return{matched:!0,consumedSegments:k.consumed,remainingSegments:y.slice(k.consumed.length),parameters:K,positionalParamSegments:k.posParams??{}}}function Do(w,S,y,M){if(y.length>0&&function Va(w,S,y){return y.some(M=>_a(w,S,M)&&Qr(M)!==De)}(w,y,M)){const j=new At(S,function r1(w,S,y,M){const k={};k[De]=M,M._sourceSegment=w,M._segmentIndexShift=S.length;for(const j of y)if(""===j.path&&Qr(j)!==De){const K=new At([],{});K._sourceSegment=w,K._segmentIndexShift=S.length,k[Qr(j)]=K}return k}(w,S,M,new At(y,w.children)));return j._sourceSegment=w,j._segmentIndexShift=S.length,{segmentGroup:j,slicedSegments:[]}}if(0===y.length&&function mc(w,S,y){return y.some(M=>_a(w,S,M))}(w,y,M)){const j=new At(w.segments,function n1(w,S,y,M,k){const j={};for(const K of M)if(_a(w,y,K)&&!k[Qr(K)]){const we=new At([],{});we._sourceSegment=w,we._segmentIndexShift=S.length,j[Qr(K)]=we}return{...k,...j}}(w,S,y,M,w.children));return j._sourceSegment=w,j._segmentIndexShift=S.length,{segmentGroup:j,slicedSegments:y}}const k=new At(w.segments,w.children);return k._sourceSegment=w,k._segmentIndexShift=S.length,{segmentGroup:k,slicedSegments:y}}function _a(w,S,y){return(!(w.hasChildren()||S.length>0)||"full"!==y.pathMatch)&&""===y.path}function Rc(w,S,y,M){return!!(Qr(w)===M||M!==De&&_a(S,y,w))&&("**"===w.path||ao(S,w,y).matched)}function Nc(w,S,y){return 0===S.length&&!w.children[y]}const gc=!1;class oa{constructor(S){this.segmentGroup=S||null}}class vl{constructor(S){this.urlTree=S}}function sa(w){return He(new oa(w))}function yl(w){return He(new vl(w))}class o1{constructor(S,y,M,k,j){this.injector=S,this.configLoader=y,this.urlSerializer=M,this.urlTree=k,this.config=j,this.allowRedirects=!0}apply(){const S=Do(this.urlTree.root,[],[],this.config).segmentGroup,y=new At(S.segments,S.children);return this.expandSegmentGroup(this.injector,this.config,y,De).pipe((0,Oe.U)(j=>this.createUrlTree(Ce(j),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,St.K)(j=>{if(j instanceof vl)return this.allowRedirects=!1,this.match(j.urlTree);throw j instanceof oa?this.noMatchError(j):j}))}match(S){return this.expandSegmentGroup(this.injector,this.config,S.root,De).pipe((0,Oe.U)(k=>this.createUrlTree(Ce(k),S.queryParams,S.fragment))).pipe((0,St.K)(k=>{throw k instanceof oa?this.noMatchError(k):k}))}noMatchError(S){return new C.vHH(4002,gc)}createUrlTree(S,y,M){const k=fe(S);return new An(k,y,M)}expandSegmentGroup(S,y,M,k){return 0===M.segments.length&&M.hasChildren()?this.expandChildren(S,y,M).pipe((0,Oe.U)(j=>new At([],j))):this.expandSegment(S,M,y,M.segments,k,!0)}expandChildren(S,y,M){const k=[];for(const j of Object.keys(M.children))"primary"===j?k.unshift(j):k.push(j);return(0,m.D)(k).pipe((0,Et.b)(j=>{const K=M.children[j],we=Vr(y,j);return this.expandSegmentGroup(S,we,K,j).pipe((0,Oe.U)(et=>({segment:et,outlet:j})))}),(0,Kr.R)((j,K)=>(j[K.outlet]=K.segment,j),{}),$r())}expandSegment(S,y,M,k,j,K){return(0,m.D)(M).pipe((0,Et.b)(we=>this.expandSegmentAgainstRoute(S,y,M,we,k,j,K).pipe((0,St.K)(zt=>{if(zt instanceof oa)return(0,V.of)(null);throw zt}))),(0,Ut.P)(we=>!!we),(0,St.K)((we,et)=>{if(le(we))return Nc(y,k,j)?(0,V.of)(new At([],{})):sa(y);throw we}))}expandSegmentAgainstRoute(S,y,M,k,j,K,we){return Rc(k,y,j,K)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(S,y,k,j,K):we&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,y,M,k,j,K):sa(y):sa(y)}expandSegmentAgainstRouteUsingRedirect(S,y,M,k,j,K){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,M,k,K):this.expandRegularSegmentAgainstRouteUsingRedirect(S,y,M,k,j,K)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,y,M,k){const j=this.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?yl(j):this.lineralizeSegments(M,j).pipe((0,ht.z)(K=>{const we=new At(K,{});return this.expandSegment(S,we,y,K,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,y,M,k,j,K){const{matched:we,consumedSegments:et,remainingSegments:zt,positionalParamSegments:Ht}=ao(y,k,j);if(!we)return sa(y);const dr=this.applyRedirectCommands(et,k.redirectTo,Ht);return k.redirectTo.startsWith("/")?yl(dr):this.lineralizeSegments(k,dr).pipe((0,ht.z)(zi=>this.expandSegment(S,y,M,zi.concat(zt),K,!1)))}matchSegmentAgainstRoute(S,y,M,k,j){return"**"===M.path?(S=na(M,S),M.loadChildren?(M._loadedRoutes?(0,V.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):this.configLoader.loadChildren(S,M)).pipe((0,Oe.U)(we=>(M._loadedRoutes=we.routes,M._loadedInjector=we.injector,new At(k,{})))):(0,V.of)(new At(k,{}))):Xr(y,M,k,S).pipe((0,Xe.w)(({matched:K,consumedSegments:we,remainingSegments:et})=>K?this.getChildConfig(S=M._injector??S,M,k).pipe((0,ht.z)(Ht=>{const dr=Ht.injector??S,zi=Ht.routes,{segmentGroup:Cs,slicedSegments:Jo}=Do(y,we,et,zi),la=new At(Cs.segments,Cs.children);if(0===Jo.length&&la.hasChildren())return this.expandChildren(dr,zi,la).pipe((0,Oe.U)(ua=>new At(we,ua)));if(0===zi.length&&0===Jo.length)return(0,V.of)(new At(we,{}));const wo=Qr(M)===j;return this.expandSegment(dr,la,zi,Jo,wo?De:j,!0).pipe((0,Oe.U)(Sa=>new At(we.concat(Sa.segments),Sa.children)))})):sa(y)))}getChildConfig(S,y,M){return y.children?(0,V.of)({routes:y.children,injector:S}):y.loadChildren?void 0!==y._loadedRoutes?(0,V.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function Rr(w,S,y,M){const k=S.canLoad;if(void 0===k||0===k.length)return(0,V.of)(!0);const j=k.map(K=>{const we=Mi(K,w);return Ct(function Oc(w){return w&&go(w.canLoad)}(we)?we.canLoad(S,y):w.runInContext(()=>we(S,y)))});return(0,V.of)(j).pipe(Ke(),ii())}(S,y,M).pipe((0,ht.z)(k=>k?this.configLoader.loadChildren(S,y).pipe((0,$t.b)(j=>{y._loadedRoutes=j.routes,y._loadedInjector=j.injector})):function _l(w){return He(Js(gc,3))}())):(0,V.of)({routes:[],injector:S})}lineralizeSegments(S,y){let M=[],k=y.root;for(;;){if(M=M.concat(k.segments),0===k.numberOfChildren)return(0,V.of)(M);if(k.numberOfChildren>1||!k.children[De])return S.redirectTo,He(new C.vHH(4e3,gc));k=k.children[De]}}applyRedirectCommands(S,y,M){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),S,M)}applyRedirectCreateUrlTree(S,y,M,k){const j=this.createSegmentGroup(S,y.root,M,k);return new An(j,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(S,y){const M={};return Wt(S,(k,j)=>{if("string"==typeof k&&k.startsWith(":")){const we=k.substring(1);M[j]=y[we]}else M[j]=k}),M}createSegmentGroup(S,y,M,k){const j=this.createSegments(S,y.segments,M,k);let K={};return Wt(y.children,(we,et)=>{K[et]=this.createSegmentGroup(S,we,M,k)}),new At(j,K)}createSegments(S,y,M,k){return y.map(j=>j.path.startsWith(":")?this.findPosParam(S,j,k):this.findOrReturn(j,M))}findPosParam(S,y,M){const k=M[y.path.substring(1)];if(!k)throw new C.vHH(4001,gc);return k}findOrReturn(S,y){let M=0;for(const k of y){if(k.path===S.path)return y.splice(M),k;M++}return S}}class Hr{}class wl{constructor(S,y,M,k,j,K,we){this.injector=S,this.rootComponentType=y,this.config=M,this.urlTree=k,this.url=j,this.paramsInheritanceStrategy=K,this.urlSerializer=we}recognize(){const S=Do(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,De).pipe((0,Oe.U)(y=>{if(null===y)return null;const M=new Bo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},De,this.rootComponentType,null,this.urlTree.root,-1,{}),k=new Di(M,y),j=new pa(this.url,k);return this.inheritParamsAndData(j._root),j}))}inheritParamsAndData(S){const y=S.value,M=Li(y,this.paramsInheritanceStrategy);y.params=Object.freeze(M.params),y.data=Object.freeze(M.data),S.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(S,y,M,k){return 0===M.segments.length&&M.hasChildren()?this.processChildren(S,y,M):this.processSegment(S,y,M,M.segments,k)}processChildren(S,y,M){return(0,m.D)(Object.keys(M.children)).pipe((0,Et.b)(k=>{const j=M.children[k],K=Vr(y,k);return this.processSegmentGroup(S,K,j,k)}),(0,Kr.R)((k,j)=>k&&j?(k.push(...j),k):null),function Ie(w,S=!1){return(0,Ye.e)((y,M)=>{let k=0;y.subscribe((0,Qe.x)(M,j=>{const K=w(j,k++);(K||S)&&M.next(j),!K&&M.complete()}))})}(k=>null!==k),(0,Br.d)(null),$r(),(0,Oe.U)(k=>{if(null===k)return null;const j=vc(k);return function s1(w){w.sort((S,y)=>S.value.outlet===De?-1:y.value.outlet===De?1:S.value.outlet.localeCompare(y.value.outlet))}(j),j}))}processSegment(S,y,M,k,j){return(0,m.D)(y).pipe((0,Et.b)(K=>this.processSegmentAgainstRoute(K._injector??S,K,M,k,j)),(0,Ut.P)(K=>!!K),(0,St.K)(K=>{if(le(K))return Nc(M,k,j)?(0,V.of)([]):(0,V.of)(null);throw K}))}processSegmentAgainstRoute(S,y,M,k,j){if(y.redirectTo||!Rc(y,M,k,j))return(0,V.of)(null);let K;if("**"===y.path){const we=k.length>0?Mn(k).parameters:{},et=I(M)+k.length,zt=new Bo(k,we,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,z(y),Qr(y),y.component??y._loadedComponent??null,y,Hc(M),et,G(y));K=(0,V.of)({snapshot:zt,consumedSegments:[],remainingSegments:[]})}else K=Xr(M,y,k,S).pipe((0,Oe.U)(({matched:we,consumedSegments:et,remainingSegments:zt,parameters:Ht})=>{if(!we)return null;const dr=I(M)+et.length;return{snapshot:new Bo(et,Ht,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,z(y),Qr(y),y.component??y._loadedComponent??null,y,Hc(M),dr,G(y)),consumedSegments:et,remainingSegments:zt}}));return K.pipe((0,Xe.w)(we=>{if(null===we)return(0,V.of)(null);const{snapshot:et,consumedSegments:zt,remainingSegments:Ht}=we;S=y._injector??S;const dr=y._loadedInjector??S,zi=function a1(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(y),{segmentGroup:Cs,slicedSegments:Jo}=Do(M,zt,Ht,zi.filter(wo=>void 0===wo.redirectTo));if(0===Jo.length&&Cs.hasChildren())return this.processChildren(dr,zi,Cs).pipe((0,Oe.U)(wo=>null===wo?null:[new Di(et,wo)]));if(0===zi.length&&0===Jo.length)return(0,V.of)([new Di(et,[])]);const la=Qr(y)===j;return this.processSegment(dr,zi,Cs,Jo,la?De:j).pipe((0,Oe.U)(wo=>null===wo?null:[new Di(et,wo)]))}))}}function c1(w){const S=w.value.routeConfig;return S&&""===S.path&&void 0===S.redirectTo}function vc(w){const S=[],y=new Set;for(const M of w){if(!c1(M)){S.push(M);continue}const k=S.find(j=>M.value.routeConfig===j.value.routeConfig);void 0!==k?(k.children.push(...M.children),y.add(k)):S.push(M)}for(const M of y){const k=vc(M.children);S.push(new Di(M.value,k))}return S.filter(M=>!y.has(M))}function Hc(w){let S=w;for(;S._sourceSegment;)S=S._sourceSegment;return S}function I(w){let S=w,y=S._segmentIndexShift??0;for(;S._sourceSegment;)S=S._sourceSegment,y+=S._segmentIndexShift??0;return y-1}function z(w){return w.data||{}}function G(w){return w.resolve||{}}function Jn(w){return"string"==typeof w.title||null===w.title}function Ln(w){return(0,Xe.w)(S=>{const y=w(S);return y?(0,m.D)(y).pipe((0,Oe.U)(()=>S)):(0,V.of)(S)})}const er=new C.OlP("ROUTES");let oi=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,C.f3M)(C.Sil)}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,V.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const M=Ct(y.loadComponent()).pipe((0,Oe.U)(Xi),(0,$t.b)(j=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=j}),(0,Pe.x)(()=>{this.componentLoaders.delete(y)})),k=new ut(M,()=>new de.x).pipe(nt());return this.componentLoaders.set(y,k),k}loadChildren(y,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,V.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const j=this.loadModuleFactoryOrRoutes(M.loadChildren).pipe((0,Oe.U)(we=>{this.onLoadEndListener&&this.onLoadEndListener(M);let et,zt,Ht=!1;Array.isArray(we)?zt=we:(et=we.create(y).injector,zt=yn(et.get(er,[],C.XFs.Self|C.XFs.Optional)));return{routes:zt.map(Vi),injector:et}}),(0,Pe.x)(()=>{this.childrenLoaders.delete(M)})),K=new ut(j,()=>new de.x).pipe(nt());return this.childrenLoaders.set(M,K),K}loadModuleFactoryOrRoutes(y){return Ct(y()).pipe((0,Oe.U)(Xi),(0,ht.z)(M=>M instanceof C.YKP||Array.isArray(M)?(0,V.of)(M):(0,m.D)(this.compiler.compileModuleAsync(M))))}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Xi(w){return function vs(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let Ii=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new de.x,this.configLoader=(0,C.f3M)(oi),this.environmentInjector=(0,C.f3M)(C.lqb),this.urlSerializer=(0,C.f3M)(yr),this.rootContexts=(0,C.f3M)(gi),this.navigationId=0,this.afterPreactivation=()=>(0,V.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=k=>this.events.next(new lr(k)),this.configLoader.onLoadStartListener=k=>this.events.next(new In(k))}complete(){this.transitions?.complete()}handleNavigationRequest(y){const M=++this.navigationId;this.transitions?.next({...this.transitions.value,...y,id:M})}setupNavigations(y){return this.transitions=new pe({id:0,targetPageId:0,currentUrlTree:y.currentUrlTree,currentRawUrl:y.currentUrlTree,extractedUrl:y.urlHandlingStrategy.extract(y.currentUrlTree),urlAfterRedirects:y.urlHandlingStrategy.extract(y.currentUrlTree),rawUrl:y.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mi,restoredState:null,currentSnapshot:y.routerState.snapshot,targetSnapshot:null,currentRouterState:y.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ee.h)(M=>0!==M.id),(0,Oe.U)(M=>({...M,extractedUrl:y.urlHandlingStrategy.extract(M.rawUrl)})),(0,Xe.w)(M=>{let k=!1,j=!1;return(0,V.of)(M).pipe((0,$t.b)(K=>{this.currentNavigation={id:K.id,initialUrl:K.rawUrl,extractedUrl:K.extractedUrl,trigger:K.source,extras:K.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Xe.w)(K=>{const we=y.browserUrlTree.toString(),et=!y.navigated||K.extractedUrl.toString()!==we||we!==y.currentUrlTree.toString();if(!et&&"reload"!==(K.extras.onSameUrlNavigation??y.onSameUrlNavigation)){const Ht="";return this.events.next(new Zi(K.id,y.serializeUrl(M.rawUrl),Ht,0)),y.rawUrlTree=K.rawUrl,K.resolve(null),Ze.E}if(y.urlHandlingStrategy.shouldProcessUrl(K.rawUrl))return Mo(K.source)&&(y.browserUrlTree=K.extractedUrl),(0,V.of)(K).pipe((0,Xe.w)(Ht=>{const dr=this.transitions?.getValue();return this.events.next(new Ki(Ht.id,this.urlSerializer.serialize(Ht.extractedUrl),Ht.source,Ht.restoredState)),dr!==this.transitions?.getValue()?Ze.E:Promise.resolve(Ht)}),function Bi(w,S,y,M){return(0,Xe.w)(k=>function Lc(w,S,y,M,k){return new o1(w,S,y,M,k).apply()}(w,S,y,k.extractedUrl,M).pipe((0,Oe.U)(j=>({...k,urlAfterRedirects:j}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,y.config),(0,$t.b)(Ht=>{this.currentNavigation={...this.currentNavigation,finalUrl:Ht.urlAfterRedirects},M.urlAfterRedirects=Ht.urlAfterRedirects}),function oe(w,S,y,M,k){return(0,ht.z)(j=>function Ha(w,S,y,M,k,j,K="emptyOnly"){return new wl(w,S,y,M,k,K,j).recognize().pipe((0,Xe.w)(we=>null===we?function Jl(w){return new Ae.y(S=>S.error(w))}(new Hr):(0,V.of)(we)))}(w,S,y,j.urlAfterRedirects,M.serialize(j.urlAfterRedirects),M,k).pipe((0,Oe.U)(K=>({...j,targetSnapshot:K}))))}(this.environmentInjector,this.rootComponentType,y.config,this.urlSerializer,y.paramsInheritanceStrategy),(0,$t.b)(Ht=>{if(M.targetSnapshot=Ht.targetSnapshot,"eager"===y.urlUpdateStrategy){if(!Ht.extras.skipLocationChange){const zi=y.urlHandlingStrategy.merge(Ht.urlAfterRedirects,Ht.rawUrl);y.setBrowserUrl(zi,Ht)}y.browserUrlTree=Ht.urlAfterRedirects}const dr=new Se(Ht.id,this.urlSerializer.serialize(Ht.extractedUrl),this.urlSerializer.serialize(Ht.urlAfterRedirects),Ht.targetSnapshot);this.events.next(dr)}));if(et&&y.urlHandlingStrategy.shouldProcessUrl(y.rawUrlTree)){const{id:Ht,extractedUrl:dr,source:zi,restoredState:Cs,extras:Jo}=K,la=new Ki(Ht,this.urlSerializer.serialize(dr),zi,Cs);this.events.next(la);const wo=Qi(dr,this.rootComponentType).snapshot;return M={...K,targetSnapshot:wo,urlAfterRedirects:dr,extras:{...Jo,skipLocationChange:!1,replaceUrl:!1}},(0,V.of)(M)}{const Ht="";return this.events.next(new Zi(K.id,y.serializeUrl(M.extractedUrl),Ht,1)),y.rawUrlTree=K.rawUrl,K.resolve(null),Ze.E}}),(0,$t.b)(K=>{const we=new We(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot);this.events.next(we)}),(0,Oe.U)(K=>M={...K,guards:Wo(K.targetSnapshot,K.currentSnapshot,this.rootContexts)}),function vt(w,S){return(0,ht.z)(y=>{const{targetSnapshot:M,currentSnapshot:k,guards:{canActivateChecks:j,canDeactivateChecks:K}}=y;return 0===K.length&&0===j.length?(0,V.of)({...y,guardsResult:!0}):function kt(w,S,y,M){return(0,m.D)(w).pipe((0,ht.z)(k=>function vo(w,S,y,M,k){const j=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,V.of)(!0);const K=j.map(we=>{const et=$o(S)??k,zt=Mi(we,et);return Ct(function pc(w){return w&&go(w.canDeactivate)}(zt)?zt.canDeactivate(w,S,y,M):et.runInContext(()=>zt(w,S,y,M))).pipe((0,Ut.P)())});return(0,V.of)(K).pipe(Ke())}(k.component,k.route,y,S,M)),(0,Ut.P)(k=>!0!==k,!0))}(K,M,k,w).pipe((0,ht.z)(we=>we&&function La(w){return"boolean"==typeof w}(we)?function pn(w,S,y,M){return(0,m.D)(S).pipe((0,Et.b)(k=>(0,xe.z)(function fr(w,S){return null!==w&&S&&S(new Ur(w)),(0,V.of)(!0)}(k.route.parent,M),function Hn(w,S){return null!==w&&S&&S(new ni(w)),(0,V.of)(!0)}(k.route,M),function kn(w,S,y){const M=S[S.length-1],j=S.slice(0,S.length-1).reverse().map(K=>function ps(w){const S=w.routeConfig?w.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:w,guards:S}:null}(K)).filter(K=>null!==K).map(K=>se(()=>{const we=K.guards.map(et=>{const zt=$o(K.node)??y,Ht=Mi(et,zt);return Ct(function fc(w){return w&&go(w.canActivateChild)}(Ht)?Ht.canActivateChild(M,w):zt.runInContext(()=>Ht(M,w))).pipe((0,Ut.P)())});return(0,V.of)(we).pipe(Ke())}));return(0,V.of)(j).pipe(Ke())}(w,k.path,y),function ur(w,S,y){const M=S.routeConfig?S.routeConfig.canActivate:null;if(!M||0===M.length)return(0,V.of)(!0);const k=M.map(j=>se(()=>{const K=$o(S)??y,we=Mi(j,K);return Ct(function va(w){return w&&go(w.canActivate)}(we)?we.canActivate(S,w):K.runInContext(()=>we(S,w))).pipe((0,Ut.P)())}));return(0,V.of)(k).pipe(Ke())}(w,k.route,y))),(0,Ut.P)(k=>!0!==k,!0))}(M,j,w,S):(0,V.of)(we)),(0,Oe.U)(we=>({...y,guardsResult:we})))})}(this.environmentInjector,K=>this.events.next(K)),(0,$t.b)(K=>{if(M.guardsResult=K.guardsResult,at(K.guardsResult))throw Yo(0,K.guardsResult);const we=new wt(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot,!!K.guardsResult);this.events.next(we)}),(0,Ee.h)(K=>!!K.guardsResult||(y.restoreHistory(K),this.cancelNavigationTransition(K,"",3),!1)),Ln(K=>{if(K.guards.canActivateChecks.length)return(0,V.of)(K).pipe((0,$t.b)(we=>{const et=new Dn(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(we.urlAfterRedirects),we.targetSnapshot);this.events.next(et)}),(0,Xe.w)(we=>{let et=!1;return(0,V.of)(we).pipe(function je(w,S){return(0,ht.z)(y=>{const{targetSnapshot:M,guards:{canActivateChecks:k}}=y;if(!k.length)return(0,V.of)(y);let j=0;return(0,m.D)(k).pipe((0,Et.b)(K=>function rt(w,S,y,M){const k=w.routeConfig,j=w._resolve;return void 0!==k?.title&&!Jn(k)&&(j[gt]=k.title),function qt(w,S,y,M){const k=function Sr(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===k.length)return(0,V.of)({});const j={};return(0,m.D)(k).pipe((0,ht.z)(K=>function Xn(w,S,y,M){const k=$o(S)??M,j=Mi(w,k);return Ct(j.resolve?j.resolve(S,y):k.runInContext(()=>j(S,y)))}(w[K],S,y,M).pipe((0,Ut.P)(),(0,$t.b)(we=>{j[K]=we}))),pr(1),(0,ge.h)(j),(0,St.K)(K=>le(K)?Ze.E:He(K)))}(j,w,S,M).pipe((0,Oe.U)(K=>(w._resolvedData=K,w.data=Li(w,y).resolve,k&&Jn(k)&&(w.data[gt]=k.title),null)))}(K.route,M,w,S)),(0,$t.b)(()=>j++),pr(1),(0,ht.z)(K=>j===k.length?(0,V.of)(y):Ze.E))})}(y.paramsInheritanceStrategy,this.environmentInjector),(0,$t.b)({next:()=>et=!0,complete:()=>{et||(y.restoreHistory(we),this.cancelNavigationTransition(we,"",2))}}))}),(0,$t.b)(we=>{const et=new fn(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(we.urlAfterRedirects),we.targetSnapshot);this.events.next(et)}))}),Ln(K=>{const we=et=>{const zt=[];et.routeConfig?.loadComponent&&!et.routeConfig._loadedComponent&&zt.push(this.configLoader.loadComponent(et.routeConfig).pipe((0,$t.b)(Ht=>{et.component=Ht}),(0,Oe.U)(()=>{})));for(const Ht of et.children)zt.push(...we(Ht));return zt};return(0,Me.a)(we(K.targetSnapshot.root)).pipe((0,Br.d)(),(0,ct.q)(1))}),Ln(()=>this.afterPreactivation()),(0,Oe.U)(K=>{const we=function ds(w,S,y){const M=hs(w,S._root,y?y._root:void 0);return new Zr(M,S)}(y.routeReuseStrategy,K.targetSnapshot,K.currentRouterState);return M={...K,targetRouterState:we}}),(0,$t.b)(K=>{y.currentUrlTree=K.urlAfterRedirects,y.rawUrlTree=y.urlHandlingStrategy.merge(K.urlAfterRedirects,K.rawUrl),y.routerState=K.targetRouterState,"deferred"===y.urlUpdateStrategy&&(K.extras.skipLocationChange||y.setBrowserUrl(y.rawUrlTree,K),y.browserUrlTree=K.urlAfterRedirects)}),((w,S,y)=>(0,Oe.U)(M=>(new fs(S,M.targetRouterState,M.currentRouterState,y).activate(w),M)))(this.rootContexts,y.routeReuseStrategy,K=>this.events.next(K)),(0,ct.q)(1),(0,$t.b)({next:K=>{k=!0,this.lastSuccessfulNavigation=this.currentNavigation,y.navigated=!0,this.events.next(new Ti(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(y.currentUrlTree))),y.titleStrategy?.updateTitle(K.targetRouterState.snapshot),K.resolve(!0)},complete:()=>{k=!0}}),(0,Pe.x)(()=>{k||j||this.cancelNavigationTransition(M,"",1),this.currentNavigation?.id===M.id&&(this.currentNavigation=null)}),(0,St.K)(K=>{if(j=!0,To(K)){ea(K)||(y.navigated=!0,y.restoreHistory(M,!0));const we=new un(M.id,this.urlSerializer.serialize(M.extractedUrl),K.message,K.cancellationCode);if(this.events.next(we),ea(K)){const et=y.urlHandlingStrategy.merge(K.url,y.rawUrlTree),zt={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===y.urlUpdateStrategy||Mo(M.source)};y.scheduleNavigation(et,mi,null,zt,{resolve:M.resolve,reject:M.reject,promise:M.promise})}else M.resolve(!1)}else{y.restoreHistory(M,!0);const we=new re(M.id,this.urlSerializer.serialize(M.extractedUrl),K,M.targetSnapshot??void 0);this.events.next(we);try{M.resolve(y.errorHandler(K))}catch(et){M.reject(et)}}return Ze.E}))}))}cancelNavigationTransition(y,M,k){const j=new un(y.id,this.urlSerializer.serialize(y.extractedUrl),M,k);this.events.next(j),y.resolve(!1)}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Mo(w){return w!==mi}let Io=(()=>{class w{buildTitle(y){let M,k=y.root;for(;void 0!==k;)M=this.getResolvedTitleForRoute(k)??M,k=k.children.find(j=>j.outlet===De);return M}getResolvedTitleForRoute(y){return y.data[gt]}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=C.Yz7({token:w,factory:function(){return(0,C.f3M)(Zo)},providedIn:"root"}),w})(),Zo=(()=>{class w extends Io{constructor(y){super(),this.title=y}updateTitle(y){const M=this.buildTitle(y);void 0!==M&&this.title.setTitle(M)}}return w.\u0275fac=function(y){return new(y||w)(C.LFG(ot.Dx))},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),eu=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=C.Yz7({token:w,factory:function(){return(0,C.f3M)(m4)},providedIn:"root"}),w})();class Cl{shouldDetach(S){return!1}store(S,y){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,y){return S.routeConfig===y.routeConfig}}let m4=(()=>{class w extends Cl{}return w.\u0275fac=function(){let S;return function(M){return(S||(S=C.n5z(w)))(M||w)}}(),w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const yc=new C.OlP("",{providedIn:"root",factory:()=>({})});let g4=(()=>{class w{}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=C.Yz7({token:w,factory:function(){return(0,C.f3M)(Qo)},providedIn:"root"}),w})(),Qo=(()=>{class w{shouldProcessUrl(y){return!0}extract(y){return y}merge(y,M){return y}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Bc(w){throw w}function wa(w,S,y){return S.parse("/")}const nu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ei={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vi=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,C.f3M)(C.c2e),this.isNgZoneEnabled=!1,this.options=(0,C.f3M)(yc,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Bc,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wa,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,C.f3M)(g4),this.routeReuseStrategy=(0,C.f3M)(eu),this.urlCreationStrategy=(0,C.f3M)(Ra),this.titleStrategy=(0,C.f3M)(Io),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=yn((0,C.f3M)(er,{optional:!0})??[]),this.navigationTransitions=(0,C.f3M)(Ii),this.urlSerializer=(0,C.f3M)(yr),this.location=(0,C.f3M)(Ge.Ye),this.isNgZoneEnabled=(0,C.f3M)(C.R0b)instanceof C.R0b&&C.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new An,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qi(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(y=>{this.lastSuccessfulId=y.id,this.currentPageId=this.browserPageId??0},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}resetRootComponentType(y){this.routerState.root.component=y,this.navigationTransitions.rootComponentType=y}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const y=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),mi,y)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const M="popstate"===y.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{this.navigateToSyncWithBrowser(y.url,M,y.state)},0)}))}navigateToSyncWithBrowser(y,M,k){const j={replaceUrl:!0},K=k?.navigationId?k:null;if(k){const et={...k};delete et.navigationId,delete et.\u0275routerPageId,0!==Object.keys(et).length&&(j.state=et)}const we=this.parseUrl(y);this.scheduleNavigation(we,M,K,j)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(y){this.config=y.map(Vi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,M={}){const{relativeTo:k,queryParams:j,fragment:K,queryParamsHandling:we,preserveFragment:et}=M,zt=et?this.currentUrlTree.fragment:K;let Ht=null;switch(we){case"merge":Ht={...this.currentUrlTree.queryParams,...j};break;case"preserve":Ht=this.currentUrlTree.queryParams;break;default:Ht=j||null}return null!==Ht&&(Ht=this.removeEmptyProps(Ht)),this.urlCreationStrategy.createUrlTree(k,this.routerState,this.currentUrlTree,y,Ht,zt??null)}navigateByUrl(y,M={skipLocationChange:!1}){const k=at(y)?y:this.parseUrl(y),j=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(j,mi,null,M)}navigate(y,M={skipLocationChange:!1}){return function ru(w){for(let S=0;S<w.length;S++){const y=w[S];if(null==y)throw new C.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,M),M)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let M;try{M=this.urlSerializer.parse(y)}catch(k){M=this.malformedUriErrorHandler(k,this.urlSerializer,y)}return M}isActive(y,M){let k;if(k=!0===M?{...nu}:!1===M?{...ei}:M,at(y))return tr(this.currentUrlTree,y,k);const j=this.parseUrl(y);return tr(this.currentUrlTree,j,k)}removeEmptyProps(y){return Object.keys(y).reduce((M,k)=>{const j=y[k];return null!=j&&(M[k]=j),M},{})}scheduleNavigation(y,M,k,j,K){if(this.disposed)return Promise.resolve(!1);let we,et,zt,Ht;return K?(we=K.resolve,et=K.reject,zt=K.promise):zt=new Promise((dr,zi)=>{we=dr,et=zi}),Ht="computed"===this.canceledNavigationResolution?k&&k.\u0275routerPageId?k.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Ht,source:M,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:y,extras:j,resolve:we,reject:et,promise:zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),zt.catch(dr=>Promise.reject(dr))}setBrowserUrl(y,M){const k=this.urlSerializer.serialize(y);if(this.location.isCurrentPathEqualTo(k)||M.extras.replaceUrl){const K={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId)};this.location.replaceState(k,"",K)}else{const j={...M.extras.state,...this.generateNgRouterState(M.id,M.targetPageId)};this.location.go(k,"",j)}}restoreHistory(y,M=!1){if("computed"===this.canceledNavigationResolution){const j=this.currentPageId-(this.browserPageId??this.currentPageId);0!==j?this.location.historyGo(j):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===j&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(y,M){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:M}:{navigationId:y}}}return w.\u0275fac=function(y){return new(y||w)},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class _c{}let Vs=(()=>{class w{constructor(y,M,k,j,K){this.router=y,this.injector=k,this.preloadingStrategy=j,this.loader=K}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ee.h)(y=>y instanceof Ti),(0,Et.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,M){const k=[];for(const j of M){j.providers&&!j._injector&&(j._injector=(0,C.MMx)(j.providers,y,`Route: ${j.path}`));const K=j._injector??y,we=j._loadedInjector??K;(j.loadChildren&&!j._loadedRoutes&&void 0===j.canLoad||j.loadComponent&&!j._loadedComponent)&&k.push(this.preloadConfig(K,j)),(j.children||j._loadedRoutes)&&k.push(this.processRoutes(we,j.children??j._loadedRoutes))}return(0,m.D)(k).pipe((0,Be.J)())}preloadConfig(y,M){return this.preloadingStrategy.preload(M,()=>{let k;k=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(y,M):(0,V.of)(null);const j=k.pipe((0,ht.z)(K=>null===K?(0,V.of)(void 0):(M._loadedRoutes=K.routes,M._loadedInjector=K.injector,this.processRoutes(K.injector??y,K.routes))));if(M.loadComponent&&!M._loadedComponent){const K=this.loader.loadComponent(M);return(0,m.D)([j,K]).pipe((0,Be.J)())}return j})}}return w.\u0275fac=function(y){return new(y||w)(C.LFG(vi),C.LFG(C.Sil),C.LFG(C.lqb),C.LFG(_c),C.LFG(oi))},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const aa=new C.OlP("");let Ca=(()=>{class w{constructor(y,M,k,j,K={}){this.urlSerializer=y,this.transitions=M,this.viewportScroller=k,this.zone=j,this.options=K,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},K.scrollPositionRestoration=K.scrollPositionRestoration||"disabled",K.anchorScrolling=K.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof Ki?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Ti&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.urlSerializer.parse(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(y=>{y instanceof cs&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,M){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new cs(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return w.\u0275fac=function(y){C.$Z()},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac}),w})();var xi=(()=>((xi=xi||{})[xi.COMPLETE=0]="COMPLETE",xi[xi.FAILED=1]="FAILED",xi[xi.REDIRECTING=2]="REDIRECTING",xi))();const co=!1;function _s(w,S){return{\u0275kind:w,\u0275providers:S}}const Ya=new C.OlP("",{providedIn:"root",factory:()=>!1});function ba(){const w=(0,C.f3M)(C.zs3);return S=>{const y=w.get(C.z2F);if(S!==y.components[0])return;const M=w.get(vi),k=w.get(di);1===w.get(si)&&M.initialNavigation(),w.get(Dr,null,C.XFs.Optional)?.setUpPreloading(),w.get(aa,null,C.XFs.Optional)?.init(),M.resetRootComponentType(y.componentTypes[0]),k.closed||(k.next(),k.complete(),k.unsubscribe())}}const di=new C.OlP(co?"bootstrap done indicator":"",{factory:()=>new de.x}),si=new C.OlP(co?"initial navigation":"",{providedIn:"root",factory:()=>1});function l1(){let w=[];return w=co?[{provide:C.Xts,multi:!0,useFactory:()=>{const S=(0,C.f3M)(vi);return()=>S.events.subscribe(y=>{console.group?.(`Router Event: ${y.constructor.name}`),console.log(function Lo(w){if(!("type"in w))return`Unknown Router Event: ${w.constructor.name}`;switch(w.type){case 14:return`ActivationEnd(path: '${w.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${w.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${w.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${w.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state}, shouldActivate: ${w.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 2:return`NavigationCancel(id: ${w.id}, url: '${w.url}')`;case 16:return`NavigationSkipped(id: ${w.id}, url: '${w.url}')`;case 1:return`NavigationEnd(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${w.id}, url: '${w.url}', error: ${w.error})`;case 0:return`NavigationStart(id: ${w.id}, url: '${w.url}')`;case 6:return`ResolveEnd(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 5:return`ResolveStart(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 10:return`RouteConfigLoadEnd(path: ${w.route.path})`;case 9:return`RouteConfigLoadStart(path: ${w.route.path})`;case 4:return`RoutesRecognized(id: ${w.id}, url: '${w.url}', urlAfterRedirects: '${w.urlAfterRedirects}', state: ${w.state})`;case 15:return`Scroll(anchor: '${w.anchor}', position: '${w.position?`${w.position[0]}, ${w.position[1]}`:null}')`}}(y)),console.log(y),console.groupEnd?.()})}}]:[],_s(1,w)}const Dr=new C.OlP(co?"router preloader":"");function $a(w){return _s(0,[{provide:Dr,useExisting:Vs},{provide:_c,useExisting:w}])}const ca=!1,El=new C.OlP(ca?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Cc=[Ge.Ye,{provide:yr,useClass:an},vi,gi,{provide:Ho,useFactory:function ys(w){return w.routerState.root},deps:[vi]},oi,ca?{provide:Ya,useValue:!0}:[]];function iu(){return new C.PXZ("Router",vi)}let kd=(()=>{class w{constructor(y){}static forRoot(y,M){return{ngModule:w,providers:[Cc,ca&&M?.enableTracing?l1().\u0275providers:[],{provide:er,multi:!0,useValue:y},{provide:El,useFactory:_o,deps:[[vi,new C.FiY,new C.tp0]]},{provide:yc,useValue:M||{}},M?.useHash?{provide:Ge.S$,useClass:Ge.Do}:{provide:Ge.S$,useClass:Ge.b0},{provide:aa,useFactory:()=>{const w=(0,C.f3M)(Ge.EM),S=(0,C.f3M)(C.R0b),y=(0,C.f3M)(yc),M=(0,C.f3M)(Ii),k=(0,C.f3M)(yr);return y.scrollOffset&&w.setOffset(y.scrollOffset),new Ca(k,M,w,S,y)}},M?.preloadingStrategy?$a(M.preloadingStrategy).\u0275providers:[],{provide:C.PXZ,multi:!0,useFactory:iu},M?.initialNavigation?lo(M):[],[{provide:ws,useFactory:ba},{provide:C.tb,multi:!0,useExisting:ws}]]}}static forChild(y){return{ngModule:w,providers:[{provide:er,multi:!0,useValue:y}]}}}return w.\u0275fac=function(y){return new(y||w)(C.LFG(El,8))},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[mo]}),w})();function _o(w){if(ca&&w)throw new C.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function lo(w){return["disabled"===w.initialNavigation?_s(3,[{provide:C.ip1,multi:!0,useFactory:()=>{const S=(0,C.f3M)(vi);return()=>{S.setUpLocationChangeListener()}}},{provide:si,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?_s(2,[{provide:si,useValue:0},{provide:C.ip1,multi:!0,deps:[C.zs3],useFactory:S=>{const y=S.get(Ge.V_,Promise.resolve());return()=>y.then(()=>new Promise(M=>{const k=S.get(vi),j=S.get(di);(function Hs(w,S){w.events.pipe((0,Ee.h)(y=>y instanceof Ti||y instanceof un||y instanceof re||y instanceof Zi),(0,Oe.U)(y=>y instanceof Ti||y instanceof Zi?xi.COMPLETE:y instanceof un&&(0===y.code||1===y.code)?xi.REDIRECTING:xi.FAILED),(0,Ee.h)(y=>y!==xi.REDIRECTING),(0,ct.q)(1)).subscribe(()=>{S()})})(k,()=>{M(!0)}),S.get(Ii).afterPreactivation=()=>(M(!0),j.closed?(0,V.of)(void 0):j),k.initialNavigation()}))}}]).\u0275providers:[]]}const ws=new C.OlP(ca?"Router Initializer":"")},579:(Tt,Le,R)=>{R.d(Le,{EI:()=>ue,Gb:()=>Qn,Iv:()=>wr,Kz:()=>q,Xd:()=>Xt,lT:()=>ir,xP:()=>xr});var C=R(5861),m=R(6881),V=R(1877),de=R(2090),pe=R(4859);R(4727);const Me="analytics",xe="firebase_id",Ae="origin",ae=6e4,se="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",me="https://www.googletagmanager.com/gtag/js",Fe=new V.Yd("@firebase/analytics"),Ze=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ft(B){if(!B.startsWith(me)){const H=Ze.create("invalid-gtag-resource",{gtagURL:B});return Fe.warn(H.message),""}return B}function Ye(B){return Promise.all(B.map(H=>H.catch(J=>J)))}function Oe(){return(Oe=(0,C.Z)(function*(B,H,J,fe,Ce,it){const at=fe[Ce];try{if(at)yield H[at];else{const cn=(yield Ye(J)).find(ze=>ze.measurementId===Ce);cn&&(yield H[cn.appId])}}catch(Ft){Fe.error(Ft)}B("config",Ce,it)})).apply(this,arguments)}function ct(){return(ct=(0,C.Z)(function*(B,H,J,fe,Ce){try{let it=[];if(Ce&&Ce.send_to){let at=Ce.send_to;Array.isArray(at)||(at=[at]);const Ft=yield Ye(J);for(const cn of at){const ze=Ft.find(st=>st.measurementId===cn),Te=ze&&H[ze.appId];if(!Te){it=[];break}it.push(Te)}}0===it.length&&(it=Object.values(H)),yield Promise.all(it),B("event",fe,Ce||{})}catch(it){Fe.error(it)}})).apply(this,arguments)}const Ut=30,St=new class $t{constructor(H={},J=1e3){this.throttleMetadata=H,this.intervalMillis=J}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,J){this.throttleMetadata[H]=J}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function Kr(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function kr(){return(kr=(0,C.Z)(function*(B){var H;const{appId:J,apiKey:fe}=B,Ce={method:"GET",headers:Kr(fe)},it=se.replace("{app-id}",J),at=yield fetch(it,Ce);if(200!==at.status&&304!==at.status){let Ft="";try{const cn=yield at.json();null!==(H=cn.error)&&void 0!==H&&H.message&&(Ft=cn.error.message)}catch{}throw Ze.create("config-fetch-failed",{httpStatus:at.status,responseMessage:Ft})}return at.json()})).apply(this,arguments)}function jr(){return(jr=(0,C.Z)(function*(B,H=St,J){const{appId:fe,apiKey:Ce,measurementId:it}=B.options;if(!fe)throw Ze.create("no-app-id");if(!Ce){if(it)return{measurementId:it,appId:fe};throw Ze.create("no-api-key")}const at=H.getThrottleMetadata(fe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ft=new Be;return setTimeout((0,C.Z)(function*(){Ft.abort()}),void 0!==J?J:ae),$r({appId:fe,apiKey:Ce,measurementId:it},at,Ft,H)})).apply(this,arguments)}function $r(B,H,J){return Ie.apply(this,arguments)}function Ie(){return Ie=(0,C.Z)(function*(B,{throttleEndTimeMillis:H,backoffCount:J},fe,Ce=St){var it;const{appId:at,measurementId:Ft}=B;try{yield function ge(B,H){return new Promise((J,fe)=>{const Ce=Math.max(H-Date.now(),0),it=setTimeout(J,Ce);B.addEventListener(()=>{clearTimeout(it),fe(Ze.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(fe,H)}catch(cn){if(Ft)return Fe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ft} provided in the "measurementId" field in the local Firebase config. [${cn?.message}]`),{appId:at,measurementId:Ft};throw cn}try{const cn=yield function pr(B){return kr.apply(this,arguments)}(B);return Ce.deleteThrottleMetadata(at),cn}catch(cn){const ze=cn;if(!function Pe(B){if(!(B instanceof de.ZR&&B.customData))return!1;const H=Number(B.customData.httpStatus);return 429===H||500===H||503===H||504===H}(ze)){if(Ce.deleteThrottleMetadata(at),Ft)return Fe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ft} provided in the "measurementId" field in the local Firebase config. [${ze?.message}]`),{appId:at,measurementId:Ft};throw cn}const Te=503===Number(null===(it=ze?.customData)||void 0===it?void 0:it.httpStatus)?(0,de.$s)(J,Ce.intervalMillis,Ut):(0,de.$s)(J,Ce.intervalMillis),st={throttleEndTimeMillis:Date.now()+Te,backoffCount:J+1};return Ce.setThrottleMetadata(at,st),Fe.debug(`Calling attemptFetch again in ${Te} millis`),$r(B,st,fe,Ce)}}),Ie.apply(this,arguments)}class Be{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}let ot,Ct;function gt(){return(gt=(0,C.Z)(function*(B,H,J,fe,Ce){if(Ce&&Ce.global)B("event",J,fe);else{const it=yield H;B("event",J,Object.assign(Object.assign({},fe),{send_to:it}))}})).apply(this,arguments)}function gn(){return(gn=(0,C.Z)(function*(B,H,J,fe){if(fe&&fe.global)return B("set",{screen_name:J}),Promise.resolve();B("config",yield H,{update:!0,screen_name:J})})).apply(this,arguments)}function vn(){return(vn=(0,C.Z)(function*(B,H,J,fe){if(fe&&fe.global)return B("set",{user_id:J}),Promise.resolve();B("config",yield H,{update:!0,user_id:J})})).apply(this,arguments)}function ar(){return(ar=(0,C.Z)(function*(B,H,J,fe){if(fe&&fe.global){const Ce={};for(const it of Object.keys(J))Ce[`user_properties.${it}`]=J[it];return B("set",Ce),Promise.resolve()}B("config",yield H,{update:!0,user_properties:J})})).apply(this,arguments)}function Wt(){return(Wt=(0,C.Z)(function*(B,H){const J=yield B;window[`ga-disable-${J}`]=!H})).apply(this,arguments)}function tr(){return(tr=(0,C.Z)(function*(){if(!(0,de.hl)())return Fe.warn(Ze.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(B){return Fe.warn(Ze.create("indexeddb-unavailable",{errorInfo:B?.toString()}).message),!1}return!0})).apply(this,arguments)}function _n(){return _n=(0,C.Z)(function*(B,H,J,fe,Ce,it,at){var Ft;const cn=function Br(B){return jr.apply(this,arguments)}(B);cn.then(Nt=>{J[Nt.measurementId]=Nt.appId,B.options.measurementId&&Nt.measurementId!==B.options.measurementId&&Fe.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${Nt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Nt=>Fe.error(Nt)),H.push(cn);const ze=function Yn(){return tr.apply(this,arguments)}().then(Nt=>{if(Nt)return fe.getId()}),[Te,st]=yield Promise.all([cn,ze]);(function ht(B){const H=window.document.getElementsByTagName("script");for(const J of Object.values(H))if(J.src&&J.src.includes(me)&&J.src.includes(B))return J;return null})(it)||function nt(B,H){const J=function Qe(B,H){let J;return window.trustedTypes&&(J=window.trustedTypes.createPolicy(B,H)),J}("firebase-js-sdk-policy",{createScriptURL:ft}),fe=document.createElement("script"),Ce=`${me}?l=${B}&id=${H}`;fe.src=J?J?.createScriptURL(Ce):Ce,fe.async=!0,document.head.appendChild(fe)}(it,Te.measurementId),Ct&&(Ce("consent","default",Ct),function Rn(B){Ct=B}(void 0)),Ce("js",new Date);const It=null!==(Ft=at?.config)&&void 0!==Ft?Ft:{};return It[Ae]="firebase",It.update=!0,null!=st&&(It[xe]=st),Ce("config",Te.measurementId,It),ot&&(Ce("set",ot),function qn(B){ot=B}(void 0)),Te.measurementId}),_n.apply(this,arguments)}class wn{constructor(H){this.app=H}_delete(){return delete Mt[this.app.options.appId],Promise.resolve()}}let Mt={},Yt=[];const jn={};let hr,nr,An="dataLayer",At="gtag",rr=!1;function Xt(B){if(rr)throw Ze.create("already-initialized");B.dataLayerName&&(An=B.dataLayerName),B.gtagName&&(At=B.gtagName)}function an(B,H,J){!function yr(){const B=[];if((0,de.ru)()&&B.push("This is a browser extension environment."),(0,de.zI)()||B.push("Cookies are not available."),B.length>0){const H=B.map((fe,Ce)=>`(${Ce+1}) ${fe}`).join(" "),J=Ze.create("invalid-analytics-context",{errorInfo:H});Fe.warn(J.message)}}();const fe=B.options.appId;if(!fe)throw Ze.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw Ze.create("no-api-key");Fe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mt[fe])throw Ze.create("already-exists",{id:fe});if(!rr){!function ut(B){let H=[];Array.isArray(window[B])?H=window[B]:window[B]=H}(An);const{wrappedGtag:it,gtagCore:at}=function Ee(B,H,J,fe,Ce){let it=function(...at){window[fe].push(arguments)};return window[Ce]&&"function"==typeof window[Ce]&&(it=window[Ce]),window[Ce]=function lt(B,H,J,fe){function it(){return it=(0,C.Z)(function*(at,...Ft){try{if("event"===at){const[cn,ze]=Ft;yield function Xe(B,H,J,fe,Ce){return ct.apply(this,arguments)}(B,H,J,cn,ze)}else if("config"===at){const[cn,ze]=Ft;yield function Ge(B,H,J,fe,Ce,it){return Oe.apply(this,arguments)}(B,H,J,fe,cn,ze)}else if("consent"===at){const[cn]=Ft;B("consent","update",cn)}else if("get"===at){const[cn,ze,Te]=Ft;B("get",cn,ze,Te)}else if("set"===at){const[cn]=Ft;B("set",cn)}else B(at,...Ft)}catch(cn){Fe.error(cn)}}),it.apply(this,arguments)}return function Ce(at){return it.apply(this,arguments)}}(it,B,H,J),{gtagCore:it,wrappedGtag:window[Ce]}}(Mt,Yt,jn,An,At);nr=it,hr=at,rr=!0}return Mt[fe]=function vr(B,H,J,fe,Ce,it,at){return _n.apply(this,arguments)}(B,Yt,jn,H,hr,An,J),new wn(B)}function Qn(){return $n.apply(this,arguments)}function $n(){return($n=(0,C.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}function ir(B,H,J){B=(0,de.m9)(B),function hn(B,H,J,fe){return gn.apply(this,arguments)}(nr,Mt[B.app.options.appId],H,J).catch(fe=>Fe.error(fe))}function wr(B,H,J){B=(0,de.m9)(B),function Zt(B,H,J,fe){return vn.apply(this,arguments)}(nr,Mt[B.app.options.appId],H,J).catch(fe=>Fe.error(fe))}function xr(B,H,J){B=(0,de.m9)(B),function zn(B,H,J,fe){return ar.apply(this,arguments)}(nr,Mt[B.app.options.appId],H,J).catch(fe=>Fe.error(fe))}function ue(B,H){B=(0,de.m9)(B),function cr(B,H){return Wt.apply(this,arguments)}(Mt[B.app.options.appId],H).catch(J=>Fe.error(J))}function q(B,H,J,fe){B=(0,de.m9)(B),function De(B,H,J,fe,Ce){return gt.apply(this,arguments)}(nr,Mt[B.app.options.appId],H,J,fe).catch(Ce=>Fe.error(Ce))}const $="@firebase/analytics";!function ee(){(0,m._registerComponent)(new pe.wA(Me,(H,{options:J})=>an(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),J),"PUBLIC")),(0,m._registerComponent)(new pe.wA("analytics-internal",function B(H){try{const J=H.getProvider(Me).getImmediate();return{logEvent:(fe,Ce,it)=>q(J,fe,Ce,it)}}catch(J){throw Ze.create("interop-component-reg-failed",{reason:J})}},"PRIVATE")),(0,m.registerVersion)($,"0.10.0"),(0,m.registerVersion)($,"0.10.0","esm2017")}()},3942:(Tt,Le,R)=>{R.d(Le,{Z:()=>Ze});var C=R(2090),m=R(4859),V=R(6881),de=R(1877);class pe{constructor(Ye,Qe){this._delegate=Ye,this.firebase=Qe,(0,V._addComponent)(Ye,new m.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(Ye,Qe=V._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(Ye);return!ut.isInitialized()&&"EXPLICIT"===(null===(nt=ut.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:Qe})}_removeServiceInstance(Ye,Qe=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(Qe)}_addComponent(Ye){(0,V._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,V._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Me=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function Ae(){const ft=function xe(ft){const Ye={},Qe={__esModule:!0,initializeApp:function Ge(lt,Ee={}){const ht=V.initializeApp(lt,Ee);if((0,C.r3)(Ye,ht.name))return Ye[ht.name];const Ut=new ft(ht,Qe);return Ye[ht.name]=Ut,Ut},app:ut,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Xe(lt){const Ee=lt.name,ht=Ee.replace("-compat","");if(V._registerComponent(lt)&&"PUBLIC"===lt.type){const Ut=(Et=ut())=>{if("function"!=typeof Et[ht])throw Me.create("invalid-app-argument",{appName:Ee});return Et[ht]()};void 0!==lt.serviceProps&&(0,C.ZB)(Ut,lt.serviceProps),Qe[ht]=Ut,ft.prototype[ht]=function(...Et){return this._getService.bind(this,Ee).apply(this,lt.multipleInstances?Et:[])}}return"PUBLIC"===lt.type?Qe[ht]:null},removeApp:function nt(lt){delete Ye[lt]},useAsService:function ct(lt,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:V}};function ut(lt){if(!(0,C.r3)(Ye,lt=lt||V._DEFAULT_ENTRY_NAME))throw Me.create("no-app",{appName:lt});return Ye[lt]}return Qe.default=Qe,Object.defineProperty(Qe,"apps",{get:function Oe(){return Object.keys(Ye).map(lt=>Ye[lt])}}),ut.App=ft,Qe}(pe);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function Ye(Qe){(0,C.ZB)(ft,Qe)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),ft}(),se=new de.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=ae;!function He(ft){(0,V.registerVersion)("@firebase/app-compat","0.2.13",ft)}()},6881:(Tt,Le,R)=>{R.r(Le),R.d(Le,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>yr,_DEFAULT_ENTRY_NAME:()=>tr,_addComponent:()=>Mt,_addOrOverwriteComponent:()=>Yt,_apps:()=>_n,_clearComponents:()=>hr,_components:()=>wn,_getProvider:()=>An,_registerComponent:()=>jn,_removeServiceInstance:()=>At,deleteApp:()=>Qn,getApp:()=>ci,getApps:()=>nn,initializeApp:()=>an,onLog:()=>_r,registerVersion:()=>ir,setLogLevel:()=>Er});var C=R(5861),m=R(4859),V=R(1877),de=R(2090);const pe=(ze,Te)=>Te.some(st=>ze instanceof st);let be,Me;const ae=new WeakMap,se=new WeakMap,me=new WeakMap,Fe=new WeakMap,He=new WeakMap;let Ye={get(ze,Te,st){if(ze instanceof IDBTransaction){if("done"===Te)return se.get(ze);if("objectStoreNames"===Te)return ze.objectStoreNames||me.get(ze);if("store"===Te)return st.objectStoreNames[1]?void 0:st.objectStore(st.objectStoreNames[0])}return Ge(ze[Te])},set:(ze,Te,st)=>(ze[Te]=st,!0),has:(ze,Te)=>ze instanceof IDBTransaction&&("done"===Te||"store"===Te)||Te in ze};function ut(ze){return"function"==typeof ze?function nt(ze){return ze!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return Me||(Me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ze)?function(...Te){return ze.apply(Oe(this),Te),Ge(ae.get(this))}:function(...Te){return Ge(ze.apply(Oe(this),Te))}:function(Te,...st){const It=ze.call(Oe(this),Te,...st);return me.set(It,Te.sort?Te.sort():[Te]),Ge(It)}}(ze):(ze instanceof IDBTransaction&&function ft(ze){if(se.has(ze))return;const Te=new Promise((st,It)=>{const Nt=()=>{ze.removeEventListener("complete",tn),ze.removeEventListener("error",Gt),ze.removeEventListener("abort",Gt)},tn=()=>{st(),Nt()},Gt=()=>{It(ze.error||new DOMException("AbortError","AbortError")),Nt()};ze.addEventListener("complete",tn),ze.addEventListener("error",Gt),ze.addEventListener("abort",Gt)});se.set(ze,Te)}(ze),pe(ze,function xe(){return be||(be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ze,Ye):ze)}function Ge(ze){if(ze instanceof IDBRequest)return function Ze(ze){const Te=new Promise((st,It)=>{const Nt=()=>{ze.removeEventListener("success",tn),ze.removeEventListener("error",Gt)},tn=()=>{st(Ge(ze.result)),Nt()},Gt=()=>{It(ze.error),Nt()};ze.addEventListener("success",tn),ze.addEventListener("error",Gt)});return Te.then(st=>{st instanceof IDBCursor&&ae.set(st,ze)}).catch(()=>{}),He.set(Te,ze),Te}(ze);if(Fe.has(ze))return Fe.get(ze);const Te=ut(ze);return Te!==ze&&(Fe.set(ze,Te),He.set(Te,ze)),Te}const Oe=ze=>He.get(ze),lt=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],ht=new Map;function Ut(ze,Te){if(!(ze instanceof IDBDatabase)||Te in ze||"string"!=typeof Te)return;if(ht.get(Te))return ht.get(Te);const st=Te.replace(/FromIndex$/,""),It=Te!==st,Nt=Ee.includes(st);if(!(st in(It?IDBIndex:IDBObjectStore).prototype)||!Nt&&!lt.includes(st))return;const tn=function(){var Gt=(0,C.Z)(function*(Nn,...ln){const Cr=this.transaction(Nn,Nt?"readwrite":"readonly");let Or=Cr.store;return It&&(Or=Or.index(ln.shift())),(yield Promise.all([Or[st](...ln),Nt&&Cr.done]))[0]});return function(ln){return Gt.apply(this,arguments)}}();return ht.set(Te,tn),tn}!function Qe(ze){Ye=ze(Ye)}(ze=>({...ze,get:(Te,st,It)=>Ut(Te,st)||ze.get(Te,st,It),has:(Te,st)=>!!Ut(Te,st)||ze.has(Te,st)}));class Et{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function $t(ze){return"VERSION"===ze.getComponent()?.type}(st)){const It=st.getImmediate();return`${It.library}/${It.version}`}return null}).filter(st=>st).join(" ")}}const St="@firebase/app",pr=new V.Yd("@firebase/app"),tr="[DEFAULT]",vr={[St]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_n=new Map,wn=new Map;function Mt(ze,Te){try{ze.container.addComponent(Te)}catch(st){pr.debug(`Component ${Te.name} failed to register with FirebaseApp ${ze.name}`,st)}}function Yt(ze,Te){ze.container.addOrOverwriteComponent(Te)}function jn(ze){const Te=ze.name;if(wn.has(Te))return pr.debug(`There were multiple attempts to register component ${Te}.`),!1;wn.set(Te,ze);for(const st of _n.values())Mt(st,ze);return!0}function An(ze,Te){const st=ze.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),ze.container.getProvider(Te)}function At(ze,Te,st=tr){An(ze,Te).clearInstance(st)}function hr(){wn.clear()}const rr=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xt{constructor(Te,st,It){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=It,this.container.addComponent(new m.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const yr="9.23.0";function an(ze,Te={}){let st=ze;"object"!=typeof Te&&(Te={name:Te});const It=Object.assign({name:tr,automaticDataCollectionEnabled:!1},Te),Nt=It.name;if("string"!=typeof Nt||!Nt)throw rr.create("bad-app-name",{appName:String(Nt)});if(st||(st=(0,de.aH)()),!st)throw rr.create("no-options");const tn=_n.get(Nt);if(tn){if((0,de.vZ)(st,tn.options)&&(0,de.vZ)(It,tn.config))return tn;throw rr.create("duplicate-app",{appName:Nt})}const Gt=new m.H0(Nt);for(const ln of wn.values())Gt.addComponent(ln);const Nn=new Xt(st,It,Gt);return _n.set(Nt,Nn),Nn}function ci(ze=tr){const Te=_n.get(ze);if(!Te&&ze===tr&&(0,de.aH)())return an();if(!Te)throw rr.create("no-app",{appName:ze});return Te}function nn(){return Array.from(_n.values())}function Qn(ze){return $n.apply(this,arguments)}function $n(){return($n=(0,C.Z)(function*(ze){const Te=ze.name;_n.has(Te)&&(_n.delete(Te),yield Promise.all(ze.container.getProviders().map(st=>st.delete())),ze.isDeleted=!0)})).apply(this,arguments)}function ir(ze,Te,st){var It;let Nt=null!==(It=vr[ze])&&void 0!==It?It:ze;st&&(Nt+=`-${st}`);const tn=Nt.match(/\s|\//),Gt=Te.match(/\s|\//);if(tn||Gt){const Nn=[`Unable to register library "${Nt}" with version "${Te}":`];return tn&&Nn.push(`library name "${Nt}" contains illegal characters (whitespace or "/")`),tn&&Gt&&Nn.push("and"),Gt&&Nn.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void pr.warn(Nn.join(" "))}jn(new m.wA(`${Nt}-version`,()=>({library:Nt,version:Te}),"VERSION"))}function _r(ze,Te){if(null!==ze&&"function"!=typeof ze)throw rr.create("invalid-log-argument");(0,V.Am)(ze,Te)}function Er(ze){(0,V.Ub)(ze)}const wr="firebase-heartbeat-database",xr=1,ue="firebase-heartbeat-store";let ie=null;function q(){return ie||(ie=function Xe(ze,Te,{blocked:st,upgrade:It,blocking:Nt,terminated:tn}={}){const Gt=indexedDB.open(ze,Te),Nn=Ge(Gt);return It&&Gt.addEventListener("upgradeneeded",ln=>{It(Ge(Gt.result),ln.oldVersion,ln.newVersion,Ge(Gt.transaction),ln)}),st&&Gt.addEventListener("blocked",ln=>st(ln.oldVersion,ln.newVersion,ln)),Nn.then(ln=>{tn&&ln.addEventListener("close",()=>tn()),Nt&&ln.addEventListener("versionchange",Cr=>Nt(Cr.oldVersion,Cr.newVersion,Cr))}).catch(()=>{}),Nn}(wr,xr,{upgrade:(ze,Te)=>{0===Te&&ze.createObjectStore(ue)}}).catch(ze=>{throw rr.create("idb-open",{originalErrorMessage:ze.message})})),ie}function $(){return($=(0,C.Z)(function*(ze){try{return yield(yield q()).transaction(ue).objectStore(ue).get(B(ze))}catch(Te){if(Te instanceof de.ZR)pr.warn(Te.message);else{const st=rr.create("idb-get",{originalErrorMessage:Te?.message});pr.warn(st.message)}}})).apply(this,arguments)}function he(ze,Te){return ee.apply(this,arguments)}function ee(){return(ee=(0,C.Z)(function*(ze,Te){try{const It=(yield q()).transaction(ue,"readwrite");yield It.objectStore(ue).put(Te,B(ze)),yield It.done}catch(st){if(st instanceof de.ZR)pr.warn(st.message);else{const It=rr.create("idb-set",{originalErrorMessage:st?.message});pr.warn(It.message)}}})).apply(this,arguments)}function B(ze){return`${ze.name}!${ze.options.appId}`}class fe{constructor(Te){this.container=Te,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new at(st),this._heartbeatsCachePromise=this._storage.read().then(It=>(this._heartbeatsCache=It,It))}triggerHeartbeat(){var Te=this;return(0,C.Z)(function*(){const It=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nt=Ce();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Nt&&!Te._heartbeatsCache.heartbeats.some(tn=>tn.date===Nt))return Te._heartbeatsCache.heartbeats.push({date:Nt,agent:It}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(tn=>{const Gt=new Date(tn.date).valueOf();return Date.now()-Gt<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,C.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const st=Ce(),{heartbeatsToSend:It,unsentEntries:Nt}=function it(ze,Te=1024){const st=[];let It=ze.slice();for(const Nt of ze){const tn=st.find(Gt=>Gt.agent===Nt.agent);if(tn){if(tn.dates.push(Nt.date),Ft(st)>Te){tn.dates.pop();break}}else if(st.push({agent:Nt.agent,dates:[Nt.date]}),Ft(st)>Te){st.pop();break}It=It.slice(1)}return{heartbeatsToSend:st,unsentEntries:It}}(Te._heartbeatsCache.heartbeats),tn=(0,de.L)(JSON.stringify({version:2,heartbeats:It}));return Te._heartbeatsCache.lastSentHeartbeatDate=st,Nt.length>0?(Te._heartbeatsCache.heartbeats=Nt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),tn})()}}function Ce(){return(new Date).toISOString().substring(0,10)}class at{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,C.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function X(ze){return $.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var st=this;return(0,C.Z)(function*(){var It;if(yield st._canUseIndexedDBPromise){const tn=yield st.read();return he(st.app,{lastSentHeartbeatDate:null!==(It=Te.lastSentHeartbeatDate)&&void 0!==It?It:tn.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var st=this;return(0,C.Z)(function*(){var It;if(yield st._canUseIndexedDBPromise){const tn=yield st.read();return he(st.app,{lastSentHeartbeatDate:null!==(It=Te.lastSentHeartbeatDate)&&void 0!==It?It:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...Te.heartbeats]})}})()}}function Ft(ze){return(0,de.L)(JSON.stringify({version:2,heartbeats:ze})).length}!function cn(ze){jn(new m.wA("platform-logger",Te=>new Et(Te),"PRIVATE")),jn(new m.wA("heartbeat",Te=>new fe(Te),"PRIVATE")),ir(St,"0.9.13",ze),ir(St,"0.9.13","esm2017"),ir("fire-js","")}("")},4859:(Tt,Le,R)=>{R.d(Le,{H0:()=>xe,wA:()=>V});var C=R(5861),m=R(2090);class V{constructor(ae,se,me){this.name=ae,this.instanceFactory=se,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const de="[DEFAULT]";class pe{constructor(ae,se){this.name=ae,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const se=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(se)){const me=new m.BH;if(this.instancesDeferred.set(se,me),this.isInitialized(se)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:se});Fe&&me.resolve(Fe)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(ae){var se;const me=this.normalizeInstanceIdentifier(ae?.identifier),Fe=null!==(se=ae?.optional)&&void 0!==se&&se;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(He){if(Fe)return null;throw He}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function Me(Ae){return"EAGER"===Ae.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[se,me]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(se);try{const He=this.getOrInitializeService({instanceIdentifier:Fe});me.resolve(He)}catch{}}}}clearInstance(ae=de){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,C.Z)(function*(){const se=Array.from(ae.instances.values());yield Promise.all([...se.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...se.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=de){return this.instances.has(ae)}getOptions(ae=de){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:se={}}=ae,me=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:me,options:se});for(const[He,Ze]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(He)&&Ze.resolve(Fe);return Fe}onInit(ae,se){var me;const Fe=this.normalizeInstanceIdentifier(se),He=null!==(me=this.onInitCallbacks.get(Fe))&&void 0!==me?me:new Set;He.add(ae),this.onInitCallbacks.set(Fe,He);const Ze=this.instances.get(Fe);return Ze&&ae(Ze,Fe),()=>{He.delete(ae)}}invokeOnInitCallbacks(ae,se){const me=this.onInitCallbacks.get(se);if(me)for(const Fe of me)try{Fe(ae,se)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:se={}}){let me=this.instances.get(ae);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=ae,Ae===de?void 0:Ae),options:se}),this.instances.set(ae,me),this.instancesOptions.set(ae,se),this.invokeOnInitCallbacks(me,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,me)}catch{}var Ae;return me||null}normalizeInstanceIdentifier(ae=de){return this.component?this.component.multipleInstances?ae:de:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const se=this.getProvider(ae.name);if(se.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);se.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const se=new pe(ae,this);return this.providers.set(ae,se),se}getProviders(){return Array.from(this.providers.values())}}},4727:(Tt,Le,R)=>{var C=R(5861),m=R(6881),V=R(4859),de=R(2090);const pe=(re,Se)=>Se.some(We=>re instanceof We);let be,Me;const ae=new WeakMap,se=new WeakMap,me=new WeakMap,Fe=new WeakMap,He=new WeakMap;let Ye={get(re,Se,We){if(re instanceof IDBTransaction){if("done"===Se)return se.get(re);if("objectStoreNames"===Se)return re.objectStoreNames||me.get(re);if("store"===Se)return We.objectStoreNames[1]?void 0:We.objectStore(We.objectStoreNames[0])}return Ge(re[Se])},set:(re,Se,We)=>(re[Se]=We,!0),has:(re,Se)=>re instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in re};function ut(re){return"function"==typeof re?function nt(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return Me||(Me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...Se){return re.apply(Oe(this),Se),Ge(ae.get(this))}:function(...Se){return Ge(re.apply(Oe(this),Se))}:function(Se,...We){const wt=re.call(Oe(this),Se,...We);return me.set(wt,Se.sort?Se.sort():[Se]),Ge(wt)}}(re):(re instanceof IDBTransaction&&function ft(re){if(se.has(re))return;const Se=new Promise((We,wt)=>{const Dn=()=>{re.removeEventListener("complete",fn),re.removeEventListener("error",In),re.removeEventListener("abort",In)},fn=()=>{We(),Dn()},In=()=>{wt(re.error||new DOMException("AbortError","AbortError")),Dn()};re.addEventListener("complete",fn),re.addEventListener("error",In),re.addEventListener("abort",In)});se.set(re,Se)}(re),pe(re,function xe(){return be||(be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,Ye):re)}function Ge(re){if(re instanceof IDBRequest)return function Ze(re){const Se=new Promise((We,wt)=>{const Dn=()=>{re.removeEventListener("success",fn),re.removeEventListener("error",In)},fn=()=>{We(Ge(re.result)),Dn()},In=()=>{wt(re.error),Dn()};re.addEventListener("success",fn),re.addEventListener("error",In)});return Se.then(We=>{We instanceof IDBCursor&&ae.set(We,re)}).catch(()=>{}),He.set(Se,re),Se}(re);if(Fe.has(re))return Fe.get(re);const Se=ut(re);return Se!==re&&(Fe.set(re,Se),He.set(Se,re)),Se}const Oe=re=>He.get(re),lt=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],ht=new Map;function Ut(re,Se){if(!(re instanceof IDBDatabase)||Se in re||"string"!=typeof Se)return;if(ht.get(Se))return ht.get(Se);const We=Se.replace(/FromIndex$/,""),wt=Se!==We,Dn=Ee.includes(We);if(!(We in(wt?IDBIndex:IDBObjectStore).prototype)||!Dn&&!lt.includes(We))return;const fn=function(){var In=(0,C.Z)(function*(lr,...Ur){const xn=this.transaction(lr,Dn?"readwrite":"readonly");let ni=xn.store;return wt&&(ni=ni.index(Ur.shift())),(yield Promise.all([ni[We](...Ur),Dn&&xn.done]))[0]});return function(Ur){return In.apply(this,arguments)}}();return ht.set(Se,fn),fn}!function Qe(re){Ye=re(Ye)}(re=>({...re,get:(Se,We,wt)=>Ut(Se,We)||re.get(Se,We,wt),has:(Se,We)=>!!Ut(Se,We)||re.has(Se,We)}));const Et="@firebase/installations",$t="0.6.4",St=1e4,Kr=`w:${$t}`,pr="FIS_v2",kr="https://firebaseinstallations.googleapis.com/v1",Br=36e5,ge=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pe(re){return re instanceof de.ZR&&re.code.includes("request-failed")}function Be({projectId:re}){return`${kr}/projects/${re}/installations`}function ot(re){return{token:re.token,requestStatus:2,expiresIn:zn(re.expiresIn),creationTime:Date.now()}}function De(re,Se){return gt.apply(this,arguments)}function gt(){return(gt=(0,C.Z)(function*(re,Se){const wt=(yield Se.json()).error;return ge.create("request-failed",{requestName:re,serverCode:wt.code,serverMessage:wt.message,serverStatus:wt.status})})).apply(this,arguments)}function hn({apiKey:re}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":re})}function Zt(re){return vn.apply(this,arguments)}function vn(){return(vn=(0,C.Z)(function*(re){const Se=yield re();return Se.status>=500&&Se.status<600?re():Se})).apply(this,arguments)}function zn(re){return Number(re.replace("s","000"))}function Mn(){return(Mn=(0,C.Z)(function*({appConfig:re,heartbeatServiceProvider:Se},{fid:We}){const wt=Be(re),Dn=hn(re),fn=Se.getImmediate({optional:!0});if(fn){const xn=yield fn.getHeartbeatsHeader();xn&&Dn.append("x-firebase-client",xn)}const lr={method:"POST",headers:Dn,body:JSON.stringify({fid:We,authVersion:pr,appId:re.appId,sdkVersion:Kr})},Ur=yield Zt(()=>fetch(wt,lr));if(Ur.ok){const xn=yield Ur.json();return{fid:xn.fid||We,registrationStatus:2,refreshToken:xn.refreshToken,authToken:ot(xn.authToken)}}throw yield De("Create Installation",Ur)})).apply(this,arguments)}function cr(re){return new Promise(Se=>{setTimeout(Se,re)})}const Ct=/^[cdef][\w-]{21}$/,Rn="";function qn(){try{const re=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(re),re[0]=112+re[0]%16;const We=function Yn(re){return function Wt(re){return btoa(String.fromCharCode(...re)).replace(/\+/g,"-").replace(/\//g,"_")}(re).substr(0,22)}(re);return Ct.test(We)?We:Rn}catch{return Rn}}function tr(re){return`${re.appName}!${re.appId}`}const vr=new Map;function _n(re,Se){const We=tr(re);Yt(We,Se),function jn(re,Se){const We=function At(){return!An&&"BroadcastChannel"in self&&(An=new BroadcastChannel("[Firebase] FID Change"),An.onmessage=re=>{Yt(re.data.key,re.data.fid)}),An}();We&&We.postMessage({key:re,fid:Se}),function hr(){0===vr.size&&An&&(An.close(),An=null)}()}(We,Se)}function Yt(re,Se){const We=vr.get(re);if(We)for(const wt of We)wt(Se)}let An=null;const nr="firebase-installations-database",rr=1,Xt="firebase-installations-store";let yr=null;function an(){return yr||(yr=function Xe(re,Se,{blocked:We,upgrade:wt,blocking:Dn,terminated:fn}={}){const In=indexedDB.open(re,Se),lr=Ge(In);return wt&&In.addEventListener("upgradeneeded",Ur=>{wt(Ge(In.result),Ur.oldVersion,Ur.newVersion,Ge(In.transaction))}),We&&In.addEventListener("blocked",()=>We()),lr.then(Ur=>{fn&&Ur.addEventListener("close",()=>fn()),Dn&&Ur.addEventListener("versionchange",()=>Dn())}).catch(()=>{}),lr}(nr,rr,{upgrade:(re,Se)=>{0===Se&&re.createObjectStore(Xt)}})),yr}function ci(re,Se){return nn.apply(this,arguments)}function nn(){return(nn=(0,C.Z)(function*(re,Se){const We=tr(re),Dn=(yield an()).transaction(Xt,"readwrite"),fn=Dn.objectStore(Xt),In=yield fn.get(We);return yield fn.put(Se,We),yield Dn.done,(!In||In.fid!==Se.fid)&&_n(re,Se.fid),Se})).apply(this,arguments)}function Qn(re){return $n.apply(this,arguments)}function $n(){return($n=(0,C.Z)(function*(re){const Se=tr(re),wt=(yield an()).transaction(Xt,"readwrite");yield wt.objectStore(Xt).delete(Se),yield wt.done})).apply(this,arguments)}function ir(re,Se){return _r.apply(this,arguments)}function _r(){return(_r=(0,C.Z)(function*(re,Se){const We=tr(re),Dn=(yield an()).transaction(Xt,"readwrite"),fn=Dn.objectStore(Xt),In=yield fn.get(We),lr=Se(In);return void 0===lr?yield fn.delete(We):yield fn.put(lr,We),yield Dn.done,lr&&(!In||In.fid!==lr.fid)&&_n(re,lr.fid),lr})).apply(this,arguments)}function Er(re){return wr.apply(this,arguments)}function wr(){return wr=(0,C.Z)(function*(re){let Se;const We=yield ir(re.appConfig,wt=>{const Dn=function xr(re){return ee(re||{fid:qn(),registrationStatus:0})}(wt),fn=function ue(re,Se){if(0===Se.registrationStatus){if(!navigator.onLine)return{installationEntry:Se,registrationPromise:Promise.reject(ge.create("app-offline"))};const We={fid:Se.fid,registrationStatus:1,registrationTime:Date.now()},wt=function ie(re,Se){return q.apply(this,arguments)}(re,We);return{installationEntry:We,registrationPromise:wt}}return 1===Se.registrationStatus?{installationEntry:Se,registrationPromise:X(re)}:{installationEntry:Se}}(re,Dn);return Se=fn.registrationPromise,fn.installationEntry});return We.fid===Rn?{installationEntry:yield Se}:{installationEntry:We,registrationPromise:Se}}),wr.apply(this,arguments)}function q(){return q=(0,C.Z)(function*(re,Se){try{const We=yield function yn(re,Se){return Mn.apply(this,arguments)}(re,Se);return ci(re.appConfig,We)}catch(We){throw Pe(We)&&409===We.customData.serverCode?yield Qn(re.appConfig):yield ci(re.appConfig,{fid:Se.fid,registrationStatus:0}),We}}),q.apply(this,arguments)}function X(re){return $.apply(this,arguments)}function $(){return($=(0,C.Z)(function*(re){let Se=yield he(re.appConfig);for(;1===Se.registrationStatus;)yield cr(100),Se=yield he(re.appConfig);if(0===Se.registrationStatus){const{installationEntry:We,registrationPromise:wt}=yield Er(re);return wt||We}return Se})).apply(this,arguments)}function he(re){return ir(re,Se=>{if(!Se)throw ge.create("installation-not-found");return ee(Se)})}function ee(re){return function B(re){return 1===re.registrationStatus&&re.registrationTime+St<Date.now()}(re)?{fid:re.fid,registrationStatus:0}:re}function J(){return(J=(0,C.Z)(function*({appConfig:re,heartbeatServiceProvider:Se},We){const wt=function fe(re,{fid:Se}){return`${Be(re)}/${Se}/authTokens:generate`}(re,We),Dn=function gn(re,{refreshToken:Se}){const We=hn(re);return We.append("Authorization",function ar(re){return`${pr} ${re}`}(Se)),We}(re,We),fn=Se.getImmediate({optional:!0});if(fn){const xn=yield fn.getHeartbeatsHeader();xn&&Dn.append("x-firebase-client",xn)}const lr={method:"POST",headers:Dn,body:JSON.stringify({installation:{sdkVersion:Kr,appId:re.appId}})},Ur=yield Zt(()=>fetch(wt,lr));if(Ur.ok)return ot(yield Ur.json());throw yield De("Generate Auth Token",Ur)})).apply(this,arguments)}function Ce(re){return it.apply(this,arguments)}function it(){return it=(0,C.Z)(function*(re,Se=!1){let We;const wt=yield ir(re.appConfig,fn=>{if(!st(fn))throw ge.create("not-registered");const In=fn.authToken;if(!Se&&function It(re){return 2===re.requestStatus&&!function Nt(re){const Se=Date.now();return Se<re.creationTime||re.creationTime+re.expiresIn<Se+Br}(re)}(In))return fn;if(1===In.requestStatus)return We=function at(re,Se){return Ft.apply(this,arguments)}(re,Se),fn;{if(!navigator.onLine)throw ge.create("app-offline");const lr=function tn(re){const Se={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},re),{authToken:Se})}(fn);return We=function ze(re,Se){return Te.apply(this,arguments)}(re,lr),lr}});return We?yield We:wt.authToken}),it.apply(this,arguments)}function Ft(){return(Ft=(0,C.Z)(function*(re,Se){let We=yield cn(re.appConfig);for(;1===We.authToken.requestStatus;)yield cr(100),We=yield cn(re.appConfig);const wt=We.authToken;return 0===wt.requestStatus?Ce(re,Se):wt})).apply(this,arguments)}function cn(re){return ir(re,Se=>{if(!st(Se))throw ge.create("not-registered");return function Gt(re){return 1===re.requestStatus&&re.requestTime+St<Date.now()}(Se.authToken)?Object.assign(Object.assign({},Se),{authToken:{requestStatus:0}}):Se})}function Te(){return Te=(0,C.Z)(function*(re,Se){try{const We=yield function H(re,Se){return J.apply(this,arguments)}(re,Se),wt=Object.assign(Object.assign({},Se),{authToken:We});return yield ci(re.appConfig,wt),We}catch(We){if(!Pe(We)||401!==We.customData.serverCode&&404!==We.customData.serverCode){const wt=Object.assign(Object.assign({},Se),{authToken:{requestStatus:0}});yield ci(re.appConfig,wt)}else yield Qn(re.appConfig);throw We}}),Te.apply(this,arguments)}function st(re){return void 0!==re&&2===re.registrationStatus}function ln(){return(ln=(0,C.Z)(function*(re){const Se=re,{installationEntry:We,registrationPromise:wt}=yield Er(Se);return wt?wt.catch(console.error):Ce(Se).catch(console.error),We.fid})).apply(this,arguments)}function Or(){return Or=(0,C.Z)(function*(re,Se=!1){const We=re;return yield function Lr(re){return Fo.apply(this,arguments)}(We),(yield Ce(We,Se)).token}),Or.apply(this,arguments)}function Fo(){return(Fo=(0,C.Z)(function*(re){const{registrationPromise:Se}=yield Er(re);Se&&(yield Se)})).apply(this,arguments)}function mi(re){return ge.create("missing-app-config-values",{valueName:re})}const Fn="installations",Ti=re=>{const Se=re.getProvider("app").getImmediate(),We=function zr(re){if(!re||!re.options)throw mi("App Configuration");if(!re.name)throw mi("App Name");const Se=["projectId","apiKey","appId"];for(const We of Se)if(!re.options[We])throw mi(We);return{appName:re.name,projectId:re.options.projectId,apiKey:re.options.apiKey,appId:re.options.appId}}(Se);return{app:Se,appConfig:We,heartbeatServiceProvider:(0,m._getProvider)(Se,"heartbeat"),_delete:()=>Promise.resolve()}},un=re=>{const Se=re.getProvider("app").getImmediate(),We=(0,m._getProvider)(Se,Fn).getImmediate();return{getId:()=>function Nn(re){return ln.apply(this,arguments)}(We),getToken:Dn=>function Cr(re){return Or.apply(this,arguments)}(We,Dn)}};(function Zi(){(0,m._registerComponent)(new V.wA(Fn,Ti,"PUBLIC")),(0,m._registerComponent)(new V.wA("installations-internal",un,"PRIVATE"))})(),(0,m.registerVersion)(Et,$t),(0,m.registerVersion)(Et,$t,"esm2017")},1877:(Tt,Le,R)=>{R.d(Le,{Am:()=>Ae,Ub:()=>xe,Yd:()=>Me,in:()=>m});const C=[];var m=(()=>{return(ae=m||(m={}))[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",m;var ae})();const V={debug:m.DEBUG,verbose:m.VERBOSE,info:m.INFO,warn:m.WARN,error:m.ERROR,silent:m.SILENT},de=m.INFO,pe={[m.DEBUG]:"log",[m.VERBOSE]:"log",[m.INFO]:"info",[m.WARN]:"warn",[m.ERROR]:"error"},be=(ae,se,...me)=>{if(se<ae.logLevel)return;const Fe=(new Date).toISOString(),He=pe[se];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[He](`[${Fe}]  ${ae.name}:`,...me)};class Me{constructor(se){this.name=se,this._logLevel=de,this._logHandler=be,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in m))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?V[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,m.DEBUG,...se),this._logHandler(this,m.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,m.VERBOSE,...se),this._logHandler(this,m.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,m.INFO,...se),this._logHandler(this,m.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,m.WARN,...se),this._logHandler(this,m.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,m.ERROR,...se),this._logHandler(this,m.ERROR,...se)}}function xe(ae){C.forEach(se=>{se.setLogLevel(ae)})}function Ae(ae,se){for(const me of C){let Fe=null;se&&se.level&&(Fe=V[se.level]),me.userLogHandler=null===ae?null:(He,Ze,...ft)=>{const Ye=ft.map(Qe=>{if(null==Qe)return null;if("string"==typeof Qe)return Qe;if("number"==typeof Qe||"boolean"==typeof Qe)return Qe.toString();if(Qe instanceof Error)return Qe.message;try{return JSON.stringify(Qe)}catch{return null}}).filter(Qe=>Qe).join(" ");Ze>=(Fe??He.logLevel)&&ae({level:m[Ze].toLowerCase(),message:Ye,args:ft,type:He.name})}}}},5132:(Tt,Le,R)=>{R.d(Le,{Gb:()=>C.Gb});var C=R(579)},259:(Tt,Le,R)=>{R.d(Le,{C6:()=>C.getApps,KN:()=>C.registerVersion,Mq:()=>C.getApp,ZF:()=>C.initializeApp});var C=R(6881);(0,C.registerVersion)("firebase","9.23.0","app")},9260:(Tt,Le,R)=>{R.d(Le,{Z:()=>C.Z});var C=R(3942);C.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(Tt,Le,R)=>{R.r(Le);var C=R(5861),m=R(3942),V=R(1389),de=R(2090),Me=(R(6881),R(1877),R(4859));function xe(){return window}const Ae=2e3;function se(){return se=(0,C.Z)(function*(q,X,$){var he;const{BuildInfo:ee}=xe();(0,V.as)(X.sessionId,"AuthEvent did not contain a session ID");const B=yield function Qe(q){return nt.apply(this,arguments)}(X.sessionId),H={};return(0,V.at)()?H.ibi=ee.packageName:(0,V.au)()?H.apn=ee.packageName:(0,V.av)(q,"operation-not-supported-in-this-environment"),ee.displayName&&(H.appDisplayName=ee.displayName),H.sessionId=B,(0,V.aw)(q,$,X.type,void 0,null!==(he=X.eventId)&&void 0!==he?he:void 0,H)}),se.apply(this,arguments)}function Fe(){return(Fe=(0,C.Z)(function*(q){const{BuildInfo:X}=xe(),$={};(0,V.at)()?$.iosBundleId=X.packageName:(0,V.au)()?$.androidPackageName=X.packageName:(0,V.av)(q,"operation-not-supported-in-this-environment"),yield(0,V.ax)(q,$)})).apply(this,arguments)}function ft(){return(ft=(0,C.Z)(function*(q,X,$){const{cordova:he}=xe();let ee=()=>{};try{yield new Promise((B,H)=>{let J=null;function fe(){var at;B();const Ft=null===(at=he.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Ft&&Ft(),"function"==typeof $?.close&&$.close()}function Ce(){J||(J=window.setTimeout(()=>{H((0,V.az)(q,"redirect-cancelled-by-user"))},Ae))}function it(){"visible"===document?.visibilityState&&Ce()}X.addPassiveListener(fe),document.addEventListener("resume",Ce,!1),(0,V.au)()&&document.addEventListener("visibilitychange",it,!1),ee=()=>{X.removePassiveListener(fe),document.removeEventListener("resume",Ce,!1),document.removeEventListener("visibilitychange",it,!1),J&&window.clearTimeout(J)}})}finally{ee()}})).apply(this,arguments)}function nt(){return(nt=(0,C.Z)(function*(q){const X=function ut(q){if((0,V.as)(/[0-9a-zA-Z]+/.test(q),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(q);const X=new ArrayBuffer(q.length),$=new Uint8Array(X);for(let he=0;he<q.length;he++)$[he]=q.charCodeAt(he);return $}(q),$=yield crypto.subtle.digest("SHA-256",X);return Array.from(new Uint8Array($)).map(ee=>ee.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ge=20;class Oe extends V.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(X=>{this.resolveInialized=X})}addPassiveListener(X){this.passiveListeners.add(X)}removePassiveListener(X){this.passiveListeners.delete(X)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(X){return this.resolveInialized(),this.passiveListeners.forEach($=>$(X)),super.onEvent(X)}initialized(){var X=this;return(0,C.Z)(function*(){yield X.initPromise})()}}function lt(q){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,C.Z)(function*(q){const X=yield Et()._get($t(q));return X&&(yield Et()._remove($t(q))),X})).apply(this,arguments)}function Ut(){const q=[],X="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let $=0;$<Ge;$++){const he=Math.floor(Math.random()*X.length);q.push(X.charAt(he))}return q.join("")}function Et(){return(0,V.aC)(V.b)}function $t(q){return(0,V.aD)("authEvent",q.config.apiKey,q.name)}function pr(q){if(!q?.includes("?"))return{};const[X,...$]=q.split("?");return(0,de.zd)($.join("?"))}const jr=class Br{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aE,this._overrideRedirectResult=V.aF}_initialize(X){var $=this;return(0,C.Z)(function*(){const he=X._key();let ee=$.eventManagers.get(he);return ee||(ee=new Oe(X),$.eventManagers.set(he,ee),$.attachCallbackListeners(X,ee)),ee})()}_openPopup(X){(0,V.av)(X,"operation-not-supported-in-this-environment")}_openRedirect(X,$,he,ee){var B=this;return(0,C.Z)(function*(){!function Ye(q){var X,$,he,ee,B,H,J,fe,Ce,it;const at=xe();(0,V.aA)("function"==typeof(null===(X=at?.universalLinks)||void 0===X?void 0:X.subscribe),q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.aA)(typeof(null===($=at?.BuildInfo)||void 0===$?void 0:$.packageName)<"u",q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.aA)("function"==typeof(null===(B=null===(ee=null===(he=at?.cordova)||void 0===he?void 0:he.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===B?void 0:B.openUrl),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aA)("function"==typeof(null===(fe=null===(J=null===(H=at?.cordova)||void 0===H?void 0:H.plugins)||void 0===J?void 0:J.browsertab)||void 0===fe?void 0:fe.isAvailable),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aA)("function"==typeof(null===(it=null===(Ce=at?.cordova)||void 0===Ce?void 0:Ce.InAppBrowser)||void 0===it?void 0:it.open),q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(X);const H=yield B._initialize(X);yield H.initialized(),H.resetRedirect(),(0,V.aG)(),yield B._originValidation(X);const J=function Xe(q,X,$=null){return{type:X,eventId:$,urlResponse:null,sessionId:Ut(),postBody:null,tenantId:q.tenantId,error:(0,V.az)(q,"no-auth-event")}}(X,he,ee);yield function ct(q,X){return Et()._set($t(q),X)}(X,J);const fe=yield function ae(q,X,$){return se.apply(this,arguments)}(X,J,$),Ce=yield function He(q){const{cordova:X}=xe();return new Promise($=>{X.plugins.browsertab.isAvailable(he=>{let ee=null;he?X.plugins.browsertab.openUrl(q):ee=X.InAppBrowser.open(q,(0,V.ay)()?"_blank":"_system","location=yes"),$(ee)})})}(fe);return function Ze(q,X,$){return ft.apply(this,arguments)}(X,H,Ce)})()}_isIframeWebStorageSupported(X,$){throw new Error("Method not implemented.")}_originValidation(X){const $=X._key();return this.originValidationPromises[$]||(this.originValidationPromises[$]=function me(q){return Fe.apply(this,arguments)}(X)),this.originValidationPromises[$]}attachCallbackListeners(X,$){const{universalLinks:he,handleOpenURL:ee,BuildInfo:B}=xe(),H=setTimeout((0,C.Z)(function*(){yield lt(X),$.onEvent($r())}),500),J=function(){var it=(0,C.Z)(function*(at){clearTimeout(H);const Ft=yield lt(X);let cn=null;Ft&&at?.url&&(cn=function ht(q,X){var $,he;const ee=function Kr(q){const X=pr(q),$=X.link?decodeURIComponent(X.link):void 0,he=pr($).link,ee=X.deep_link_id?decodeURIComponent(X.deep_link_id):void 0;return pr(ee).link||ee||he||$||q}(X);if(ee.includes("/__/auth/callback")){const B=pr(ee),H=B.firebaseError?function St(q){try{return JSON.parse(q)}catch{return null}}(decodeURIComponent(B.firebaseError)):null,J=null===(he=null===($=H?.code)||void 0===$?void 0:$.split("auth/"))||void 0===he?void 0:he[1],fe=J?(0,V.az)(J):null;return fe?{type:q.type,eventId:q.eventId,tenantId:q.tenantId,error:fe,urlResponse:null,sessionId:null,postBody:null}:{type:q.type,eventId:q.eventId,tenantId:q.tenantId,sessionId:q.sessionId,urlResponse:ee,postBody:null}}return null}(Ft,at.url)),$.onEvent(cn||$r())});return function(Ft){return it.apply(this,arguments)}}();typeof he<"u"&&"function"==typeof he.subscribe&&he.subscribe(null,J);const fe=ee,Ce=`${B.packageName.toLowerCase()}://`;xe().handleOpenURL=function(){var it=(0,C.Z)(function*(at){if(at.toLowerCase().startsWith(Ce)&&J({url:at}),"function"==typeof fe)try{fe(at)}catch(Ft){console.error(Ft)}});return function(at){return it.apply(this,arguments)}}()}};function $r(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.az)("no-auth-event")}}const Be=1e3;function ot(){var q;return(null===(q=self?.location)||void 0===q?void 0:q.protocol)||null}function gt(q=(0,de.z$)()){return!("file:"!==ot()&&"ionic:"!==ot()&&"capacitor:"!==ot()||!q.toLowerCase().match(/iphone|ipad|ipod|android/))}function zn(){try{const q=self.localStorage,X=V.aL();if(q)return q.setItem(X,"1"),q.removeItem(X),!function vn(q=(0,de.z$)()){return function gn(){return(0,de.w1)()&&11===document?.documentMode}()||function Zt(q=(0,de.z$)()){return/Edge\/\d+/.test(q)}(q)}()||(0,de.hl)()}catch{return ar()&&(0,de.hl)()}return!1}function ar(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function yn(){return(function De(){return"http:"===ot()||"https:"===ot()}()||(0,de.ru)()||gt())&&!function hn(){return(0,de.b$)()||(0,de.UG)()}()&&zn()&&!ar()}function Mn(){return gt()&&typeof document<"u"}function Wt(){return(Wt=(0,C.Z)(function*(){return!!Mn()&&new Promise(q=>{const X=setTimeout(()=>{q(!1)},Be);document.addEventListener("deviceready",()=>{clearTimeout(X),q(!0)})})})).apply(this,arguments)}const Rn={LOCAL:"local",NONE:"none",SESSION:"session"},qn=V.aA,Yn="persistence";function vr(q){return _n.apply(this,arguments)}function _n(){return(_n=(0,C.Z)(function*(q){yield q._initializationPromise;const X=Mt(),$=V.aD(Yn,q.config.apiKey,q.name);X&&X.setItem($,q._getPersistence())})).apply(this,arguments)}function Mt(){var q;try{return(null===(q=function Ct(){return typeof window<"u"?window:null}())||void 0===q?void 0:q.sessionStorage)||null}catch{return null}}const Yt=V.aA;class jn{constructor(){this.browserResolver=V.aC(V.k),this.cordovaResolver=V.aC(jr),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aE,this._overrideRedirectResult=V.aF}_initialize(X){var $=this;return(0,C.Z)(function*(){return yield $.selectUnderlyingResolver(),$.assertedUnderlyingResolver._initialize(X)})()}_openPopup(X,$,he,ee){var B=this;return(0,C.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._openPopup(X,$,he,ee)})()}_openRedirect(X,$,he,ee){var B=this;return(0,C.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._openRedirect(X,$,he,ee)})()}_isIframeWebStorageSupported(X,$){this.assertedUnderlyingResolver._isIframeWebStorageSupported(X,$)}_originValidation(X){return this.assertedUnderlyingResolver._originValidation(X)}get _shouldInitProactively(){return Mn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var X=this;return(0,C.Z)(function*(){if(X.underlyingResolver)return;const $=yield function cr(){return Wt.apply(this,arguments)}();X.underlyingResolver=$?X.cordovaResolver:X.browserResolver})()}}function An(q){return q.unwrap()}function hr(q){return rr(q)}function rr(q){const{_tokenResponse:X}=q instanceof de.ZR?q.customData:q;if(!X)return null;if(!(q instanceof de.ZR)&&"temporaryProof"in X&&"phoneNumber"in X)return V.P.credentialFromResult(q);const $=X.providerId;if(!$||$===V.p.PASSWORD)return null;let he;switch($){case V.p.GOOGLE:he=V.V;break;case V.p.FACEBOOK:he=V.U;break;case V.p.GITHUB:he=V.W;break;case V.p.TWITTER:he=V.Z;break;default:const{oauthIdToken:ee,oauthAccessToken:B,oauthTokenSecret:H,pendingToken:J,nonce:fe}=X;return B||H||ee||J?J?$.startsWith("saml.")?V.aO._create($,J):V.L._fromParams({providerId:$,signInMethod:$,pendingToken:J,idToken:ee,accessToken:B}):new V.X($).credential({idToken:ee,accessToken:B,rawNonce:fe}):null}return q instanceof de.ZR?he.credentialFromError(q):he.credentialFromResult(q)}function Xt(q,X){return X.catch($=>{throw $ instanceof de.ZR&&function nr(q,X){var $;const he=null===($=X.customData)||void 0===$?void 0:$._tokenResponse;if("auth/multi-factor-auth-required"===X?.code)X.resolver=new ci(q,V.aq(q,X));else if(he){const ee=rr(X),B=X;ee&&(B.credential=ee,B.tenantId=he.tenantId||void 0,B.email=he.email||void 0,B.phoneNumber=he.phoneNumber||void 0)}}(q,$),$}).then($=>{const ee=$.user;return{operationType:$.operationType,credential:hr($),additionalUserInfo:V.ao($),user:nn.getOrCreate(ee)}})}function yr(q,X){return an.apply(this,arguments)}function an(){return(an=(0,C.Z)(function*(q,X){const $=yield X;return{verificationId:$.verificationId,confirm:he=>Xt(q,$.confirm(he))}})).apply(this,arguments)}class ci{constructor(X,$){this.resolver=$,this.auth=function At(q){return q.wrapped()}(X)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(X){return Xt(An(this.auth),this.resolver.resolveSignIn(X))}}class nn{constructor(X){this._delegate=X,this.multiFactor=V.ar(X)}static getOrCreate(X){return nn.USER_MAP.has(X)||nn.USER_MAP.set(X,new nn(X)),nn.USER_MAP.get(X)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(X){return this._delegate.getIdTokenResult(X)}getIdToken(X){return this._delegate.getIdToken(X)}linkAndRetrieveDataWithCredential(X){return this.linkWithCredential(X)}linkWithCredential(X){var $=this;return(0,C.Z)(function*(){return Xt($.auth,V.a0($._delegate,X))})()}linkWithPhoneNumber(X,$){var he=this;return(0,C.Z)(function*(){return yr(he.auth,V.l(he._delegate,X,$))})()}linkWithPopup(X){var $=this;return(0,C.Z)(function*(){return Xt($.auth,V.d($._delegate,X,jn))})()}linkWithRedirect(X){var $=this;return(0,C.Z)(function*(){return yield vr(V.aH($.auth)),V.g($._delegate,X,jn)})()}reauthenticateAndRetrieveDataWithCredential(X){return this.reauthenticateWithCredential(X)}reauthenticateWithCredential(X){var $=this;return(0,C.Z)(function*(){return Xt($.auth,V.a1($._delegate,X))})()}reauthenticateWithPhoneNumber(X,$){return yr(this.auth,V.r(this._delegate,X,$))}reauthenticateWithPopup(X){return Xt(this.auth,V.e(this._delegate,X,jn))}reauthenticateWithRedirect(X){var $=this;return(0,C.Z)(function*(){return yield vr(V.aH($.auth)),V.h($._delegate,X,jn)})()}sendEmailVerification(X){return V.ae(this._delegate,X)}unlink(X){var $=this;return(0,C.Z)(function*(){return yield V.an($._delegate,X),$})()}updateEmail(X){return V.aj(this._delegate,X)}updatePassword(X){return V.ak(this._delegate,X)}updatePhoneNumber(X){return V.u(this._delegate,X)}updateProfile(X){return V.ai(this._delegate,X)}verifyBeforeUpdateEmail(X,$){return V.af(this._delegate,X,$)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}nn.USER_MAP=new WeakMap;const Qn=V.aA;let $n=(()=>{class q{constructor($,he){if(this.app=$,he.isInitialized())return this._delegate=he.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ee}=$.options;Qn(ee,"invalid-api-key",{appName:$.name}),Qn(ee,"invalid-api-key",{appName:$.name});const B=typeof window<"u"?jn:void 0;this._delegate=he.initialize({options:{persistence:_r(ee,$.name),popupRedirectResolver:B}}),this._delegate._updateErrorMap(V.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?nn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode($){this._delegate.languageCode=$}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId($){this._delegate.tenantId=$}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator($,he){V.I(this._delegate,$,he)}applyActionCode($){return V.a5(this._delegate,$)}checkActionCode($){return V.a6(this._delegate,$)}confirmPasswordReset($,he){return V.a4(this._delegate,$,he)}createUserWithEmailAndPassword($,he){var ee=this;return(0,C.Z)(function*(){return Xt(ee._delegate,V.a8(ee._delegate,$,he))})()}fetchProvidersForEmail($){return this.fetchSignInMethodsForEmail($)}fetchSignInMethodsForEmail($){return V.ad(this._delegate,$)}isSignInWithEmailLink($){return V.ab(this._delegate,$)}getRedirectResult(){var $=this;return(0,C.Z)(function*(){Qn(yn(),$._delegate,"operation-not-supported-in-this-environment");const he=yield V.j($._delegate,jn);return he?Xt($._delegate,Promise.resolve(he)):{credential:null,user:null}})()}addFrameworkForLogging($){!function Ie(q,X){(0,V.aH)(q)._logFramework(X)}(this._delegate,$)}onAuthStateChanged($,he,ee){const{next:B,error:H,complete:J}=ir($,he,ee);return this._delegate.onAuthStateChanged(B,H,J)}onIdTokenChanged($,he,ee){const{next:B,error:H,complete:J}=ir($,he,ee);return this._delegate.onIdTokenChanged(B,H,J)}sendSignInLinkToEmail($,he){return V.aa(this._delegate,$,he)}sendPasswordResetEmail($,he){return V.a3(this._delegate,$,he||void 0)}setPersistence($){var he=this;return(0,C.Z)(function*(){let ee;switch(function tr(q,X){qn(Object.values(Rn).includes(X),q,"invalid-persistence-type"),(0,de.b$)()?qn(X!==Rn.SESSION,q,"unsupported-persistence-type"):(0,de.UG)()?qn(X===Rn.NONE,q,"unsupported-persistence-type"):ar()?qn(X===Rn.NONE||X===Rn.LOCAL&&(0,de.hl)(),q,"unsupported-persistence-type"):qn(X===Rn.NONE||zn(),q,"unsupported-persistence-type")}(he._delegate,$),$){case Rn.SESSION:ee=V.a;break;case Rn.LOCAL:ee=(yield V.aC(V.i)._isAvailable())?V.i:V.b;break;case Rn.NONE:ee=V.N;break;default:return V.av("argument-error",{appName:he._delegate.name})}return he._delegate.setPersistence(ee)})()}signInAndRetrieveDataWithCredential($){return this.signInWithCredential($)}signInAnonymously(){return Xt(this._delegate,V._(this._delegate))}signInWithCredential($){return Xt(this._delegate,V.$(this._delegate,$))}signInWithCustomToken($){return Xt(this._delegate,V.a2(this._delegate,$))}signInWithEmailAndPassword($,he){return Xt(this._delegate,V.a9(this._delegate,$,he))}signInWithEmailLink($,he){return Xt(this._delegate,V.ac(this._delegate,$,he))}signInWithPhoneNumber($,he){return yr(this._delegate,V.s(this._delegate,$,he))}signInWithPopup($){var he=this;return(0,C.Z)(function*(){return Qn(yn(),he._delegate,"operation-not-supported-in-this-environment"),Xt(he._delegate,V.c(he._delegate,$,jn))})()}signInWithRedirect($){var he=this;return(0,C.Z)(function*(){return Qn(yn(),he._delegate,"operation-not-supported-in-this-environment"),yield vr(he._delegate),V.f(he._delegate,$,jn)})()}updateCurrentUser($){return this._delegate.updateCurrentUser($)}verifyPasswordResetCode($){return V.a7(this._delegate,$)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return q.Persistence=Rn,q})();function ir(q,X,$){let he=q;"function"!=typeof q&&({next:he,error:X,complete:$}=q);const ee=he;return{next:H=>ee(H&&nn.getOrCreate(H)),error:X,complete:$}}function _r(q,X){const $=function wn(q,X){const $=Mt();if(!$)return[];const he=V.aD(Yn,q,X);switch($.getItem(he)){case Rn.NONE:return[V.N];case Rn.LOCAL:return[V.i,V.a];case Rn.SESSION:return[V.a];default:return[]}}(q,X);if(typeof self<"u"&&!$.includes(V.i)&&$.push(V.i),typeof window<"u")for(const he of[V.b,V.a])$.includes(he)||$.push(he);return $.includes(V.N)||$.push(V.N),$}class Er{constructor(){this.providerId="phone",this._delegate=new V.P(An(m.Z.auth()))}static credential(X,$){return V.P.credential(X,$)}verifyPhoneNumber(X,$){return this._delegate.verifyPhoneNumber(X,$)}unwrap(){return this._delegate}}Er.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,Er.PROVIDER_ID=V.P.PROVIDER_ID;const wr=V.aA;class xr{constructor(X,$,he=m.Z.app()){var ee;wr(null===(ee=he.options)||void 0===ee?void 0:ee.apiKey,"invalid-api-key",{appName:he.name}),this._delegate=new V.R(X,$,he.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ie(q){q.INTERNAL.registerComponent(new Me.wA("auth-compat",X=>{const $=X.getProvider("app-compat").getImmediate(),he=X.getProvider("auth");return new $n($,he)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.Q,FacebookAuthProvider:V.U,GithubAuthProvider:V.W,GoogleAuthProvider:V.V,OAuthProvider:V.X,SAMLAuthProvider:V.Y,PhoneAuthProvider:Er,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:xr,TwitterAuthProvider:V.Z,Auth:$n,AuthCredential:V.J,Error:de.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),q.registerVersion("@firebase/auth-compat","0.4.2")}(m.Z)},5861:(Tt,Le,R)=>{function C(V,de,pe,be,Me,xe,Ae){try{var ae=V[xe](Ae),se=ae.value}catch(me){return void pe(me)}ae.done?de(se):Promise.resolve(se).then(be,Me)}function m(V){return function(){var de=this,pe=arguments;return new Promise(function(be,Me){var xe=V.apply(de,pe);function Ae(se){C(xe,be,Me,Ae,ae,"next",se)}function ae(se){C(xe,be,Me,Ae,ae,"throw",se)}Ae(void 0)})}}R.d(Le,{Z:()=>m})},7582:(Tt,Le,R)=>{function de(Ie,ge){var Pe={};for(var Be in Ie)Object.prototype.hasOwnProperty.call(Ie,Be)&&ge.indexOf(Be)<0&&(Pe[Be]=Ie[Be]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(Be=Object.getOwnPropertySymbols(Ie);ot<Be.length;ot++)ge.indexOf(Be[ot])<0&&Object.prototype.propertyIsEnumerable.call(Ie,Be[ot])&&(Pe[Be[ot]]=Ie[Be[ot]])}return Pe}function me(Ie,ge,Pe,Be){return new(Pe||(Pe=Promise))(function(De,gt){function hn(vn){try{Zt(Be.next(vn))}catch(zn){gt(zn)}}function gn(vn){try{Zt(Be.throw(vn))}catch(zn){gt(zn)}}function Zt(vn){vn.done?De(vn.value):function ot(De){return De instanceof Pe?De:new Pe(function(gt){gt(De)})}(vn.value).then(hn,gn)}Zt((Be=Be.apply(Ie,ge||[])).next())})}function Ge(Ie){return this instanceof Ge?(this.v=Ie,this):new Ge(Ie)}function Oe(Ie,ge,Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,Be=Pe.apply(Ie,ge||[]),De=[];return ot=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),hn("next"),hn("throw"),hn("return",function gt(yn){return function(Mn){return Promise.resolve(Mn).then(yn,zn)}}),ot[Symbol.asyncIterator]=function(){return this},ot;function hn(yn,Mn){Be[yn]&&(ot[yn]=function(cr){return new Promise(function(Wt,Ct){De.push([yn,cr,Wt,Ct])>1||gn(yn,cr)})},Mn&&(ot[yn]=Mn(ot[yn])))}function gn(yn,Mn){try{!function Zt(yn){yn.value instanceof Ge?Promise.resolve(yn.value.v).then(vn,zn):ar(De[0][2],yn)}(Be[yn](Mn))}catch(cr){ar(De[0][3],cr)}}function vn(yn){gn("next",yn)}function zn(yn){gn("throw",yn)}function ar(yn,Mn){yn(Mn),De.shift(),De.length&&gn(De[0][0],De[0][1])}}function ct(Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,ge=Ie[Symbol.asyncIterator];return ge?ge.call(Ie):(Ie=function ft(Ie){var ge="function"==typeof Symbol&&Symbol.iterator,Pe=ge&&Ie[ge],Be=0;if(Pe)return Pe.call(Ie);if(Ie&&"number"==typeof Ie.length)return{next:function(){return Ie&&Be>=Ie.length&&(Ie=void 0),{value:Ie&&Ie[Be++],done:!Ie}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ie),Pe={},Be("next"),Be("throw"),Be("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe);function Be(De){Pe[De]=Ie[De]&&function(gt){return new Promise(function(hn,gn){!function ot(De,gt,hn,gn){Promise.resolve(gn).then(function(Zt){De({value:Zt,done:hn})},gt)}(hn,gn,(gt=Ie[De](gt)).done,gt.value)})}}}R.d(Le,{FC:()=>Oe,KL:()=>ct,_T:()=>de,mG:()=>me,qq:()=>Ge}),"function"==typeof SuppressedError&&SuppressedError}},Tt=>{Tt(Tt.s=4255)}]);