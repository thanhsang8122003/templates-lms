"use strict";(self.webpackChunkaffiliate=self.webpackChunkaffiliate||[]).push([[179],{2011:(It,Ve,L)=>{L.d(Ve,{Dh:()=>Ne,GT:()=>we,Ot:()=>xe,cc:()=>He,hO:()=>Ke,on:()=>se,pX:()=>ve,xv:()=>Pe});var g=L(4650),Q=L(9260),_=L(3324);It=L.hmd(It);const pe=["ngOnDestroy"],ve=(et,st,ht,Xe={})=>new Proxy(et,{get:(Fe,Ye)=>ht.runOutsideAngular(()=>{var mt;if(et[Ye])return!(null===(mt=Xe?.spy)||void 0===mt)&&mt.get&&Xe.spy.get(Ye,et[Ye]),et[Ye];if(pe.indexOf(Ye)>-1)return()=>{};const nt=st.toPromise().then(_t=>{const Ie=_t&&_t[Ye];return"function"==typeof Ie?Ie.bind(_t):Ie&&Ie.then?Ie.then($t=>ht.run(()=>$t)):ht.run(()=>Ie)});return new Proxy(()=>{},{get:(_t,Ie)=>nt[Ie],apply:(_t,Ie,$t)=>nt.then(wt=>{var Gt;const bt=wt&&wt(...$t);return!(null===(Gt=Xe?.spy)||void 0===Gt)&&Gt.apply&&Xe.spy.apply(Ye,$t,bt),bt})})})}),we=(et,st)=>{st.forEach(ht=>{Object.getOwnPropertyNames(ht.prototype||ht).forEach(Xe=>{Object.defineProperty(et.prototype,Xe,Object.getOwnPropertyDescriptor(ht.prototype||ht,Xe))})})};class xe{constructor(st){return st}}const Ne=new g.OlP("angularfire2.app.options"),Pe=new g.OlP("angularfire2.app.name");function se(et,st,ht){const Fe="object"==typeof ht&&ht||{};Fe.name=Fe.name||"string"==typeof ht&&ht||"[DEFAULT]";const mt=Q.Z.apps.filter(nt=>nt&&nt.name===Fe.name)[0]||st.runOutsideAngular(()=>Q.Z.initializeApp(et,Fe));try{JSON.stringify(et)!==JSON.stringify(mt.options)&&ae("error",`${mt.name} Firebase App already initialized with different options${It.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new xe(mt)}const ae=(et,...st)=>{(0,g.X6Q)()&&typeof console<"u"&&console[et](...st)},he={provide:xe,useFactory:se,deps:[Ne,g.R0b,[new g.FiY,Pe]]};let Ke=(()=>{class et{constructor(ht){Q.Z.registerVersion("angularfire",_.q4.full,"core"),Q.Z.registerVersion("angularfire",_.q4.full,"app-compat"),Q.Z.registerVersion("angular",g.q4F.full,ht.toString())}static initializeApp(ht,Xe){return{ngModule:et,providers:[{provide:Ne,useValue:ht},{provide:Pe,useValue:Xe}]}}}return et.\u0275fac=function(ht){return new(ht||et)(g.LFG(g.Lbi))},et.\u0275mod=g.oAB({type:et}),et.\u0275inj=g.cJS({providers:[he]}),et})();function He(et,st,ht,Xe,Fe){const[,Ye,mt]=globalThis.\u0275AngularfireInstanceCache.find(nt=>nt[0]===et)||[];if(Ye)return function Qe(et,st){try{return et.toString()===st.toString()}catch{return et===st}}(Fe,mt)||(Be("error",`${st} was already initialized on the ${ht} Firebase App with different settings.${St?" You may need to reload as Firebase is not HMR aware.":""}`),Be("warn",{is:Fe,was:mt})),Ye;{const nt=Xe();return globalThis.\u0275AngularfireInstanceCache.push([et,nt,Fe]),nt}}const St=!!It.hot,Be=(et,...st)=>{(0,g.X6Q)()&&typeof console<"u"&&console[et](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3324:(It,Ve,L)=>{L.d(Ve,{q4:()=>$o,iC:()=>Vs,fc:()=>Ss,HU:()=>uo,vb:()=>hr,JM:()=>Or});var g=L(4650),Q=L(259),_=L(5861),pe=L(6881),ve=L(2090),we=L(4859),xe=L(1877);L(4727);const Pe="@firebase/remote-config",He=new ve.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class di{constructor(v,T,I,B){this.client=v,this.storage=T,this.storageCache=I,this.logger=B}isCachedDataFresh(v,T){if(!T)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const I=Date.now()-T,B=I<=v;return this.logger.debug(`Config fetch cache check. Cache age millis: ${I}. Cache max age millis (minimumFetchIntervalMillis setting): ${v}. Is cache hit: ${B}.`),B}fetch(v){var T=this;return(0,_.Z)(function*(){const[I,B]=yield Promise.all([T.storage.getLastSuccessfulFetchTimestampMillis(),T.storage.getLastSuccessfulFetchResponse()]);if(B&&T.isCachedDataFresh(v.cacheMaxAgeMillis,I))return B;v.eTag=B&&B.eTag;const ie=yield T.client.fetch(v),Ze=[T.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&Ze.push(T.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(Ze),ie})()}}function Br(G=navigator){return G.languages&&G.languages[0]||G.language}class ti{constructor(v,T,I,B,ie,Ze){this.firebaseInstallations=v,this.sdkVersion=T,this.namespace=I,this.projectId=B,this.apiKey=ie,this.appId=Ze}fetch(v){var T=this;return(0,_.Z)(function*(){const[I,B]=yield Promise.all([T.firebaseInstallations.getId(),T.firebaseInstallations.getToken()]),Ze=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${T.projectId}/namespaces/${T.namespace}:fetch?key=${T.apiKey}`,qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":v.eTag||"*"},Qt={sdk_version:T.sdkVersion,app_instance_id:I,app_instance_id_token:B,app_id:T.appId,language_code:Br()},Wn={method:"POST",headers:qt,body:JSON.stringify(Qt)},Un=fetch(Ze,Wn),kn=new Promise((wi,oi)=>{v.signal.addEventListener(()=>{const Es=new Error("The operation was aborted.");Es.name="AbortError",oi(Es)})});let Qi;try{yield Promise.race([Un,kn]),Qi=yield Un}catch(wi){let oi="fetch-client-network";throw"AbortError"===wi?.name&&(oi="fetch-timeout"),He.create(oi,{originalErrorMessage:wi?.message})}let Xi=Qi.status;const Vr=Qi.headers.get("ETag")||void 0;let Yi,Ji;if(200===Qi.status){let wi;try{wi=yield Qi.json()}catch(oi){throw He.create("fetch-client-parse",{originalErrorMessage:oi?.message})}Yi=wi.entries,Ji=wi.state}if("INSTANCE_STATE_UNSPECIFIED"===Ji?Xi=500:"NO_CHANGE"===Ji?Xi=304:("NO_TEMPLATE"===Ji||"EMPTY_CONFIG"===Ji)&&(Yi={}),304!==Xi&&200!==Xi)throw He.create("fetch-status",{httpStatus:Xi});return{status:Xi,eTag:Vr,config:Yi}})()}}class be{constructor(v,T){this.client=v,this.storage=T}fetch(v){var T=this;return(0,_.Z)(function*(){const I=(yield T.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return T.attemptFetch(v,I)})()}attemptFetch(v,T){var I=this;return(0,_.Z)(function*(B,{throttleEndTimeMillis:ie,backoffCount:Ze}){yield function Zr(G,v){return new Promise((T,I)=>{const B=Math.max(v-Date.now(),0),ie=setTimeout(T,B);G.addEventListener(()=>{clearTimeout(ie),I(He.create("fetch-throttle",{throttleEndTimeMillis:v}))})})}(B.signal,ie);try{const qt=yield I.client.fetch(B);return yield I.storage.deleteThrottleMetadata(),qt}catch(qt){if(!function Ae(G){if(!(G instanceof ve.ZR&&G.customData))return!1;const v=Number(G.customData.httpStatus);return 429===v||500===v||503===v||504===v}(qt))throw qt;const Qt={throttleEndTimeMillis:Date.now()+(0,ve.$s)(Ze),backoffCount:Ze+1};return yield I.storage.setThrottleMetadata(Qt),I.attemptFetch(B,Qt)}}).apply(this,arguments)}}class lt{constructor(v,T,I,B,ie){this.app=v,this._client=T,this._storageCache=I,this._storage=B,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Te(G,v){const T=G.target.error||void 0;return He.create(v,{originalErrorMessage:T&&T?.message})}const Ct="app_namespace_store";class Ln{constructor(v,T,I,B=function Zt(){return new Promise((G,v)=>{try{const T=indexedDB.open("firebase_remote_config",1);T.onerror=I=>{v(Te(I,"storage-open"))},T.onsuccess=I=>{G(I.target.result)},T.onupgradeneeded=I=>{0===I.oldVersion&&I.target.result.createObjectStore(Ct,{keyPath:"compositeKey"})}}catch(T){v(He.create("storage-open",{originalErrorMessage:T?.message}))}})}()){this.appId=v,this.appName=T,this.namespace=I,this.openDbPromise=B}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(v){return this.set("last_fetch_status",v)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(v){return this.set("last_successful_fetch_timestamp_millis",v)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(v){return this.set("last_successful_fetch_response",v)}getActiveConfig(){return this.get("active_config")}setActiveConfig(v){return this.set("active_config",v)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(v){return this.set("active_config_etag",v)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(v){return this.set("throttle_metadata",v)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(v){var T=this;return(0,_.Z)(function*(){const I=yield T.openDbPromise;return new Promise((B,ie)=>{const qt=I.transaction([Ct],"readonly").objectStore(Ct),Qt=T.createCompositeKey(v);try{const Wn=qt.get(Qt);Wn.onerror=Un=>{ie(Te(Un,"storage-get"))},Wn.onsuccess=Un=>{const kn=Un.target.result;B(kn?kn.value:void 0)}}catch(Wn){ie(He.create("storage-get",{originalErrorMessage:Wn?.message}))}})})()}set(v,T){var I=this;return(0,_.Z)(function*(){const B=yield I.openDbPromise;return new Promise((ie,Ze)=>{const Qt=B.transaction([Ct],"readwrite").objectStore(Ct),Wn=I.createCompositeKey(v);try{const Un=Qt.put({compositeKey:Wn,value:T});Un.onerror=kn=>{Ze(Te(kn,"storage-set"))},Un.onsuccess=()=>{ie()}}catch(Un){Ze(He.create("storage-set",{originalErrorMessage:Un?.message}))}})})()}delete(v){var T=this;return(0,_.Z)(function*(){const I=yield T.openDbPromise;return new Promise((B,ie)=>{const qt=I.transaction([Ct],"readwrite").objectStore(Ct),Qt=T.createCompositeKey(v);try{const Wn=qt.delete(Qt);Wn.onerror=Un=>{ie(Te(Un,"storage-delete"))},Wn.onsuccess=()=>{B()}}catch(Wn){ie(He.create("storage-delete",{originalErrorMessage:Wn?.message}))}})})()}createCompositeKey(v){return[this.appId,this.appName,this.namespace,v].join()}}class Mn{constructor(v){this.storage=v}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var v=this;return(0,_.Z)(function*(){const T=v.storage.getLastFetchStatus(),I=v.storage.getLastSuccessfulFetchTimestampMillis(),B=v.storage.getActiveConfig(),ie=yield T;ie&&(v.lastFetchStatus=ie);const Ze=yield I;Ze&&(v.lastSuccessfulFetchTimestampMillis=Ze);const qt=yield B;qt&&(v.activeConfig=qt)})()}setLastFetchStatus(v){return this.lastFetchStatus=v,this.storage.setLastFetchStatus(v)}setLastSuccessfulFetchTimestampMillis(v){return this.lastSuccessfulFetchTimestampMillis=v,this.storage.setLastSuccessfulFetchTimestampMillis(v)}setActiveConfig(v){return this.activeConfig=v,this.storage.setActiveConfig(v)}}function fr(){return rn.apply(this,arguments)}function rn(){return(rn=(0,_.Z)(function*(){if(!(0,ve.hl)())return!1;try{return yield(0,ve.eu)()}catch{return!1}})).apply(this,arguments)}!function Ir(){(0,pe._registerComponent)(new we.wA("remote-config",function G(v,{instanceIdentifier:T}){const I=v.getProvider("app").getImmediate(),B=v.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw He.create("registration-window");if(!(0,ve.hl)())throw He.create("indexed-db-unavailable");const{projectId:ie,apiKey:Ze,appId:qt}=I.options;if(!ie)throw He.create("registration-project-id");if(!Ze)throw He.create("registration-api-key");if(!qt)throw He.create("registration-app-id");const Qt=new Ln(qt,I.name,T=T||"firebase"),Wn=new Mn(Qt),Un=new xe.Yd(Pe);Un.logLevel=xe.in.ERROR;const kn=new ti(B,pe.SDK_VERSION,T,ie,Ze,qt),Qi=new be(kn,Qt),Xi=new di(Qi,Qt,Wn,Un),Vr=new lt(I,Xi,Wn,Qt,Un);return function mt(G){const v=(0,ve.m9)(G);v._initializePromise||(v._initializePromise=v._storageCache.loadFromStorage().then(()=>{v._isInitializationComplete=!0}))}(Vr),Vr},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(Pe,"0.4.4"),(0,pe.registerVersion)(Pe,"0.4.4","esm2017")}();const Dt=(G,v)=>v.some(T=>G instanceof T);let An,ni;const Ur=new WeakMap,mn=new WeakMap,Gn=new WeakMap,Et=new WeakMap,Lt=new WeakMap;let Vt={get(G,v,T){if(G instanceof IDBTransaction){if("done"===v)return mn.get(G);if("objectStoreNames"===v)return G.objectStoreNames||Gn.get(G);if("store"===v)return T.objectStoreNames[1]?void 0:T.objectStore(T.objectStoreNames[0])}return gn(G[v])},set:(G,v,T)=>(G[v]=T,!0),has:(G,v)=>G instanceof IDBTransaction&&("done"===v||"store"===v)||v in G};function wr(G){return"function"==typeof G?function sr(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function vr(){return ni||(ni=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(...v){return G.apply(Fr(this),v),gn(Ur.get(this))}:function(...v){return gn(G.apply(Fr(this),v))}:function(v,...T){const I=G.call(Fr(this),v,...T);return Gn.set(I,v.sort?v.sort():[v]),gn(I)}}(G):(G instanceof IDBTransaction&&function Hn(G){if(mn.has(G))return;const v=new Promise((T,I)=>{const B=()=>{G.removeEventListener("complete",ie),G.removeEventListener("error",Ze),G.removeEventListener("abort",Ze)},ie=()=>{T(),B()},Ze=()=>{I(G.error||new DOMException("AbortError","AbortError")),B()};G.addEventListener("complete",ie),G.addEventListener("error",Ze),G.addEventListener("abort",Ze)});mn.set(G,v)}(G),Dt(G,function br(){return An||(An=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,Vt):G)}function gn(G){if(G instanceof IDBRequest)return function xr(G){const v=new Promise((T,I)=>{const B=()=>{G.removeEventListener("success",ie),G.removeEventListener("error",Ze)},ie=()=>{T(gn(G.result)),B()},Ze=()=>{I(G.error),B()};G.addEventListener("success",ie),G.addEventListener("error",Ze)});return v.then(T=>{T instanceof IDBCursor&&Ur.set(T,G)}).catch(()=>{}),Lt.set(v,G),v}(G);if(Et.has(G))return Et.get(G);const v=wr(G);return v!==G&&(Et.set(G,v),Lt.set(v,G)),v}const Fr=G=>Lt.get(G);function vn(G,v,{blocked:T,upgrade:I,blocking:B,terminated:ie}={}){const Ze=indexedDB.open(G,v),qt=gn(Ze);return I&&Ze.addEventListener("upgradeneeded",Qt=>{I(gn(Ze.result),Qt.oldVersion,Qt.newVersion,gn(Ze.transaction))}),T&&Ze.addEventListener("blocked",()=>T()),qt.then(Qt=>{ie&&Qt.addEventListener("close",()=>ie()),B&&Qt.addEventListener("versionchange",()=>B())}).catch(()=>{}),qt}function Ki(G,{blocked:v}={}){const T=indexedDB.deleteDatabase(G);return v&&T.addEventListener("blocked",()=>v()),gn(T).then(()=>{})}const On=["get","getKey","getAll","getAllKeys","count"],zr=["put","add","delete","clear"],nr=new Map;function Jn(G,v){if(!(G instanceof IDBDatabase)||v in G||"string"!=typeof v)return;if(nr.get(v))return nr.get(v);const T=v.replace(/FromIndex$/,""),I=v!==T,B=zr.includes(T);if(!(T in(I?IDBIndex:IDBObjectStore).prototype)||!B&&!On.includes(T))return;const ie=function(){var Ze=(0,_.Z)(function*(qt,...Qt){const Wn=this.transaction(qt,B?"readwrite":"readonly");let Un=Wn.store;return I&&(Un=Un.index(Qt.shift())),(yield Promise.all([Un[T](...Qt),B&&Wn.done]))[0]});return function(Qt){return Ze.apply(this,arguments)}}();return nr.set(v,ie),ie}!function pr(G){Vt=G(Vt)}(G=>({...G,get:(v,T,I)=>Jn(v,T)||G.get(v,T,I),has:(v,T)=>!!Jn(v,T)||G.has(v,T)}));const Ci="/firebase-messaging-sw.js",Yn="/firebase-cloud-messaging-push-scope",tn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ar="https://fcmregistrations.googleapis.com/v1",le="google.c.a.c_id",re="google.c.a.c_l",fe="google.c.a.ts",We="google.c.a.e";var at=(()=>{return(G=at||(at={})).PUSH_RECEIVED="push-received",G.NOTIFICATION_CLICKED="notification-clicked",at;var G})();function ue(G){const v=new Uint8Array(G);return btoa(String.fromCharCode(...v)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $(G){const T=(G+"=".repeat((4-G.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),I=atob(T),B=new Uint8Array(I.length);for(let ie=0;ie<I.length;++ie)B[ie]=I.charCodeAt(ie);return B}const Y="fcm_token_details_db",J=5,me="fcm_token_object_Store";function ct(){return ct=(0,_.Z)(function*(G){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(Y))return null;let v=null;return(yield vn(Y,J,{upgrade:(I=(0,_.Z)(function*(B,ie,Ze,qt){var Qt;if(ie<2||!B.objectStoreNames.contains(me))return;const Wn=qt.objectStore(me),Un=yield Wn.index("fcmSenderId").get(G);if(yield Wn.clear(),Un)if(2===ie){const kn=Un;if(!kn.auth||!kn.p256dh||!kn.endpoint)return;v={token:kn.fcmToken,createTime:null!==(Qt=kn.createTime)&&void 0!==Qt?Qt:Date.now(),subscriptionOptions:{auth:kn.auth,p256dh:kn.p256dh,endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:"string"==typeof kn.vapidKey?kn.vapidKey:ue(kn.vapidKey)}}}else if(3===ie){const kn=Un;v={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:ue(kn.auth),p256dh:ue(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:ue(kn.vapidKey)}}}else if(4===ie){const kn=Un;v={token:kn.fcmToken,createTime:kn.createTime,subscriptionOptions:{auth:ue(kn.auth),p256dh:ue(kn.p256dh),endpoint:kn.endpoint,swScope:kn.swScope,vapidKey:ue(kn.vapidKey)}}}}),function(ie,Ze,qt,Qt){return I.apply(this,arguments)})})).close(),yield Ki(Y),yield Ki("fcm_vapid_details_db"),yield Ki("undefined"),function Mt(G){if(!G||!G.subscriptionOptions)return!1;const{subscriptionOptions:v}=G;return"number"==typeof G.createTime&&G.createTime>0&&"string"==typeof G.token&&G.token.length>0&&"string"==typeof v.auth&&v.auth.length>0&&"string"==typeof v.p256dh&&v.p256dh.length>0&&"string"==typeof v.endpoint&&v.endpoint.length>0&&"string"==typeof v.swScope&&v.swScope.length>0&&"string"==typeof v.vapidKey&&v.vapidKey.length>0}(v)?v:null;var I}),ct.apply(this,arguments)}const Wt="firebase-messaging-database",on=1,Ee="firebase-messaging-store";let Se=null;function Je(){return Se||(Se=vn(Wt,on,{upgrade:(G,v)=>{0===v&&G.createObjectStore(Ee)}})),Se}function xt(G){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,_.Z)(function*(G){const v=Cn(G),I=yield(yield Je()).transaction(Ee).objectStore(Ee).get(v);if(I)return I;{const B=yield function Me(G){return ct.apply(this,arguments)}(G.appConfig.senderId);if(B)return yield un(G,B),B}}),Nt.apply(this,arguments)}function un(G,v){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,_.Z)(function*(G,v){const T=Cn(G),B=(yield Je()).transaction(Ee,"readwrite");return yield B.objectStore(Ee).put(v,T),yield B.done,v})).apply(this,arguments)}function wn(){return(wn=(0,_.Z)(function*(G){const v=Cn(G),I=(yield Je()).transaction(Ee,"readwrite");yield I.objectStore(Ee).delete(v),yield I.done})).apply(this,arguments)}function Cn({appConfig:G}){return G.appId}const Cr=new ve.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Eo(G,v){return To.apply(this,arguments)}function To(){return(To=(0,_.Z)(function*(G,v){const T=yield Nn(G),I=Yr(v),B={method:"POST",headers:T,body:JSON.stringify(I)};let ie;try{ie=yield(yield fetch(hi(G.appConfig),B)).json()}catch(Ze){throw Cr.create("token-subscribe-failed",{errorInfo:Ze?.toString()})}if(ie.error)throw Cr.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw Cr.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function vt(){return(vt=(0,_.Z)(function*(G,v){const T=yield Nn(G),I=Yr(v.subscriptionOptions),B={method:"PATCH",headers:T,body:JSON.stringify(I)};let ie;try{ie=yield(yield fetch(`${hi(G.appConfig)}/${v.token}`,B)).json()}catch(Ze){throw Cr.create("token-update-failed",{errorInfo:Ze?.toString()})}if(ie.error)throw Cr.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw Cr.create("token-update-no-token");return ie.token})).apply(this,arguments)}function nn(G,v){return rr.apply(this,arguments)}function rr(){return(rr=(0,_.Z)(function*(G,v){const I={method:"DELETE",headers:yield Nn(G)};try{const ie=yield(yield fetch(`${hi(G.appConfig)}/${v}`,I)).json();if(ie.error)throw Cr.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(B){throw Cr.create("token-unsubscribe-failed",{errorInfo:B?.toString()})}})).apply(this,arguments)}function hi({projectId:G}){return`${Ar}/projects/${G}/registrations`}function Nn(G){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,_.Z)(function*({appConfig:G,installations:v}){const T=yield v.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":G.apiKey,"x-goog-firebase-installations-auth":`FIS ${T}`})})).apply(this,arguments)}function Yr({p256dh:G,auth:v,endpoint:T,vapidKey:I}){const B={web:{endpoint:T,auth:v,p256dh:G}};return I!==tn&&(B.web.applicationPubKey=I),B}const Bn=6048e5;function fi(){return fi=(0,_.Z)(function*(G){const v=yield function pn(G,v){return cn.apply(this,arguments)}(G.swRegistration,G.vapidKey),T={vapidKey:G.vapidKey,swScope:G.swRegistration.scope,endpoint:v.endpoint,auth:ue(v.getKey("auth")),p256dh:ue(v.getKey("p256dh"))},I=yield xt(G.firebaseDependencies);if(I){if(function xn(G,v){return v.vapidKey===G.vapidKey&&v.endpoint===G.endpoint&&v.auth===G.auth&&v.p256dh===G.p256dh}(I.subscriptionOptions,T))return Date.now()>=I.createTime+Bn?function ne(G,v){return ye.apply(this,arguments)}(G,{token:I.token,createTime:Date.now(),subscriptionOptions:T}):I.token;try{yield nn(G.firebaseDependencies,I.token)}catch(B){console.warn(B)}return Ge(G.firebaseDependencies,T)}return Ge(G.firebaseDependencies,T)}),fi.apply(this,arguments)}function ri(){return ri=(0,_.Z)(function*(G){const v=yield xt(G.firebaseDependencies);v&&(yield nn(G.firebaseDependencies,v.token),yield function Pn(G){return wn.apply(this,arguments)}(G.firebaseDependencies));const T=yield G.swRegistration.pushManager.getSubscription();return!T||T.unsubscribe()}),ri.apply(this,arguments)}function ye(){return ye=(0,_.Z)(function*(G,v){try{const T=yield function Qr(G,v){return vt.apply(this,arguments)}(G.firebaseDependencies,v),I=Object.assign(Object.assign({},v),{token:T,createTime:Date.now()});return yield un(G.firebaseDependencies,I),T}catch(T){throw yield function fn(G){return ri.apply(this,arguments)}(G),T}}),ye.apply(this,arguments)}function Ge(G,v){return gt.apply(this,arguments)}function gt(){return(gt=(0,_.Z)(function*(G,v){const I={token:yield Eo(G,v),createTime:Date.now(),subscriptionOptions:v};return yield un(G,I),I.token})).apply(this,arguments)}function cn(){return(cn=(0,_.Z)(function*(G,v){return(yield G.pushManager.getSubscription())||G.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$(v)})})).apply(this,arguments)}function qn(G){const v={from:G.from,collapseKey:G.collapse_key,messageId:G.fcmMessageId};return function Er(G,v){if(!v.notification)return;G.notification={};const T=v.notification.title;T&&(G.notification.title=T);const I=v.notification.body;I&&(G.notification.body=I);const B=v.notification.image;B&&(G.notification.image=B);const ie=v.notification.icon;ie&&(G.notification.icon=ie)}(v,G),function bn(G,v){v.data&&(G.data=v.data)}(v,G),function ar(G,v){var T,I,B,ie,Ze;if(!(v.fcmOptions||null!==(T=v.notification)&&void 0!==T&&T.click_action))return;G.fcmOptions={};const qt=null!==(B=null===(I=v.fcmOptions)||void 0===I?void 0:I.link)&&void 0!==B?B:null===(ie=v.notification)||void 0===ie?void 0:ie.click_action;qt&&(G.fcmOptions.link=qt);const Qt=null===(Ze=v.fcmOptions)||void 0===Ze?void 0:Ze.analytics_label;Qt&&(G.fcmOptions.analyticsLabel=Qt)}(v,G),v}function Di(G,v){const T=[];for(let I=0;I<G.length;I++)T.push(G.charAt(I)),I<v.length&&T.push(v.charAt(I));return T.join("")}function Do(G){return Cr.create("missing-app-config-values",{valueName:G})}Di("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Di("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Li{constructor(v,T,I){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const B=function Mi(G){if(!G||!G.options)throw Do("App Configuration Object");if(!G.name)throw Do("App Name");const v=["projectId","apiKey","appId","messagingSenderId"],{options:T}=G;for(const I of v)if(!T[I])throw Do(I);return{appName:G.name,projectId:T.projectId,apiKey:T.apiKey,appId:T.appId,senderId:T.messagingSenderId}}(v);this.firebaseDependencies={app:v,appConfig:B,installations:T,analyticsProvider:I}}_delete(){return Promise.resolve()}}function jr(G){return _s.apply(this,arguments)}function _s(){return(_s=(0,_.Z)(function*(G){try{G.swRegistration=yield navigator.serviceWorker.register(Ci,{scope:Yn}),G.swRegistration.update().catch(()=>{})}catch(v){throw Cr.create("failed-service-worker-registration",{browserErrorMessage:v?.message})}})).apply(this,arguments)}function ii(){return(ii=(0,_.Z)(function*(G,v){if(!v&&!G.swRegistration&&(yield jr(G)),v||!G.swRegistration){if(!(v instanceof ServiceWorkerRegistration))throw Cr.create("invalid-sw-registration");G.swRegistration=v}})).apply(this,arguments)}function $r(){return($r=(0,_.Z)(function*(G,v){v?G.vapidKey=v:G.vapidKey||(G.vapidKey=tn)})).apply(this,arguments)}function Xr(){return Xr=(0,_.Z)(function*(G,v){if(!navigator)throw Cr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Cr.create("permission-blocked");return yield function ts(G,v){return $r.apply(this,arguments)}(G,v?.vapidKey),yield function pi(G,v){return ii.apply(this,arguments)}(G,v?.serviceWorkerRegistration),function Zi(G){return fi.apply(this,arguments)}(G)}),Xr.apply(this,arguments)}function Vi(){return(Vi=(0,_.Z)(function*(G,v,T){const I=function Hi(G){switch(G){case at.NOTIFICATION_CLICKED:return"notification_open";case at.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(v);(yield G.firebaseDependencies.analyticsProvider.get()).logEvent(I,{message_id:T[le],message_name:T[re],message_time:T[fe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function lr(){return lr=(0,_.Z)(function*(G,v){const T=v.data;if(!T.isFirebaseMessaging)return;G.onMessageHandler&&T.messageType===at.PUSH_RECEIVED&&("function"==typeof G.onMessageHandler?G.onMessageHandler(qn(T)):G.onMessageHandler.next(qn(T)));const I=T.data;(function es(G){return"object"==typeof G&&!!G&&le in G})(I)&&"1"===I[We]&&(yield function Ao(G,v,T){return Vi.apply(this,arguments)}(G,T.messageType,I))}),lr.apply(this,arguments)}const Uo="@firebase/messaging",ua=G=>{const v=new Li(G.getProvider("app").getImmediate(),G.getProvider("installations-internal").getImmediate(),G.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",T=>function ws(G,v){return lr.apply(this,arguments)}(v,T)),v},Cs=G=>{const v=G.getProvider("messaging").getImmediate();return{getToken:I=>function ao(G,v){return Xr.apply(this,arguments)}(v,I)}};function Mo(){return bs.apply(this,arguments)}function bs(){return(bs=(0,_.Z)(function*(){try{yield(0,ve.eu)()}catch{return!1}return typeof window<"u"&&(0,ve.hl)()&&(0,ve.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function da(){(0,pe._registerComponent)(new we.wA("messaging",ua,"PUBLIC")),(0,pe._registerComponent)(new we.wA("messaging-internal",Cs,"PRIVATE")),(0,pe.registerVersion)(Uo,"0.12.4"),(0,pe.registerVersion)(Uo,"0.12.4","esm2017")}();var Lr=L(5132),gi=L(4408),ir=L(7565);const Po=new class jo extends ir.v{}(class vi extends gi.o{constructor(v,T){super(v,T),this.scheduler=v,this.work=T}schedule(v,T=0){return T>0?super.schedule(v,T):(this.delay=T,this.state=v,this.scheduler.flush(this),this)}execute(v,T){return T>0||this.closed?super.execute(v,T):this._execute(v,T)}requestAsyncId(v,T,I=0){return null!=I&&I>0||null==I&&this.delay>0?super.requestAsyncId(v,T,I):(v.flush(this),0)}});var Ii=L(4986),Ma=L(8505),rs=L(5363),Js=L(9468);const $o=new g.GfV("7.6.1"),Jr="__angularfire_symbol__analyticsIsSupportedValue",ei="__angularfire_symbol__analyticsIsSupported",bi="__angularfire_symbol__remoteConfigIsSupportedValue",Gr="__angularfire_symbol__remoteConfigIsSupported",lo="__angularfire_symbol__messagingIsSupportedValue",Pr="__angularfire_symbol__messagingIsSupported";function Or(G,v,T){if(v){if(1===v.length)return v[0];const ie=v.filter(Ze=>Ze.app===T);if(1===ie.length)return ie[0]}return T.container.getProvider(G).getImmediate({optional:!0})}globalThis[ei]||(globalThis[ei]=(0,Lr.Gb)().then(G=>globalThis[Jr]=G).catch(()=>globalThis[Jr]=!1)),globalThis[Pr]||(globalThis[Pr]=Mo().then(G=>globalThis[lo]=G).catch(()=>globalThis[lo]=!1)),globalThis[Gr]||(globalThis[Gr]=fr().then(G=>globalThis[bi]=G).catch(()=>globalThis[bi]=!1));const hr=(G,v)=>{const T=v?[v]:(0,Q.C6)(),I=[];return T.forEach(B=>{B.container.getProvider(G).instances.forEach(Ze=>{I.includes(Ze)||I.push(Ze)})}),I};function xi(){}class is{constructor(v,T=Po){this.zone=v,this.delegate=T}now(){return this.delegate.now()}schedule(v,T,I){const B=this.zone;return this.delegate.schedule(function(Ze){B.runGuarded(()=>{v.apply(this,[Ze])})},T,I)}}class yi{constructor(v){this.zone=v,this.task=null}call(v,T){const I=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xi,{},xi,xi)),T.pipe((0,Ma.b)({next:I,complete:I,error:I})).subscribe(v).add(I)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let uo=(()=>{class G{constructor(T){this.ngZone=T,this.outsideAngular=T.runOutsideAngular(()=>new is(Zone.current)),this.insideAngular=T.run(()=>new is(Zone.current,Ii.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return G.\u0275fac=function(T){return new(T||G)(g.LFG(g.R0b))},G.\u0275prov=g.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();function Ui(){const G=globalThis.\u0275AngularFireScheduler;if(!G)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return G}function Ss(G){return G.pipe((0,rs.Q)(Ui().outsideAngular))}function Vs(G){return Ui(),function os(G){return function(T){return(T=T.lift(new yi(G.ngZone))).pipe((0,Js.R)(G.outsideAngular),(0,rs.Q)(G.insideAngular))}}(Ui())(G)}},2090:(It,Ve,L)=>{L.d(Ve,{$s:()=>Ci,BH:()=>Ye,G6:()=>Br,L:()=>Pe,LL:()=>Oe,Pz:()=>Fe,Sg:()=>mt,UG:()=>Ie,US:()=>we,ZB:()=>he,ZR:()=>ke,aH:()=>Xe,b$:()=>Gt,eu:()=>Zr,hl:()=>ti,jU:()=>$t,m9:()=>Ar,ne:()=>Gn,pd:()=>Ur,r3:()=>_n,ru:()=>wt,tV:()=>se,uI:()=>_t,vZ:()=>Dt,w1:()=>ui,xO:()=>br,xb:()=>fr,z$:()=>nt,zI:()=>Ae,zd:()=>vr});const pe=function(le){const re=[];let fe=0;for(let We=0;We<le.length;We++){let De=le.charCodeAt(We);De<128?re[fe++]=De:De<2048?(re[fe++]=De>>6|192,re[fe++]=63&De|128):55296==(64512&De)&&We+1<le.length&&56320==(64512&le.charCodeAt(We+1))?(De=65536+((1023&De)<<10)+(1023&le.charCodeAt(++We)),re[fe++]=De>>18|240,re[fe++]=De>>12&63|128,re[fe++]=De>>6&63|128,re[fe++]=63&De|128):(re[fe++]=De>>12|224,re[fe++]=De>>6&63|128,re[fe++]=63&De|128)}return re},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(le,re){if(!Array.isArray(le))throw Error("encodeByteArray takes an array as a parameter");this.init_();const fe=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,We=[];for(let De=0;De<le.length;De+=3){const at=le[De],ue=De+1<le.length,$=ue?le[De+1]:0,Y=De+2<le.length,J=Y?le[De+2]:0;let ct=(15&$)<<2|J>>6,Mt=63&J;Y||(Mt=64,ue||(ct=64)),We.push(fe[at>>2],fe[(3&at)<<4|$>>4],fe[ct],fe[Mt])}return We.join("")},encodeString(le,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(le):this.encodeByteArray(pe(le),re)},decodeString(le,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(le):function(le){const re=[];let fe=0,We=0;for(;fe<le.length;){const De=le[fe++];if(De<128)re[We++]=String.fromCharCode(De);else if(De>191&&De<224){const at=le[fe++];re[We++]=String.fromCharCode((31&De)<<6|63&at)}else if(De>239&&De<365){const Y=((7&De)<<18|(63&le[fe++])<<12|(63&le[fe++])<<6|63&le[fe++])-65536;re[We++]=String.fromCharCode(55296+(Y>>10)),re[We++]=String.fromCharCode(56320+(1023&Y))}else{const at=le[fe++],ue=le[fe++];re[We++]=String.fromCharCode((15&De)<<12|(63&at)<<6|63&ue)}}return re.join("")}(this.decodeStringToByteArray(le,re))},decodeStringToByteArray(le,re){this.init_();const fe=re?this.charToByteMapWebSafe_:this.charToByteMap_,We=[];for(let De=0;De<le.length;){const at=fe[le.charAt(De++)],$=De<le.length?fe[le.charAt(De)]:0;++De;const J=De<le.length?fe[le.charAt(De)]:64;++De;const Me=De<le.length?fe[le.charAt(De)]:64;if(++De,null==at||null==$||null==J||null==Me)throw new xe;We.push(at<<2|$>>4),64!==J&&(We.push($<<4&240|J>>2),64!==Me&&We.push(J<<6&192|Me))}return We},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let le=0;le<this.ENCODED_VALS.length;le++)this.byteToCharMap_[le]=this.ENCODED_VALS.charAt(le),this.charToByteMap_[this.byteToCharMap_[le]]=le,this.byteToCharMapWebSafe_[le]=this.ENCODED_VALS_WEBSAFE.charAt(le),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[le]]=le,le>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(le)]=le,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(le)]=le)}}};class xe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pe=function(le){return function(le){const re=pe(le);return we.encodeByteArray(re,!0)}(le).replace(/\./g,"")},se=function(le){try{return we.decodeString(le,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function he(le,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===le&&(le={});break;case Array:le=[];break;default:return re}for(const fe in re)!re.hasOwnProperty(fe)||!Ke(fe)||(le[fe]=he(le[fe],re[fe]));return le}function Ke(le){return"__proto__"!==le}const et=()=>{try{return function He(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const le=process.env.__FIREBASE_DEFAULTS__;return le?JSON.parse(le):void 0})()||(()=>{if(typeof document>"u")return;let le;try{le=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const re=le&&se(le[1]);return re&&JSON.parse(re)})()}catch(le){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${le}`)}},Xe=()=>{var le;return null===(le=et())||void 0===le?void 0:le.config},Fe=le=>{var re;return null===(re=et())||void 0===re?void 0:re[`_${le}`]};class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,fe)=>{this.resolve=re,this.reject=fe})}wrapCallback(re){return(fe,We)=>{fe?this.reject(fe):this.resolve(We),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(fe):re(fe,We))}}}function mt(le,re){if(le.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const We=re||"demo-project",De=le.iat||0,at=le.sub||le.user_id;if(!at)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ue=Object.assign({iss:`https://securetoken.google.com/${We}`,aud:We,iat:De,exp:De+3600,auth_time:De,sub:at,user_id:at,firebase:{sign_in_provider:"custom",identities:{}}},le);return[Pe(JSON.stringify({alg:"none",type:"JWT"})),Pe(JSON.stringify(ue)),""].join(".")}function nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _t(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function Ie(){var le;const re=null===(le=et())||void 0===le?void 0:le.forceEnvironment;if("node"===re)return!0;if("browser"===re)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $t(){return"object"==typeof self&&self.self===self}function wt(){const le="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof le&&void 0!==le.id}function Gt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ui(){const le=nt();return le.indexOf("MSIE ")>=0||le.indexOf("Trident/")>=0}function Br(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ti(){try{return"object"==typeof indexedDB}catch{return!1}}function Zr(){return new Promise((le,re)=>{try{let fe=!0;const We="validate-browser-context-for-indexeddb-analytics-module",De=self.indexedDB.open(We);De.onsuccess=()=>{De.result.close(),fe||self.indexedDB.deleteDatabase(We),le(!0)},De.onupgradeneeded=()=>{fe=!1},De.onerror=()=>{var at;re((null===(at=De.error)||void 0===at?void 0:at.message)||"")}}catch(fe){re(fe)}})}function Ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ke extends Error{constructor(re,fe,We){super(fe),this.code=re,this.customData=We,this.name="FirebaseError",Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oe.prototype.create)}}class Oe{constructor(re,fe,We){this.service=re,this.serviceName=fe,this.errors=We}create(re,...fe){const We=fe[0]||{},De=`${this.service}/${re}`,at=this.errors[re],ue=at?function lt(le,re){return le.replace(Te,(fe,We)=>{const De=re[We];return null!=De?String(De):`<${We}?>`})}(at,We):"Error";return new ke(De,`${this.serviceName}: ${ue} (${De}).`,We)}}const Te=/\{\$([^}]+)}/g;function _n(le,re){return Object.prototype.hasOwnProperty.call(le,re)}function fr(le){for(const re in le)if(Object.prototype.hasOwnProperty.call(le,re))return!1;return!0}function Dt(le,re){if(le===re)return!0;const fe=Object.keys(le),We=Object.keys(re);for(const De of fe){if(!We.includes(De))return!1;const at=le[De],ue=re[De];if(An(at)&&An(ue)){if(!Dt(at,ue))return!1}else if(at!==ue)return!1}for(const De of We)if(!fe.includes(De))return!1;return!0}function An(le){return null!==le&&"object"==typeof le}function br(le){const re=[];for(const[fe,We]of Object.entries(le))Array.isArray(We)?We.forEach(De=>{re.push(encodeURIComponent(fe)+"="+encodeURIComponent(De))}):re.push(encodeURIComponent(fe)+"="+encodeURIComponent(We));return re.length?"&"+re.join("&"):""}function vr(le){const re={};return le.replace(/^\?/,"").split("&").forEach(We=>{if(We){const[De,at]=We.split("=");re[decodeURIComponent(De)]=decodeURIComponent(at)}}),re}function Ur(le){const re=le.indexOf("?");if(!re)return"";const fe=le.indexOf("#",re);return le.substring(re,fe>0?fe:void 0)}function Gn(le,re){const fe=new Et(le,re);return fe.subscribe.bind(fe)}class Et{constructor(re,fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=fe,this.task.then(()=>{re(this)}).catch(We=>{this.error(We)})}next(re){this.forEachObserver(fe=>{fe.next(re)})}error(re){this.forEachObserver(fe=>{fe.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,fe,We){let De;if(void 0===re&&void 0===fe&&void 0===We)throw new Error("Missing Observer.");De=function xr(le,re){if("object"!=typeof le||null===le)return!1;for(const fe of re)if(fe in le&&"function"==typeof le[fe])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:fe,complete:We},void 0===De.next&&(De.next=Hn),void 0===De.error&&(De.error=Hn),void 0===De.complete&&(De.complete=Hn);const at=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?De.error(this.finalError):De.complete()}catch{}}),this.observers.push(De),at}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let fe=0;fe<this.observers.length;fe++)this.sendOne(fe,re)}sendOne(re,fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{fe(this.observers[re])}catch(We){typeof console<"u"&&console.error&&console.error(We)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hn(){}const On=1e3,zr=2,nr=144e5,Jn=.5;function Ci(le,re=On,fe=zr){const We=re*Math.pow(fe,le),De=Math.round(Jn*We*(Math.random()-.5)*2);return Math.min(nr,We+De)}function Ar(le){return le&&le._delegate?le._delegate:le}},1908:(It,Ve,L)=>{var g=L(1481),Q=L(433),_=L(4650),pe={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"},CronExpression:{cronError:"Invalid cron expression",second:"second",minute:"minute",hour:"hour",day:"day",month:"month",week:"week",secondError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",minuteError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",hourError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-23</span>Allowable range</p>",dayError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-31</span>Allowable range</p>",monthError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-12</span>Allowable range</p>",weekError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><span>?</span> Not specify</p><p><p><span>0-7</span>Allowable range (0 represents Sunday, 1-7 are Monday to Sunday)</p>"},QRCode:{expired:"QR code expired",refresh:"Refresh"}};const we=new _.OlP("nz-i18n");new _.OlP("nz-date-locale");let se=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({}),n})();new _.OlP("date-config");var tn=L(6895);const Ar=new _.OlP("cdk-dir-doc",{providedIn:"root",factory:function le(){return(0,_.f3M)(tn.K0)}}),re=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ue,We=(()=>{class n{constructor(t){this.value="ltr",this.change=new _.vpe,t&&(this.value=function fe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?re.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Ar,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),at=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({}),n})();try{ue=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ue=!1}let on,Ee,$=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,tn.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ue)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(_.Lbi))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({}),n})();function Se(){if(null==Ee){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ee=!1,Ee;if("scrollBehavior"in document.documentElement.style)Ee=!0;else{const n=Element.prototype.scrollTo;Ee=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ee}function Je(){if("object"!=typeof document||!document)return 0;if(null==on){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),on=0,0===n.scrollLeft&&(n.scrollLeft=1,on=0===n.scrollLeft?1:2),n.remove()}return on}function Pn(n){return n.composedPath?n.composedPath()[0]:n.target}function wn(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Cn=L(7579);function In(n,e){(function Eo(n){return"string"==typeof n&&-1!==n.indexOf(".")&&1===parseFloat(n)})(n)&&(n="100%");var t=function To(n){return"string"==typeof n&&-1!==n.indexOf("%")}(n);return n=360===e?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:n=360===e?(n<0?n%e+e:n%e)/parseFloat(String(e)):n%e/parseFloat(String(e))}function Cr(n){return Math.min(1,Math.max(0,n))}function Qr(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function vt(n){return n<=1?"".concat(100*Number(n),"%"):n}function nn(n){return 1===n.length?"0"+n:String(n)}function hi(n,e,t){n=In(n,255),e=In(e,255),t=In(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),a=0,l=0,p=(r+i)/2;if(r===i)l=0,a=0;else{var y=r-i;switch(l=p>.5?y/(2-r-i):y/(r+i),r){case n:a=(e-t)/y+(e<t?6:0);break;case e:a=(t-n)/y+2;break;case t:a=(n-e)/y+4}a/=6}return{h:a,s:l,l:p}}function Nn(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*t*(e-n):t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Yr(n,e,t){n=In(n,255),e=In(e,255),t=In(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),a=0,l=r,p=r-i,y=0===r?0:p/r;if(r===i)a=0;else{switch(r){case n:a=(e-t)/p+(e<t?6:0);break;case e:a=(t-n)/p+2;break;case t:a=(n-e)/p+4}a/=6}return{h:a,s:y,v:l}}function Zi(n,e,t,r){var i=[nn(Math.round(n).toString(16)),nn(Math.round(e).toString(16)),nn(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function ri(n){return Math.round(255*parseFloat(n)).toString(16)}function ne(n){return ye(n)/255}function ye(n){return parseInt(n,16)}var gt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function pn(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,a=null,l=!1,p=!1;return"string"==typeof n&&(n=function es(n){if(0===(n=n.trim().toLowerCase()).length)return!1;var e=!1;if(gt[n])n=gt[n],e=!0;else if("transparent"===n)return{r:0,g:0,b:0,a:0,format:"name"};var t=ar.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=ar.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=ar.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=ar.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=ar.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=ar.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=ar.hex8.exec(n))?{r:ye(t[1]),g:ye(t[2]),b:ye(t[3]),a:ne(t[4]),format:e?"name":"hex8"}:(t=ar.hex6.exec(n))?{r:ye(t[1]),g:ye(t[2]),b:ye(t[3]),format:e?"name":"hex"}:(t=ar.hex4.exec(n))?{r:ye(t[1]+t[1]),g:ye(t[2]+t[2]),b:ye(t[3]+t[3]),a:ne(t[4]+t[4]),format:e?"name":"hex8"}:!!(t=ar.hex3.exec(n))&&{r:ye(t[1]+t[1]),g:ye(t[2]+t[2]),b:ye(t[3]+t[3]),format:e?"name":"hex"}}(n)),"object"==typeof n&&(Di(n.r)&&Di(n.g)&&Di(n.b)?(e=function rr(n,e,t){return{r:255*In(n,255),g:255*In(e,255),b:255*In(t,255)}}(n.r,n.g,n.b),l=!0,p="%"===String(n.r).substr(-1)?"prgb":"rgb"):Di(n.h)&&Di(n.s)&&Di(n.v)?(r=vt(n.s),i=vt(n.v),e=function Bn(n,e,t){n=6*In(n,360),e=In(e,100),t=In(t,100);var r=Math.floor(n),i=n-r,a=t*(1-e),l=t*(1-i*e),p=t*(1-(1-i)*e),y=r%6;return{r:255*[t,l,a,a,p,t][y],g:255*[p,t,t,l,a,a][y],b:255*[a,a,p,t,t,l][y]}}(n.h,r,i),l=!0,p="hsv"):Di(n.h)&&Di(n.s)&&Di(n.l)&&(r=vt(n.s),a=vt(n.l),e=function Sr(n,e,t){var r,i,a;if(n=In(n,360),e=In(e,100),t=In(t,100),0===e)i=t,a=t,r=t;else{var l=t<.5?t*(1+e):t+e-t*e,p=2*t-l;r=Nn(p,l,n+1/3),i=Nn(p,l,n),a=Nn(p,l,n-1/3)}return{r:255*r,g:255*i,b:255*a}}(n.h,r,a),l=!0,p="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=Qr(t),{ok:l,format:n.format||p,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var qn="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),Er="[\\s|\\(]+(".concat(qn,")[,|\\s]+(").concat(qn,")[,|\\s]+(").concat(qn,")\\s*\\)?"),bn="[\\s|\\(]+(".concat(qn,")[,|\\s]+(").concat(qn,")[,|\\s]+(").concat(qn,")[,|\\s]+(").concat(qn,")\\s*\\)?"),ar={CSS_UNIT:new RegExp(qn),rgb:new RegExp("rgb"+Er),rgba:new RegExp("rgba"+bn),hsl:new RegExp("hsl"+Er),hsla:new RegExp("hsla"+bn),hsv:new RegExp("hsv"+Er),hsva:new RegExp("hsva"+bn),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Di(n){return Boolean(ar.CSS_UNIT.exec(String(n)))}var Mi=function(){function n(e,t){var r;if(void 0===e&&(e=""),void 0===t&&(t={}),e instanceof n)return e;"number"==typeof e&&(e=function Ge(n){return{r:n>>16,g:(65280&n)>>8,b:255&n}}(e)),this.originalInput=e;var i=pn(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=t.format)&&void 0!==r?r:i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),a=e.r/255,l=e.g/255,p=e.b/255;return.2126*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))+.7152*(l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4))+.0722*(p<=.03928?p/12.92:Math.pow((p+.055)/1.055,2.4))},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=Qr(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){return 0===this.toHsl().s},n.prototype.toHsv=function(){var e=Yr(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=Yr(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=hi(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=hi(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return void 0===e&&(e=!1),Zi(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return void 0===e&&(e=!1),function fi(n,e,t,r,i){var a=[nn(Math.round(n).toString(16)),nn(Math.round(e).toString(16)),nn(Math.round(t).toString(16)),nn(ri(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(r,")"):"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(100*In(t,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(100*In(t,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Zi(this.r,this.g,this.b,!1),t=0,r=Object.entries(gt);t<r.length;t++){var i=r[t];if(e===i[1])return i[0]}return!1},n.prototype.toString=function(e){var t=Boolean(e);e=e??this.format;var r=!1;return!t&&this.a<1&&this.a>=0&&(e.startsWith("hex")||"name"===e)?"name"===e&&0===this.a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=Cr(t.l),new n(t)},n.prototype.brighten=function(e){void 0===e&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-e/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-e/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-e/100*255))),new n(t)},n.prototype.darken=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=Cr(t.l),new n(t)},n.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=Cr(t.s),new n(t)},n.prototype.saturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=Cr(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){void 0===t&&(t=50);var r=this.toRgb(),i=new n(e).toRgb(),a=t/100;return new n({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},n.prototype.analogous=function(e,t){void 0===e&&(e=6),void 0===t&&(t=30);var r=this.toHsl(),i=360/t,a=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,a.push(new n(r));return a},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var t=this.toHsv(),r=t.h,i=t.s,a=t.v,l=[],p=1/e;e--;)l.push(new n({h:r,s:i,v:a})),a=(a+p)%1;return l},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb(),i=t.a+r.a*(1-t.a);return new n({r:(t.r*t.a+r.r*r.a*(1-t.a))/i,g:(t.g*t.a+r.g*r.a*(1-t.a))/i,b:(t.b*t.a+r.b*r.a*(1-t.a))/i,a:i})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,i=[this],a=360/e,l=1;l<e;l++)i.push(new n({h:(r+l*a)%360,s:t.s,l:t.l}));return i},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),Li=2,jr=.16,_s=.05,pi=.05,ii=.15,ts=5,$r=4,ao=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Xr(n,e,t){var r;return(r=Math.round(n.h)>=60&&Math.round(n.h)<=240?t?Math.round(n.h)-Li*e:Math.round(n.h)+Li*e:t?Math.round(n.h)+Li*e:Math.round(n.h)-Li*e)<0?r+=360:r>=360&&(r-=360),r}function Ao(n,e,t){return 0===n.h&&0===n.s?n.s:((r=t?n.s-jr*e:e===$r?n.s+jr:n.s+_s*e)>1&&(r=1),t&&e===ts&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Vi(n,e,t){var r;return(r=t?n.v+pi*e:n.v-ii*e)>1&&(r=1),Number(r.toFixed(2))}function Hi(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[],r=new Mi(n),i=ts;i>0;i-=1){var a=r.toHsv(),l=new Mi({h:Xr(a,i,!0),s:Ao(a,i,!0),v:Vi(a,i,!0)}).toHexString();t.push(l)}t.push(r.toHexString());for(var p=1;p<=$r;p+=1){var y=r.toHsv(),M=new Mi({h:Xr(y,p),s:Ao(y,p),v:Vi(y,p)}).toHexString();t.push(M)}return"dark"===e.theme?ao.map(function(N){var U=N.index,te=N.opacity;return new Mi(e.backgroundColor||"#141414").mix(t[U],100*te).toHexString()}):t}var ws={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},lr={},Uo={};Object.keys(ws).forEach(function(n){lr[n]=Hi(ws[n]),lr[n].primary=lr[n][5],Uo[n]=Hi(ws[n],{theme:"dark",backgroundColor:"#141414"}),Uo[n].primary=Uo[n][5]});var mi=L(9646),Lr=L(9751),gi=L(4351),vi=L(9300),ir=L(4004);class jo{}class Po{}class Bi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(l):this.headers.set(a,[l])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(a=>a.toString()),i.length>0){const a=t.toLowerCase();this.headers.set(a,i),this.maybeSetNormalizedName(t,a)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Bi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Bi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Bi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let l=this.headers.get(t);if(!l)return;l=l.filter(p=>-1===a.indexOf(p)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Ma{encodeKey(e){return Jr(e)}encodeValue(e){return Jr(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Js=/%(\d[a-f0-9])/gi,$o={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Jr(n){return encodeURIComponent(n).replace(Js,(e,t)=>$o[t]??e)}function ei(n){return`${n}`}class bi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ma,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rs(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[l,p]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],y=t.get(l)||[];y.push(p),t.set(l,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(ei):[ei(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new bi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ei(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(ei(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class lo{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function kr(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ko(n){return typeof Blob<"u"&&n instanceof Blob}function ea(n){return typeof FormData<"u"&&n instanceof FormData}class Or{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Pr(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Bi),this.context||(this.context=new lo),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+l}}else this.params=new bi,this.urlWithParams=t}serializeBody(){return null===this.body?null:kr(this.body)||ko(this.body)||ea(this.body)||function Oo(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof bi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ea(this.body)?null:ko(this.body)?this.body.type||null:kr(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,M=e.params||this.params;const N=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((U,te)=>U.set(te,e.setHeaders[te]),y)),e.setParams&&(M=Object.keys(e.setParams).reduce((U,te)=>U.set(te,e.setParams[te]),M)),new Or(t,r,a,{params:M,headers:y,context:N,reportProgress:p,responseType:i,withCredentials:l})}}var hr=(()=>((hr=hr||{})[hr.Sent=0]="Sent",hr[hr.UploadProgress=1]="UploadProgress",hr[hr.ResponseHeader=2]="ResponseHeader",hr[hr.DownloadProgress=3]="DownloadProgress",hr[hr.Response=4]="Response",hr[hr.User=5]="User",hr))();class xi{constructor(e,t=200,r="OK"){this.headers=e.headers||new Bi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class is extends xi{constructor(e={}){super(e),this.type=hr.ResponseHeader}clone(e={}){return new is({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class yi extends xi{constructor(e={}){super(e),this.type=hr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new yi({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class uo extends xi{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Ui(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let dn=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof Or)a=t;else{let y,M;y=i.headers instanceof Bi?i.headers:new Bi(i.headers),i.params&&(M=i.params instanceof bi?i.params:new bi({fromObject:i.params})),a=new Or(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:M,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=(0,mi.of)(a).pipe((0,gi.b)(y=>this.handler.handle(y)));if(t instanceof Or||"events"===i.observe)return l;const p=l.pipe((0,vi.h)(y=>y instanceof yi));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return p.pipe((0,ir.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return p.pipe((0,ir.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return p.pipe((0,ir.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return p.pipe((0,ir.U)(y=>y.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new bi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Ui(i,r))}post(t,r,i={}){return this.request("POST",t,Ui(i,r))}put(t,r,i={}){return this.request("PUT",t,Ui(i,r))}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(jo))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();function _i(n,e){return e(n)}function Ss(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Vs=new _.OlP("HTTP_INTERCEPTORS"),os=new _.OlP("HTTP_INTERCEPTOR_FNS");function Hs(){let n=null;return(e,t)=>(null===n&&(n=((0,_.f3M)(Vs,{optional:!0})??[]).reduceRight(Ss,_i)),n(e,t))}let xa=(()=>{class n extends jo{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(os)));this.chain=r.reduceRight((i,a)=>function Ia(n,e,t){return(r,i)=>t.runInContext(()=>e(r,a=>n(a,i)))}(i,a,this.injector),_i)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Po),_.LFG(_.lqb))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();const kn=/^\)\]\}',?\n/;let Xi=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Lr.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((ce,ge)=>i.setRequestHeader(ce,ge.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ce=t.detectContentTypeHeader();null!==ce&&i.setRequestHeader("Content-Type",ce)}if(t.responseType){const ce=t.responseType.toLowerCase();i.responseType="json"!==ce?ce:"text"}const a=t.serializeBody();let l=null;const p=()=>{if(null!==l)return l;const ce=i.statusText||"OK",ge=new Bi(i.getAllResponseHeaders()),Re=function Qi(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return l=new is({headers:ge,status:i.status,statusText:ce,url:Re}),l},y=()=>{let{headers:ce,status:ge,statusText:Re,url:$e}=p(),pt=null;204!==ge&&(pt=typeof i.response>"u"?i.responseText:i.response),0===ge&&(ge=pt?200:0);let Bt=ge>=200&&ge<300;if("json"===t.responseType&&"string"==typeof pt){const At=pt;pt=pt.replace(kn,"");try{pt=""!==pt?JSON.parse(pt):null}catch(Ot){pt=At,Bt&&(Bt=!1,pt={error:Ot,text:pt})}}Bt?(r.next(new yi({body:pt,headers:ce,status:ge,statusText:Re,url:$e||void 0})),r.complete()):r.error(new uo({error:pt,headers:ce,status:ge,statusText:Re,url:$e||void 0}))},M=ce=>{const{url:ge}=p(),Re=new uo({error:ce,status:i.status||0,statusText:i.statusText||"Unknown Error",url:ge||void 0});r.error(Re)};let N=!1;const U=ce=>{N||(r.next(p()),N=!0);let ge={type:hr.DownloadProgress,loaded:ce.loaded};ce.lengthComputable&&(ge.total=ce.total),"text"===t.responseType&&i.responseText&&(ge.partialText=i.responseText),r.next(ge)},te=ce=>{let ge={type:hr.UploadProgress,loaded:ce.loaded};ce.lengthComputable&&(ge.total=ce.total),r.next(ge)};return i.addEventListener("load",y),i.addEventListener("error",M),i.addEventListener("timeout",M),i.addEventListener("abort",M),t.reportProgress&&(i.addEventListener("progress",U),null!==a&&i.upload&&i.upload.addEventListener("progress",te)),i.send(a),r.next({type:hr.Sent}),()=>{i.removeEventListener("error",M),i.removeEventListener("abort",M),i.removeEventListener("load",y),i.removeEventListener("timeout",M),t.reportProgress&&(i.removeEventListener("progress",U),null!==a&&i.upload&&i.upload.removeEventListener("progress",te)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(tn.JF))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();const Vr=new _.OlP("XSRF_ENABLED"),Ji=new _.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),oi=new _.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Es{}let ta=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,tn.Mx)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(tn.K0),_.LFG(_.Lbi),_.LFG(Ji))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();function Sc(n,e){const t=n.url.toLowerCase();if(!(0,_.f3M)(Vr)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,_.f3M)(Es).getToken(),i=(0,_.f3M)(oi);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var qr=(()=>((qr=qr||{})[qr.Interceptors=0]="Interceptors",qr[qr.LegacyInterceptors=1]="LegacyInterceptors",qr[qr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",qr[qr.NoXsrfProtection=3]="NoXsrfProtection",qr[qr.JsonpSupport=4]="JsonpSupport",qr[qr.RequestsMadeViaParent=5]="RequestsMadeViaParent",qr))();function No(n,e){return{\u0275kind:n,\u0275providers:e}}function za(...n){const e=[dn,Xi,xa,{provide:jo,useExisting:xa},{provide:Po,useExisting:Xi},{provide:os,useValue:Sc,multi:!0},{provide:Vr,useValue:!0},{provide:Es,useClass:ta}];for(const t of n)e.push(...t.\u0275providers);return(0,_.MR2)(e)}const Ec=new _.OlP("LEGACY_INTERCEPTOR_FN");let Oa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({providers:[za(No(qr.LegacyInterceptors,[{provide:Ec,useFactory:Hs},{provide:os,useExisting:Ec,multi:!0}]))]}),n})();var eo=L(8505),Ts=L(8746),Wr=L(262),Na=L(3099),Tc=L(5698);const ho="[@ant-design/icons-angular]:";function ul(n){return Hi(n)[0]}function ra(n,e){switch(e){case"fill":return`${n}-fill`;case"outline":return`${n}-o`;case"twotone":return`${n}-twotone`;case void 0:return n;default:throw new Error(`${ho}Theme "${e}" is not a recognized theme!`)}}function je(n){const e=n.split(":");switch(e.length){case 1:return[n,""];case 2:return[e[1],e[0]];default:throw new Error(`${ho}The icon type ${n} is not valid!`)}}function Tr(n){return new Error(`${ho}the icon ${n} does not exist or is not registered.`)}function Rn(){return new Error(`${ho}<svg> tag not found.`)}const ai=new _.OlP("ant_icons");let Ds=(()=>{class n{constructor(t,r,i,a,l){this._rendererFactory=t,this._handler=r,this._document=i,this.sanitizer=a,this._antIcons=l,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new Cn.x,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new dn(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}set twoToneColor({primaryColor:t,secondaryColor:r}){this._twoToneColorPalette.primaryColor=t,this._twoToneColorPalette.secondaryColor=r||ul(t)}get twoToneColor(){return{...this._twoToneColorPalette}}get _disableDynamicLoading(){return!1}useJsonpLoading(){this._enableJsonpLoading?function Zl(n){(0,_.X6Q)()&&console.warn(`${ho} ${n}.`)}("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=t=>{this._jsonpIconLoad$.next(t)})}changeAssetsSource(t){this._assetsUrlRoot=t.endsWith("/")?t:t+"/"}addIcon(...t){t.forEach(r=>{this._svgDefinitions.set(ra(r.name,r.theme),r)})}addIconLiteral(t,r){const[i,a]=je(t);if(!a)throw function Kt(){return new Error(`${ho}Type should have a namespace. Try "namespace:${name}".`)}();this.addIcon({name:t,icon:r})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(t,r){const i=function H(n){return"object"==typeof n&&"string"==typeof n.name&&("string"==typeof n.theme||void 0===n.theme)&&"string"==typeof n.icon}(t)?t:this._svgDefinitions.get(t)||null;if(!i&&this._disableDynamicLoading)throw Tr(t);return(i?(0,mi.of)(i):this._loadIconDynamically(t)).pipe((0,ir.U)(l=>{if(!l)throw Tr(t);return this._loadSVGFromCacheOrCreateNew(l,r)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(t){if(!this._http&&!this._enableJsonpLoading)return(0,mi.of)(function mr(){return function ll(n){console.error(`${ho} ${n}.`)}('you need to import "HttpClientModule" to use dynamic importing.'),null}());let r=this._inProgressFetches.get(t);if(!r){const[i,a]=je(t),l=a?{name:t,icon:""}:function O(n){const e=n.split("-"),t=function Ra(n){return"o"===n?"outline":n}(e.splice(e.length-1,1)[0]);return{name:e.join("-"),theme:t,icon:""}}(i),y=(a?`${this._assetsUrlRoot}assets/${a}/${i}`:`${this._assetsUrlRoot}assets/${l.theme}/${l.name}`)+(this._enableJsonpLoading?".js":".svg"),M=this.sanitizer.sanitize(_.q3G.URL,y);if(!M)throw function Kn(n){return new Error(`${ho}The url "${n}" is unsafe.`)}(y);r=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(l,M):this._http.get(M,{responseType:"text"}).pipe((0,ir.U)(U=>({...l,icon:U})))).pipe((0,eo.b)(U=>this.addIcon(U)),(0,Ts.x)(()=>this._inProgressFetches.delete(t)),(0,Wr.K)(()=>(0,mi.of)(null)),(0,Na.B)()),this._inProgressFetches.set(t,r)}return r}_loadIconDynamicallyWithJsonp(t,r){return new Lr.y(i=>{const a=this._document.createElement("script"),l=setTimeout(()=>{p(),i.error(function si(){return new Error(`${ho}Importing timeout error.`)}())},6e3);function p(){a.parentNode.removeChild(a),clearTimeout(l)}a.src=r,this._document.body.appendChild(a),this._jsonpIconLoad$.pipe((0,vi.h)(y=>y.name===t.name&&y.theme===t.theme),(0,Tc.q)(1)).subscribe(y=>{i.next(y),p()})})}_loadSVGFromCacheOrCreateNew(t,r){let i;const a=r||this._twoToneColorPalette.primaryColor,l=ul(a)||this._twoToneColorPalette.secondaryColor,p="twotone"===t.theme?function tc(n,e,t,r){return`${ra(n,e)}-${t}-${r}`}(t.name,t.theme,a,l):void 0===t.theme?t.name:ra(t.name,t.theme),y=this._svgRenderedDefinitions.get(p);return y?i=y.icon:(i=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(function rt(n){return""!==je(n)[1]}(t.name)?t.icon:function oe(n){return n.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}(t.icon)),"twotone"===t.theme,a,l)),this._svgRenderedDefinitions.set(p,{...t,icon:i})),function q(n){return n.cloneNode(!0)}(i)}_createSVGElementFromString(t){const r=this._document.createElement("div");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Rn;return i}_setSVGAttribute(t){return this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em"),t}_colorizeSVGIcon(t,r,i,a){if(r){const l=t.childNodes,p=l.length;for(let y=0;y<p;y++){const M=l[y];"secondaryColor"===M.getAttribute("fill")?this._renderer.setAttribute(M,"fill",a):this._renderer.setAttribute(M,"fill",i)}}return this._renderer.setAttribute(t,"fill","currentColor"),t}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(_.FYo),_.LFG(Po,8),_.LFG(tn.K0,8),_.LFG(g.H7),_.LFG(ai,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();const Ms={isTestMode:!1},_o={};const dl=(...n)=>function Ku(n,...e){(Ms.isTestMode||(0,_.X6Q)()&&function Dc(...n){const e=n.reduce((t,r)=>t+r.toString(),"");return!_o[e]&&(_o[e]=!0,!0)}(...e))&&n(...e)}((...e)=>console.warn("[NG-ZORRO]:",...e),...n),Is={name:"appstore-add",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z" /></svg>'},qo={name:"export",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7zm18.6-251.7L765 393.7c-5.3-4.2-13-.4-13 6.3v76H438c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z" /></svg>'},o7={name:"save",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z" /></svg>'},X2={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var r0=L(9718);const Oh=2,Z6=.16,cv=.05,lv=.05,Q6=.15,uv=5,o0=4,dv=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function X6({r:n,g:e,b:t}){const r=Yr(n,e,t);return{h:360*r.h,s:r.s,v:r.v}}function s0({r:n,g:e,b:t}){return`#${Zi(n,e,t,!1)}`}function J6(n,e,t){let r;return r=Math.round(n.h)>=60&&Math.round(n.h)<=240?t?Math.round(n.h)-Oh*e:Math.round(n.h)+Oh*e:t?Math.round(n.h)+Oh*e:Math.round(n.h)-Oh*e,r<0?r+=360:r>=360&&(r-=360),r}function ef(n,e,t){if(0===n.h&&0===n.s)return n.s;let r;return r=t?n.s-Z6*e:e===o0?n.s+Z6:n.s+cv*e,r>1&&(r=1),t&&e===uv&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function tf(n,e,t){let r;return r=t?n.v+lv*e:n.v-Q6*e,r>1&&(r=1),Number(r.toFixed(2))}function nf(n,e={}){const t=[],r=pn(n);for(let i=uv;i>0;i-=1){const a=X6(r),l=s0(pn({h:J6(a,i,!0),s:ef(a,i,!0),v:tf(a,i,!0)}));t.push(l)}t.push(s0(r));for(let i=1;i<=o0;i+=1){const a=X6(r),l=s0(pn({h:J6(a,i),s:ef(a,i),v:tf(a,i)}));t.push(l)}return"dark"===e.theme?dv.map(({index:i,opacity:a})=>s0(function hv(n,e,t){const r=t/100;return{r:(e.r-n.r)*r+n.r,g:(e.g-n.g)*r+n.g,b:(e.b-n.b)*r+n.b}}(pn(e.backgroundColor||"#141414"),pn(t[i]),100*a))):t}function _f(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}typeof window<"u"&&window;const wf="rc-util-key";function Cf({mark:n}={}){return n?n.startsWith("data-")?n:`data-${n}`:wf}function Lo(n){return n.attachTo?n.attachTo:document.querySelector("head")||document.body}function Al(n,e={}){if(!_f())return null;const t=document.createElement("style");e.csp?.nonce&&(t.nonce=e.csp?.nonce),t.innerHTML=n;const r=Lo(e),{firstChild:i}=r;return e.prepend&&r.prepend?r.prepend(t):e.prepend&&i?r.insertBefore(t,i):r.appendChild(t),t}const f0=new Map;const p0=new _.OlP("nz-config"),$1=`-ant-${Date.now()}-${Math.random()}`;function Bh(n,e){const t=function Sv(n,e){const t={},r=(l,p)=>{let y=l.clone();return y=p?.(y)||y,y.toRgbString()},i=(l,p)=>{const y=new Mi(l),M=nf(y.toRgbString());t[`${p}-color`]=r(y),t[`${p}-color-disabled`]=M[1],t[`${p}-color-hover`]=M[4],t[`${p}-color-active`]=M[7],t[`${p}-color-outline`]=y.clone().setAlpha(.2).toRgbString(),t[`${p}-color-deprecated-bg`]=M[1],t[`${p}-color-deprecated-border`]=M[3]};if(e.primaryColor){i(e.primaryColor,"primary");const l=new Mi(e.primaryColor),p=nf(l.toRgbString());p.forEach((M,N)=>{t[`primary-${N+1}`]=M}),t["primary-color-deprecated-l-35"]=r(l,M=>M.lighten(35)),t["primary-color-deprecated-l-20"]=r(l,M=>M.lighten(20)),t["primary-color-deprecated-t-20"]=r(l,M=>M.tint(20)),t["primary-color-deprecated-t-50"]=r(l,M=>M.tint(50)),t["primary-color-deprecated-f-12"]=r(l,M=>M.setAlpha(.12*M.getAlpha()));const y=new Mi(p[0]);t["primary-color-active-deprecated-f-30"]=r(y,M=>M.setAlpha(.3*M.getAlpha())),t["primary-color-active-deprecated-d-02"]=r(y,M=>M.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`\n  :root {\n    ${Object.keys(t).map(l=>`--${n}-${l}: ${t[l]};`).join("\n")}\n  }\n  `.trim()}(n,e);_f()?function YT(n,e,t={}){const r=Lo(t);if(!f0.has(r)){const l=Al("",t),{parentNode:p}=l;f0.set(r,p),p.removeChild(l)}const i=function bf(n,e={}){const t=Lo(e);return Array.from(f0.get(t)?.children||[]).find(r=>"STYLE"===r.tagName&&r.getAttribute(Cf(e))===n)}(e,t);if(i)return t.csp?.nonce&&i.nonce!==t.csp?.nonce&&(i.nonce=t.csp?.nonce),i.innerHTML!==n&&(i.innerHTML=n),i;const a=Al(n,t);a?.setAttribute(Cf(t),e)}(t,`${$1}-dynamic-theme`):dl("NzConfigService: SSR do not support dynamic theme with css variables.")}let Ev=(()=>{class n{constructor(t){this.configUpdated$=new Cn.x,this.config=t||{},this.config.theme&&Bh(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme)}getConfig(){return this.config}getConfigForComponent(t){return this.config[t]}getConfigChangeEventForComponent(t){return this.configUpdated$.pipe((0,vi.h)(r=>r===t),(0,r0.h)(void 0))}set(t,r){this.config[t]={...this.config[t],...r},"theme"===t&&this.config.theme&&Bh(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme),this.configUpdated$.next(t)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(p0,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tv=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},X2,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},X2,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],Uh=new _.OlP("nz_icons"),g0=(new _.OlP("nz_icon_default_twotone_color"),"#1890ff");let Yh=(()=>{class n extends Ds{constructor(t,r,i,a,l,p,y){super(t,l,p,r,[...Tv,...y||[]]),this.nzConfigService=i,this.platform=a,this.configUpdated$=new Cn.x,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(t){t.getAttribute("viewBox")||this._renderer.setAttribute(t,"viewBox","0 0 1024 1024"),(!t.getAttribute("width")||!t.getAttribute("height"))&&(this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em")),t.getAttribute("fill")||this._renderer.setAttribute(t,"fill","currentColor")}fetchFromIconfont(t){const{scriptUrl:r}=t;if(this._document&&!this.iconfontCache.has(r)){const i=this._renderer.createElement("script");this._renderer.setAttribute(i,"src",r),this._renderer.setAttribute(i,"data-namespace",r.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,i),this.iconfontCache.add(r)}}createIconfontIcon(t){return this._createSVGElementFromString(`<svg><use xlink:href="${t}"></svg>`)}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const t=this.getConfig();this.defaultTheme=t.nzTheme||"outline"}configDefaultTwotoneColor(){const r=this.getConfig().nzTwotoneColor||g0;let i=g0;r&&(r.startsWith("#")?i=r:dl("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:i}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(_.FYo),_.LFG(g.H7),_.LFG(Ev),_.LFG($),_.LFG(Po,8),_.LFG(tn.K0,8),_.LFG(Uh,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jh=new _.OlP("nz_icons_patch");let $T=(()=>{class n{constructor(t,r){this.extraIcons=t,this.rootIconService=r,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(t=>this.rootIconService.addIcon(t)),this.patched=!0)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(jh,2),_.LFG(Yh))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})(),$h=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:Uh,useValue:t}]}}static forChild(t){return{ngModule:n,providers:[$T,{provide:jh,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[Y]}),n})();function q1(n){return Array.isArray(n)?n:[n]}function Gi(n){return null==n?"":"string"==typeof n?n:`${n}px`}var Tf=L(8421),xv=L(5577),zv=L(1144),Uc=L(576),Df=L(3268);const Mf=["addListener","removeListener"],Av=["addEventListener","removeEventListener"],If=["on","off"];function W1(n,e,t,r){if((0,Uc.m)(t)&&(r=t,t=void 0),r)return W1(n,e,t).pipe((0,Df.Z)(r));const[i,a]=function kv(n){return(0,Uc.m)(n.addEventListener)&&(0,Uc.m)(n.removeEventListener)}(n)?Av.map(l=>p=>n[l](e,p,t)):function Pv(n){return(0,Uc.m)(n.addListener)&&(0,Uc.m)(n.removeListener)}(n)?Mf.map(xf(n,e)):function zf(n){return(0,Uc.m)(n.on)&&(0,Uc.m)(n.off)}(n)?If.map(xf(n,e)):[];if(!i&&(0,zv.z)(n))return(0,xv.z)(l=>W1(l,e,t))((0,Tf.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Lr.y(l=>{const p=(...y)=>l.next(1<y.length?y:y[0]);return i(p),()=>a(p)})}function xf(n,e){return t=>r=>n[t](e,r)}var v0=L(4408),K1=L(727);const wu={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=wu;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new K1.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=wu;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=wu;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Pf=L(7565);const WT=new class Ov extends Pf.v{flush(e){let t;this._active=!0,e?t=e.id:(t=this._scheduled,this._scheduled=void 0);const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Af extends v0.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=wu.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&t===e._scheduled&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(wu.cancelAnimationFrame(t),e._scheduled=void 0)}});let kf,KT=1;const y0={};function Rv(n){return n in y0&&(delete y0[n],!0)}const ZT={setImmediate(n){const e=KT++;return y0[e]=!0,kf||(kf=Promise.resolve()),kf.then(()=>Rv(e)&&n()),e},clearImmediate(n){Rv(n)}},{setImmediate:QT,clearImmediate:XT}=ZT,Pl={setImmediate(...n){const{delegate:e}=Pl;return(e?.setImmediate||QT)(...n)},clearImmediate(n){const{delegate:e}=Pl;return(e?.clearImmediate||XT)(n)},delegate:void 0},Gh=new class Of extends Pf.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class JT extends v0.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Pl.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(Pl.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var Z1=L(4986),qh=L(4482),Yc=L(5403),Lv=L(3532);function _0(n,e=Z1.z){return function Nf(n){return(0,qh.e)((e,t)=>{let r=!1,i=null,a=null,l=!1;const p=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const M=i;i=null,t.next(M)}l&&t.complete()},y=()=>{a=null,l&&t.complete()};e.subscribe((0,Yc.x)(t,M=>{r=!0,i=M,a||(0,Tf.Xf)(n(M)).subscribe(a=(0,Yc.x)(t,p,y))},()=>{l=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>function Vv(n=0,e,t=Z1.P){let r=-1;return null!=e&&((0,Lv.K)(e)?t=e:r=e),new Lr.y(i=>{let a=function eD(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let l=0;return t.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e))}var Hv=L(5032);function kl(n){return(0,qh.e)((e,t)=>{(0,Tf.Xf)(n).subscribe((0,Yc.x)(t,()=>t.complete(),Hv.Z)),!t.closed&&e.subscribe(t)})}var Q1=L(8675);const tD=["contentWrapper"],nD=["*"],rD=new _.OlP("VIRTUAL_SCROLL_STRATEGY");let Wh=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Cn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Lr.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(_0(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,mi.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe((0,vi.h)(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=function GT(n){return n instanceof _.SBq?n.nativeElement:n}(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>W1(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(_.R0b),_.LFG($),_.LFG(tn.K0,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w0=(()=>{class n{constructor(t,r,i,a){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=a,this._destroyed=new Cn.x,this._elementScrolled=new Lr.y(l=>this.ngZone.runOutsideAngular(()=>W1(this.elementRef.nativeElement,"scroll").pipe(kl(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=Je()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==Je()?t.left=t.right:1==Je()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;Se()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",a=this.elementRef.nativeElement;if("top"==t)return a.scrollTop;if("bottom"==t)return a.scrollHeight-a.clientHeight-a.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==t?t=l?i:r:"end"==t&&(t=l?r:i),l&&2==Je()?t==r?a.scrollWidth-a.clientWidth-a.scrollLeft:a.scrollLeft:l&&1==Je()?t==r?a.scrollLeft+a.scrollWidth-a.clientWidth:-a.scrollLeft:t==r?a.scrollLeft:a.scrollWidth-a.clientWidth-a.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(_.Y36(_.SBq),_.Y36(Wh),_.Y36(_.R0b),_.Y36(We,8))},n.\u0275dir=_.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Ff=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Cn.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(_0(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(_.LFG($),_.LFG(_.R0b),_.LFG(tn.K0,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aa=new _.OlP("VIRTUAL_SCROLLABLE");let Bv=(()=>{class n extends w0{constructor(t,r,i,a){super(t,r,i,a)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(_.Y36(_.SBq),_.Y36(Wh),_.Y36(_.R0b),_.Y36(We,8))},n.\u0275dir=_.lG2({type:n,features:[_.qOj]}),n})();const Uv=typeof requestAnimationFrame<"u"?WT:Gh;let cD=(()=>{class n extends Bv{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=function Ef(n){return null!=n&&"false"!=`${n}`}(t)}constructor(t,r,i,a,l,p,y,M){super(t,p,i,l),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=a,this.scrollable=M,this._platform=(0,_.f3M)($),this._detachedSubject=new Cn.x,this._renderedRangeSubject=new Cn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Lr.y(N=>this._scrollStrategy.scrolledIndexChange.subscribe(U=>Promise.resolve().then(()=>this.ngZone.run(()=>N.next(U))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=K1.w0.EMPTY,this._viewportChanges=y.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,Q1.O)(null),_0(0,Uv)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(kl(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function C0(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const a="horizontal"==this.orientation,l=a?"X":"Y";let y=`translate${l}(${Number((a&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(y+=` translate${l}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=y&&(this._renderedContentTransform=y,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",a="right",l="rtl"==this.dir?.value;r="start"==t?l?a:i:"end"==t?l?i:a:t||("horizontal"===this.orientation?"left":"top");const p=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-p}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(_.Y36(_.SBq),_.Y36(_.sBO),_.Y36(_.R0b),_.Y36(rD,8),_.Y36(We,8),_.Y36(Wh),_.Y36(Ff),_.Y36(aa,8))},n.\u0275cmp=_.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&_.Gf(tD,7),2&t){let i;_.iGM(i=_.CRH())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&_.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[_._Bn([{provide:w0,useFactory:(e,t)=>e||t,deps:[[new _.FiY,new _.tBr(aa)],n]}]),_.qOj,_.jDz],ngContentSelectors:nD,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(_.F$t(),_.TgZ(0,"div",0,1),_.Hsn(2),_.qZA(),_._UZ(3,"div",2)),2&t&&(_.xp6(3),_.Udp("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Vf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({}),n})(),X1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[at,Vf,cD,at,Vf]}),n})();class Kh{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class qv extends Kh{constructor(e,t,r,i,a){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=a}}class b0 extends Kh{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class gc extends Kh{constructor(e){super(),this.element=e instanceof _.SBq?e.nativeElement:e}}class jc{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof qv?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof b0?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof gc?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class S0 extends jc{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=l=>{const p=l.element,y=this._document.createComment("dom-portal");p.parentNode.insertBefore(y,p),this.outletElement.appendChild(p),this._attachedPortal=l,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(p,y)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||_.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Hf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({}),n})(),E0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[tn.ez]}),n})();new _.OlP("nz-empty-component-name");let CD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[at,tn.ez,Hf,E0,se]}),n})(),bD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[Y]}),n})();var $f=L(6451);const J1=Se();class s9{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Gi(-this._previousScrollPosition.left),e.style.top=Gi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),J1&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),J1&&(r.scrollBehavior=a,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Gf{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe((0,vi.h)(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class $c{enable(){}disable(){}attach(){}}function Xh(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Jh(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class T0{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Xh(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let a9=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new $c,this.close=l=>new Gf(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new s9(this._viewportRuler,this._document),this.reposition=l=>new T0(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Wh),_.LFG(Ff),_.LFG(_.R0b),_.LFG(tn.K0))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class D0{constructor(e){if(this.scrollStrategy=new $c,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class zi{constructor(e,t,r,i,a){this.offsetX=r,this.offsetY=i,this.panelClass=a,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class ED{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let c9=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(tn.K0))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qf=(()=>{class n extends c9{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let l=a.length-1;l>-1;l--)if(a[l]._keydownEvents.observers.length>0){const p=a[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>p.next(i)):p.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(tn.K0),_.LFG(_.R0b,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l9=(()=>{class n extends c9{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Pn(a)},this._clickListener=a=>{const l=Pn(a),p="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const y=this._attachedOverlays.slice();for(let M=y.length-1;M>-1;M--){const N=y[M];if(N._outsidePointerEvents.observers.length<1||!N.hasAttached())continue;if(N.overlayElement.contains(l)||N.overlayElement.contains(p))break;const U=N._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>U.next(a)):U.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(tn.K0),_.LFG($),_.LFG(_.R0b,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wf=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||wn()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),wn()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(tn.K0),_.LFG($))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class u9{constructor(e,t,r,i,a,l,p,y,M,N=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=l,this._document=p,this._location=y,this._outsideClickDispatcher=M,this._animationsDisabled=N,this._backdropElement=null,this._backdropClick=new Cn.x,this._attachments=new Cn.x,this._detachments=new Cn.x,this._locationChanges=K1.w0.EMPTY,this._backdropClickHandler=U=>this._backdropClick.next(U),this._backdropTransitionendHandler=U=>{this._disposeBackdrop(U.target)},this._keydownEvents=new Cn.x,this._outsidePointerEvents=new Cn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Tc.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Gi(this._config.width),e.height=Gi(this._config.height),e.minWidth=Gi(this._config.minWidth),e.minHeight=Gi(this._config.minHeight),e.maxWidth=Gi(this._config.maxWidth),e.maxHeight=Gi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=q1(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(kl((0,$f.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Kf="cdk-overlay-connected-position-bounding-box",Zf=/([A-Za-z%]+)$/;class Qf{get positions(){return this._preferredPositions}constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Cn.x,this._resizeSubscription=K1.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(Kf),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let l;for(let p of this._preferredPositions){let y=this._getOriginPoint(e,i,p),M=this._getOverlayPoint(y,t,p),N=this._getOverlayFit(M,t,r,p);if(N.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(p,y);this._canFitWithFlexibleDimensions(N,M,r)?a.push({position:p,origin:y,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(y,p)}):(!l||l.overlayFit.visibleArea<N.visibleArea)&&(l={overlayFit:N,overlayPoint:M,originPoint:y,position:p,overlayRect:t})}if(a.length){let p=null,y=-1;for(const M of a){const N=M.boundingBoxRect.width*M.boundingBoxRect.height*(M.position.weight||1);N>y&&(y=N,p=M)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Gc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Kf),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,p=this._isRtl()?e.left:e.right;i="start"==r.originX?l:p}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=Jf(t);let{x:l,y:p}=e,y=this._getOffset(i,"x"),M=this._getOffset(i,"y");y&&(l+=y),M&&(p+=M);let te=0-p,ce=p+a.height-r.height,ge=this._subtractOverflows(a.width,0-l,l+a.width-r.width),Re=this._subtractOverflows(a.height,te,ce),$e=ge*Re;return{visibleArea:$e,isCompletelyWithinViewport:a.width*a.height===$e,fitsInViewportVertically:Re===a.height,fitsInViewportHorizontally:ge==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,l=Xf(this._overlayRef.getConfig().minHeight),p=Xf(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=l&&l<=i)&&(e.fitsInViewportHorizontally||null!=p&&p<=a)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=Jf(t),a=this._viewportRect,l=Math.max(e.x+i.width-a.width,0),p=Math.max(e.y+i.height-a.height,0),y=Math.max(a.top-r.top-e.y,0),M=Math.max(a.left-r.left-e.x,0);let N=0,U=0;return N=i.width<=a.width?M||-l:e.x<this._viewportMargin?a.left-r.left-e.x:0,U=i.height<=a.height?y||-p:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:N,y:U},{x:e.x+N,y:e.y+U}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new ED(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,l,p,N,U,te;if("top"===t.overlayY)l=e.y,a=r.height-l+this._viewportMargin;else if("bottom"===t.overlayY)p=r.height-e.y+2*this._viewportMargin,a=r.height-p+this._viewportMargin;else{const ce=Math.min(r.bottom-e.y+r.top,e.y),ge=this._lastBoundingBoxSize.height;a=2*ce,l=e.y-ce,a>ge&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-ge/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)te=r.width-e.x+this._viewportMargin,N=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)U=e.x,N=r.right-e.x;else{const ce=Math.min(r.right-e.x+r.left,e.x),ge=this._lastBoundingBoxSize.width;N=2*ce,U=e.x-ce,N>ge&&!this._isInitialRender&&!this._growAfterOpen&&(U=e.x-ge/2)}return{top:l,left:U,bottom:p,right:te,width:N,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=Gi(r.height),i.top=Gi(r.top),i.bottom=Gi(r.bottom),i.width=Gi(r.width),i.left=Gi(r.left),i.right=Gi(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=Gi(a)),l&&(i.maxWidth=Gi(l))}this._lastBoundingBoxSize=r,Gc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Gc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Gc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const N=this._viewportRuler.getViewportScrollPosition();Gc(r,this._getExactOverlayY(t,e,N)),Gc(r,this._getExactOverlayX(t,e,N))}else r.position="static";let p="",y=this._getOffset(t,"x"),M=this._getOffset(t,"y");y&&(p+=`translateX(${y}px) `),M&&(p+=`translateY(${M}px)`),r.transform=p.trim(),l.maxHeight&&(i?r.maxHeight=Gi(l.maxHeight):a&&(r.maxHeight="")),l.maxWidth&&(i?r.maxWidth=Gi(l.maxWidth):a&&(r.maxWidth="")),Gc(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=Gi(a.y),i}_getExactOverlayX(e,t,r){let l,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=Gi(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Jh(e,r),isOriginOutsideView:Xh(e,r),isOverlayClipped:Jh(t,r),isOverlayOutsideView:Xh(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&q1(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof _.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Gc(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Xf(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Zf);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Jf(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const h9="cdk-global-overlay-wrapper";class tp{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(h9),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:l,maxHeight:p}=r,y=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),M=!("100%"!==a&&"100vh"!==a||p&&"100%"!==p&&"100vh"!==p),N=this._xPosition,U=this._xOffset,te="rtl"===this._overlayRef.getConfig().direction;let ce="",ge="",Re="";y?Re="flex-start":"center"===N?(Re="center",te?ge=U:ce=U):te?"left"===N||"end"===N?(Re="flex-end",ce=U):("right"===N||"start"===N)&&(Re="flex-start",ge=U):"left"===N||"start"===N?(Re="flex-start",ce=U):("right"===N||"end"===N)&&(Re="flex-end",ge=U),e.position=this._cssPosition,e.marginLeft=y?"0":ce,e.marginTop=M?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=y?"0":ge,t.justifyContent=Re,t.alignItems=M?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(h9),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let I0=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new tp}flexibleConnectedTo(t){return new Qf(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Ff),_.LFG(tn.K0),_.LFG($),_.LFG(Wf))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),f9=0,np=(()=>{class n{constructor(t,r,i,a,l,p,y,M,N,U,te,ce){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=l,this._injector=p,this._ngZone=y,this._document=M,this._directionality=N,this._location=U,this._outsideClickDispatcher=te,this._animationsModuleType=ce}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),l=new D0(t);return l.direction=l.direction||this._directionality.value,new u9(a,r,i,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+f9++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(_.z2F)),new S0(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(a9),_.LFG(Wf),_.LFG(_._Vd),_.LFG(I0),_.LFG(qf),_.LFG(_.zs3),_.LFG(_.R0b),_.LFG(tn.K0),_.LFG(We),_.LFG(tn.Ye),_.LFG(l9),_.LFG(_.QbO,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ID={provide:new _.OlP("cdk-connected-overlay-scroll-strategy"),deps:[np],useFactory:function p9(n){return()=>n.scrollStrategies.reposition()}};let xD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({providers:[np,ID],imports:[at,Hf,X1,X1]}),n})();new zi({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),new zi({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),new zi({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new zi({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),new zi({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),new zi({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),new zi({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new zi({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),new zi({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),new zi({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new zi({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),new zi({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),new zi({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),new zi({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"});new zi({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new zi({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new zi({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"}),new zi({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),new zi({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),new zi({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),new zi({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2);let s=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({}),n})(),$O=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({providers:[$O]}),n})();var qO=L(9841),WO=L(7272);function AD(n,e=Z1.z){return(0,qh.e)((t,r)=>{let i=null,a=null,l=null;const p=()=>{if(i){i.unsubscribe(),i=null;const M=a;a=null,r.next(M)}};function y(){const M=l+n,N=e.now();if(N<M)return i=this.schedule(void 0,M-N),void r.add(i);p()}t.subscribe((0,Yc.x)(r,M=>{a=M,l=e.now(),i||(i=e.schedule(y,n),r.add(i))},()=>{p(),r.complete()},void 0,()=>{a=i=null}))})}const PD=new Set;let e4,ZO=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):XO}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function QO(n){if(!PD.has(n))try{e4||(e4=document.createElement("style"),e4.setAttribute("type","text/css"),document.head.appendChild(e4)),e4.sheet&&(e4.sheet.insertRule(`@media ${n} {body{ }}`,0),PD.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG($))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XO(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let JO=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Cn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return kD(q1(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){const i=kD(q1(t)).map(l=>this._registerQuery(l).observable);let a=(0,qO.a)(i);return a=(0,WO.z)(a.pipe((0,Tc.q)(1)),a.pipe(function KO(n){return(0,vi.h)((e,t)=>n<=t)}(1),AD(0))),a.pipe((0,ir.U)(l=>{const p={matches:!1,breakpoints:{}};return l.forEach(({matches:y,query:M})=>{p.matches=p.matches||y,p.breakpoints[M]=y}),p}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new Lr.y(l=>{const p=y=>this._zone.run(()=>l.next(y));return r.addListener(p),()=>{r.removeListener(p)}}).pipe((0,Q1.O)(r),(0,ir.U)(({matches:l})=>({query:t,matches:l})),kl(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(ZO),_.LFG(_.R0b))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kD(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const FD="cdk-high-contrast-black-on-white",LD="cdk-high-contrast-white-on-black",m9="cdk-high-contrast-active";let cN=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,_.f3M)(JO).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(m9,FD,LD),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(m9,FD):2===r&&t.add(m9,LD)}}}return n.\u0275fac=function(t){return new(t||n)(_.LFG($),_.LFG(tn.K0))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lN=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(cN))},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[GO]}),n})(),uN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[tn.ez]}),n})(),dN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[tn.ez,$h]}),n})(),xN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[at,tn.ez,se,Q.u5,Y,xD,$h,E0,CD,s,uN,bD,dN,X1,lN]}),n})(),JN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[at,tn.ez,Q.u5,xN,se,$h]}),n})();var Vo=L(2011),qc=L(8996),io=L(3324);function g9(){return(0,qh.e)((n,e)=>{let t,r=!1;n.subscribe((0,Yc.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var v9=L(5026),eR=L(4671);function nR(n,e){return n===e}L(2644);var jt,VD=L(3942),tt=L(5861),vc=L(6881),t4=L(4859),Cu=L(1877),Xn=L(2090),rR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yc={},y9=y9||{},Qn=rR||self;function rp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function z0(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var _9="closure_uid_"+(1e9*Math.random()>>>0),oR=0;function sR(n,e,t){return n.call.apply(n.bind,arguments)}function aR(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function zs(n,e,t){return(zs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sR:aR).apply(null,arguments)}function ip(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Wo(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var l=Array(arguments.length-2),p=2;p<arguments.length;p++)l[p-2]=arguments[p];return e.prototype[i].apply(r,l)}}function bu(){this.s=this.s,this.o=this.o}bu.prototype.s=!1,bu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function iR(n){Object.prototype.hasOwnProperty.call(n,_9)&&n[_9]||(n[_9]=++oR)}(this)},bu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const HD=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function w9(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function BD(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(rp(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function As(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}As.prototype.h=function(){this.defaultPrevented=!0};var lR=function(){if(!Qn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Qn.addEventListener("test",()=>{},e),Qn.removeEventListener("test",()=>{},e)}catch{}return n}();function A0(n){return/^[\s\xa0]*$/.test(n)}function op(){var n=Qn.navigator;return n&&(n=n.userAgent)?n:""}function Wc(n){return-1!=op().indexOf(n)}function C9(n){return C9[" "](n),n}C9[" "]=function(){};var S9,n,dR=Wc("Opera"),n4=Wc("Trident")||Wc("MSIE"),UD=Wc("Edge"),b9=UD||n4,YD=Wc("Gecko")&&!(-1!=op().toLowerCase().indexOf("webkit")&&!Wc("Edge"))&&!(Wc("Trident")||Wc("MSIE"))&&!Wc("Edge"),hR=-1!=op().toLowerCase().indexOf("webkit")&&!Wc("Edge");function jD(){var n=Qn.document;return n?n.documentMode:void 0}e:{var E9="",T9=(n=op(),YD?/rv:([^\);]+)(\)|;)/.exec(n):UD?/Edge\/([\d\.]+)/.exec(n):n4?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):hR?/WebKit\/(\S+)/.exec(n):dR?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(T9&&(E9=T9?T9[1]:""),n4){var D9=jD();if(null!=D9&&D9>parseFloat(E9)){S9=String(D9);break e}}S9=E9}var fR=Qn.document&&n4&&(jD()||parseInt(S9,10))||void 0;function P0(n,e){if(As.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(YD){e:{try{C9(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:pR[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&P0.$.h.call(this)}}Wo(P0,As);var pR={2:"touch",3:"pen",4:"mouse"};P0.prototype.h=function(){P0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var k0="closure_listenable_"+(1e6*Math.random()|0),mR=0;function gR(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++mR,this.fa=this.ia=!1}function sp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function I9(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function GD(n){const e={};for(const t in n)e[t]=n[t];return e}const qD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WD(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<qD.length;a++)t=qD[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function ap(n){this.src=n,this.g={},this.h=0}function x9(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=HD(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(sp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function z9(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}ap.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=z9(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new gR(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var A9="closure_lm_"+(1e6*Math.random()|0),P9={};function KD(n,e,t,r,i){if(r&&r.once)return QD(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)KD(n,e[a],t,r,i);return null}return t=R9(t),n&&n[k0]?n.O(e,t,z0(r)?!!r.capture:!!r,i):ZD(n,e,t,!1,r,i)}function ZD(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=z0(i)?!!i.capture:!!i,p=O9(n);if(p||(n[A9]=p=new ap(n)),(t=p.add(e,t,r,l,a)).proxy)return t;if(r=function yR(){const e=_R;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)lR||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(JD(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function QD(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)QD(n,e[a],t,r,i);return null}return t=R9(t),n&&n[k0]?n.P(e,t,z0(r)?!!r.capture:!!r,i):ZD(n,e,t,!0,r,i)}function XD(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)XD(n,e[a],t,r,i);else r=z0(r)?!!r.capture:!!r,t=R9(t),n&&n[k0]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=z9(a=n.g[e],t,r,i))&&(sp(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=O9(n))&&(e=n.g[e.toString()],n=-1,e&&(n=z9(e,t,r,i)),(t=-1<n?e[n]:null)&&k9(t))}function k9(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[k0])x9(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(JD(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=O9(e))?(x9(t,n),0==t.h&&(t.src=null,e[A9]=null)):sp(n)}}}function JD(n){return n in P9?P9[n]:P9[n]="on"+n}function _R(n,e){if(n.fa)n=!0;else{e=new P0(e,this);var t=n.listener,r=n.la||n.src;n.ia&&k9(n),n=t.call(r,e)}return n}function O9(n){return(n=n[A9])instanceof ap?n:null}var N9="__closure_events_fn_"+(1e9*Math.random()>>>0);function R9(n){return"function"==typeof n?n:(n[N9]||(n[N9]=function(e){return n.handleEvent(e)}),n[N9])}function Ko(){bu.call(this),this.i=new ap(this),this.S=this,this.J=null}function fs(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new As(e,n);else if(e instanceof As)e.target=e.target||n;else{var i=e;WD(e=new As(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=cp(l,r,!0,e)&&i}if(i=cp(l=e.g=n,r,!0,e)&&i,i=cp(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=cp(l=e.g=t[a],r,!1,e)&&i}function cp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var p=l.listener,y=l.la||l.src;l.ia&&x9(n.i,l),i=!1!==p.call(y,r)&&i}}return i&&!r.defaultPrevented}Wo(Ko,bu),Ko.prototype[k0]=!0,Ko.prototype.removeEventListener=function(n,e,t,r){XD(this,n,e,t,r)},Ko.prototype.N=function(){if(Ko.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)sp(t[r]);delete n.g[e],n.h--}}this.J=null},Ko.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ko.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var F9=Qn.JSON.stringify;function CR(){var n=L9;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var eM=new class wR{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new SR,n=>n.reset());class SR{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ER(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function TR(n){Qn.setTimeout(()=>{throw n},0)}let O0,N0=!1,L9=new class bR{constructor(){this.h=this.g=null}add(e,t){const r=eM.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},tM=()=>{const n=Qn.Promise.resolve(void 0);O0=()=>{n.then(DR)}};var DR=()=>{for(var n;n=CR();){try{n.h.call(n.g)}catch(t){TR(t)}var e=eM;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}N0=!1};function lp(n,e){Ko.call(this),this.h=n||1,this.g=e||Qn,this.j=zs(this.qb,this),this.l=Date.now()}function V9(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function H9(n,e,t){if("function"==typeof n)t&&(n=zs(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zs(n.handleEvent,n)}return 2147483647<Number(e)?-1:Qn.setTimeout(n,e||0)}function nM(n){n.g=H9(()=>{n.g=null,n.i&&(n.i=!1,nM(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Wo(lp,Ko),(jt=lp.prototype).ga=!1,jt.T=null,jt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fs(this,"tick"),this.ga&&(V9(this),this.start()))}},jt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},jt.N=function(){lp.$.N.call(this),V9(this),delete this.g};class MR extends bu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nM(this)}N(){super.N(),this.g&&(Qn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function R0(n){bu.call(this),this.h=n,this.g={}}Wo(R0,bu);var rM=[];function iM(n,e,t,r){Array.isArray(t)||(t&&(rM[0]=t.toString()),t=rM);for(var i=0;i<t.length;i++){var a=KD(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function oM(n){I9(n.g,function(e,t){this.g.hasOwnProperty(t)&&k9(e)},n),n.g={}}function up(){this.g=!0}function r4(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function AR(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return F9(t)}catch{return e}}(n,t)+(r?" "+r:"")})}R0.prototype.N=function(){R0.$.N.call(this),oM(this)},R0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},up.prototype.Ea=function(){this.g=!1},up.prototype.info=function(){};var ed={},sM=null;function dp(){return sM=sM||new Ko}function aM(n){As.call(this,ed.Ta,n)}function F0(n){const e=dp();fs(e,new aM(e))}function cM(n,e){As.call(this,ed.STAT_EVENT,n),this.stat=e}function $s(n){const e=dp();fs(e,new cM(e,n))}function lM(n,e){As.call(this,ed.Ua,n),this.size=e}function L0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Qn.setTimeout(function(){n()},e)}ed.Ta="serverreachability",Wo(aM,As),ed.STAT_EVENT="statevent",Wo(cM,As),ed.Ua="timingevent",Wo(lM,As);var hp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},uM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function B9(){}function hM(){}B9.prototype.h=null;var j9,V0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function U9(){As.call(this,"d")}function Y9(){As.call(this,"c")}function fp(){}function H0(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new R0(this),this.P=PR,this.V=new lp(n=b9?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fM}function fM(){this.i=null,this.g="",this.h=!1}Wo(U9,As),Wo(Y9,As),Wo(fp,B9),fp.prototype.g=function(){return new XMLHttpRequest},fp.prototype.i=function(){return{}},j9=new fp;var PR=45e3,$9={},pp={};function G9(n,e,t){n.L=1,n.v=yp(Ol(e)),n.s=t,n.S=!0,pM(n,null)}function pM(n,e){n.G=Date.now(),B0(n),n.A=Ol(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),EM(t.i,"t",r),n.C=0,t=n.l.J,n.h=new fM,n.g=WM(n.l,t?e:null,!n.s),0<n.O&&(n.M=new MR(zs(n.Pa,n,n.g),n.O)),iM(n.U,n.g,"readystatechange",n.nb),e=n.I?GD(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),F0(),function IR(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",p=a.split("&"),y=0;y<p.length;y++){var M=p[y].split("=");if(1<M.length){var N=M[0];M=M[1];var U=N.split("_");l=2<=U.length&&"type"==U[1]?l+(N+"=")+M+"&":l+(N+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function mM(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function gM(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=kR(n,t),i==pp){4==e&&(n.o=4,$s(14),r=!1),r4(n.j,n.m,null,"[Incomplete Response]");break}if(i==$9){n.o=4,$s(15),r4(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}r4(n.j,n.m,i,null),q9(n,i)}mM(n)&&i!=pp&&i!=$9&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,$s(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ey(e),e.M=!0,$s(11))):(r4(n.j,n.m,t,"[Invalid Chunked Response]"),td(n),U0(n))}function kR(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?pp:(t=Number(e.substring(t,r)),isNaN(t)?$9:(r+=1)+t>e.length?pp:(e=e.slice(r,r+t),n.C=r+t,e))}function B0(n){n.Y=Date.now()+n.P,vM(n,n.P)}function vM(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=L0(zs(n.lb,n),e)}function mp(n){n.B&&(Qn.clearTimeout(n.B),n.B=null)}function U0(n){0==n.l.H||n.J||jM(n.l,n)}function td(n){mp(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,V9(n.V),oM(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function q9(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||W9(t.i,n)))if(!n.K&&W9(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Ep(t),bp(t)}J9(t),$s(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=L0(zs(t.ib,t),6e3));if(1>=MM(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else rd(t,11)}else if((n.K||t.g==n)&&Ep(t),!A0(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let M=i[e];if(t.V=M[0],M=M[1],2==t.H)if("c"==M[0]){t.K=M[1],t.pa=M[2];const N=M[3];null!=N&&(t.ra=N,t.l.info("VER="+t.ra));const U=M[4];null!=U&&(t.Ga=U,t.l.info("SVER="+t.Ga));const te=M[5];null!=te&&"number"==typeof te&&0<te&&(t.L=r=1.5*te,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const ce=n.g;if(ce){const ge=ce.g?ce.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ge){var a=r.i;a.g||-1==ge.indexOf("spdy")&&-1==ge.indexOf("quic")&&-1==ge.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(K9(a,a.h),a.h=null))}if(r.F){const Re=ce.g?ce.g.getResponseHeader("X-HTTP-Session-Id"):null;Re&&(r.Da=Re,Pi(r.I,r.F,Re))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=qM(r,r.J?r.pa:null,r.Y),l.K){IM(r.i,l);var p=l,y=r.L;y&&p.setTimeout(y),p.B&&(mp(p),B0(p)),r.g=l}else UM(r);0<t.j.length&&Sp(t)}else"stop"!=M[0]&&"close"!=M[0]||rd(t,7);else 3==t.H&&("stop"==M[0]||"close"==M[0]?"stop"==M[0]?rd(t,7):X9(t):"noop"!=M[0]&&t.h&&t.h.Aa(M),t.A=0)}F0()}catch{}}function yM(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(rp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function NR(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(rp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function OR(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(rp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(jt=H0.prototype).setTimeout=function(n){this.P=n},jt.nb=function(n){n=n.target;const e=this.M;e&&3==Kc(n)?e.l():this.Pa(n)},jt.Pa=function(n){try{if(n==this.g)e:{const N=Kc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>N)&&(3!=N||b9||this.g&&(this.h.h||this.g.ja()||RM(this.g)))){this.J||4!=N||7==e||F0(),mp(this);var t=this.g.da();this.ca=t;t:if(mM(this)){var r=RM(this.g);n="";var i=r.length,a=4==Kc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){td(this),U0(this);var l="";break t}this.h.i=new Qn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function xR(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,N,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A0(p)){var M=p;break t}}M=null}if(!(t=M)){this.i=!1,this.o=3,$s(12),td(this),U0(this);break e}r4(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,q9(this,t)}this.S?(gM(this,N,l),b9&&this.i&&3==N&&(iM(this.U,this.V,"tick",this.mb),this.V.start())):(r4(this.j,this.m,l,null),q9(this,l)),4==N&&td(this),this.i&&!this.J&&(4==N?jM(this.l,this):(this.i=!1,B0(this)))}else(function JR(n){const e={};n=(n.g&&2<=Kc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(A0(n[r]))continue;var t=ER(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function vR(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,$s(12)):(this.o=0,$s(13)),td(this),U0(this)}}}catch{}},jt.mb=function(){if(this.g){var n=Kc(this.g),e=this.g.ja();this.C<e.length&&(mp(this),gM(this,n,e),this.i&&4!=n&&B0(this))}},jt.cancel=function(){this.J=!0,td(this)},jt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function zR(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(F0(),$s(17)),td(this),this.o=2,U0(this)):vM(this,this.Y-n)};var _M=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nd(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof nd){this.h=n.h,gp(this,n.j),this.s=n.s,this.g=n.g,vp(this,n.m),this.l=n.l;var e=n.i,t=new $0;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),wM(this,t),this.o=n.o}else n&&(e=String(n).match(_M))?(this.h=!1,gp(this,e[1]||"",!0),this.s=Y0(e[2]||""),this.g=Y0(e[3]||"",!0),vp(this,e[4]),this.l=Y0(e[5]||"",!0),wM(this,e[6]||"",!0),this.o=Y0(e[7]||"")):(this.h=!1,this.i=new $0(null,this.h))}function Ol(n){return new nd(n)}function gp(n,e,t){n.j=t?Y0(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function vp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function wM(n,e,t){e instanceof $0?(n.i=e,function UR(n,e){e&&!n.j&&(Su(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(bM(this,r),EM(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=j0(e,HR)),n.i=new $0(e,n.h))}function Pi(n,e,t){n.i.set(e,t)}function yp(n){return Pi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Y0(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function j0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,FR),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function FR(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}nd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(j0(e,CM,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(j0(e,CM,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(j0(t,"/"==t.charAt(0)?VR:LR,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",j0(t,BR)),n.join("")};var CM=/[#\/\?@]/g,LR=/[#\?:]/g,VR=/[#\?]/g,HR=/[#\?@]/g,BR=/#/g;function $0(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Su(n){n.g||(n.g=new Map,n.h=0,n.i&&function RR(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function bM(n,e){Su(n),e=o4(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function SM(n,e){return Su(n),e=o4(n,e),n.g.has(e)}function EM(n,e,t){bM(n,e),0<t.length&&(n.i=null,n.g.set(o4(n,e),w9(t)),n.h+=t.length)}function o4(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function TM(n){this.l=n||jR,n=Qn.PerformanceNavigationTiming?0<(n=Qn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Qn.g&&Qn.g.Ka&&Qn.g.Ka()&&Qn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(jt=$0.prototype).add=function(n,e){Su(this),this.i=null,n=o4(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},jt.forEach=function(n,e){Su(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},jt.ta=function(){Su(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},jt.Z=function(n){Su(this);let e=[];if("string"==typeof n)SM(this,n)&&(e=e.concat(this.g.get(o4(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},jt.set=function(n,e){return Su(this),this.i=null,SM(this,n=o4(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},jt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},jt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var jR=10;function DM(n){return!!n.h||!!n.g&&n.g.size>=n.j}function MM(n){return n.h?1:n.g?n.g.size:0}function W9(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function K9(n,e){n.g?n.g.add(e):n.h=e}function IM(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function xM(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return w9(n.i)}TM.prototype.cancel=function(){if(this.i=xM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var $R=class{stringify(n){return Qn.JSON.stringify(n,void 0)}parse(n){return Qn.JSON.parse(n,void 0)}};function GR(){this.g=new $R}function qR(n,e,t){const r=t||"";try{yM(n,function(i,a){let l=i;z0(i)&&(l=F9(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _p(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function G0(n){this.l=n.fc||null,this.j=n.ob||!1}function wp(n,e){Ko.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Z9,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wo(G0,B9),G0.prototype.g=function(){return new wp(this.l,this.j)},G0.prototype.i=function(n){return function(){return n}}({}),Wo(wp,Ko);var Z9=0;function zM(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function q0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,W0(n)}function W0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(jt=wp.prototype).open=function(n,e){if(this.readyState!=Z9)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,W0(this)},jt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Qn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},jt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,q0(this)),this.readyState=Z9},jt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,W0(this)),this.g&&(this.readyState=3,W0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Qn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zM(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},jt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?q0(this):W0(this),3==this.readyState&&zM(this)}},jt.Za=function(n){this.g&&(this.response=this.responseText=n,q0(this))},jt.Ya=function(n){this.g&&(this.response=n,q0(this))},jt.ka=function(){this.g&&q0(this)},jt.setRequestHeader=function(n,e){this.v.append(n,e)},jt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},jt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(wp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var KR=Qn.JSON.parse;function po(n){Ko.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=AM,this.L=this.M=!1}Wo(po,Ko);var AM="",ZR=/^https?$/i,QR=["POST","PUT"];function PM(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,kM(n),Cp(n)}function kM(n){n.F||(n.F=!0,fs(n,"complete"),fs(n,"error"))}function OM(n){if(n.h&&typeof y9<"u"&&(!n.C[1]||4!=Kc(n)||2!=n.da()))if(n.v&&4==Kc(n))H9(n.La,0,n);else if(fs(n,"readystatechange"),4==Kc(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(_M)[1]||null;!i&&Qn.self&&Qn.self.location&&(i=Qn.self.location.protocol.slice(0,-1)),r=!ZR.test(i?i.toLowerCase():"")}t=r}if(t)fs(n,"complete"),fs(n,"success");else{n.m=6;try{var a=2<Kc(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",kM(n)}}finally{Cp(n)}}}function Cp(n,e){if(n.g){NM(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||fs(n,"ready");try{t.onreadystatechange=r}catch{}}}function NM(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Qn.clearTimeout(n.A),n.A=null)}function Kc(n){return n.g?n.g.readyState:0}function RM(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case AM:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function FM(n){let e="";return I9(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Q9(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=FM(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pi(n,e,t))}function K0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function LM(n){this.Ga=0,this.j=[],this.l=new up,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=K0("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=K0("baseRetryDelayMs",5e3,n),this.hb=K0("retryDelaySeedMs",1e4,n),this.eb=K0("forwardChannelMaxRetries",2,n),this.xa=K0("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new TM(n&&n.concurrentRequestLimit),this.Ja=new GR,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function X9(n){if(VM(n),3==n.H){var e=n.W++,t=Ol(n.I);if(Pi(t,"SID",n.K),Pi(t,"RID",e),Pi(t,"TYPE","terminate"),Z0(n,t),(e=new H0(n,n.l,e)).L=2,e.v=yp(Ol(t)),t=!1,Qn.navigator&&Qn.navigator.sendBeacon)try{t=Qn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Qn.Image&&((new Image).src=e.v,t=!0),t||(e.g=WM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),B0(e)}GM(n)}function bp(n){n.g&&(ey(n),n.g.cancel(),n.g=null)}function VM(n){bp(n),n.u&&(Qn.clearTimeout(n.u),n.u=null),Ep(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Qn.clearTimeout(n.m),n.m=null)}function Sp(n){if(!DM(n.i)&&!n.m){n.m=!0;var e=n.Na;O0||tM(),N0||(O0(),N0=!0),L9.add(e,n),n.C=0}}function HM(n,e){var t;t=e?e.m:n.W++;const r=Ol(n.I);Pi(r,"SID",n.K),Pi(r,"RID",t),Pi(r,"AID",n.V),Z0(n,r),n.o&&n.s&&Q9(r,n.o,n.s),t=new H0(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=BM(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),K9(n.i,t),G9(t,r,e)}function Z0(n,e){n.na&&I9(n.na,function(t,r){Pi(e,r,t)}),n.h&&yM({},function(t,r){Pi(e,r,t)})}function BM(n,e,t){t=Math.min(n.j.length,t);var r=n.h?zs(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let p=!0;for(let y=0;y<t;y++){let M=i[y].g;const N=i[y].map;if(M-=a,0>M)a=Math.max(0,i[y].g-100),p=!1;else try{qR(N,l,"req"+M+"_")}catch{r&&r(N)}}if(p){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function UM(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;O0||tM(),N0||(O0(),N0=!0),L9.add(e,n),n.A=0}}function J9(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=L0(zs(n.Ma,n),$M(n,n.A)),n.A++,0))}function ey(n){null!=n.B&&(Qn.clearTimeout(n.B),n.B=null)}function YM(n){n.g=new H0(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ol(n.wa);Pi(e,"RID","rpc"),Pi(e,"SID",n.K),Pi(e,"AID",n.V),Pi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Pi(e,"TO",n.qa),Pi(e,"TYPE","xmlhttp"),Z0(n,e),n.o&&n.s&&Q9(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=yp(Ol(e)),t.s=null,t.S=!0,pM(t,n)}function Ep(n){null!=n.v&&(Qn.clearTimeout(n.v),n.v=null)}function jM(n,e){var t=null;if(n.g==e){Ep(n),ey(n),n.g=null;var r=2}else{if(!W9(n.i,e))return;t=e.F,IM(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;fs(r=dp(),new lM(r,t)),Sp(n)}else UM(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function eF(n,e){return!(MM(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=L0(zs(n.Na,n,e),$M(n,n.C)),n.C++,0)))}(n,e)||2==r&&J9(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:rd(n,5);break;case 4:rd(n,10);break;case 3:rd(n,6);break;default:rd(n,2)}}function $M(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function rd(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=zs(n.pb,n);t||(t=new nd("//www.google.com/images/cleardot.gif"),Qn.location&&"http"==Qn.location.protocol||gp(t,"https"),yp(t)),function WR(n,e){const t=new up;if(Qn.Image){const r=new Image;r.onload=ip(_p,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ip(_p,t,r,"TestLoadImage: error",!1,e),r.onabort=ip(_p,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ip(_p,t,r,"TestLoadImage: timeout",!1,e),Qn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else $s(2);n.H=0,n.h&&n.h.za(e),GM(n),VM(n)}function GM(n){if(n.H=0,n.ma=[],n.h){const e=xM(n.i);(0!=e.length||0!=n.j.length)&&(BD(n.ma,e),BD(n.ma,n.j),n.i.i.length=0,w9(n.j),n.j.length=0),n.h.ya()}}function qM(n,e,t){var r=t instanceof nd?Ol(t):new nd(t);if(""!=r.g)e&&(r.g=e+"."+r.g),vp(r,r.m);else{var i=Qn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new nd(null);r&&gp(a,r),e&&(a.g=e),i&&vp(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Pi(r,t,e),Pi(r,"VER",n.ra),Z0(n,r),r}function WM(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new po(t&&n.Ha&&!n.va?new G0({ob:!0}):n.va)).Oa(n.J),e}function KM(){}function Tp(){if(n4&&!(10<=Number(fR)))throw Error("Environmental error: no available transport.")}function wa(n,e){Ko.call(this),this.g=new LM(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!A0(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A0(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new s4(this)}function ZM(n){U9.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function QM(){Y9.call(this),this.status=1}function s4(n){this.g=n}function _c(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ty(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;l=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function ci(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(jt=po.prototype).Oa=function(n){this.M=n},jt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():j9.g(),this.C=function dM(n){return n.h||(n.h=n.i())}(this.u?this.u:j9),this.g.onreadystatechange=zs(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void PM(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Qn.FormData&&n instanceof Qn.FormData,!(0<=HD(QR,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{NM(this),0<this.B&&((this.L=function XR(n){return n4&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zs(this.ua,this)):this.A=H9(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){PM(this,a)}},jt.ua=function(){typeof y9<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fs(this,"timeout"),this.abort(8))},jt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fs(this,"complete"),fs(this,"abort"),Cp(this))},jt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cp(this,!0)),po.$.N.call(this)},jt.La=function(){this.s||(this.G||this.v||this.l?OM(this):this.kb())},jt.kb=function(){OM(this)},jt.isActive=function(){return!!this.g},jt.da=function(){try{return 2<Kc(this)?this.g.status:-1}catch{return-1}},jt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},jt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),KR(e)}},jt.Ia=function(){return this.m},jt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(jt=LM.prototype).ra=8,jt.H=1,jt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new H0(this,this.l,n);let a=this.s;if(this.U&&(a?(a=GD(a),WD(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=BM(this,i,e),Pi(t=Ol(this.I),"RID",n),Pi(t,"CVER",22),this.F&&Pi(t,"X-HTTP-Session-Id",this.F),Z0(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(FM(a)))+"&"+e:this.o&&Q9(t,this.o,a)),K9(this.i,i),this.bb&&Pi(t,"TYPE","init"),this.P?(Pi(t,"$req",e),Pi(t,"SID","null"),i.aa=!0,G9(i,t,null)):G9(i,t,e),this.H=2}}else 3==this.H&&(n?HM(this,n):0==this.j.length||DM(this.i)||HM(this))},jt.Ma=function(){if(this.u=null,YM(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=L0(zs(this.jb,this),n)}},jt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,$s(10),bp(this),YM(this))},jt.ib=function(){null!=this.v&&(this.v=null,bp(this),J9(this),$s(19))},jt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),$s(2)):(this.l.info("Failed to ping google.com"),$s(1))},jt.isActive=function(){return!!this.h&&this.h.isActive(this)},(jt=KM.prototype).Ba=function(){},jt.Aa=function(){},jt.za=function(){},jt.ya=function(){},jt.isActive=function(){return!0},jt.Va=function(){},Tp.prototype.g=function(n,e){return new wa(n,e)},Wo(wa,Ko),wa.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;$s(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=qM(n,null,n.Y),Sp(n)},wa.prototype.close=function(){X9(this.g)},wa.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=F9(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Sp(e)},wa.prototype.N=function(){this.g.h=null,delete this.j,X9(this.g),delete this.g,wa.$.N.call(this)},Wo(ZM,U9),Wo(QM,Y9),Wo(s4,KM),s4.prototype.Ba=function(){fs(this.g,"a")},s4.prototype.Aa=function(n){fs(this.g,new ZM(n))},s4.prototype.za=function(n){fs(this.g,new QM)},s4.prototype.ya=function(){fs(this.g,"b")},Wo(_c,function tF(){this.blockSize=-1}),_c.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},_c.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)ty(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){ty(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){ty(this,r),i=0;break}}this.h=i,this.i+=e},_c.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var nF={};function ny(n){return-128<=n&&128>n?function uR(n,e){var t=nF;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ci([0|e],0>e?-1:0)}):new ci([0|n],0>n?-1:0)}function Zc(n){if(isNaN(n)||!isFinite(n))return a4;if(0>n)return ps(Zc(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=ry;return new ci(e,0)}var ry=4294967296,a4=ny(0),iy=ny(1),JM=ny(16777216);function Nl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ja(n){return-1==n.h}function ps(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new ci(t,~n.h).add(iy)}function Dp(n,e){return n.add(ps(e))}function Mp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Q0(n,e){this.g=n,this.h=e}function Ip(n,e){if(Nl(e))throw Error("division by zero");if(Nl(n))return new Q0(a4,a4);if(ja(n))return e=Ip(ps(n),e),new Q0(ps(e.g),ps(e.h));if(ja(e))return e=Ip(n,ps(e)),new Q0(ps(e.g),e.h);if(30<n.g.length){if(ja(n)||ja(e))throw Error("slowDivide_ only works with positive integers.");for(var t=iy,r=e;0>=r.X(n);)t=eI(t),r=eI(r);var i=c4(t,1),a=c4(r,1);for(r=c4(r,2),t=c4(t,2);!Nl(r);){var l=a.add(r);0>=l.X(n)&&(i=i.add(t),a=l),r=c4(r,1),t=c4(t,1)}return e=Dp(n,i.R(e)),new Q0(i,e)}for(i=a4;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(a=Zc(t)).R(e);ja(l)||0<l.X(n);)l=(a=Zc(t-=r)).R(e);Nl(a)&&(a=iy),i=i.add(a),n=Dp(n,l)}return new Q0(i,n)}function eI(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new ci(t,n.h)}function c4(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new ci(i,n.h)}(jt=ci.prototype).ea=function(){if(ja(this))return-ps(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:ry+r)*e,e*=ry}return n},jt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Nl(this))return"0";if(ja(this))return"-"+ps(this).toString(n);for(var e=Zc(Math.pow(n,6)),t=this,r="";;){var i=Ip(t,e).g,a=((0<(t=Dp(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Nl(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},jt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},jt.X=function(n){return ja(n=Dp(this,n))?-1:Nl(n)?0:1},jt.abs=function(){return ja(this)?ps(this):this},jt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(a&=65535)}return new ci(t,-2147483648&t[t.length-1]?-1:0)},jt.R=function(n){if(Nl(this)||Nl(n))return a4;if(ja(this))return ja(n)?ps(this).R(ps(n)):ps(ps(this).R(n));if(ja(n))return ps(this.R(ps(n)));if(0>this.X(JM)&&0>n.X(JM))return Zc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),p=n.D(i)>>>16,y=65535&n.D(i);t[2*r+2*i]+=l*y,Mp(t,2*r+2*i),t[2*r+2*i+1]+=a*y,Mp(t,2*r+2*i+1),t[2*r+2*i+1]+=l*p,Mp(t,2*r+2*i+1),t[2*r+2*i+2]+=a*p,Mp(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new ci(t,0)},jt.gb=function(n){return Ip(this,n).h},jt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new ci(t,this.h&n.h)},jt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new ci(t,this.h|n.h)},jt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new ci(t,this.h^n.h)},Tp.prototype.createWebChannel=Tp.prototype.g,wa.prototype.send=wa.prototype.u,wa.prototype.open=wa.prototype.m,wa.prototype.close=wa.prototype.close,hp.NO_ERROR=0,hp.TIMEOUT=8,hp.HTTP_ERROR=6,uM.COMPLETE="complete",hM.EventType=V0,V0.OPEN="a",V0.CLOSE="b",V0.ERROR="c",V0.MESSAGE="d",Ko.prototype.listen=Ko.prototype.O,po.prototype.listenOnce=po.prototype.P,po.prototype.getLastError=po.prototype.Sa,po.prototype.getLastErrorCode=po.prototype.Ia,po.prototype.getStatus=po.prototype.da,po.prototype.getResponseJson=po.prototype.Wa,po.prototype.getResponseText=po.prototype.ja,po.prototype.send=po.prototype.ha,po.prototype.setWithCredentials=po.prototype.Oa,_c.prototype.digest=_c.prototype.l,_c.prototype.reset=_c.prototype.reset,_c.prototype.update=_c.prototype.j,ci.prototype.add=ci.prototype.add,ci.prototype.multiply=ci.prototype.R,ci.prototype.modulo=ci.prototype.gb,ci.prototype.compare=ci.prototype.X,ci.prototype.toNumber=ci.prototype.ea,ci.prototype.toString=ci.prototype.toString,ci.prototype.getBits=ci.prototype.D,ci.fromNumber=Zc,ci.fromString=function XM(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ps(XM(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Zc(Math.pow(e,8)),r=a4,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+a),e);8>a?(a=Zc(Math.pow(e,a)),r=r.R(a).add(Zc(l))):r=(r=r.R(t)).add(Zc(l))}return r};var rF=yc.createWebChannelTransport=function(){return new Tp},iF=yc.getStatEventTarget=function(){return dp()},oy=yc.ErrorCode=hp,oF=yc.EventType=uM,sF=yc.Event=ed,tI=yc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},aF=yc.FetchXmlHttpFactory=G0,xp=yc.WebChannel=hM,cF=yc.XhrIo=po,lF=yc.Md5=_c,l4=yc.Integer=ci;const nI="@firebase/firestore";class Zo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zo.UNAUTHENTICATED=new Zo(null),Zo.GOOGLE_CREDENTIALS=new Zo("google-credentials-uid"),Zo.FIRST_PARTY=new Zo("first-party-uid"),Zo.MOCK_USER=new Zo("mock-user");let u4="9.23.0";const Eu=new Cu.Yd("@firebase/firestore");function sy(){return Eu.logLevel}function yt(n,...e){if(Eu.logLevel<=Cu.in.DEBUG){const t=e.map(ay);Eu.debug(`Firestore (${u4}): ${n}`,...t)}}function wo(n,...e){if(Eu.logLevel<=Cu.in.ERROR){const t=e.map(ay);Eu.error(`Firestore (${u4}): ${n}`,...t)}}function $a(n,...e){if(Eu.logLevel<=Cu.in.WARN){const t=e.map(ay);Eu.warn(`Firestore (${u4}): ${n}`,...t)}}function ay(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Xt(n="Unexpected state"){const e=`FIRESTORE (${u4}) INTERNAL ASSERTION FAILED: `+n;throw wo(e),new Error(e)}function ln(n,e){n||Xt()}function Ht(n,e){return n}const qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Xn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ho{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zo.UNAUTHENTICATED))}shutdown(){}}class fF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pF{constructor(e){this.t=e,this.currentUser=Zo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=M=>this.i!==i?(i=this.i,t(M)):Promise.resolve();let l=new Ho;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ho,e.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const M=l;e.enqueueRetryable((0,tt.Z)(function*(){yield M.promise,yield a(r.currentUser)}))},y=M=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=M,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(M=>y(M)),setTimeout(()=>{if(!this.auth){const M=this.t.getImmediate({optional:!0});M?y(M):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ho)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ln("string"==typeof r.accessToken),new rI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ln(null===e||"string"==typeof e),new Zo(e)}}class mF{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Zo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class gF{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new mF(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Zo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vF{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,yt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ln("string"==typeof t.token),this.T=t.token,new iI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class oI{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yF(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function $n(n,e){return n<e?-1:n>e?1:0}function d4(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function sI(n){return n+"\0"}class qi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new dt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new dt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new dt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qi.fromMillis(Date.now())}static fromDate(e){return qi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new qi(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$n(this.nanoseconds,e.nanoseconds):$n(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class hn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new hn(e)}static min(){return new hn(new qi(0,0))}static max(){return new hn(new qi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class X0{constructor(e,t,r){void 0===t?t=0:t>e.length&&Xt(),void 0===r?r=e.length-t:r>e.length-t&&Xt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===X0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof X0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Dr extends X0{construct(e,t,r){return new Dr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new dt(qe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Dr(t)}static emptyPath(){return new Dr([])}}const _F=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mo extends X0{construct(e,t,r){return new mo(e,t,r)}static isValidIdentifier(e){return _F.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mo(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new dt(qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new dt(qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new dt(qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===p?(l=!l,i++):"."!==p||l?(r+=p,i++):(a(),i++)}if(a(),l)throw new dt(qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mo(t)}static emptyPath(){return new mo([])}}class Rt{constructor(e){this.path=e}static fromPath(e){return new Rt(Dr.fromString(e))}static fromName(e){return new Rt(Dr.fromString(e).popFirst(5))}static empty(){return new Rt(Dr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Dr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Dr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rt(new Dr(e.slice()))}}class zp{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function cy(n){return n.fields.find(e=>2===e.kind)}function id(n){return n.fields.filter(e=>2!==e.kind)}zp.UNKNOWN_ID=-1;class Ap{constructor(e,t){this.fieldPath=e,this.kind=t}}class J0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new J0(0,Ca.min())}}function aI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=hn.fromTimestamp(1e9===r?new qi(t+1,0):new qi(t,r));return new Ca(i,Rt.empty(),e)}function cI(n){return new Ca(n.readTime,n.key,-1)}class Ca{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ca(hn.min(),Rt.empty(),-1)}static max(){return new Ca(hn.max(),Rt.empty(),-1)}}function ly(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Rt.comparator(n.documentKey,e.documentKey),0!==t?t:$n(n.largestBatchId,e.largestBatchId))}const lI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Tu(n){return uy.apply(this,arguments)}function uy(){return uy=(0,tt.Z)(function*(n){if(n.code!==qe.FAILED_PRECONDITION||n.message!==lI)throw n;yt("LocalStore","Unexpectedly lost primary lease")}),uy.apply(this,arguments)}class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ue((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ue?t:Ue.resolve(t)}catch(t){return Ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ue.reject(t)}static resolve(e){return new Ue((t,r)=>{t(e)})}static reject(e){return new Ue((t,r)=>{r(e)})}static waitFor(e){return new Ue((t,r)=>{let i=0,a=0,l=!1;e.forEach(p=>{++i,p.next(()=>{++a,l&&a===i&&t()},y=>r(y))}),l=!0,a===i&&t()})}static or(e){let t=Ue.resolve(!1);for(const r of e)t=t.next(i=>i?Ue.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new Ue((r,i)=>{const a=e.length,l=new Array(a);let p=0;for(let y=0;y<a;y++){const M=y;t(e[M]).next(N=>{l[M]=N,++p,p===a&&r(l)},N=>i(N))}})}static doWhile(e,t){return new Ue((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class Pp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ho,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new e3(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=dy(r.target.error);this.v.reject(new e3(e,i))}}static open(e,t,r,i){try{return new Pp(t,e.transaction(i,r))}catch(a){throw new e3(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(yt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new SF(t)}}class wc{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===wc.S((0,Xn.z$)())&&wo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return yt("SimpleDb","Removing database:",e),od(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Xn.hl)())return!1;if(wc.C())return!0;const e=(0,Xn.z$)(),t=wc.S(e),r=0<t&&t<10,i=wc.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,tt.Z)(function*(){return t.db||(yt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=l=>{r(l.target.result)},a.onblocked=()=>{i(new e3(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const p=l.target.error;i("VersionError"===p.name?new dt(qe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new dt(qe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new e3(e,p))},a.onupgradeneeded=l=>{yt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,a.transaction,l.oldVersion,t.version).next(()=>{yt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,tt.Z)(function*(){const l="readonly"===t;let p=0;for(;;){++p;try{a.db=yield a.$(e);const y=Pp.open(a.db,e,l?"readonly":"readwrite",r),M=i(y).next(N=>(y.P(),N)).catch(N=>(y.abort(N),Ue.reject(N))).toPromise();return M.catch(()=>{}),yield y.R,M}catch(y){const M=y,N="FirebaseError"!==M.name&&p<3;if(yt("SimpleDb","Transaction failed with error:",M.message,"Retrying:",N),a.close(),!N)return Promise.reject(M)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bF{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return od(this.L.delete())}}class e3 extends dt{constructor(e,t){super(qe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Du(n){return"IndexedDbTransactionError"===n.name}class SF{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(yt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(yt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),od(r)}add(e){return yt("SimpleDb","ADD",this.store.name,e,e),od(this.store.add(e))}get(e){return od(this.store.get(e)).next(t=>(void 0===t&&(t=null),yt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return yt("SimpleDb","DELETE",this.store.name,e),od(this.store.delete(e))}count(){return yt("SimpleDb","COUNT",this.store.name),od(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(l,p)=>{a.push(p)}).next(()=>a)}{const i=this.store.getAll(r.range);return new Ue((a,l)=>{i.onerror=p=>{l(p.target.error)},i.onsuccess=p=>{a(p.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ue((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){yt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,l,p)=>p.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new Ue((r,i)=>{t.onerror=a=>{const l=dy(a.target.error);i(l)},t.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next(p=>{p?l.continue():r()}):r()}})}W(e,t){const r=[];return new Ue((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const p=l.target.result;if(!p)return void i();const y=new bF(p),M=t(p.primaryKey,p.value,y);if(M instanceof Ue){const N=M.catch(U=>(y.done(),Ue.reject(U)));r.push(N)}y.isDone?i():null===y.K?p.continue():p.continue(y.K)}}).next(()=>Ue.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function od(n){return new Ue((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=dy(r.target.error);t(i)}})}let dI=!1;function dy(n){const e=wc.S((0,Xn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new dt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dI||(dI=!0,setTimeout(()=>{throw r},0)),r}}return n}class EF{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;yt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,tt.Z)(function*(){t.task=null;try{yt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Du(r)?yt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Tu(r)}yield t.et(6e4)}))}}class TF{constructor(e,t){this.localStore=e,this.persistence=t}nt(){var e=this;return(0,tt.Z)(function*(t=50){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>e.st(r,t))}).apply(this,arguments)}st(e,t){const r=new Set;let i=t,a=!0;return Ue.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return yt("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(p=>{i-=p,r.add(l)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,a)).next(p=>(yt("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const l=cI(a);ly(l,r)>0&&(r=l)}),new Ca(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ba=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function t3(n){return null==n}function n3(n){return 0===n&&1/n==-1/0}function hI(n){return"number"==typeof n&&Number.isInteger(n)&&!n3(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ps(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fI(e)),e=DF(n.get(t),e);return fI(e)}function DF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function fI(n){return n+"\x01\x01"}function Qc(n){const e=n.length;if(ln(e>=2),2===e)return ln("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Dr.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const l=n.indexOf("\x01",a);switch((l<0||l>t)&&Xt(),n.charAt(l+1)){case"\x01":const p=n.substring(a,l);let y;0===i.length?y=p:(i+=p,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(a,l),i+="\0";break;case"\x11":i+=n.substring(a,l+1);break;default:Xt()}a=l+2}return new Dr(r)}const pI=["userId","batchId"];function kp(n,e){return[n,Ps(e)]}function mI(n,e,t){return[n,Ps(e),t]}const MF={},IF=["prefixPath","collectionGroup","readTime","documentId"],xF=["prefixPath","collectionGroup","documentId"],zF=["collectionGroup","readTime","prefixPath","documentId"],AF=["canonicalId","targetId"],PF=["targetId","path"],kF=["path","targetId"],OF=["collectionId","parent"],NF=["indexId","uid"],RF=["uid","sequenceNumber"],FF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],LF=["indexId","uid","orderedDocumentKey"],VF=["userId","collectionPath","documentId"],HF=["userId","collectionPath","largestBatchId"],BF=["userId","collectionGroup","largestBatchId"],gI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],UF=[...gI,"documentOverlays"],vI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yI=vI,YF=[...yI,"indexConfiguration","indexState","indexEntries"];class hy extends uI{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Qo(n,e){const t=Ht(n);return wc.M(t.ht,e)}function _I(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Mu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function wI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ei{constructor(e,t){this.comparator=e,this.root=t||ms.EMPTY}insert(e,t){return new Ei(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ms.BLACK,null,null))}remove(e){return new Ei(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ms.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Op(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Op(this.root,e,this.comparator,!1)}getReverseIterator(){return new Op(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Op(this.root,e,this.comparator,!0)}}class Op{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ms{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??ms.RED,this.left=i??ms.EMPTY,this.right=a??ms.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ms(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ms.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ms.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ms.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ms.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xt();const e=this.left.check();if(e!==this.right.check())throw Xt();return e+(this.isRed()?0:1)}}ms.EMPTY=null,ms.RED=!0,ms.BLACK=!1,ms.EMPTY=new class{constructor(){this.size=0}get key(){throw Xt()}get value(){throw Xt()}get color(){throw Xt()}get left(){throw Xt()}get right(){throw Xt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ms(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ki{constructor(e){this.comparator=e,this.data=new Ei(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CI(this.data.getIterator())}getIteratorFrom(e){return new CI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ki)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ki(this.comparator);return t.data=e,t}}class CI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function h4(n){return n.hasNext()?n.getNext():void 0}class ca{constructor(e){this.fields=e,e.sort(mo.comparator)}static empty(){return new ca([])}unionWith(e){let t=new ki(mo.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ca(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return d4(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class bI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new bI("Invalid base64 string: "+i):i}}(e);return new Bo(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Bo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bo.EMPTY_BYTE_STRING=new Bo("");const $F=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Iu(n){if(ln(!!n),"string"==typeof n){let e=0;const t=$F.exec(n);if(ln(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:go(n.seconds),nanos:go(n.nanos)}}function go(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Rl(n){return"string"==typeof n?Bo.fromBase64String(n):Bo.fromUint8Array(n)}function Np(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Rp(n){const e=n.mapValue.fields.__previous_value__;return Np(e)?Rp(e):e}function r3(n){const e=Iu(n.mapValue.fields.__local_write_time__.timestampValue);return new qi(e.seconds,e.nanos)}class GF{constructor(e,t,r,i,a,l,p,y,M){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=M}}class xu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xu&&e.projectId===this.projectId&&e.database===this.database}}const zu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fp={nullValue:"NULL_VALUE"};function Au(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Np(n)?4:DI(n)?9007199254740991:10:Xt()}function Xc(n,e){if(n===e)return!0;const t=Au(n);if(t!==Au(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return r3(n).isEqual(r3(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Iu(r.timestampValue),l=Iu(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Rl(n.bytesValue).isEqual(Rl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return go(r.geoPointValue.latitude)===go(i.geoPointValue.latitude)&&go(r.geoPointValue.longitude)===go(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return go(r.integerValue)===go(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=go(r.doubleValue),l=go(i.doubleValue);return a===l?n3(a)===n3(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return d4(n.arrayValue.values||[],e.arrayValue.values||[],Xc);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(_I(a)!==_I(l))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(void 0===l[p]||!Xc(a[p],l[p])))return!1;return!0}(n,e);default:return Xt()}var i}function o3(n,e){return void 0!==(n.values||[]).find(t=>Xc(t,e))}function Pu(n,e){if(n===e)return 0;const t=Au(n),r=Au(e);if(t!==r)return $n(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return $n(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=go(i.integerValue||i.doubleValue),p=go(a.integerValue||a.doubleValue);return l<p?-1:l>p?1:l===p?0:isNaN(l)?isNaN(p)?0:-1:1}(n,e);case 3:return SI(n.timestampValue,e.timestampValue);case 4:return SI(r3(n),r3(e));case 5:return $n(n.stringValue,e.stringValue);case 6:return function(i,a){const l=Rl(i),p=Rl(a);return l.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),p=a.split("/");for(let y=0;y<l.length&&y<p.length;y++){const M=$n(l[y],p[y]);if(0!==M)return M}return $n(l.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=$n(go(i.latitude),go(a.latitude));return 0!==l?l:$n(go(i.longitude),go(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],p=a.values||[];for(let y=0;y<l.length&&y<p.length;++y){const M=Pu(l[y],p[y]);if(M)return M}return $n(l.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===zu.mapValue&&a===zu.mapValue)return 0;if(i===zu.mapValue)return 1;if(a===zu.mapValue)return-1;const l=i.fields||{},p=Object.keys(l),y=a.fields||{},M=Object.keys(y);p.sort(),M.sort();for(let N=0;N<p.length&&N<M.length;++N){const U=$n(p[N],M[N]);if(0!==U)return U;const te=Pu(l[p[N]],y[M[N]]);if(0!==te)return te}return $n(p.length,M.length)}(n.mapValue,e.mapValue);default:throw Xt()}}function SI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return $n(n,e);const t=Iu(n),r=Iu(e),i=$n(t.seconds,r.seconds);return 0!==i?i:$n(t.nanos,r.nanos)}function f4(n){return fy(n)}function fy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Iu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Rl(n.bytesValue).toBase64():"referenceValue"in n?Rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=fy(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const p of i)l?l=!1:a+=",",a+=`${p}:${fy(r.fields[p])}`;return a+"}"}(n.mapValue):Xt();var e}function sd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function py(n){return!!n&&"integerValue"in n}function s3(n){return!!n&&"arrayValue"in n}function EI(n){return!!n&&"nullValue"in n}function TI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vp(n){return!!n&&"mapValue"in n}function a3(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Mu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=a3(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=a3(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function qF(n){return"nullValue"in n?Fp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?sd(xu.empty(),Rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Xt()}function WF(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?sd(xu.empty(),Rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?zu:Xt()}function MI(n,e){const t=Pu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function II(n,e){const t=Pu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class gs{constructor(e){this.value=e}static empty(){return new gs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=a3(t)}setAll(e){let t=mo.emptyPath(),r={},i=[];e.forEach((l,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=p.popLast()}l?r[p.lastSegment()]=a3(l):i.push(p.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Vp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Mu(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new gs(a3(this.value))}}function xI(n){const e=[];return Mu(n.fields,(t,r)=>{const i=new mo([t]);if(Vp(r)){const a=xI(r.mapValue).fields;if(0===a.length)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new ca(e)}class Oi{constructor(e,t,r,i,a,l,p){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=p}static newInvalidDocument(e){return new Oi(e,0,hn.min(),hn.min(),hn.min(),gs.empty(),0)}static newFoundDocument(e,t,r,i){return new Oi(e,1,t,hn.min(),r,i,0)}static newNoDocument(e,t){return new Oi(e,2,t,hn.min(),hn.min(),gs.empty(),0)}static newUnknownDocument(e,t){return new Oi(e,3,t,hn.min(),hn.min(),gs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(hn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=hn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ku{constructor(e,t){this.position=e,this.inclusive=t}}function zI(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(r=a.field.isKeyField()?Rt.comparator(Rt.fromName(l.referenceValue),t.key):Pu(l,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function AI(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xc(n.position[t],e.position[t]))return!1;return!0}class p4{constructor(e,t="asc"){this.field=e,this.dir=t}}function KF(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class PI{}class yr extends PI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ZF(e,t,r):"array-contains"===t?new JF(e,r):"in"===t?new LI(e,r):"not-in"===t?new eL(e,r):"array-contains-any"===t?new tL(e,r):new yr(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new QF(e,r):new XF(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Pu(t,this.value)):null!==t&&Au(this.value)===Au(t)&&this.matchesComparison(Pu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class li extends PI{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new li(e,t)}matches(e){return m4(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function m4(n){return"and"===n.op}function my(n){return"or"===n.op}function gy(n){return kI(n)&&m4(n)}function kI(n){for(const e of n.filters)if(e instanceof li)return!1;return!0}function vy(n){if(n instanceof yr)return n.field.canonicalString()+n.op.toString()+f4(n.value);if(gy(n))return n.filters.map(e=>vy(e)).join(",");{const e=n.filters.map(t=>vy(t)).join(",");return`${n.op}(${e})`}}function OI(n,e){return n instanceof yr?(t=n,(r=e)instanceof yr&&t.op===r.op&&t.field.isEqual(r.field)&&Xc(t.value,r.value)):n instanceof li?function(t,r){return r instanceof li&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,l)=>i&&OI(a,r.filters[l]),!0)}(n,e):void Xt();var t,r}function NI(n,e){const t=n.filters.concat(e);return li.create(t,n.op)}function RI(n){return n instanceof yr?`${(e=n).field.canonicalString()} ${e.op} ${f4(e.value)}`:n instanceof li?function(e){return e.op.toString()+" {"+e.getFilters().map(RI).join(" ,")+"}"}(n):"Filter";var e}class ZF extends yr{constructor(e,t,r){super(e,t,r),this.key=Rt.fromName(r.referenceValue)}matches(e){const t=Rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class QF extends yr{constructor(e,t){super(e,"in",t),this.keys=FI(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class XF extends yr{constructor(e,t){super(e,"not-in",t),this.keys=FI(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function FI(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Rt.fromName(r.referenceValue))}class JF extends yr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return s3(t)&&o3(t.arrayValue,this.value)}}class LI extends yr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&o3(this.value.arrayValue,t)}}class eL extends yr{constructor(e,t){super(e,"not-in",t)}matches(e){if(o3(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!o3(this.value.arrayValue,t)}}class tL extends yr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!s3(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>o3(this.value.arrayValue,r))}}class nL{constructor(e,t=null,r=[],i=[],a=null,l=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=p,this.dt=null}}function yy(n,e=null,t=[],r=[],i=null,a=null,l=null){return new nL(n,e,t,r,i,a,l)}function ad(n){const e=Ht(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>vy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),t3(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>f4(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>f4(r)).join(",")),e.dt=t}return e.dt}function c3(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!KF(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!OI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!AI(n.startAt,e.startAt)&&AI(n.endAt,e.endAt)}function Hp(n){return Rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Bp(n,e){return n.filters.filter(t=>t instanceof yr&&t.field.isEqual(e))}function VI(n,e,t){let r=Fp,i=!0;for(const a of Bp(n,e)){let l=Fp,p=!0;switch(a.op){case"<":case"<=":l=qF(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,p=!1;break;case"!=":case"not-in":l=Fp}MI({value:r,inclusive:i},{value:l,inclusive:p})<0&&(r=l,i=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];MI({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function HI(n,e,t){let r=zu,i=!0;for(const a of Bp(n,e)){let l=zu,p=!0;switch(a.op){case">=":case">":l=WF(a.value),p=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,p=!1;break;case"!=":case"not-in":l=zu}II({value:r,inclusive:i},{value:l,inclusive:p})>0&&(r=l,i=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const l=t.position[a];II({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class Fl{constructor(e,t=null,r=[],i=[],a=null,l="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=p,this.endAt=y,this.wt=null,this._t=null}}function BI(n,e,t,r,i,a,l,p){return new Fl(n,e,t,r,i,a,l,p)}function g4(n){return new Fl(n)}function UI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function _y(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Up(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function wy(n){return null!==n.collectionGroup}function cd(n){const e=Ht(n);if(null===e.wt){e.wt=[];const t=Up(e),r=_y(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new p4(t)),e.wt.push(new p4(mo.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new p4(mo.keyField(),a))}}}return e.wt}function Gs(n){const e=Ht(n);if(!e._t)if("F"===e.limitType)e._t=yy(e.path,e.collectionGroup,cd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of cd(e))t.push(new p4(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new ku(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ku(e.startAt.position,e.startAt.inclusive):null;e._t=yy(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Cy(n,e){e.getFirstInequalityField(),Up(n);const t=n.filters.concat([e]);return new Fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Yp(n,e,t){return new Fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function l3(n,e){return c3(Gs(n),Gs(e))&&n.limitType===e.limitType}function YI(n){return`${ad(Gs(n))}|lt:${n.limitType}`}function by(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>RI(r)).join(", ")}]`),t3(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>f4(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>f4(r)).join(",")),`Target(${t})`}(Gs(n))}; limitType=${n.limitType})`}function u3(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Rt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of cd(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,l){const p=zI(i,a,l);return i.inclusive?p<=0:p<0}(t.startAt,cd(t),r)||t.endAt&&!function(i,a,l){const p=zI(i,a,l);return i.inclusive?p>=0:p>0}(t.endAt,cd(t),r)));var t,r}function jI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $I(n){return(e,t)=>{let r=!1;for(const i of cd(n)){const a=rL(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function rL(n,e,t){const r=n.field.isKeyField()?Rt.comparator(e.key,t.key):function(i,a,l){const p=a.data.field(i),y=l.data.field(i);return null!==p&&null!==y?Pu(p,y):Xt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xt()}}class Ll{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mu(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return wI(this.inner)}size(){return this.innerSize}}const iL=new Ei(Rt.comparator);function la(){return iL}const GI=new Ei(Rt.comparator);function d3(...n){let e=GI;for(const t of n)e=e.insert(t.key,t);return e}function qI(n){let e=GI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Jc(){return h3()}function WI(){return h3()}function h3(){return new Ll(n=>n.toString(),(n,e)=>n.isEqual(e))}const oL=new Ei(Rt.comparator),sL=new ki(Rt.comparator);function tr(...n){let e=sL;for(const t of n)e=e.add(t);return e}const aL=new ki($n);function Sy(){return aL}function KI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:n3(e)?"-0":e}}function ZI(n){return{integerValue:""+n}}function QI(n,e){return hI(e)?ZI(e):KI(n,e)}class jp{constructor(){this._=void 0}}function cL(n,e,t){return n instanceof v4?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Np(i)&&(i=Rp(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof ld?JI(n,e):n instanceof ud?ex(n,e):function(r,i){const a=XI(r,i),l=tx(a)+tx(r.gt);return py(a)&&py(r.gt)?ZI(l):KI(r.serializer,l)}(n,e)}function lL(n,e,t){return n instanceof ld?JI(n,e):n instanceof ud?ex(n,e):t}function XI(n,e){return n instanceof y4?py(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class v4 extends jp{}class ld extends jp{constructor(e){super(),this.elements=e}}function JI(n,e){const t=nx(e);for(const r of n.elements)t.some(i=>Xc(i,r))||t.push(r);return{arrayValue:{values:t}}}class ud extends jp{constructor(e){super(),this.elements=e}}function ex(n,e){let t=nx(e);for(const r of n.elements)t=t.filter(i=>!Xc(i,r));return{arrayValue:{values:t}}}class y4 extends jp{constructor(e,t){super(),this.serializer=e,this.gt=t}}function tx(n){return go(n.integerValue||n.doubleValue)}function nx(n){return s3(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class f3{constructor(e,t){this.field=e,this.transform=t}}class dL{constructor(e,t){this.version=e,this.transformResults=t}}class Wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wi}static exists(e){return new Wi(void 0,e)}static updateTime(e){return new Wi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $p(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Gp{}function rx(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new w4(n.key,Wi.none()):new _4(n.key,n.data,Wi.none());{const t=n.data,r=gs.empty();let i=new ki(mo.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);null===l&&a.length>1&&(a=a.popLast(),l=t.field(a)),null===l?r.delete(a):r.set(a,l),i=i.add(a)}return new Vl(n.key,r,new ca(i.toArray()),Wi.none())}}function hL(n,e,t){n instanceof _4?function(r,i,a){const l=r.value.clone(),p=sx(r.fieldTransforms,i,a.transformResults);l.setAll(p),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Vl?function(r,i,a){if(!$p(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=sx(r.fieldTransforms,i,a.transformResults),p=i.data;p.setAll(ox(r)),p.setAll(l),i.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function p3(n,e,t,r){return n instanceof _4?function(i,a,l,p){if(!$p(i.precondition,a))return l;const y=i.value.clone(),M=ax(i.fieldTransforms,p,a);return y.setAll(M),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof Vl?function(i,a,l,p){if(!$p(i.precondition,a))return l;const y=ax(i.fieldTransforms,p,a),M=a.data;return M.setAll(ox(i)),M.setAll(y),a.convertToFoundDocument(a.version,M).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(N=>N.field))}(n,e,t,r):(l=t,$p(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l);var a,l}function fL(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=XI(r.transform,i||null);null!=a&&(null===t&&(t=gs.empty()),t.set(r.field,a))}return t||null}function ix(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&d4(t,r,(i,a)=>function uL(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ld&&r instanceof ld||t instanceof ud&&r instanceof ud?d4(t.elements,r.elements,Xc):t instanceof y4&&r instanceof y4?Xc(t.gt,r.gt):t instanceof v4&&r instanceof v4);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class _4 extends Gp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vl extends Gp{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ox(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function sx(n,e,t){const r=new Map;ln(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,p=e.data.field(a.field);r.set(a.field,lL(l,p,t[i]))}return r}function ax(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,cL(a,l,e))}return r}class w4 extends Gp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ey extends Gp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ty{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&hL(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=p3(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=p3(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=WI();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let p=this.applyToLocalView(l,a.mutatedFields);p=t.has(i.key)?null:p;const y=rx(l,p);null!==y&&r.set(i.key,y),l.isValidDocument()||l.convertToNoDocument(hn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tr())}isEqual(e){return this.batchId===e.batchId&&d4(this.mutations,e.mutations,(t,r)=>ix(t,r))&&d4(this.baseMutations,e.baseMutations,(t,r)=>ix(t,r))}}class Dy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ln(e.mutations.length===r.length);let i=oL;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Dy(e,t,r,i)}}class My{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mL{constructor(e,t){this.count=e,this.unchangedNames=t}}var zo,Mr;function cx(n){switch(n){default:return Xt();case qe.CANCELLED:case qe.UNKNOWN:case qe.DEADLINE_EXCEEDED:case qe.RESOURCE_EXHAUSTED:case qe.INTERNAL:case qe.UNAVAILABLE:case qe.UNAUTHENTICATED:return!1;case qe.INVALID_ARGUMENT:case qe.NOT_FOUND:case qe.ALREADY_EXISTS:case qe.PERMISSION_DENIED:case qe.FAILED_PRECONDITION:case qe.ABORTED:case qe.OUT_OF_RANGE:case qe.UNIMPLEMENTED:case qe.DATA_LOSS:return!0}}function lx(n){if(void 0===n)return wo("GRPC error has no .code"),qe.UNKNOWN;switch(n){case zo.OK:return qe.OK;case zo.CANCELLED:return qe.CANCELLED;case zo.UNKNOWN:return qe.UNKNOWN;case zo.DEADLINE_EXCEEDED:return qe.DEADLINE_EXCEEDED;case zo.RESOURCE_EXHAUSTED:return qe.RESOURCE_EXHAUSTED;case zo.INTERNAL:return qe.INTERNAL;case zo.UNAVAILABLE:return qe.UNAVAILABLE;case zo.UNAUTHENTICATED:return qe.UNAUTHENTICATED;case zo.INVALID_ARGUMENT:return qe.INVALID_ARGUMENT;case zo.NOT_FOUND:return qe.NOT_FOUND;case zo.ALREADY_EXISTS:return qe.ALREADY_EXISTS;case zo.PERMISSION_DENIED:return qe.PERMISSION_DENIED;case zo.FAILED_PRECONDITION:return qe.FAILED_PRECONDITION;case zo.ABORTED:return qe.ABORTED;case zo.OUT_OF_RANGE:return qe.OUT_OF_RANGE;case zo.UNIMPLEMENTED:return qe.UNIMPLEMENTED;case zo.DATA_LOSS:return qe.DATA_LOSS;default:return Xt()}}(Mr=zo||(zo={}))[Mr.OK=0]="OK",Mr[Mr.CANCELLED=1]="CANCELLED",Mr[Mr.UNKNOWN=2]="UNKNOWN",Mr[Mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mr[Mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mr[Mr.NOT_FOUND=5]="NOT_FOUND",Mr[Mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mr[Mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mr[Mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mr[Mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mr[Mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mr[Mr.ABORTED=10]="ABORTED",Mr[Mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mr[Mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mr[Mr.INTERNAL=13]="INTERNAL",Mr[Mr.UNAVAILABLE=14]="UNAVAILABLE",Mr[Mr.DATA_LOSS=15]="DATA_LOSS";class Iy{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return qp}static getOrCreateInstance(){return null===qp&&(qp=new Iy),qp}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let qp=null;function ux(){return new TextEncoder}const gL=new l4([4294967295,4294967295],0);function dx(n){const e=ux().encode(n),t=new lF;return t.update(e),new Uint8Array(t.digest())}function hx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new l4([t,r],0),new l4([i,a],0)]}class xy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new m3(`Invalid padding: ${t}`);if(r<0)throw new m3(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new m3(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new m3(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=l4.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(l4.fromNumber(r)));return 1===i.compare(gL)&&(i=new l4([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=dx(e),[r,i]=hx(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new xy(a,i,t);return r.forEach(p=>l.insert(p)),l}insert(e){if(0===this.It)return;const t=dx(e),[r,i]=hx(t);for(let a=0;a<this.hashCount;a++){const l=this.Et(r,i,a);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class m3 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class g3{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,v3.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new g3(hn.min(),i,new Ei($n),la(),tr())}}class v3{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new v3(r,t,tr(),tr(),tr())}}class Wp{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class fx{constructor(e,t){this.targetId=e,this.Vt=t}}class px{constructor(e,t,r=Bo.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class mx{constructor(){this.St=0,this.Dt=vx(),this.Ct=Bo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=tr(),t=tr(),r=tr();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Xt()}}),new v3(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=vx()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class vL{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=la(),this.zt=gx(),this.Wt=new Ei($n)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Xt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const l=a.target;if(Hp(l))if(0===i){const p=new Rt(l.path);this.Yt(r,p,Oi.newNoDocument(p,hn.min()))}else ln(1===i);else{const p=this.ie(r);if(p!==i){const y=this.re(e,p);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Iy.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(M,N,U){var te,ce,ge,Re,$e,pt;const Bt={localCacheCount:N,existenceFilterCount:U.count},At=U.unchangedNames;return At&&(Bt.bloomFilter={applied:0===M,hashCount:null!==(te=At?.hashCount)&&void 0!==te?te:0,bitmapLength:null!==(Re=null===(ge=null===(ce=At?.bits)||void 0===ce?void 0:ce.bitmap)||void 0===ge?void 0:ge.length)&&void 0!==Re?Re:0,padding:null!==(pt=null===($e=At?.bits)||void 0===$e?void 0:$e.padding)&&void 0!==pt?pt:0}),Bt}(y,p,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:l=0},hashCount:p=0}=r;let y,M;try{y=Rl(a).toUint8Array()}catch(N){if(N instanceof bI)return $a("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw N}try{M=new xy(y,l,p)}catch(N){return $a(N instanceof m3?"BloomFilter error: ":"Applying bloom filter failed: ",N),1}return 0===M.It?1:i!==t-this.oe(e.targetId,M)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const l=this.Gt.ue(),p=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;t.vt(p)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,l)=>{const p=this.se(l);if(p){if(a.current&&Hp(p.target)){const y=new Rt(p.target.path);null!==this.jt.get(y)||this.ae(l,y)||this.Yt(l,y,Oi.newNoDocument(y,e))}a.Mt&&(t.set(l,a.Ot()),a.Ft())}});let r=tr();this.zt.forEach((a,l)=>{let p=!0;l.forEachWhile(y=>{const M=this.se(y);return!M||"TargetPurposeLimboResolution"===M.purpose||(p=!1,!1)}),p&&(r=r.add(a))}),this.jt.forEach((a,l)=>l.setReadTime(e));const i=new g3(e,t,this.Wt,this.jt,r);return this.jt=la(),this.zt=gx(),this.Wt=new Ei($n),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new mx,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ki($n),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||yt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new mx),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function gx(){return new Ei(Rt.comparator)}function vx(){return new Ei(Rt.comparator)}const yL={asc:"ASCENDING",desc:"DESCENDING"},_L={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wL={and:"AND",or:"OR"};class CL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zy(n,e){return n.useProto3Json||t3(e)?e:{value:e}}function C4(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function bL(n,e){return C4(n,e.toTimestamp())}function Co(n){return ln(!!n),hn.fromTimestamp(function(e){const t=Iu(e);return new qi(t.seconds,t.nanos)}(n))}function Ay(n,e){return(t=n,new Dr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _x(n){const e=Dr.fromString(n);return ln(Ix(e)),e}function y3(n,e){return Ay(n.databaseId,e.path)}function el(n,e){const t=_x(e);if(t.get(1)!==n.databaseId.projectId)throw new dt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new dt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Rt(Cx(t))}function Py(n,e){return Ay(n.databaseId,e)}function wx(n){const e=_x(n);return 4===e.length?Dr.emptyPath():Cx(e)}function _3(n){return new Dr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Cx(n){return ln(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function bx(n,e,t){return{name:y3(n,e),fields:t.value.mapValue.fields}}function Sx(n,e,t){const r=el(n,e.name),i=Co(e.updateTime),a=e.createTime?Co(e.createTime):hn.min(),l=new gs({mapValue:{fields:e.fields}}),p=Oi.newFoundDocument(r,i,a,l);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function w3(n,e){let t;if(e instanceof _4)t={update:bx(n,e.key,e.value)};else if(e instanceof w4)t={delete:y3(n,e.key)};else if(e instanceof Vl)t={update:bx(n,e.key,e.data),updateMask:zL(e.fieldMask)};else{if(!(e instanceof Ey))return Xt();t={verify:y3(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof v4)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ld)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ud)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof y4)return{fieldPath:a.field.canonicalString(),increment:l.gt};throw Xt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:bL(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Xt()),t;var i}function ky(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Wi.updateTime(Co(i.updateTime)):void 0!==i.exists?Wi.exists(i.exists):Wi.none():Wi.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,l){let p=null;"setToServerValue"in l?(ln("REQUEST_TIME"===l.setToServerValue),p=new v4):"appendMissingElements"in l?p=new ld(l.appendMissingElements.values||[]):"removeAllFromArray"in l?p=new ud(l.removeAllFromArray.values||[]):"increment"in l?p=new y4(a,l.increment):Xt();const y=mo.fromServerFormat(l.fieldPath);return new f3(y,p)}(n,i)):[];var i;if(e.update){const i=el(n,e.update.name),a=new gs({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new ca((e.updateMask.fieldPaths||[]).map(M=>mo.fromServerFormat(M)));return new Vl(i,a,l,t,r)}return new _4(i,a,t,r)}if(e.delete){const i=el(n,e.delete);return new w4(i,t)}if(e.verify){const i=el(n,e.verify);return new Ey(i,t)}return Xt()}function Ex(n,e){return{documents:[Py(n,e.path)]}}function Oy(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Py(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Py(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return Mx(li.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(M=>{return{field:Ou((N=M).field),direction:ML(N.dir)};var N})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=zy(n,e.limit);var p,y;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function Tx(n){let e=wx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ln(1===r);const N=t.from[0];N.allDescendants?i=N.collectionId:e=e.child(N.collectionId)}let a=[];t.where&&(a=function(N){const U=Dx(N);return U instanceof li&&gy(U)?U.getFilters():[U]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(N=>{return new p4(b4((U=N).field),function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction));var U}));let p=null;t.limit&&(p=function(N){let U;return U="object"==typeof N?N.value:N,t3(U)?null:U}(t.limit));let y=null;var N;t.startAt&&(y=new ku((N=t.startAt).values||[],!!N.before));let M=null;return t.endAt&&(M=function(N){return new ku(N.values||[],!N.before)}(t.endAt)),BI(e,i,l,a,p,"F",y,M)}function Dx(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=b4(e.unaryFilter.field);return yr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=b4(e.unaryFilter.field);return yr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=b4(e.unaryFilter.field);return yr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=b4(e.unaryFilter.field);return yr.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Xt()}}(n):void 0!==n.fieldFilter?yr.create(b4((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return li.create(e.compositeFilter.filters.map(t=>Dx(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Xt()}}(e.compositeFilter.op))}(n):Xt();var e}function ML(n){return yL[n]}function IL(n){return _L[n]}function xL(n){return wL[n]}function Ou(n){return{fieldPath:n.canonicalString()}}function b4(n){return mo.fromServerFormat(n.fieldPath)}function Mx(n){return n instanceof yr?function(e){if("=="===e.op){if(TI(e.value))return{unaryFilter:{field:Ou(e.field),op:"IS_NAN"}};if(EI(e.value))return{unaryFilter:{field:Ou(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(TI(e.value))return{unaryFilter:{field:Ou(e.field),op:"IS_NOT_NAN"}};if(EI(e.value))return{unaryFilter:{field:Ou(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ou(e.field),op:IL(e.op),value:e.value}}}(n):n instanceof li?function(e){const t=e.getFilters().map(r=>Mx(r));return 1===t.length?t[0]:{compositeFilter:{op:xL(e.op),filters:t}}}(n):Xt()}function zL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ix(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Hl{constructor(e,t,r,i,a=hn.min(),l=hn.min(),p=Bo.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(e){return new Hl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class xx{constructor(e){this.fe=e}}function zx(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Kp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:y3(i=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:C4(i,a.version.toTimestamp()),createTime:C4(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:dd(e.version)};else{if(!e.isUnknownDocument())return Xt();r.unknownDocument={path:t.path.toArray(),version:dd(e.version)}}var i,a;return r}function Kp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function dd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function hd(n){const e=new qi(n.seconds,n.nanoseconds);return hn.fromTimestamp(e)}function fd(n,e){const t=(e.baseMutations||[]).map(a=>ky(n.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const r=e.mutations.map(a=>ky(n.fe,a)),i=qi.fromMillis(e.localWriteTimeMs);return new Ty(e.batchId,i,t,r)}function C3(n){const e=hd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?hd(n.lastLimboFreeSnapshotVersion):hn.min();let r;var i;return void 0!==n.query.documents?(ln(1===(i=n.query).documents.length),r=Gs(g4(wx(i.documents[0])))):r=Gs(Tx(n.query)),new Hl(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Bo.fromBase64String(n.resumeToken))}function Ax(n,e){const t=dd(e.snapshotVersion),r=dd(e.lastLimboFreeSnapshotVersion);let i;i=Hp(e.target)?Ex(n.fe,e.target):Oy(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ad(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ny(n){const e=Tx({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Yp(e,e.limit,"L"):e}function Ry(n,e){return new My(e.largestBatchId,ky(n.fe,e.overlayMutation))}function Px(n,e){const t=e.path.lastSegment();return[n,Ps(e.path.popLast()),t]}function kx(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:dd(r.readTime),documentKey:Ps(r.documentKey.path),largestBatchId:r.largestBatchId}}class PL{getBundleMetadata(e,t){return Ox(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:hd(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Ox(e).put({bundleId:(r=t).id,createTime:dd(Co(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Nx(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Ny(i.bundledQuery),readTime:hd(i.readTime)};var i})}saveNamedQuery(e,t){return Nx(e).put({name:(r=t).name,readTime:dd(Co(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Ox(n){return Qo(n,"bundles")}function Nx(n){return Qo(n,"namedQueries")}class Zp{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Zp(e,t.uid||"")}getOverlay(e,t){return b3(e).get(Px(this.userId,t)).next(r=>r?Ry(this.serializer,r):null)}getOverlays(e,t){const r=Jc();return Ue.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,l)=>{const p=new My(t,l);i.push(this.we(e,p))}),Ue.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Ps(l.getCollectionPath())));const a=[];return i.forEach(l=>{const p=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(b3(e).J("collectionPathOverlayIndex",p))}),Ue.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Jc(),a=Ps(t),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return b3(e).j("collectionPathOverlayIndex",l).next(p=>{for(const y of p){const M=Ry(this.serializer,y);i.set(M.getKey(),M)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Jc();let l;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return b3(e).X({index:"collectionGroupOverlayIndex",range:p},(y,M,N)=>{const U=Ry(this.serializer,M);a.size()<i||U.largestBatchId===l?(a.set(U.getKey(),U),l=U.largestBatchId):N.done()}).next(()=>a)}we(e,t){return b3(e).put(function(r,i,a){const[l,p,y]=Px(i,a.mutation.key);return{userId:i,collectionPath:p,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:w3(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function b3(n){return Qo(n,"documentOverlays")}class pd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(go(e.integerValue));else if("doubleValue"in e){const r=go(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),n3(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Rl(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?DI(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Xt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Rt.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function kL(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Rx(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=kL(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}pd.Ve=new pd;class OL{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=Rx(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=Rx(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class NL{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class RL{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class S3{constructor(){this.je=new OL,this.ze=new NL(this.je),this.We=new RL(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class md{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new md(this.indexId,this.documentKey,this.arrayValue,r)}}function Nu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Fx(n.arrayValue,e.arrayValue),0!==t?t:(t=Fx(n.directionalValue,e.directionalValue),0!==t?t:Rt.comparator(n.documentKey,e.documentKey)))}function Fx(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class FL{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){ln(e.collectionGroup===this.collectionId);const t=cy(e);if(void 0!==t&&!this.en(t))return!1;const r=id(e);let i=new Set,a=0,l=0;for(;a<r.length&&this.en(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const p=r[a];if(!this.nn(this.Ze,p)||!this.sn(this.Ye[l++],p))return!1}++a}for(;a<r.length;++a)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[a]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Lx(n){var e,t;if(ln(n instanceof yr||n instanceof li),n instanceof yr){if(n instanceof LI){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>yr.create(n.field,"==",a)))||[];return li.create(i,"or")}return n}const r=n.filters.map(i=>Lx(i));return li.create(r,n.op)}function LL(n){if(0===n.getFilters().length)return[];const e=Vy(Lx(n));return ln(Vx(e)),Fy(e)||Ly(e)?[e]:e.getFilters()}function Fy(n){return n instanceof yr}function Ly(n){return n instanceof li&&gy(n)}function Vx(n){return Fy(n)||Ly(n)||function(e){if(e instanceof li&&my(e)){for(const t of e.getFilters())if(!Fy(t)&&!Ly(t))return!1;return!0}return!1}(n)}function Vy(n){if(ln(n instanceof yr||n instanceof li),n instanceof yr)return n;if(1===n.filters.length)return Vy(n.filters[0]);const e=n.filters.map(r=>Vy(r));let t=li.create(e,n.op);return t=Qp(t),Vx(t)?t:(ln(t instanceof li),ln(m4(t)),ln(t.filters.length>1),t.filters.reduce((r,i)=>Hy(r,i)))}function Hy(n,e){let t;return ln(n instanceof yr||n instanceof li),ln(e instanceof yr||e instanceof li),t=n instanceof yr?e instanceof yr?li.create([n,e],"and"):Hx(n,e):e instanceof yr?Hx(e,n):function(r,i){if(ln(r.filters.length>0&&i.filters.length>0),m4(r)&&m4(i))return NI(r,i.getFilters());const a=my(r)?r:i,l=my(r)?i:r,p=a.filters.map(y=>Hy(y,l));return li.create(p,"or")}(n,e),Qp(t)}function Hx(n,e){if(m4(e))return NI(e,n.getFilters());{const t=e.filters.map(r=>Hy(n,r));return li.create(t,"or")}}function Qp(n){if(ln(n instanceof yr||n instanceof li),n instanceof yr)return n;const e=n.getFilters();if(1===e.length)return Qp(e[0]);if(kI(n))return n;const t=e.map(i=>Qp(i)),r=[];return t.forEach(i=>{i instanceof yr?r.push(i):i instanceof li&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:li.create(r,n.op)}class VL{constructor(){this.rn=new By}addToCollectionParentIndex(e,t){return this.rn.add(t),Ue.resolve()}getCollectionParents(e,t){return Ue.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ue.resolve()}deleteFieldIndex(e,t){return Ue.resolve()}getDocumentsMatchingTarget(e,t){return Ue.resolve(null)}getIndexType(e,t){return Ue.resolve(0)}getFieldIndexes(e,t){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,t){return Ue.resolve(Ca.min())}getMinOffsetFromCollectionGroup(e,t){return Ue.resolve(Ca.min())}updateCollectionGroup(e,t,r){return Ue.resolve()}updateIndexEntries(e,t){return Ue.resolve()}}class By{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ki(Dr.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ki(Dr.comparator)).toArray()}}const Xp=new Uint8Array(0);class HL{constructor(e,t){this.user=e,this.databaseId=t,this.on=new By,this.un=new Ll(r=>ad(r),(r,i)=>c3(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:Ps(i)};return Bx(e).put(a)}return Ue.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[sI(t),""],!1,!0);return Bx(e).j(i).next(a=>{for(const l of a){if(l.collectionId!==t)break;r.push(Qc(l.parent))}return r})}addFieldIndex(e,t){const r=Jp(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var l;delete i.indexId;const a=r.add(i);if(t.indexState){const l=T3(e);return a.next(p=>{l.put(kx(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=Jp(e),i=T3(e),a=E3(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=E3(e);let i=!0;const a=new Map;return Ue.forEach(this.cn(t),l=>this.an(e,l).next(p=>{i&&(i=!!p),a.set(l,p)})).next(()=>{if(i){let l=tr();const p=[];return Ue.forEach(a,(y,M)=>{var N;yt("IndexedDbIndexManager",`Using index ${N=y,`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map(At=>`${At.fieldPath}:${At.kind}`).join(",")}`} to execute ${ad(t)}`);const U=function(At,Ot){const En=cy(Ot);if(void 0===En)return null;for(const yn of Bp(At,En.fieldPath))switch(yn.op){case"array-contains-any":return yn.value.arrayValue.values||[];case"array-contains":return[yn.value]}return null}(M,y),te=function(At,Ot){const En=new Map;for(const yn of id(Ot))for(const ur of Bp(At,yn.fieldPath))switch(ur.op){case"==":case"in":En.set(yn.fieldPath.canonicalString(),ur.value);break;case"not-in":case"!=":return En.set(yn.fieldPath.canonicalString(),ur.value),Array.from(En.values())}return null}(M,y),ce=function(At,Ot){const En=[];let yn=!0;for(const ur of id(Ot)){const Fi=0===ur.kind?VI(At,ur.fieldPath,At.startAt):HI(At,ur.fieldPath,At.startAt);En.push(Fi.value),yn&&(yn=Fi.inclusive)}return new ku(En,yn)}(M,y),ge=function(At,Ot){const En=[];let yn=!0;for(const ur of id(Ot)){const Fi=0===ur.kind?HI(At,ur.fieldPath,At.endAt):VI(At,ur.fieldPath,At.endAt);En.push(Fi.value),yn&&(yn=Fi.inclusive)}return new ku(En,yn)}(M,y),Re=this.hn(y,M,ce),$e=this.hn(y,M,ge),pt=this.ln(y,M,te),Bt=this.fn(y.indexId,U,Re,ce.inclusive,$e,ge.inclusive,pt);return Ue.forEach(Bt,At=>r.H(At,t.limit).next(Ot=>{Ot.forEach(En=>{const yn=Rt.fromSegments(En.documentKey);l.has(yn)||(l=l.add(yn),p.push(yn))})}))}).next(()=>p)}return Ue.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:LL(li.create(e.filters,"and")).map(r=>yy(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,a,l,p){const y=(null!=t?t.length:1)*Math.max(r.length,a.length),M=y/(null!=t?t.length:1),N=[];for(let U=0;U<y;++U){const te=t?this.dn(t[U/M]):Xp,ce=this.wn(e,te,r[U%M],i),ge=this._n(e,te,a[U%M],l),Re=p.map($e=>this.wn(e,te,$e,!0));N.push(...this.createRange(ce,ge,Re))}return N}wn(e,t,r,i){const a=new md(e,Rt.empty(),t,r);return i?a:a.Je()}_n(e,t,r,i){const a=new md(e,Rt.empty(),t,r);return i?a.Je():a}an(e,t){const r=new FL(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let l=null;for(const p of a)r.tn(p)&&(!l||p.fields.length>l.fields.length)&&(l=p);return l})}getIndexType(e,t){let r=2;const i=this.cn(t);return Ue.forEach(i,a=>this.an(e,a).next(l=>{l?0!==r&&l.fields.length<function(p){let y=new ki(mo.comparator),M=!1;for(const N of p.filters)for(const U of N.getFlattenedFilters())U.field.isKeyField()||("array-contains"===U.op||"array-contains-any"===U.op?M=!0:y=y.add(U.field));for(const N of p.orderBy)N.field.isKeyField()||(y=y.add(N.field));return y.size+(M?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new S3;for(const i of id(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const l=r.He(i.kind);pd.Ve._e(a,l)}return r.Qe()}dn(e){const t=new S3;return pd.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new S3;return pd.Ve._e(sd(this.databaseId,t),r.He(function(i){const a=id(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new S3);let a=0;for(const l of id(e)){const p=r[a++];for(const y of i)if(this.yn(t,l.fieldPath)&&s3(p))i=this.pn(i,l,p);else{const M=y.He(l.kind);pd.Ve._e(p,M)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const p of i){const y=new S3;y.seed(p.Qe()),pd.Ve._e(l,y.He(t.kind)),a.push(y)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof yr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Jp(e),i=T3(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const l=[];return Ue.forEach(a,p=>i.get([p.indexId,this.uid]).next(y=>{l.push(function(M,N){const U=N?new J0(N.sequenceNumber,new Ca(hd(N.readTime),new Rt(Qc(N.documentKey)),N.largestBatchId)):J0.empty(),te=M.fields.map(([ce,ge])=>new Ap(mo.fromServerFormat(ce),ge));return new zp(M.indexId,M.collectionGroup,te,U)}(p,y))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:$n(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Jp(e),a=T3(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>Ue.forEach(p,y=>a.put(kx(y.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return Ue.forEach(t,(i,a)=>{const l=r.get(i.collectionGroup);return(l?Ue.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),Ue.forEach(p,y=>this.En(e,i,y).next(M=>{const N=this.An(a,y);return M.isEqual(N)?Ue.resolve():this.vn(e,a,y,M,N)}))))})}Rn(e,t,r,i){return E3(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return E3(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=E3(e);let a=new ki(Nu);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,p)=>{a=a.add(new md(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>a)}An(e,t){let r=new ki(Nu);const i=this.mn(t,e);if(null==i)return r;const a=cy(t);if(null!=a){const l=e.data.field(a.fieldPath);if(s3(l))for(const p of l.arrayValue.values||[])r=r.add(new md(t.indexId,e.key,this.dn(p),i))}else r=r.add(new md(t.indexId,e.key,Xp,i));return r}vn(e,t,r,i,a){yt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(p,y,M,N,U){const te=p.getIterator(),ce=y.getIterator();let ge=h4(te),Re=h4(ce);for(;ge||Re;){let $e=!1,pt=!1;if(ge&&Re){const Bt=M(ge,Re);Bt<0?pt=!0:Bt>0&&($e=!0)}else null!=ge?pt=!0:$e=!0;$e?(N(Re),Re=h4(ce)):pt?(U(ge),ge=h4(te)):(ge=h4(te),Re=h4(ce))}}(i,a,Nu,p=>{l.push(this.Rn(e,t,r,p))},p=>{l.push(this.Pn(e,t,r,p))}),Ue.waitFor(l)}Tn(e){let t=1;return T3(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,p)=>Nu(l,p)).filter((l,p,y)=>!p||0!==Nu(l,y[p-1]));const i=[];i.push(e);for(const l of r){const p=Nu(l,e),y=Nu(l,t);if(0===p)i[0]=e.Je();else if(p>0&&y<0)i.push(l),i.push(l.Je());else if(y>0)break}i.push(t);const a=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];a.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Xp,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Xp,[]]))}return a}bn(e,t){return Nu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ux)}getMinOffset(e,t){return Ue.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||Xt())).next(Ux)}}function Bx(n){return Qo(n,"collectionParents")}function E3(n){return Qo(n,"indexEntries")}function Jp(n){return Qo(n,"indexConfiguration")}function T3(n){return Qo(n,"indexState")}function Ux(n){ln(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;ly(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ca(e.readTime,e.documentKey,t)}const Yx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ks{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ks(e,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function jx(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],l=IDBKeyRange.only(t.batchId);let p=0;const y=r.X({range:l},(N,U,te)=>(p++,te.delete()));a.push(y.next(()=>{ln(1===p)}));const M=[];for(const N of t.mutations){const U=mI(e,N.key.path,t.batchId);a.push(i.delete(U)),M.push(N.key)}return Ue.waitFor(a).next(()=>M)}function em(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Xt();e=n.noDocument}return JSON.stringify(e).length}ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(41943040,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);class tm{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){ln(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new tm(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ru(e).X({index:"userMutationsIndex",range:r},(i,a,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=S4(e),l=Ru(e);return l.add({}).next(p=>{ln("number"==typeof p);const y=new Ty(p,t,r,i),M=function(te,ce,ge){const Re=ge.baseMutations.map(pt=>w3(te.fe,pt)),$e=ge.mutations.map(pt=>w3(te.fe,pt));return{userId:ce,batchId:ge.batchId,localWriteTimeMs:ge.localWriteTime.toMillis(),baseMutations:Re,mutations:$e}}(this.serializer,this.userId,y),N=[];let U=new ki((te,ce)=>$n(te.canonicalString(),ce.canonicalString()));for(const te of i){const ce=mI(this.userId,te.key.path,p);U=U.add(te.key.path.popLast()),N.push(l.put(M)),N.push(a.put(ce,MF))}return U.forEach(te=>{N.push(this.indexManager.addToCollectionParentIndex(e,te))}),e.addOnCommittedListener(()=>{this.Vn[p]=y.keys()}),Ue.waitFor(N).next(()=>y)})}lookupMutationBatch(e,t){return Ru(e).get(t).next(r=>r?(ln(r.userId===this.userId),fd(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?Ue.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Ru(e).X({index:"userMutationsIndex",range:i},(l,p,y)=>{p.userId===this.userId&&(ln(p.batchId>=r),a=fd(this.serializer,p)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ru(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,l)=>{r=a.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ru(e).j("userMutationsIndex",t).next(r=>r.map(i=>fd(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=kp(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return S4(e).X({range:i},(l,p,y)=>{const[M,N,U]=l,te=Qc(N);if(M===this.userId&&t.path.isEqual(te))return Ru(e).get(U).next(ce=>{if(!ce)throw Xt();ln(ce.userId===this.userId),a.push(fd(this.serializer,ce))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ki($n);const i=[];return t.forEach(a=>{const l=kp(this.userId,a.path),p=IDBKeyRange.lowerBound(l),y=S4(e).X({range:p},(M,N,U)=>{const[te,ce,ge]=M,Re=Qc(ce);te===this.userId&&a.path.isEqual(Re)?r=r.add(ge):U.done()});i.push(y)}),Ue.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=kp(this.userId,r),l=IDBKeyRange.lowerBound(a);let p=new ki($n);return S4(e).X({range:l},(y,M,N)=>{const[U,te,ce]=y,ge=Qc(te);U===this.userId&&r.isPrefixOf(ge)?ge.length===i&&(p=p.add(ce)):N.done()}).next(()=>this.Dn(e,p))}Dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Ru(e).get(a).next(l=>{if(null===l)throw Xt();ln(l.userId===this.userId),r.push(fd(this.serializer,l))}))}),Ue.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return jx(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Ue.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return S4(e).X({range:r},(a,l,p)=>{if(a[0]===this.userId){const y=Qc(a[1]);i.push(y)}else p.done()}).next(()=>{ln(0===i.length)})})}containsKey(e,t){return $x(e,this.userId,t)}xn(e){return Gx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $x(n,e,t){const r=kp(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return S4(n).X({range:a,Y:!0},(p,y,M)=>{const[N,U,te]=p;N===e&&U===i&&(l=!0),M.done()}).next(()=>l)}function Ru(n){return Qo(n,"mutations")}function S4(n){return Qo(n,"documentMutations")}function Gx(n){return Qo(n,"mutationQueues")}class gd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new gd(0)}static Mn(){return new gd(-1)}}class BL{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new gd(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>hn.fromTimestamp(new qi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>E4(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(ln(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return E4(e).X((l,p)=>{const y=C3(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,a.push(this.removeTargetData(e,y)))}).next(()=>Ue.waitFor(a)).next(()=>i)}forEachTarget(e,t){return E4(e).X((r,i)=>{const a=C3(i);t(a)})}$n(e){return qx(e).get("targetGlobalKey").next(t=>(ln(null!==t),t))}On(e,t){return qx(e).put("targetGlobalKey",t)}Fn(e,t){return E4(e).put(Ax(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=ad(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return E4(e).X({range:i,index:"queryTargetsIndex"},(l,p,y)=>{const M=C3(p);c3(t,M.target)&&(a=M,y.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Fu(e);return t.forEach(l=>{const p=Ps(l.path);i.push(a.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,l))}),Ue.waitFor(i)}removeMatchingKeys(e,t,r){const i=Fu(e);return Ue.forEach(t,a=>{const l=Ps(a.path);return Ue.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Fu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Fu(e);let a=tr();return i.X({range:r,Y:!0},(l,p,y)=>{const M=Qc(l[1]),N=new Rt(M);a=a.add(N)}).next(()=>a)}containsKey(e,t){const r=Ps(t.path),i=IDBKeyRange.bound([r],[sI(r)],!1,!0);let a=0;return Fu(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,p],y,M)=>{0!==l&&(a++,M.done())}).next(()=>a>0)}le(e,t){return E4(e).get(t).next(r=>r?C3(r):null)}}function E4(n){return Qo(n,"targets")}function qx(n){return Qo(n,"targetGlobal")}function Fu(n){return Qo(n,"targetDocuments")}function Wx([n,e],[t,r]){const i=$n(n,t);return 0===i?$n(e,r):i}class UL{constructor(e){this.Ln=e,this.buffer=new ki(Wx),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Wx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Kx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;yt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,tt.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Du(r)?yt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Tu(r)}yield t.Qn(3e5)}))}}class YL{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ue.resolve(ba.ct);const r=new UL(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(Yx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yx):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,a,l,p,y,M;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(U=>(U>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),i=this.params.maximumSequenceNumbersToCollect):i=U,l=Date.now(),this.nthSequenceNumber(e,i))).next(U=>(r=U,p=Date.now(),this.removeTargets(e,r,t))).next(U=>(a=U,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(U=>(M=Date.now(),sy()<=Cu.in.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-N}ms\n\tDetermined least recently used ${i} in `+(p-l)+`ms\n\tRemoved ${a} targets in `+(y-p)+`ms\n\tRemoved ${U} documents in `+(M-y)+`ms\nTotal Duration: ${M-N}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:U})))}}class jL{constructor(e,t){this.db=e,this.garbageCollector=function Zx(n,e){return new YL(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return nm(e,r)}removeReference(e,t,r){return nm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return nm(e,t)}Xn(e,t){return function(r,i){let a=!1;return Gx(r).Z(l=>$x(r,l,i).next(p=>(p&&(a=!0),Ue.resolve(!p)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(l,p)=>{if(p<=t){const y=this.Xn(e,l).next(M=>{if(!M)return a++,r.getEntry(e,l).next(()=>(r.removeEntry(l,hn.min()),Fu(e).delete([0,Ps(l.path)])))});i.push(y)}}).next(()=>Ue.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return nm(e,t)}Yn(e,t){const r=Fu(e);let i,a=ba.ct;return r.X({index:"documentTargetsIndex"},([l,p],{path:y,sequenceNumber:M})=>{0===l?(a!==ba.ct&&t(new Rt(Qc(i)),a),a=M,i=y):a=ba.ct}).next(()=>{a!==ba.ct&&t(new Rt(Qc(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nm(n,e){return Fu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ps(e.path),sequenceNumber:r}));var r}class Qx{constructor(){this.changes=new Ll(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Oi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $L{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return vd(e).put(r)}removeEntry(e,t,r){return vd(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Kp(a),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Oi.newInvalidDocument(t);return vd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(D3(t))},(i,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:Oi.newInvalidDocument(t)};return vd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(D3(t))},(i,a)=>{r={document:this.ts(t,a),size:em(a)}}).next(()=>r)}getEntries(e,t){let r=la();return this.ns(e,t,(i,a)=>{const l=this.ts(i,a);r=r.insert(i,l)}).next(()=>r)}ss(e,t){let r=la(),i=new Ei(Rt.comparator);return this.ns(e,t,(a,l)=>{const p=this.ts(a,l);r=r.insert(a,p),i=i.insert(a,em(l))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return Ue.resolve();let i=new ki(tz);t.forEach(y=>i=i.add(y));const a=IDBKeyRange.bound(D3(i.first()),D3(i.last())),l=i.getIterator();let p=l.getNext();return vd(e).X({index:"documentKeyIndex",range:a},(y,M,N)=>{const U=Rt.fromSegments([...M.prefixPath,M.collectionGroup,M.documentId]);for(;p&&tz(p,U)<0;)r(p,null),p=l.getNext();p&&p.isEqual(U)&&(r(p,M),p=l.hasNext()?l.getNext():null),p?N.G(D3(p)):N.done()}).next(()=>{for(;p;)r(p,null),p=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,l=[a.popLast().toArray(),a.lastSegment(),Kp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vd(e).j(IDBKeyRange.bound(l,p,!0)).next(y=>{let M=la();for(const N of y){const U=this.ts(Rt.fromSegments(N.prefixPath.concat(N.collectionGroup,N.documentId)),N);U.isFoundDocument()&&(u3(t,U)||i.has(U.key))&&(M=M.insert(U.key,U))}return M})}getAllFromCollectionGroup(e,t,r,i){let a=la();const l=ez(t,r),p=ez(t,Ca.max());return vd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,p,!0)},(y,M,N)=>{const U=this.ts(Rt.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);a=a.insert(U.key,U),a.size===i&&N.done()}).next(()=>a)}newChangeBuffer(e){return new GL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Jx(e).get("remoteDocumentGlobalKey").next(t=>(ln(!!t),t))}Zn(e,t){return Jx(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function AL(n,e){let t;if(e.document)t=Sx(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Rt.fromSegments(e.noDocument.path),i=hd(e.noDocument.readTime);t=Oi.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xt();{const r=Rt.fromSegments(e.unknownDocument.path),i=hd(e.unknownDocument.version);t=Oi.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new qi(r[0],r[1]);return hn.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(hn.min()))return r}return Oi.newInvalidDocument(e)}}function Xx(n){return new $L(n)}class GL extends Qx{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Ll(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new ki((a,l)=>$n(a.canonicalString(),l.canonicalString()));return this.changes.forEach((a,l)=>{const p=this.us.get(a);if(t.push(this.os.removeEntry(e,a,p.readTime)),l.isValidDocument()){const y=zx(this.os.serializer,l);i=i.add(a.path.popLast());const M=em(y);r+=M-p.size,t.push(this.os.addEntry(e,a,y))}else if(r-=p.size,this.trackRemovals){const y=zx(this.os.serializer,l.convertToNoDocument(hn.min()));t.push(this.os.addEntry(e,a,y))}}),i.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),Ue.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((a,l)=>{this.us.set(a,{size:l,readTime:r.get(a).readTime})}),r))}}function Jx(n){return Qo(n,"remoteDocumentGlobal")}function vd(n){return Qo(n,"remoteDocumentsV14")}function D3(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ez(n,e){const t=e.documentKey.path.toArray();return[n,Kp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function tz(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=$n(t[a],r[a]),i)return i;return i=$n(t.length,r.length),i||(i=$n(t[t.length-2],r[r.length-2]),i||$n(t[t.length-1],r[r.length-1]))}class qL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class nz{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&p3(r.mutation,i,ca.empty(),qi.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tr()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tr()){const i=Jc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=d3();return a.forEach((p,y)=>{l=l.insert(p,y.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Jc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tr()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,p)=>{t.set(l,p)})})}computeViews(e,t,r,i){let a=la();const l=h3(),p=h3();return t.forEach((y,M)=>{const N=r.get(M.key);i.has(M.key)&&(void 0===N||N.mutation instanceof Vl)?a=a.insert(M.key,M):void 0!==N?(l.set(M.key,N.mutation.getFieldMask()),p3(N.mutation,M,N.mutation.getFieldMask(),qi.now())):l.set(M.key,ca.empty())}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((M,N)=>l.set(M,N)),t.forEach((M,N)=>{var U;return p.set(M,new qL(N,null!==(U=l.get(M))&&void 0!==U?U:null))}),p))}recalculateAndSaveOverlays(e,t){const r=h3();let i=new Ei((l,p)=>l-p),a=tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const p of l)p.keys().forEach(y=>{const M=t.get(y);if(null===M)return;let N=r.get(y)||ca.empty();N=p.applyToLocalView(M,N),r.set(y,N);const U=(i.get(p.batchId)||tr()).add(y);i=i.insert(p.batchId,U)})}).next(()=>{const l=[],p=i.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),M=y.key,N=y.value,U=WI();N.forEach(te=>{if(!a.has(te)){const ce=rx(t.get(te),r.get(te));null!==ce&&U.set(te,ce),a=a.add(te)}}),l.push(this.documentOverlayCache.saveOverlays(e,M,U))}return Ue.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Rt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):wy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):Ue.resolve(Jc());let p=-1,y=a;return l.next(M=>Ue.forEach(M,(N,U)=>(p<U.largestBatchId&&(p=U.largestBatchId),a.get(N)?Ue.resolve():this.remoteDocumentCache.getEntry(e,N).next(te=>{y=y.insert(N,te)}))).next(()=>this.populateOverlays(e,M,a)).next(()=>this.computeViews(e,y,M,tr())).next(N=>({batchId:p,changes:qI(N)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Rt(t)).next(r=>{let i=d3();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=d3();return this.indexManager.getCollectionParents(e,i).next(l=>Ue.forEach(l,p=>{const y=(M=t,N=p.child(i),new Fl(N,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt));var M,N;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(M=>{M.forEach((N,U)=>{a=a.insert(N,U)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((p,y)=>{const M=y.getKey();null===a.get(M)&&(a=a.insert(M,Oi.newInvalidDocument(M)))});let l=d3();return a.forEach((p,y)=>{const M=i.get(p);void 0!==M&&p3(M.mutation,y,ca.empty(),qi.now()),u3(t,y)&&(l=l.insert(p,y))}),l})}}class WL{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ue.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Co(r.createTime)}),Ue.resolve()}getNamedQuery(e,t){return Ue.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:Ny(r.bundledQuery),readTime:Co(r.readTime)}),Ue.resolve();var r}}class KL{constructor(){this.overlays=new Ei(Rt.comparator),this.ls=new Map}getOverlay(e,t){return Ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Jc();return Ue.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),Ue.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),Ue.resolve()}getOverlaysForCollection(e,t,r){const i=Jc(),a=t.length+1,l=new Rt(t.child("")),p=this.overlays.getIteratorFrom(l);for(;p.hasNext();){const y=p.getNext().value,M=y.getKey();if(!t.isPrefixOf(M.path))break;M.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return Ue.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Ei((M,N)=>M-N);const l=this.overlays.getIterator();for(;l.hasNext();){const M=l.getNext().value;if(M.getKey().getCollectionGroup()===t&&M.largestBatchId>r){let N=a.get(M.largestBatchId);null===N&&(N=Jc(),a=a.insert(M.largestBatchId,N)),N.set(M.getKey(),M)}}const p=Jc(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((M,N)=>p.set(M,N)),!(p.size()>=i)););return Ue.resolve(p)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new My(t,r));let a=this.ls.get(t);void 0===a&&(a=tr(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class Uy{constructor(){this.fs=new ki(Xo.ds),this.ws=new ki(Xo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Xo(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Xo(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Rt(new Dr([])),r=new Xo(t,e),i=new Xo(t,e+1),a=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),a.push(l.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Rt(new Dr([])),r=new Xo(t,e),i=new Xo(t,e+1);let a=tr();return this.ws.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Xo(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Xo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Rt.comparator(e.key,t.key)||$n(e.As,t.As)}static _s(e,t){return $n(e.As,t.As)||Rt.comparator(e.key,t.key)}}class ZL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ki(Xo.ds)}checkEmpty(e){return Ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const l=new Ty(a,t,r,i);this.mutationQueue.push(l);for(const p of i)this.Rs=this.Rs.add(new Xo(p.key,a)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Ue.resolve(l)}lookupMutationBatch(e,t){return Ue.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return Ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Xo(t,0),i=new Xo(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],l=>{const p=this.Ps(l.As);a.push(p)}),Ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ki($n);return t.forEach(i=>{const a=new Xo(i,0),l=new Xo(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,l],p=>{r=r.add(p.As)})}),Ue.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Rt.isDocumentKey(a)||(a=a.child(""));const l=new Xo(new Rt(a),0);let p=new ki($n);return this.Rs.forEachWhile(y=>{const M=y.key.path;return!!r.isPrefixOf(M)&&(M.length===i&&(p=p.add(y.As)),!0)},l),Ue.resolve(this.Vs(p))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ln(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Ue.forEach(t.mutations,i=>{const a=new Xo(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Xo(t,0),i=this.Rs.firstAfterOrEqual(r);return Ue.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Ue.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class QL{constructor(e){this.Ds=e,this.docs=new Ei(Rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ue.resolve(r?r.document.mutableCopy():Oi.newInvalidDocument(t))}getEntries(e,t){let r=la();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Oi.newInvalidDocument(i))}),Ue.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=la();const l=t.path,p=new Rt(l.child("")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:M,value:{document:N}}=y.getNext();if(!l.isPrefixOf(M.path))break;M.path.length>l.length+1||ly(cI(N),r)<=0||(i.has(N.key)||u3(t,N))&&(a=a.insert(N.key,N.mutableCopy()))}return Ue.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Xt()}Cs(e,t){return Ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new XL(this)}getSize(e){return Ue.resolve(this.size)}}class XL extends Qx{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Ue.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class JL{constructor(e){this.persistence=e,this.xs=new Ll(t=>ad(t),c3),this.lastRemoteSnapshotVersion=hn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Uy,this.targetCount=0,this.Ms=gd.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),Ue.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new gd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ue.resolve()}updateTargetData(e,t){return this.Fn(t),Ue.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((l,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.xs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),Ue.waitFor(a).next(()=>i)}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return Ue.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),Ue.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),Ue.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return Ue.resolve(r)}containsKey(e,t){return Ue.resolve(this.ks.containsKey(t))}}class Yy{constructor(e,t){this.$s={},this.overlays={},this.Os=new ba(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new JL(this),this.indexManager=new VL,this.remoteDocumentCache=new QL(r=>this.referenceDelegate.Ls(r)),this.serializer=new xx(t),this.qs=new WL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new ZL(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){yt("MemoryPersistence","Starting transaction:",e);const i=new eV(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return Ue.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class eV extends uI{constructor(e){super(),this.currentSequenceNumber=e}}class rm{constructor(e){this.persistence=e,this.Qs=new Uy,this.js=null}static zs(e){return new rm(e)}get Ws(){if(this.js)return this.js;throw Xt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),Ue.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),Ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ue.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.Ws,r=>{const i=Rt.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,hn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ue.or([()=>Ue.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class tV{constructor(e){this.serializer=e}O(e,t,r,i){const a=new Pp("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pI,{unique:!0}),p.createObjectStore("documentMutations"),rz(e),function(p){p.createObjectStore("remoteDocuments")}(e));let l=Ue.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),rz(e)),l=l.next(()=>function(p){const y=p.store("targetGlobal"),M={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:hn.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",M)}(a))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(p,y){return y.store("mutations").j().next(M=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pI,{unique:!0});const N=y.store("mutations"),U=M.map(te=>N.put(te));return Ue.waitFor(U)})}(e,a))),l=l.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Ys(a))),r<6&&i>=6&&(l=l.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(l=l.next(()=>this.Zs(a))),r<8&&i>=8&&(l=l.next(()=>this.ti(e,a))),r<9&&i>=9&&(l=l.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ei(a))),r<11&&i>=11&&(l=l.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:VF});y.createIndex("collectionPathOverlayIndex",HF,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",BF,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:IF});y.createIndex("documentKeyIndex",xF),y.createIndex("collectionGroupIndex",zF)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.si(e,a))),r<15&&i>=15&&(l=l.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:NF}).createIndex("sequenceNumberIndex",RF,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:FF}).createIndex("documentKeyIndex",LF,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=em(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>Ue.forEach(i,a=>{const l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(p=>Ue.forEach(p,y=>{ln(y.userId===a.userId);const M=fd(this.serializer,y);return jx(e,a.userId,M).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((l,p)=>{const y=new Dr(l),M=[0,Ps(y)];a.push(t.get(M).next(N=>N?Ue.resolve():t.put({targetId:0,path:Ps(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Ue.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:OF});const r=t.store("collectionParents"),i=new By,a=l=>{if(i.add(l)){const p=l.lastSegment(),y=l.popLast();return r.put({collectionId:p,parent:Ps(y)})}};return t.store("remoteDocuments").X({Y:!0},(l,p)=>{const y=new Dr(l);return a(y.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,p,y],M)=>{const N=Qc(p);return a(N.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const a=C3(i),l=Ax(this.serializer,a);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,l)=>{const p=t.store("remoteDocumentsV14"),y=(M=l,M.document?new Rt(Dr.fromString(M.document.name).popFirst(5)):M.noDocument?Rt.fromSegments(M.noDocument.path):M.unknownDocument?Rt.fromSegments(M.unknownDocument.path):Xt()).path.toArray();var M;const N={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(p.put(N))}).next(()=>Ue.waitFor(i))}si(e,t){const r=t.store("mutations"),i=Xx(this.serializer),a=new Yy(rm.zs,this.serializer.fe);return r.j().next(l=>{const p=new Map;return l.forEach(y=>{var M;let N=null!==(M=p.get(y.userId))&&void 0!==M?M:tr();fd(this.serializer,y).keys().forEach(U=>N=N.add(U)),p.set(y.userId,N)}),Ue.forEach(p,(y,M)=>{const N=new Zo(M),U=Zp.de(this.serializer,N),te=a.getIndexManager(N),ce=tm.de(N,this.serializer,te,a.referenceDelegate);return new nz(i,ce,U,te).recalculateAndSaveOverlaysForDocumentKeys(new hy(t,ba.ct),y).next()})})}}function rz(n){n.createObjectStore("targetDocuments",{keyPath:PF}).createIndex("documentTargetsIndex",kF,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",AF,{unique:!0}),n.createObjectStore("targetGlobal")}const jy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $y{constructor(e,t,r,i,a,l,p,y,M,N,U=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=l,this.document=p,this.ri=M,this.oi=N,this.ui=U,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=te=>Promise.resolve(),!$y.D())throw new dt(qe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jL(this,i),this.di=t+"main",this.serializer=new xx(y),this.wi=new wc(this.di,this.ui,new tV(this.serializer)),this.Bs=new BL(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Xx(this.serializer),this.qs=new PL,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===N&&wo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new dt(qe.FAILED_PRECONDITION,jy);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ba(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,tt.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,tt.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,tt.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>om(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Du(e))return yt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return yt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return M3(e).get("owner").next(t=>Ue.resolve(this.Ri(t)))}Pi(e){return om(e).delete(this.clientId)}bi(){var e=this;return(0,tt.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Qo(r,"clientMetadata");return i.j().next(a=>{const l=e.Si(a,18e5),p=a.filter(y=>-1===l.indexOf(y));return Ue.forEach(p,y=>i.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ue.resolve(!0):M3(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new dt(qe.FAILED_PRECONDITION,jy);return!1}}return!(!this.networkEnabled||!this.inForeground)||om(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&yt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,tt.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new hy(t,ba.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>om(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return tm.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new HL(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Zp.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){yt("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(l=this.ui)?YF:14===l?yI:13===l?vI:12===l?UF:11===l?gI:void Xt();var l;let p;return this.wi.runTransaction(e,i,a,y=>(p=new hy(y,this.Os?this.Os.next():ba.ct),"readwrite-primary"===t?this.Ti(p).next(M=>!!M||this.Ei(p)).next(M=>{if(!M)throw wo(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new dt(qe.FAILED_PRECONDITION,lI);return r(p)}).next(M=>this.vi(p).next(()=>M)):this.Oi(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Oi(e){return M3(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new dt(qe.FAILED_PRECONDITION,jy)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return M3(e).put("owner",t)}static D(){return wc.D()}Ai(e){const t=M3(e);return t.get("owner").next(r=>this.Ri(r)?(yt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ue.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(wo(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Xn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return yt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return wo("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){wo("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function M3(n){return Qo(n,"owner")}function om(n){return Qo(n,"clientMetadata")}function Gy(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class qy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=tr(),i=tr();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new qy(e,t.fromCache,r,i)}}class iz{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(UI(t))return Ue.resolve(null);let r=Gs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Yp(t,null,"F"),r=Gs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=tr(...a);return this.Ui.getDocuments(e,l).next(p=>this.indexManager.getMinOffset(e,r).next(y=>{const M=this.ji(t,p);return this.zi(t,M,l,y.readTime)?this.Ki(e,Yp(t,null,"F")):this.Wi(e,M,t,y)}))})))}Gi(e,t,r,i){return UI(t)||i.isEqual(hn.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const l=this.ji(t,a);return this.zi(t,l,r,i)?this.Qi(e,t):(sy()<=Cu.in.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),by(t)),this.Wi(e,l,t,aI(i,-1)))})}ji(e,t){let r=new ki($I(e));return t.forEach((i,a)=>{u3(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return sy()<=Cu.in.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",by(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ca.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}class nV{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Ei($n),this.Yi=new Ll(a=>ad(a),c3),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nz(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function oz(n,e,t,r){return new nV(n,e,t,r)}function sz(n,e){return Wy.apply(this,arguments)}function Wy(){return Wy=(0,tt.Z)(function*(n,e){const t=Ht(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],p=[];let y=tr();for(const M of i){l.push(M.batchId);for(const N of M.mutations)y=y.add(N.key)}for(const M of a){p.push(M.batchId);for(const N of M.mutations)y=y.add(N.key)}return t.localDocuments.getDocuments(r,y).next(M=>({er:M,removedBatchIds:l,addedBatchIds:p}))})})}),Wy.apply(this,arguments)}function az(n){const e=Ht(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function cz(n,e,t){let r=tr(),i=tr();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=la();return t.forEach((p,y)=>{const M=a.get(p);y.isFoundDocument()!==M.isFoundDocument()&&(i=i.add(p)),y.isNoDocument()&&y.version.isEqual(hn.min())?(e.removeEntry(p,y.readTime),l=l.insert(p,y)):!M.isValidDocument()||y.version.compareTo(M.version)>0||0===y.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(y),l=l.insert(p,y)):yt("LocalStore","Ignoring outdated watch update for ",p,". Current version:",M.version," Watch version:",y.version)}),{nr:l,sr:i}})}function oV(n,e){const t=Ht(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function T4(n,e){const t=Ht(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,Ue.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new Hl(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function D4(n,e,t){return Ky.apply(this,arguments)}function Ky(){return Ky=(0,tt.Z)(function*(n,e,t){const r=Ht(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Du(l))throw l;yt("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),Ky.apply(this,arguments)}function sm(n,e,t){const r=Ht(n);let i=hn.min(),a=tr();return r.persistence.runTransaction("Execute query","readonly",l=>function(p,y,M){const N=Ht(p),U=N.Yi.get(M);return void 0!==U?Ue.resolve(N.Ji.get(U)):N.Bs.getTargetData(y,M)}(r,l,Gs(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,p.targetId).next(y=>{a=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:hn.min(),t?a:tr())).next(p=>(dz(r,jI(e),p),{documents:p,ir:a})))}function lz(n,e){const t=Ht(n),r=Ht(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(l=>l?l.target:null))}function uz(n,e){const t=Ht(n),r=t.Xi.get(e)||hn.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,aI(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(dz(t,e,i),i))}function dz(n,e,t){let r=n.Xi.get(e)||hn.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function Zy(){return Zy=(0,tt.Z)(function*(n,e,t,r){const i=Ht(n);let a=tr(),l=la();for(const M of t){const N=e.rr(M.metadata.name);M.document&&(a=a.add(N));const U=e.ur(M);U.setReadTime(e.cr(M.metadata.readTime)),l=l.insert(N,U)}const p=i.Zi.newChangeBuffer({trackRemovals:!0}),y=yield T4(i,(M=r,Gs(g4(Dr.fromString(`__bundle__/docs/${M}`)))));var M;return i.persistence.runTransaction("Apply bundle documents","readwrite",M=>cz(M,p,l).next(N=>(p.apply(M),N)).next(N=>i.Bs.removeMatchingKeysForTargetId(M,y.targetId).next(()=>i.Bs.addMatchingKeys(M,a,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(M,N.nr,N.sr)).next(()=>N.nr)))}),Zy.apply(this,arguments)}function aV(n,e){return Qy.apply(this,arguments)}function Qy(){return Qy=(0,tt.Z)(function*(n,e,t=tr()){const r=yield T4(n,Gs(Ny(e.bundledQuery))),i=Ht(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const l=Co(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.qs.saveNamedQuery(a,e);const p=r.withResumeToken(Bo.EMPTY_BYTE_STRING,l);return i.Ji=i.Ji.insert(p.targetId,p),i.Bs.updateTargetData(a,p).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,t,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),Qy.apply(this,arguments)}function hz(n,e){return`firestore_clients_${n}_${e}`}function fz(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Xy(n,e){return`firestore_targets_${n}_${e}`}class am{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let a,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(a=new dt(i.error.code,i.error.message))),l?new am(e,t,i.state,a):(wo("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class I3{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new dt(r.error.code,r.error.message))),a?new I3(e,r.state,i):(wo("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Sy();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=hI(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new cm(e,a):(wo("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Jy{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Jy(t.clientId,t.onlineState):(wo("SharedClientState",`Failed to parse online state: ${e}`),null)}}class e_{constructor(){this.activeTargetIds=Sy()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t_{constructor(e,t,r,i,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Ei($n),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=hz(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new e_),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,tt.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const a=e.getItem(hz(e.persistenceKey,i));if(a){const l=cm.ar(i,a);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Xy(this.persistenceKey,e));if(r){const i=I3.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xy(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return yt("SharedClientState","READ",e,t),t}setItem(e,t){yt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){yt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(yt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void wo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,tt.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(a){let l=ba.ct;if(null!=a)try{const p=JSON.parse(a);ln("number"==typeof p),l=p}catch(p){wo("SharedClientState","Failed to read sequence number from WebStorage",p)}return l}(r.newValue);i!==ba.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new am(this.currentUser,e,t,r),a=fz(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const t=fz(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=Xy(this.persistenceKey,e),a=new I3(e,t,r);this.setItem(i,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return cm.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return am.ar(new Zo(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return I3.ar(i,t)}br(e){return Jy.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,tt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);yt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),l=[],p=[];return a.forEach(y=>{i.has(y)||l.push(y)}),i.forEach(y=>{a.has(y)||p.push(y)}),this.syncEngine.Wr(l,p).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Sy();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class pz{constructor(){this.Hr=new e_,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new e_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cV{Yr(e){}shutdown(){}}class mz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){yt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){yt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lm=null;function n_(){return null===lm?lm=268435456+Math.round(2147483648*Math.random()):lm++,"0x"+lm.toString(16)}const lV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uV{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Os="WebChannelConnection";class dV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const l=n_(),p=this.To(e,t);yt("RestConnection",`Sending RPC '${e}' ${l}:`,p,r);const y={};return this.Eo(y,i,a),this.Ao(e,p,y,r).then(M=>(yt("RestConnection",`Received RPC '${e}' ${l}: `,M),M),M=>{throw $a("RestConnection",`RPC '${e}' ${l} failed with error: `,M,"url: ",p,"request:",r),M})}vo(e,t,r,i,a,l){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+u4,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${lV[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=n_();return new Promise((l,p)=>{const y=new cF;y.setWithCredentials(!0),y.listenOnce(oF.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case oy.NO_ERROR:const N=y.getResponseJson();yt(Os,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(N)),l(N);break;case oy.TIMEOUT:yt(Os,`RPC '${e}' ${a} timed out`),p(new dt(qe.DEADLINE_EXCEEDED,"Request time out"));break;case oy.HTTP_ERROR:const U=y.getStatus();if(yt(Os,`RPC '${e}' ${a} failed with status:`,U,"response text:",y.getResponseText()),U>0){let te=y.getResponseJson();Array.isArray(te)&&(te=te[0]);const ce=te?.error;if(ce&&ce.status&&ce.message){const ge=function(Re){const $e=Re.toLowerCase().replace(/_/g,"-");return Object.values(qe).indexOf($e)>=0?$e:qe.UNKNOWN}(ce.status);p(new dt(ge,ce.message))}else p(new dt(qe.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new dt(qe.UNAVAILABLE,"Connection failed."));break;default:Xt()}}finally{yt(Os,`RPC '${e}' ${a} completed.`)}});const M=JSON.stringify(i);yt(Os,`RPC '${e}' ${a} sending request:`,i),y.send(t,"POST",M,r,15)})}Ro(e,t,r){const i=n_(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=rF(),p=iF(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},M=this.longPollingOptions.timeoutSeconds;void 0!==M&&(y.longPollingTimeout=Math.round(1e3*M)),this.useFetchStreams&&(y.xmlHttpFactory=new aF({})),this.Eo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const N=a.join("");yt(Os,`Creating RPC '${e}' stream ${i}: ${N}`,y);const U=l.createWebChannel(N,y);let te=!1,ce=!1;const ge=new uV({ro:$e=>{ce?yt(Os,`Not sending because RPC '${e}' stream ${i} is closed:`,$e):(te||(yt(Os,`Opening RPC '${e}' stream ${i} transport.`),U.open(),te=!0),yt(Os,`RPC '${e}' stream ${i} sending:`,$e),U.send($e))},oo:()=>U.close()}),Re=($e,pt,Bt)=>{$e.listen(pt,At=>{try{Bt(At)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return Re(U,xp.EventType.OPEN,()=>{ce||yt(Os,`RPC '${e}' stream ${i} transport opened.`)}),Re(U,xp.EventType.CLOSE,()=>{ce||(ce=!0,yt(Os,`RPC '${e}' stream ${i} transport closed`),ge.wo())}),Re(U,xp.EventType.ERROR,$e=>{ce||(ce=!0,$a(Os,`RPC '${e}' stream ${i} transport errored:`,$e),ge.wo(new dt(qe.UNAVAILABLE,"The operation could not be completed")))}),Re(U,xp.EventType.MESSAGE,$e=>{var pt;if(!ce){const Bt=$e.data[0];ln(!!Bt);const Ot=Bt.error||(null===(pt=Bt[0])||void 0===pt?void 0:pt.error);if(Ot){yt(Os,`RPC '${e}' stream ${i} received error:`,Ot);const En=Ot.status;let yn=function(Fi){const dr=zo[Fi];if(void 0!==dr)return lx(dr)}(En),ur=Ot.message;void 0===yn&&(yn=qe.INTERNAL,ur="Unknown error status: "+En+" with message "+Ot.message),ce=!0,ge.wo(new dt(yn,ur)),U.close()}else yt(Os,`RPC '${e}' stream ${i} received:`,Bt),ge._o(Bt)}}),Re(p,sF.STAT_EVENT,$e=>{$e.stat===tI.PROXY?yt(Os,`RPC '${e}' stream ${i} detected buffering proxy`):$e.stat===tI.NOPROXY&&yt(Os,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{ge.fo()},0),ge}}function gz(){return typeof window<"u"?window:null}function um(){return typeof document<"u"?document:null}function x3(n){return new CL(n,!0)}class r_{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&yt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class vz{constructor(e,t,r,i,a,l,p,y){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new r_(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,tt.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,tt.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,tt.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===qe.RESOURCE_EXHAUSTED?(wo(t.toString()),wo("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===qe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new dt(qe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,tt.Z)(function*(){e.state=0,e.start()}))}tu(e){return yt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(yt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hV extends vz{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function EL(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Xt(),i=e.targetChange.targetIds||[],a=function(y,M){return y.useProto3Json?(ln(void 0===M||"string"==typeof M),Bo.fromBase64String(M||"")):(ln(void 0===M||M instanceof Uint8Array),Bo.fromUint8Array(M||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,p=l&&function(y){const M=void 0===y.code?qe.UNKNOWN:lx(y.code);return new dt(M,y.message||"")}(l);t=new px(r,i,a,p||null)}else if("documentChange"in e){const r=e.documentChange,i=el(n,r.document.name),a=Co(r.document.updateTime),l=r.document.createTime?Co(r.document.createTime):hn.min(),p=new gs({mapValue:{fields:r.document.fields}}),y=Oi.newFoundDocument(i,a,l,p);t=new Wp(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=el(n,r.document),a=r.readTime?Co(r.readTime):hn.min(),l=Oi.newNoDocument(i,a);t=new Wp([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=el(n,r.document);t=new Wp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Xt();{const r=e.filter,{count:i=0,unchangedNames:a}=r,l=new mL(i,a);t=new fx(r.targetId,l)}}var y;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return hn.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?hn.min():a.readTime?Co(a.readTime):hn.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=_3(this.serializer),t.addTarget=function(i,a){let l;const p=a.target;if(l=Hp(p)?{documents:Ex(i,p)}:{query:Oy(i,p)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=yx(i,a.resumeToken);const y=zy(i,a.expectedCount);null!==y&&(l.expectedCount=y)}else if(a.snapshotVersion.compareTo(hn.min())>0){l.readTime=C4(i,a.snapshotVersion.toTimestamp());const y=zy(i,a.expectedCount);null!==y&&(l.expectedCount=y)}return l}(this.serializer,e);const r=function DL(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=_3(this.serializer),t.removeTarget=e,this.Wo(t)}}class fV extends vz{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ln(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function TL(n,e){return n&&n.length>0?(ln(void 0!==e),n.map(t=>function(r,i){let a=Co(r.updateTime?r.updateTime:i);return a.isEqual(hn.min())&&(a=Co(i)),new dL(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Co(e.commitTime);return this.listener.cu(r,t)}return ln(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=_3(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>w3(this.serializer,r))};this.Wo(t)}}class pV extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new dt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new dt(qe.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.vo(e,t,r,a,l,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new dt(qe.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class gV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(wo(t),this.mu=!1):yt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class vV{constructor(e,t,r,i,a){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(p=>{r.enqueueAndForget((0,tt.Z)(function*(){var y;Lu(l)&&(yt("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,tt.Z)(function*(M){const N=Ht(M);N.vu.add(4),yield M4(N),N.bu.set("Unknown"),N.vu.delete(4),yield z3(N)}),function(M){return y.apply(this,arguments)})(l))}))}),this.bu=new gV(r,i)}}function z3(n){return o_.apply(this,arguments)}function o_(){return o_=(0,tt.Z)(function*(n){if(Lu(n))for(const e of n.Ru)yield e(!0)}),o_.apply(this,arguments)}function M4(n){return s_.apply(this,arguments)}function s_(){return s_=(0,tt.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),s_.apply(this,arguments)}function dm(n,e){const t=Ht(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),l_(t)?c_(t):x4(t).Ko()&&a_(t,e))}function A3(n,e){const t=Ht(n),r=x4(t);t.Au.delete(e),r.Ko()&&yz(t,e),0===t.Au.size&&(r.Ko()?r.jo():Lu(t)&&t.bu.set("Unknown"))}function a_(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(hn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}x4(n).su(e)}function yz(n,e){n.Vu.qt(e),x4(n).iu(e)}function c_(n){n.Vu=new vL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),x4(n).start(),n.bu.gu()}function l_(n){return Lu(n)&&!x4(n).Uo()&&n.Au.size>0}function Lu(n){return 0===Ht(n).vu.size}function _z(n){n.Vu=void 0}function yV(n){return u_.apply(this,arguments)}function u_(){return u_=(0,tt.Z)(function*(n){n.Au.forEach((e,t)=>{a_(n,e)})}),u_.apply(this,arguments)}function _V(n,e){return d_.apply(this,arguments)}function d_(){return d_=(0,tt.Z)(function*(n,e){_z(n),l_(n)?(n.bu.Iu(e),c_(n)):n.bu.set("Unknown")}),d_.apply(this,arguments)}function wV(n,e,t){return h_.apply(this,arguments)}function h_(){return h_=(0,tt.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof px&&2===e.state&&e.cause)try{yield(r=(0,tt.Z)(function*(i,a){const l=a.cause;for(const p of a.targetIds)i.Au.has(p)&&(yield i.remoteSyncer.rejectListen(p,l),i.Au.delete(p),i.Vu.removeTarget(p))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){yt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hm(n,r)}else if(e instanceof Wp?n.Vu.Ht(e):e instanceof fx?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(hn.min()))try{const r=yield az(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const l=i.Vu.ce(a);return l.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const M=i.Au.get(y);M&&i.Au.set(y,M.withResumeToken(p.resumeToken,a))}}),l.targetMismatches.forEach((p,y)=>{const M=i.Au.get(p);if(!M)return;i.Au.set(p,M.withResumeToken(Bo.EMPTY_BYTE_STRING,M.snapshotVersion)),yz(i,p);const N=new Hl(M.target,p,y,M.sequenceNumber);a_(i,N)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){yt("RemoteStore","Failed to raise snapshot:",r),yield hm(n,r)}var r}),h_.apply(this,arguments)}function hm(n,e,t){return f_.apply(this,arguments)}function f_(){return f_=(0,tt.Z)(function*(n,e,t){if(!Du(e))throw e;n.vu.add(1),yield M4(n),n.bu.set("Offline"),t||(t=()=>az(n.localStore)),n.asyncQueue.enqueueRetryable((0,tt.Z)(function*(){yt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield z3(n)}))}),f_.apply(this,arguments)}function wz(n,e){return e().catch(t=>hm(n,t,e))}function I4(n){return p_.apply(this,arguments)}function p_(){return p_=(0,tt.Z)(function*(n){const e=Ht(n),t=Vu(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;CV(e);)try{const i=yield oV(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,bV(e,i)}catch(i){yield hm(e,i)}Cz(e)&&bz(e)}),p_.apply(this,arguments)}function CV(n){return Lu(n)&&n.Eu.length<10}function bV(n,e){n.Eu.push(e);const t=Vu(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Cz(n){return Lu(n)&&!Vu(n).Uo()&&n.Eu.length>0}function bz(n){Vu(n).start()}function SV(n){return m_.apply(this,arguments)}function m_(){return m_=(0,tt.Z)(function*(n){Vu(n).hu()}),m_.apply(this,arguments)}function EV(n){return g_.apply(this,arguments)}function g_(){return g_=(0,tt.Z)(function*(n){const e=Vu(n);for(const t of n.Eu)e.uu(t.mutations)}),g_.apply(this,arguments)}function TV(n,e,t){return v_.apply(this,arguments)}function v_(){return v_=(0,tt.Z)(function*(n,e,t){const r=n.Eu.shift(),i=Dy.from(r,e,t);yield wz(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield I4(n)}),v_.apply(this,arguments)}function DV(n,e){return y_.apply(this,arguments)}function y_(){return y_=(0,tt.Z)(function*(n,e){var t;e&&Vu(n).ou&&(yield(t=(0,tt.Z)(function*(r,i){if(cx(a=i.code)&&a!==qe.ABORTED){const l=r.Eu.shift();Vu(r).Qo(),yield wz(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield I4(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),Cz(n)&&bz(n)}),y_.apply(this,arguments)}function Sz(n,e){return __.apply(this,arguments)}function __(){return __=(0,tt.Z)(function*(n,e){const t=Ht(n);t.asyncQueue.verifyOperationInProgress(),yt("RemoteStore","RemoteStore received new credentials");const r=Lu(t);t.vu.add(3),yield M4(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield z3(t)}),__.apply(this,arguments)}function w_(n,e){return C_.apply(this,arguments)}function C_(){return C_=(0,tt.Z)(function*(n,e){const t=Ht(n);e?(t.vu.delete(2),yield z3(t)):e||(t.vu.add(2),yield M4(t),t.bu.set("Unknown"))}),C_.apply(this,arguments)}function x4(n){return n.Su||(n.Su=function(e,t,r){const i=Ht(e);return i.fu(),new hV(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:yV.bind(null,n),ao:_V.bind(null,n),nu:wV.bind(null,n)}),n.Ru.push(function(){var e=(0,tt.Z)(function*(t){t?(n.Su.Qo(),l_(n)?c_(n):n.bu.set("Unknown")):(yield n.Su.stop(),_z(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Vu(n){return n.Du||(n.Du=function(e,t,r){const i=Ht(e);return i.fu(),new fV(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:SV.bind(null,n),ao:DV.bind(null,n),au:EV.bind(null,n),cu:TV.bind(null,n)}),n.Ru.push(function(){var e=(0,tt.Z)(function*(t){t?(n.Du.Qo(),yield I4(n)):(yield n.Du.stop(),n.Eu.length>0&&(yt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class b_{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,p=new b_(e,t,l,i,a);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dt(qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function z4(n,e){if(wo("AsyncQueue",`${e}: ${n}`),Du(n))return new dt(qe.UNAVAILABLE,`${e}: ${n}`);throw n}class A4{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Rt.comparator(t.key,r.key):(t,r)=>Rt.comparator(t.key,r.key),this.keyedMap=d3(),this.sortedSet=new Ei(this.comparator)}static emptySet(e){return new A4(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof A4)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new A4;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Ez{constructor(){this.Cu=new Ei(Rt.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Xt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class P4{constructor(e,t,r,i,a,l,p,y,M){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=M}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(p=>{l.push({type:0,doc:p})}),new P4(e,t,A4.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&l3(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class MV{constructor(){this.Nu=void 0,this.listeners=[]}}class IV{constructor(){this.queries=new Ll(e=>YI(e),l3),this.onlineState="Unknown",this.ku=new Set}}function S_(n,e){return E_.apply(this,arguments)}function E_(){return E_=(0,tt.Z)(function*(n,e){const t=Ht(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new MV),i)try{a.Nu=yield t.onListen(r)}catch(l){const p=z4(l,`Initialization of query '${by(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&M_(t)}),E_.apply(this,arguments)}function T_(n,e){return D_.apply(this,arguments)}function D_(){return D_=(0,tt.Z)(function*(n,e){const t=Ht(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),D_.apply(this,arguments)}function xV(n,e){const t=Ht(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const p of l.listeners)p.$u(i)&&(r=!0);l.Nu=i}}r&&M_(t)}function zV(n,e,t){const r=Ht(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function M_(n){n.ku.forEach(e=>{e.next()})}class I_{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new P4(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=P4.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class AV{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Tz{constructor(e){this.serializer=e}rr(e){return el(this.serializer,e)}ur(e){return e.metadata.exists?Sx(this.serializer,e.document,!1):Oi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Co(e)}}class PV{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Dz(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=Dr.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new Tz(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const l of i.metadata.queries){const p=(t.get(l)||tr()).add(a);t.set(l,p)}}return t}complete(){var e=this;return(0,tt.Z)(function*(){const t=yield function sV(n,e,t,r){return Zy.apply(this,arguments)}(e.localStore,new Tz(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield aV(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Dz(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Mz{constructor(e){this.key=e}}class Iz{constructor(e){this.key=e}}class xz{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=tr(),this.mutatedKeys=tr(),this.tc=$I(e),this.ec=new A4(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Ez,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,p=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,M="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((N,U)=>{const te=i.get(N),ce=u3(this.query,U)?U:null,ge=!!te&&this.mutatedKeys.has(te.key),Re=!!ce&&(ce.hasLocalMutations||this.mutatedKeys.has(ce.key)&&ce.hasCommittedMutations);let $e=!1;te&&ce?te.data.isEqual(ce.data)?ge!==Re&&(r.track({type:3,doc:ce}),$e=!0):this.rc(te,ce)||(r.track({type:2,doc:ce}),$e=!0,(y&&this.tc(ce,y)>0||M&&this.tc(ce,M)<0)&&(p=!0)):!te&&ce?(r.track({type:0,doc:ce}),$e=!0):te&&!ce&&(r.track({type:1,doc:te}),$e=!0,(y||M)&&(p=!0)),$e&&(ce?(l=l.add(ce),a=Re?a.add(N):a.delete(N)):(l=l.delete(N),a=a.delete(N)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const N="F"===this.query.limitType?l.last():l.first();l=l.delete(N.key),a=a.delete(N.key),r.track({type:1,doc:N})}return{ec:l,ic:r,zi:p,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((M,N)=>function(U,te){const ce=ge=>{switch(ge){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xt()}};return ce(U)-ce(te)}(M.type,N.type)||this.tc(M.doc,N.doc)),this.oc(r);const l=t?this.uc():[],p=0===this.Zu.size&&this.current?1:0,y=p!==this.Xu;return this.Xu=p,0!==a.length||y?{snapshot:new P4(this.query,e.ec,i,a,e.mutatedKeys,0===p,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Ez,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=tr(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new Iz(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new Mz(r))}),t}hc(e){this.Yu=e.ir,this.Zu=tr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return P4.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class kV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class OV{constructor(e){this.key=e,this.fc=!1}}class NV{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Ll(p=>YI(p),l3),this._c=new Map,this.mc=new Set,this.gc=new Ei(Rt.comparator),this.yc=new Map,this.Ic=new Uy,this.Tc={},this.Ec=new Map,this.Ac=gd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function RV(n,e){return x_.apply(this,arguments)}function x_(){return x_=(0,tt.Z)(function*(n,e){const t=X_(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const l=yield T4(t.localStore,Gs(e)),p=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield z_(t,e,r,"current"===p,l.resumeToken),t.isPrimaryClient&&dm(t.remoteStore,l)}return i}),x_.apply(this,arguments)}function z_(n,e,t,r,i){return A_.apply(this,arguments)}function A_(){return A_=(0,tt.Z)(function*(n,e,t,r,i){n.Rc=(U,te,ce)=>{return(ge=(0,tt.Z)(function*(Re,$e,pt,Bt){let At=$e.view.sc(pt);At.zi&&(At=yield sm(Re.localStore,$e.query,!1).then(({documents:yn})=>$e.view.sc(yn,At)));const Ot=Bt&&Bt.targetChanges.get($e.targetId),En=$e.view.applyChanges(At,Re.isPrimaryClient,Ot);return B_(Re,$e.targetId,En.cc),En.snapshot}),function(Re,$e,pt,Bt){return ge.apply(this,arguments)})(n,U,te,ce);var ge};const a=yield sm(n.localStore,e,!0),l=new xz(e,a.ir),p=l.sc(a.documents),y=v3.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),M=l.applyChanges(p,n.isPrimaryClient,y);B_(n,t,M.cc);const N=new kV(e,t,l);return n.wc.set(e,N),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),M.snapshot}),A_.apply(this,arguments)}function FV(n,e){return P_.apply(this,arguments)}function P_(){return P_=(0,tt.Z)(function*(n,e){const t=Ht(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!l3(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield D4(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),A3(t.remoteStore,r.targetId),k4(t,r.targetId)}).catch(Tu))):(k4(t,r.targetId),yield D4(t.localStore,r.targetId,!0))}),P_.apply(this,arguments)}function k_(){return k_=(0,tt.Z)(function*(n,e,t){const r=J_(n);try{const i=yield function(a,l){const p=Ht(a),y=qi.now(),M=l.reduce((te,ce)=>te.add(ce.key),tr());let N,U;return p.persistence.runTransaction("Locally write mutations","readwrite",te=>{let ce=la(),ge=tr();return p.Zi.getEntries(te,M).next(Re=>{ce=Re,ce.forEach(($e,pt)=>{pt.isValidDocument()||(ge=ge.add($e))})}).next(()=>p.localDocuments.getOverlayedDocuments(te,ce)).next(Re=>{N=Re;const $e=[];for(const pt of l){const Bt=fL(pt,N.get(pt.key).overlayedDocument);null!=Bt&&$e.push(new Vl(pt.key,Bt,xI(Bt.value.mapValue),Wi.exists(!0)))}return p.mutationQueue.addMutationBatch(te,y,$e,l)}).next(Re=>{U=Re;const $e=Re.applyToLocalDocumentSet(N,ge);return p.documentOverlayCache.saveOverlays(te,Re.batchId,$e)})}).then(()=>({batchId:U.batchId,changes:qI(N)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,p){let y=a.Tc[a.currentUser.toKey()];y||(y=new Ei($n)),y=y.insert(l,p),a.Tc[a.currentUser.toKey()]=y}(r,i.batchId,t),yield Bl(r,i.changes),yield I4(r.remoteStore)}catch(i){const a=z4(i,"Failed to persist write");t.reject(a)}}),k_.apply(this,arguments)}function zz(n,e){return O_.apply(this,arguments)}function O_(){return O_=(0,tt.Z)(function*(n,e){const t=Ht(n);try{const r=yield function iV(n,e){const t=Ht(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const p=[];e.targetChanges.forEach((N,U)=>{const te=i.get(U);if(!te)return;p.push(t.Bs.removeMatchingKeys(a,N.removedDocuments,U).next(()=>t.Bs.addMatchingKeys(a,N.addedDocuments,U)));let ce=te.withSequenceNumber(a.currentSequenceNumber);var ge,Re,$e;null!==e.targetMismatches.get(U)?ce=ce.withResumeToken(Bo.EMPTY_BYTE_STRING,hn.min()).withLastLimboFreeSnapshotVersion(hn.min()):N.resumeToken.approximateByteSize()>0&&(ce=ce.withResumeToken(N.resumeToken,r)),i=i.insert(U,ce),Re=ce,$e=N,(0===(ge=te).resumeToken.approximateByteSize()||Re.snapshotVersion.toMicroseconds()-ge.snapshotVersion.toMicroseconds()>=3e8||$e.addedDocuments.size+$e.modifiedDocuments.size+$e.removedDocuments.size>0)&&p.push(t.Bs.updateTargetData(a,ce))});let y=la(),M=tr();if(e.documentUpdates.forEach(N=>{e.resolvedLimboDocuments.has(N)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(a,N))}),p.push(cz(a,l,e.documentUpdates).next(N=>{y=N.nr,M=N.sr})),!r.isEqual(hn.min())){const N=t.Bs.getLastRemoteSnapshotVersion(a).next(U=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));p.push(N)}return Ue.waitFor(p).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,M)).next(()=>y)}).then(a=>(t.Ji=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.yc.get(a);l&&(ln(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?ln(l.fc):i.removedDocuments.size>0&&(ln(l.fc),l.fc=!1))}),yield Bl(t,r,e)}catch(r){yield Tu(r)}}),O_.apply(this,arguments)}function Az(n,e,t){const r=Ht(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,l)=>{const p=l.view.Mu(e);p.snapshot&&i.push(p.snapshot)}),function(a,l){const p=Ht(a);p.onlineState=l;let y=!1;p.queries.forEach((M,N)=>{for(const U of N.listeners)U.Mu(l)&&(y=!0)}),y&&M_(p)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function VV(n,e,t){return N_.apply(this,arguments)}function N_(){return N_=(0,tt.Z)(function*(n,e,t){const r=Ht(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let l=new Ei(Rt.comparator);l=l.insert(a,Oi.newNoDocument(a,hn.min()));const p=tr().add(a),y=new g3(hn.min(),new Map,new Ei($n),l,p);yield zz(r,y),r.gc=r.gc.remove(a),r.yc.delete(e),U_(r)}else yield D4(r.localStore,e,!1).then(()=>k4(r,e,t)).catch(Tu)}),N_.apply(this,arguments)}function HV(n,e){return R_.apply(this,arguments)}function R_(){return R_=(0,tt.Z)(function*(n,e){const t=Ht(n),r=e.batch.batchId;try{const i=yield function rV(n,e){const t=Ht(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,p,y,M){const N=y.batch,U=N.keys();let te=Ue.resolve();return U.forEach(ce=>{te=te.next(()=>M.getEntry(p,ce)).next(ge=>{const Re=y.docVersions.get(ce);ln(null!==Re),ge.version.compareTo(Re)<0&&(N.applyToRemoteDocument(ge,y),ge.isValidDocument()&&(ge.setReadTime(y.commitVersion),M.addEntry(ge)))})}),te.next(()=>l.mutationQueue.removeMutationBatch(p,N))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let p=tr();for(let y=0;y<l.mutationResults.length;++y)l.mutationResults[y].transformResults.length>0&&(p=p.add(l.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);H_(t,r,null),V_(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Bl(t,i)}catch(i){yield Tu(i)}}),R_.apply(this,arguments)}function BV(n,e,t){return F_.apply(this,arguments)}function F_(){return F_=(0,tt.Z)(function*(n,e,t){const r=Ht(n);try{const i=yield function(a,l){const p=Ht(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let M;return p.mutationQueue.lookupMutationBatch(y,l).next(N=>(ln(null!==N),M=N.keys(),p.mutationQueue.removeMutationBatch(y,N))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,M,l)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,M)).next(()=>p.localDocuments.getDocuments(y,M))})}(r.localStore,e);H_(r,e,t),V_(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Bl(r,i)}catch(i){yield Tu(i)}}),F_.apply(this,arguments)}function L_(){return L_=(0,tt.Z)(function*(n,e){const t=Ht(n);Lu(t.remoteStore)||yt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const l=Ht(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>l.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=z4(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),L_.apply(this,arguments)}function V_(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function H_(n,e,t){const r=Ht(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function k4(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Pz(n,r)})}function Pz(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(A3(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),U_(n))}function B_(n,e,t){for(const r of t)r instanceof Mz?(n.Ic.addReference(r.key,e),YV(n,r)):r instanceof Iz?(yt("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Pz(n,r.key)):Xt()}function YV(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(yt("SyncEngine","New document in limbo: "+t),n.mc.add(r),U_(n))}function U_(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Rt(Dr.fromString(e)),r=n.Ac.next();n.yc.set(r,new OV(t)),n.gc=n.gc.insert(t,r),dm(n.remoteStore,new Hl(Gs(g4(t.path)),r,"TargetPurposeLimboResolution",ba.ct))}}function Bl(n,e,t){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,tt.Z)(function*(n,e,t){const r=Ht(n),i=[],a=[],l=[];var p;r.wc.isEmpty()||(r.wc.forEach((p,y)=>{l.push(r.Rc(y,e,t).then(M=>{if((M||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,M?.fromCache?"not-current":"current"),M){i.push(M);const N=qy.Li(y.targetId,M);a.push(N)}}))}),yield Promise.all(l),r.dc.nu(i),yield(p=(0,tt.Z)(function*(y,M){const N=Ht(y);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>Ue.forEach(M,te=>Ue.forEach(te.Fi,ce=>N.persistence.referenceDelegate.addReference(U,te.targetId,ce)).next(()=>Ue.forEach(te.Bi,ce=>N.persistence.referenceDelegate.removeReference(U,te.targetId,ce)))))}catch(U){if(!Du(U))throw U;yt("LocalStore","Failed to update sequence numbers: "+U)}for(const U of M){const te=U.targetId;if(!U.fromCache){const ce=N.Ji.get(te),Re=ce.withLastLimboFreeSnapshotVersion(ce.snapshotVersion);N.Ji=N.Ji.insert(te,Re)}}}),function(y,M){return p.apply(this,arguments)})(r.localStore,a))}),Y_.apply(this,arguments)}function jV(n,e){return j_.apply(this,arguments)}function j_(){return j_=(0,tt.Z)(function*(n,e){const t=Ht(n);if(!t.currentUser.isEqual(e)){yt("SyncEngine","User change. New user:",e.toKey());const r=yield sz(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(p=>{p.reject(new dt(qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bl(t,r.er)}var i}),j_.apply(this,arguments)}function $V(n,e){const t=Ht(n),r=t.yc.get(e);if(r&&r.fc)return tr().add(r.key);{let i=tr();const a=t._c.get(e);if(!a)return i;for(const l of a){const p=t.wc.get(l);i=i.unionWith(p.view.nc)}return i}}function GV(n,e){return $_.apply(this,arguments)}function $_(){return $_=(0,tt.Z)(function*(n,e){const t=Ht(n),r=yield sm(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&B_(t,e.targetId,i.cc),i}),$_.apply(this,arguments)}function qV(n,e){return G_.apply(this,arguments)}function G_(){return G_=(0,tt.Z)(function*(n,e){const t=Ht(n);return uz(t.localStore,e).then(r=>Bl(t,r))}),G_.apply(this,arguments)}function WV(n,e,t,r){return q_.apply(this,arguments)}function q_(){return q_=(0,tt.Z)(function*(n,e,t,r){const i=Ht(n),a=yield function(l,p){const y=Ht(l),M=Ht(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",N=>M.Sn(N,p).next(U=>U?y.localDocuments.getDocuments(N,U):Ue.resolve(null)))}(i.localStore,e);var p;null!==a?("pending"===t?yield I4(i.remoteStore):"acknowledged"===t||"rejected"===t?(H_(i,e,r||null),V_(i,e),p=e,Ht(Ht(i.localStore).mutationQueue).Cn(p)):Xt(),yield Bl(i,a)):yt("SyncEngine","Cannot apply mutation batch with id: "+e)}),q_.apply(this,arguments)}function W_(){return W_=(0,tt.Z)(function*(n,e){const t=Ht(n);if(X_(t),J_(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield kz(t,r.toArray());t.vc=!0,yield w_(t.remoteStore,!0);for(const a of i)dm(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((a,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(k4(t,l),D4(t.localStore,l,!0))),A3(t.remoteStore,l)}),yield i,yield kz(t,r),function(a){const l=Ht(a);l.yc.forEach((p,y)=>{A3(l.remoteStore,y)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Ei(Rt.comparator)}(t),t.vc=!1,yield w_(t.remoteStore,!1)}}),W_.apply(this,arguments)}function kz(n,e,t){return K_.apply(this,arguments)}function K_(){return K_=(0,tt.Z)(function*(n,e,t){const r=Ht(n),i=[],a=[];for(const l of e){let p;const y=r._c.get(l);if(y&&0!==y.length){p=yield T4(r.localStore,Gs(y[0]));for(const M of y){const N=r.wc.get(M),U=yield GV(r,N);U.snapshot&&a.push(U.snapshot)}}else{const M=yield lz(r.localStore,l);p=yield T4(r.localStore,M),yield z_(r,Oz(M),l,!1,p.resumeToken)}i.push(p)}return r.dc.nu(a),i}),K_.apply(this,arguments)}function Oz(n){return BI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ZV(n){const e=Ht(n);return Ht(Ht(e.localStore).persistence).$i()}function QV(n,e,t,r){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,tt.Z)(function*(n,e,t,r){const i=Ht(n);if(i.vc)return void yt("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const l=yield uz(i.localStore,jI(a[0])),p=g3.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Bo.EMPTY_BYTE_STRING);yield Bl(i,l,p);break}case"rejected":yield D4(i.localStore,e,!0),k4(i,e,r);break;default:Xt()}}),Z_.apply(this,arguments)}function XV(n,e,t){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,tt.Z)(function*(n,e,t){const r=X_(n);if(r.vc){for(const i of e){if(r._c.has(i)){yt("SyncEngine","Adding an already active target "+i);continue}const a=yield lz(r.localStore,i),l=yield T4(r.localStore,a);yield z_(r,Oz(a),l.targetId,!1,l.resumeToken),dm(r.remoteStore,l)}for(const i of t)r._c.has(i)&&(yield D4(r.localStore,i,!1).then(()=>{A3(r.remoteStore,i),k4(r,i)}).catch(Tu))}}),Q_.apply(this,arguments)}function X_(n){const e=Ht(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$V.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VV.bind(null,e),e.dc.nu=xV.bind(null,e.eventManager),e.dc.Pc=zV.bind(null,e.eventManager),e}function J_(n){const e=Ht(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BV.bind(null,e),e}class P3{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,tt.Z)(function*(){t.serializer=x3(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return oz(this.persistence,new iz,e.initialUser,this.serializer)}createPersistence(e){return new Yy(rm.zs,this.serializer)}createSharedClientState(e){return new pz}terminate(){var e=this;return(0,tt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ew extends P3{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,tt.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield J_(r.Vc.syncEngine),yield I4(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return oz(this.persistence,new iz,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Kx(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new TF(t,this.persistence);return new EF(e.asyncQueue,r)}createPersistence(e){const t=Gy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new $y(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,gz(),um(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new pz}}class Nz extends ew{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,tt.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof t_&&(r.sharedClientState.syncEngine={jr:WV.bind(null,i),zr:QV.bind(null,i),Wr:XV.bind(null,i),$i:ZV.bind(null,i),Qr:qV.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,tt.Z)(function*(l){yield function KV(n,e){return W_.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=gz();if(!t_.D(t))throw new dt(qe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Gy(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new t_(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class O4{initialize(e,t){var r=this;return(0,tt.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Az(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=jV.bind(null,r.syncEngine),yield w_(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new IV}createDatastore(e){const t=x3(e.databaseInfo.databaseId),r=new dV(e.databaseInfo);return new pV(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=p=>Az(this.syncEngine,p,0),l=mz.D()?new mz:new cV,new vV(t,r,i,a,l);var t,r,i,a,l}createSyncEngine(e,t){return function(r,i,a,l,p,y,M){const N=new NV(r,i,a,l,p,y);return M&&(N.vc=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,tt.Z)(function*(t){const r=Ht(t);yt("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield M4(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Rz(n,e=10240){let t=0;return{read:()=>(0,tt.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,tt.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class fm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):wo("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class tH{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Ho,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,tt.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,tt.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,tt.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new AV(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,tt.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,tt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,tt.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class nH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,tt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new dt(qe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,tt.Z)(function*(a,l){const p=Ht(a),y=_3(p.serializer)+"/documents",M={documents:l.map(ce=>y3(p.serializer,ce))},N=yield p.vo("BatchGetDocuments",y,M,l.length),U=new Map;N.forEach(ce=>{const ge=function SL(n,e){return"found"in e?function(t,r){ln(!!r.found);const i=el(t,r.found.name),a=Co(r.found.updateTime),l=r.found.createTime?Co(r.found.createTime):hn.min(),p=new gs({mapValue:{fields:r.found.fields}});return Oi.newFoundDocument(i,a,l,p)}(n,e):"missing"in e?function(t,r){ln(!!r.missing),ln(!!r.readTime);const i=el(t,r.missing),a=Co(r.readTime);return Oi.newNoDocument(i,a)}(n,e):Xt()}(p.serializer,ce);U.set(ge.key.toString(),ge)});const te=[];return l.forEach(ce=>{const ge=U.get(ce.toString());ln(!!ge),te.push(ge)}),te}),function(a,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new w4(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,tt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Rt.fromPath(i);e.mutations.push(new Ey(a,e.precondition(a)))}),yield(r=(0,tt.Z)(function*(i,a){const l=Ht(i),p=_3(l.serializer)+"/documents",y={writes:a.map(M=>w3(l.serializer,M))};yield l.Io("Commit",p,y)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xt();t=hn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new dt(qe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(hn.min())?Wi.exists(!1):Wi.updateTime(t):Wi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(hn.min()))throw new dt(qe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wi.updateTime(t)}return Wi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class rH{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new r_(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,tt.Z)(function*(){const t=new nH(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!t3(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!cx(t)}return!1}}class iH{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Zo.UNAUTHENTICATED,this.clientId=oI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,tt.Z)(function*(p){yt("FirestoreClient","Received user=",p.uid),yield a.authCredentialListener(p),a.user=p});return function(p){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(yt("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,tt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new dt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,tt.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=z4(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function pm(n,e){return tw.apply(this,arguments)}function tw(){return tw=(0,tt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),yt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,tt.Z)(function*(a){r.isEqual(a)||(yield sz(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),tw.apply(this,arguments)}function nw(n,e){return rw.apply(this,arguments)}function rw(){return rw=(0,tt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield iw(n);yt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Sz(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Sz(e.remoteStore,a)),n._onlineComponents=e}),rw.apply(this,arguments)}function Fz(n){return"FirebaseError"===n.name?n.code===qe.FAILED_PRECONDITION||n.code===qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function iw(n){return ow.apply(this,arguments)}function ow(){return ow=(0,tt.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){yt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield pm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Fz(t))throw t;$a("Error using user provided cache. Falling back to memory cache: "+t),yield pm(n,new P3)}}else yt("FirestoreClient","Using default OfflineComponentProvider"),yield pm(n,new P3);return n._offlineComponents}),ow.apply(this,arguments)}function mm(n){return sw.apply(this,arguments)}function sw(){return sw=(0,tt.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(yt("FirestoreClient","Using user provided OnlineComponentProvider"),yield nw(n,n._uninitializedComponentsProvider._online)):(yt("FirestoreClient","Using default OnlineComponentProvider"),yield nw(n,new O4))),n._onlineComponents}),sw.apply(this,arguments)}function Lz(n){return iw(n).then(e=>e.persistence)}function gm(n){return iw(n).then(e=>e.localStore)}function Vz(n){return mm(n).then(e=>e.remoteStore)}function aw(n){return mm(n).then(e=>e.syncEngine)}function N4(n){return cw.apply(this,arguments)}function cw(){return cw=(0,tt.Z)(function*(n){const e=yield mm(n),t=e.eventManager;return t.onListen=RV.bind(null,e.syncEngine),t.onUnlisten=FV.bind(null,e.syncEngine),t}),cw.apply(this,arguments)}function Bz(n,e,t={}){const r=new Ho;return n.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return function(i,a,l,p,y){const M=new fm({next:U=>{a.enqueueAndForget(()=>T_(i,N));const te=U.docs.has(l);!te&&U.fromCache?y.reject(new dt(qe.UNAVAILABLE,"Failed to get document because the client is offline.")):te&&U.fromCache&&p&&"server"===p.source?y.reject(new dt(qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(U)},error:U=>y.reject(U)}),N=new I_(g4(l.path),M,{includeMetadataChanges:!0,Ku:!0});return S_(i,N)}(yield N4(n),n.asyncQueue,e,t,r)})),r.promise}function Uz(n,e,t={}){const r=new Ho;return n.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return function(i,a,l,p,y){const M=new fm({next:U=>{a.enqueueAndForget(()=>T_(i,N)),U.fromCache&&"server"===p.source?y.reject(new dt(qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(U)},error:U=>y.reject(U)}),N=new I_(l,M,{includeMetadataChanges:!0,Ku:!0});return S_(i,N)}(yield N4(n),n.asyncQueue,e,t,r)})),r.promise}function Yz(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const jz=new Map;function lw(n,e,t){if(!t)throw new dt(qe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $z(n,e,t,r){if(!0===e&&!0===r)throw new dt(qe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Gz(n){if(!Rt.isDocumentKey(n))throw new dt(qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qz(n){if(Rt.isDocumentKey(n))throw new dt(qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Xt()}function _r(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new dt(qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vm(n);throw new dt(qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Wz(n,e){if(e<=0)throw new dt(qe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Kz{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new dt(qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new dt(qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$z("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Yz(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new dt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new dt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new dt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class k3{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new dt(qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new dt(qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kz(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new hF;switch(t.type){case"firstParty":return new gF(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new dt(qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jz.get(e);t&&(yt("ComponentProvider","Removing Datastore"),jz.delete(e),t.terminate())}(this),Promise.resolve()}}class Ni{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ni(this.firestore,e,this._key)}}class vs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class tl extends vs{constructor(e,t,r){super(e,t,g4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ni(this.firestore,null,new Rt(e))}withConverter(e){return new tl(this.firestore,e,this._path)}}function Qz(n,e,...t){if(n=(0,Xn.m9)(n),lw("collection","path",e),n instanceof k3){const r=Dr.fromString(e,...t);return qz(r),new tl(n,null,r)}{if(!(n instanceof Ni||n instanceof tl))throw new dt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Dr.fromString(e,...t));return qz(r),new tl(n.firestore,null,r)}}function ym(n,e,...t){if(n=(0,Xn.m9)(n),1===arguments.length&&(e=oI.A()),lw("doc","path",e),n instanceof k3){const r=Dr.fromString(e,...t);return Gz(r),new Ni(n,null,new Rt(r))}{if(!(n instanceof Ni||n instanceof tl))throw new dt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Dr.fromString(e,...t));return Gz(r),new Ni(n.firestore,n instanceof tl?n.converter:null,new Rt(r))}}function Xz(n,e){return n=(0,Xn.m9)(n),e=(0,Xn.m9)(e),(n instanceof Ni||n instanceof tl)&&(e instanceof Ni||e instanceof tl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function uw(n,e){return n=(0,Xn.m9)(n),e=(0,Xn.m9)(e),n instanceof vs&&e instanceof vs&&n.firestore===e.firestore&&l3(n._query,e._query)&&n.converter===e.converter}class pH{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new r_(this,"async_queue_retry"),this.Xc=()=>{const t=um();t&&yt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=um();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=um();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ho;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,tt.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Du(t))throw t;yt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,wo("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=b_.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&Xt()}verifyOperationInProgress(){}sa(){var e=this;return(0,tt.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function dw(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class mH{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ho,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ri extends k3{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new pH,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Jz(this),this._firestoreClient.terminate()}}function bo(n){return n._firestoreClient||Jz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Jz(n){var e,t,r;const i=n._freezeSettings(),a=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new GF(n._databaseId,p,n._persistenceKey,(M=i).host,M.ssl,M.experimentalForceLongPolling,M.experimentalAutoDetectLongPolling,Yz(M.experimentalLongPollingOptions),M.useFetchStreams));var p,M;n._firestoreClient=new iH(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function eA(n,e,t){const r=new Ho;return n.asyncQueue.enqueue((0,tt.Z)(function*(){try{yield pm(n,t),yield nw(n,e),r.resolve()}catch(i){const a=i;if(!Fz(a))throw a;$a("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function tA(n){if(n._initialized||n._terminated)throw new dt(qe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nl(Bo.fromBase64String(e))}catch(t){throw new dt(qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new nl(Bo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ul{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new dt(qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yd{constructor(e){this._methodName=e}}class _m{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new dt(qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new dt(qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $n(this._lat,e._lat)||$n(this._long,e._long)}}const DH=/^__.*__$/;class MH{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Vl(e,this.data,this.fieldMask,t,this.fieldTransforms):new _4(e,this.data,t,this.fieldTransforms)}}class nA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Vl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xt()}}class wm{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Sm(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(rA(this.ca)&&DH.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class IH{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||x3(e)}ya(e,t,r,i=!1){return new wm({ca:e,methodName:t,ga:r,path:mo.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _d(n){const e=n._freezeSettings(),t=x3(n._databaseId);return new IH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Cm(n,e,t,r,i,a={}){const l=n.ya(a.merge||a.mergeFields?2:0,e,t,i);mw("Data must be an object, but it was:",l,r);const p=sA(r,l);let y,M;if(a.merge)y=new ca(l.fieldMask),M=l.fieldTransforms;else if(a.mergeFields){const N=[];for(const U of a.mergeFields){const te=R3(e,U,t);if(!l.contains(te))throw new dt(qe.INVALID_ARGUMENT,`Field '${te}' is specified in your field mask but missing from your input data.`);cA(N,te)||N.push(te)}y=new ca(N),M=l.fieldTransforms.filter(U=>y.covers(U.field))}else y=null,M=l.fieldTransforms;return new MH(new gs(p),y,M)}class N3 extends yd{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof N3}}function iA(n,e,t){return new wm({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hw extends yd{_toFieldTransform(e){return new f3(e.path,new v4)}isEqual(e){return e instanceof hw}}class xH extends yd{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=iA(this,e,!0),r=this.pa.map(a=>wd(a,t)),i=new ld(r);return new f3(e.path,i)}isEqual(e){return this===e}}class zH extends yd{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=iA(this,e,!0),r=this.pa.map(a=>wd(a,t)),i=new ud(r);return new f3(e.path,i)}isEqual(e){return this===e}}class AH extends yd{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new y4(e.serializer,QI(e.serializer,this.Ia));return new f3(e.path,t)}isEqual(e){return this===e}}function fw(n,e,t,r){const i=n.ya(1,e,t);mw("Data must be an object, but it was:",i,r);const a=[],l=gs.empty();Mu(r,(y,M)=>{const N=bm(e,y,t);M=(0,Xn.m9)(M);const U=i.da(N);if(M instanceof N3)a.push(N);else{const te=wd(M,U);null!=te&&(a.push(N),l.set(N,te))}});const p=new ca(a);return new nA(l,p,i.fieldTransforms)}function pw(n,e,t,r,i,a){const l=n.ya(1,e,t),p=[R3(e,r,t)],y=[i];if(a.length%2!=0)throw new dt(qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let te=0;te<a.length;te+=2)p.push(R3(e,a[te])),y.push(a[te+1]);const M=[],N=gs.empty();for(let te=p.length-1;te>=0;--te)if(!cA(M,p[te])){const ce=p[te];let ge=y[te];ge=(0,Xn.m9)(ge);const Re=l.da(ce);if(ge instanceof N3)M.push(ce);else{const $e=wd(ge,Re);null!=$e&&(M.push(ce),N.set(ce,$e))}}const U=new ca(M);return new nA(N,U,l.fieldTransforms)}function oA(n,e,t,r=!1){return wd(t,n.ya(r?4:3,e))}function wd(n,e){if(aA(n=(0,Xn.m9)(n)))return mw("Unsupported field value:",e,n),sA(n,e);if(n instanceof yd)return function(t,r){if(!rA(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const l of t){let p=wd(l,r.wa(a));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Xn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return QI(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=qi.fromDate(t);return{timestampValue:C4(r.serializer,i)}}if(t instanceof qi){const i=new qi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:C4(r.serializer,i)}}if(t instanceof _m)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof nl)return{bytesValue:yx(r.serializer,t._byteString)};if(t instanceof Ni){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ay(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${vm(t)}`)}(n,e)}function sA(n,e){const t={};return wI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mu(n,(r,i)=>{const a=wd(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function aA(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qi||n instanceof _m||n instanceof nl||n instanceof Ni||n instanceof yd)}function mw(n,e,t){if(!aA(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=vm(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function R3(n,e,t){if((e=(0,Xn.m9)(e))instanceof Ul)return e._internalPath;if("string"==typeof e)return bm(n,e);throw Sm("Field path arguments must be of type string or ",n,!1,void 0,t)}const PH=new RegExp("[~\\*/\\[\\]]");function bm(n,e,t){if(e.search(PH)>=0)throw Sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ul(...e.split("."))._internalPath}catch{throw Sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sm(n,e,t,r,i){const a=r&&!r.isEmpty(),l=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(a||l)&&(y+=" (found",a&&(y+=` in field ${r}`),l&&(y+=` in document ${i}`),y+=")"),new dt(qe.INVALID_ARGUMENT,p+n+y)}function cA(n,e){return n.some(t=>t.isEqual(e))}class F3{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ni(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Em("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kH extends F3{data(){return super.data()}}function Em(n,e){return"string"==typeof e?bm(n,e):e instanceof Ul?e._internalPath:e._delegate._internalPath}function lA(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new dt(qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gw{}class L3 extends gw{}function Hu(n,e,...t){let r=[];e instanceof gw&&r.push(e),r=r.concat(t),function(i){const a=i.filter(p=>p instanceof R4).length,l=i.filter(p=>p instanceof V3).length;if(a>1||a>0&&l>0)throw new dt(qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class V3 extends L3{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new V3(e,t,r)}_apply(e){const t=this._parse(e);return fA(e._query,t),new vs(e.firestore,e.converter,Cy(e._query,t))}_parse(e){const t=_d(e.firestore);return function(i,a,l,p,y,M,N){let U;if(y.isKeyField()){if("array-contains"===M||"array-contains-any"===M)throw new dt(qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${M}' queries on documentId().`);if("in"===M||"not-in"===M){hA(N,M);const te=[];for(const ce of N)te.push(dA(p,i,ce));U={arrayValue:{values:te}}}else U=dA(p,i,N)}else"in"!==M&&"not-in"!==M&&"array-contains-any"!==M||hA(N,M),U=oA(l,"where",N,"in"===M||"not-in"===M);return yr.create(y,M,U)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class R4 extends gw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new R4(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:li.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const p of l)fA(a,p),a=Cy(a,p)}(e._query,t),new vs(e.firestore,e.converter,Cy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vw extends L3{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vw(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new dt(qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new dt(qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new p4(i,a);return function(p,y){if(null===_y(p)){const M=Up(p);null!==M&&pA(0,M,y.field)}}(r,l),l}(e._query,this._field,this._direction);return new vs(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Fl(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Tm extends L3{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Tm(e,t,r)}_apply(e){return new vs(e.firestore,e.converter,Yp(e._query,this._limit,this._limitType))}}class Dm extends L3{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Dm(e,t,r)}_apply(e){const t=uA(e,this.type,this._docOrFields,this._inclusive);return new vs(e.firestore,e.converter,(i=t,new Fl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Mm extends L3{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Mm(e,t,r)}_apply(e){const t=uA(e,this.type,this._docOrFields,this._inclusive);return new vs(e.firestore,e.converter,(i=t,new Fl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function uA(n,e,t,r){if(t[0]=(0,Xn.m9)(t[0]),t[0]instanceof F3)return function(i,a,l,p,y){if(!p)throw new dt(qe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const M=[];for(const N of cd(i))if(N.field.isKeyField())M.push(sd(a,p.key));else{const U=p.data.field(N.field);if(Np(U))throw new dt(qe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===U){const te=N.field.canonicalString();throw new dt(qe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${te}' (used as the orderBy) does not exist.`)}M.push(U)}return new ku(M,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=_d(n.firestore);return function(a,l,p,y,M,N){const U=a.explicitOrderBy;if(M.length>U.length)throw new dt(qe.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const te=[];for(let ce=0;ce<M.length;ce++){const ge=M[ce];if(U[ce].field.isKeyField()){if("string"!=typeof ge)throw new dt(qe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof ge}`);if(!wy(a)&&-1!==ge.indexOf("/"))throw new dt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${ge}' contains a slash.`);const Re=a.path.child(Dr.fromString(ge));if(!Rt.isDocumentKey(Re))throw new dt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Re}' is not because it contains an odd number of segments.`);const $e=new Rt(Re);te.push(sd(l,$e))}else{const Re=oA(p,y,ge);te.push(Re)}}return new ku(te,N)}(n._query,n.firestore._databaseId,i,e,t,r)}}function dA(n,e,t){if("string"==typeof(t=(0,Xn.m9)(t))){if(""===t)throw new dt(qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wy(e)&&-1!==t.indexOf("/"))throw new dt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Dr.fromString(t));if(!Rt.isDocumentKey(r))throw new dt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sd(n,new Rt(r))}if(t instanceof Ni)return sd(n,t._key);throw new dt(qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vm(t)}.`)}function hA(n,e){if(!Array.isArray(n)||0===n.length)throw new dt(qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fA(n,e){if(e.isInequality()){const r=Up(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new dt(qe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=_y(n);null!==a&&pA(0,i,a)}const t=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new dt(qe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function pA(n,e,t){if(!t.isEqual(e))throw new dt(qe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class yw{convertValue(e,t="none"){switch(Au(e)){case 0:return null;case 1:return e.booleanValue;case 2:return go(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Mu(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new _m(go(e.latitude),go(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Rp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(r3(e));default:return null}}convertTimestamp(e){const t=Iu(e);return new qi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Dr.fromString(e);ln(Ix(r));const i=new xu(r.get(1),r.get(3)),a=new Rt(r.popFirst(5));return i.isEqual(t)||wo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function Im(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class UH extends yw{constructor(e){super(),this.firestore=e}convertBytes(e){return new nl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,t)}}class Cd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yl extends F3{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new H3(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Em("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class H3 extends Yl{data(e={}){return super.data(e)}}class Bu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Cd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new H3(this._firestore,this._userDataWriter,r.key,r,new Cd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new dt(qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new H3(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Cd(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const p=new H3(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Cd(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,M=-1;return 0!==l.type&&(y=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),1!==l.type&&(a=a.add(l.doc),M=a.indexOf(l.doc.key)),{type:jH(l.type),doc:p,oldIndex:y,newIndex:M}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xt()}}function gA(n,e){return n instanceof Yl&&e instanceof Yl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Bu&&e instanceof Bu&&n._firestore===e._firestore&&uw(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Uu extends yw{constructor(e){super(),this.firestore=e}convertBytes(e){return new nl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,t)}}function vA(n,e,t){n=_r(n,Ni);const r=_r(n.firestore,Ri),i=Im(n.converter,e,t);return F4(r,[Cm(_d(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Wi.none())])}function yA(n,e,t,...r){n=_r(n,Ni);const i=_r(n.firestore,Ri),a=_d(i);let l;return l="string"==typeof(e=(0,Xn.m9)(e))||e instanceof Ul?pw(a,"updateDoc",n._key,e,t,r):fw(a,"updateDoc",n._key,e),F4(i,[l.toMutation(n._key,Wi.exists(!0))])}function _A(n,...e){var t,r,i;n=(0,Xn.m9)(n);let a={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||dw(e[l])||(a=e[l],l++);const p={includeMetadataChanges:a.includeMetadataChanges};if(dw(e[l])){const U=e[l];e[l]=null===(t=U.next)||void 0===t?void 0:t.bind(U),e[l+1]=null===(r=U.error)||void 0===r?void 0:r.bind(U),e[l+2]=null===(i=U.complete)||void 0===i?void 0:i.bind(U)}let y,M,N;if(n instanceof Ni)M=_r(n.firestore,Ri),N=g4(n._key.path),y={next:U=>{e[l]&&e[l](_w(M,n,U))},error:e[l+1],complete:e[l+2]};else{const U=_r(n,vs);M=_r(U.firestore,Ri),N=U._query;const te=new Uu(M);y={next:ce=>{e[l]&&e[l](new Bu(M,te,U,ce))},error:e[l+1],complete:e[l+2]},lA(n._query)}return function(U,te,ce,ge){const Re=new fm(ge),$e=new I_(te,Re,ce);return U.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return S_(yield N4(U),$e)})),()=>{Re.Dc(),U.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return T_(yield N4(U),$e)}))}}(bo(M),N,p,y)}function F4(n,e){return function(t,r){const i=new Ho;return t.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return function LV(n,e,t){return k_.apply(this,arguments)}(yield aw(t),r,i)})),i.promise}(bo(n),e)}function _w(n,e,t){const r=t.docs.get(e._key),i=new Uu(n);return new Yl(n,i,e._key,r,new Cd(t.hasPendingWrites,t.fromCache),e.converter)}const cB={maxAttempts:5};class wA{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_d(e)}set(e,t,r){this._verifyNotCommitted();const i=Yu(e,this._firestore),a=Im(i.converter,t,r),l=Cm(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,Wi.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Yu(e,this._firestore);let l;return l="string"==typeof(t=(0,Xn.m9)(t))||t instanceof Ul?pw(this._dataReader,"WriteBatch.update",a._key,t,r,i):fw(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,Wi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yu(e,this._firestore);return this._mutations=this._mutations.concat(new w4(t._key,Wi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new dt(qe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yu(n,e){if((n=(0,Xn.m9)(n)).firestore!==e)throw new dt(qe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class lB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_d(e)}get(e){const t=Yu(e,this._firestore),r=new UH(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Xt();const a=i[0];if(a.isFoundDocument())return new F3(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new F3(this._firestore,r,t._key,null,t.converter);throw Xt()})}set(e,t,r){const i=Yu(e,this._firestore),a=Im(i.converter,t,r),l=Cm(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const a=Yu(e,this._firestore);let l;return l="string"==typeof(t=(0,Xn.m9)(t))||t instanceof Ul?pw(this._dataReader,"Transaction.update",a._key,t,r,i):fw(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=Yu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yu(e,this._firestore),r=new Uu(this._firestore);return super.get(e).then(i=>new Yl(this._firestore,r,t._key,i._document,new Cd(!1,!1),t.converter))}}!function(n,e=!0){u4=vc.SDK_VERSION,(0,vc._registerComponent)(new t4.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new Ri(new pF(t.getProvider("auth-internal")),new vF(t.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new dt(qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(p.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,vc.registerVersion)(nI,"3.13.0",n),(0,vc.registerVersion)(nI,"3.13.0","esm2017")}();function ww(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new dt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function bA(){if(typeof Uint8Array>"u")throw new dt("unimplemented","Uint8Arrays are not available in this environment.")}function SA(){if(!function jF(){return typeof atob<"u"}())throw new dt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class B3{constructor(e){this._delegate=e}static fromBase64String(e){return SA(),new B3(nl.fromBase64String(e))}static fromUint8Array(e){return bA(),new B3(nl.fromUint8Array(e))}toBase64(){return SA(),this._delegate.toBase64()}toUint8Array(){return bA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Cw(n){return function yB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class _B{enableIndexedDbPersistence(e,t){return function vH(n,e){tA(n=_r(n,Ri));const t=bo(n);if(t._uninitializedComponentsProvider)throw new dt(qe.FAILED_PRECONDITION,"SDK cache is already specified.");$a("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new O4;return eA(t,i,new ew(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function yH(n){tA(n=_r(n,Ri));const e=bo(n);if(e._uninitializedComponentsProvider)throw new dt(qe.FAILED_PRECONDITION,"SDK cache is already specified.");$a("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new O4;return eA(e,r,new Nz(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function _H(n){if(n._initialized&&!n._terminated)throw new dt(qe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ho;return n._queue.enqueueAndForgetEvenWhileRestricted((0,tt.Z)(function*(){try{yield(t=(0,tt.Z)(function*(r){if(!wc.D())return Promise.resolve();const i=r+"main";yield wc.delete(i)}),function(r){return t.apply(this,arguments)})(Gy(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class EA{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof xu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&$a("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Zz(n,e,t,r={}){var i;const a=(n=_r(n,k3))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==l&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let p,y;if("string"==typeof r.mockUserToken)p=r.mockUserToken,y=Zo.MOCK_USER;else{p=(0,Xn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const M=r.mockUserToken.sub||r.mockUserToken.user_id;if(!M)throw new dt(qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Zo(M)}n._authCredentials=new fF(new rI(p,y))}}(this._delegate,e,t,r)}enableNetwork(){return function CH(n){return function oH(n){return n.asyncQueue.enqueue((0,tt.Z)(function*(){const e=yield Lz(n),t=yield Vz(n);return e.setNetworkEnabled(!0),function(r){const i=Ht(r);return i.vu.delete(0),z3(i)}(t)}))}(bo(n=_r(n,Ri)))}(this._delegate)}disableNetwork(){return function bH(n){return function sH(n){return n.asyncQueue.enqueue((0,tt.Z)(function*(){const e=yield Lz(n),t=yield Vz(n);return e.setNetworkEnabled(!1),(r=(0,tt.Z)(function*(i){const a=Ht(i);a.vu.add(0),yield M4(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(bo(n=_r(n,Ri)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,$z("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function wH(n){return function(e){const t=new Ho;return e.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return function UV(n,e){return L_.apply(this,arguments)}(yield aw(e),t)})),t.promise}(bo(n=_r(n,Ri)))}(this._delegate)}onSnapshotsInSync(e){return function JH(n,e){return function lH(n,e){const t=new fm(e);return n.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return r=yield N4(n),i=t,Ht(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return r=yield N4(n),i=t,void Ht(r).ku.delete(i);var r,i}))}}(bo(n=_r(n,Ri)),dw(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new dt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new L4(this,Qz(this._delegate,e))}catch(t){throw qs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ga(this,ym(this._delegate,e))}catch(t){throw qs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ws(this,function fH(n,e){if(n=_r(n,k3),lw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new dt(qe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vs(n,null,(t=e,new Fl(Dr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw qs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function uB(n,e,t){n=_r(n,Ri);const r=Object.assign(Object.assign({},cB),t);return function(i){if(i.maxAttempts<1)throw new dt(qe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const p=new Ho;return i.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){const y=yield function Hz(n){return mm(n).then(e=>e.datastore)}(i);new rH(i.asyncQueue,y,l,a,p).run()})),p.promise}(bo(n),i=>e(new lB(n,i)),r)}(this._delegate,t=>e(new TA(this,t)))}batch(){return bo(this._delegate),new DA(new wA(this._delegate,e=>F4(this._delegate,e)))}loadBundle(e){return function SH(n,e){const t=bo(n=_r(n,Ri)),r=new mH;return function uH(n,e,t,r){const i=function(a,l){let p;return p="string"==typeof a?ux().encode(a):a,y=function(y,M){if(y instanceof Uint8Array)return Rz(y,M);if(y instanceof ArrayBuffer)return Rz(new Uint8Array(y),M);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new tH(y,l);var y}(t,x3(e));n.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){!function JV(n,e,t){const r=Ht(n);var i;(i=(0,tt.Z)(function*(a,l,p){try{const y=yield l.getMetadata();if(yield function(te,ce){const ge=Ht(te),Re=Co(ce.createTime);return ge.persistence.runTransaction("hasNewerBundle","readonly",$e=>ge.qs.getBundleMetadata($e,ce.id)).then($e=>!!$e&&$e.createTime.compareTo(Re)>=0)}(a.localStore,y))return yield l.close(),p._completeWith({taskState:"Success",documentsLoaded:(te=y).totalDocuments,bytesLoaded:te.totalBytes,totalDocuments:te.totalDocuments,totalBytes:te.totalBytes}),Promise.resolve(new Set);p._updateProgress(Dz(y));const M=new PV(y,a.localStore,l.serializer);let N=yield l.bc();for(;N;){const te=yield M.zu(N);te&&p._updateProgress(te),N=yield l.bc()}const U=yield M.complete();return yield Bl(a,U.Ju,void 0),yield function(te,ce){const ge=Ht(te);return ge.persistence.runTransaction("Save bundle","readwrite",Re=>ge.qs.saveBundleMetadata(Re,ce))}(a.localStore,y),p._completeWith(U.progress),Promise.resolve(U.Hu)}catch(y){return $a("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var te}),function(a,l,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield aw(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function EH(n,e){return function dH(n,e){return n.asyncQueue.enqueue((0,tt.Z)(function*(){return function(t,r){const i=Ht(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield gm(n),e)}))}(bo(n=_r(n,Ri)),e).then(t=>t?new vs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ws(this,t):null)}}class xm extends yw{constructor(e){super(),this.firestore=e}convertBytes(e){return new B3(new nl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ga.forKey(t,this.firestore,null)}}class TA{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new xm(e)}get(e){const t=Sd(e);return this._delegate.get(t).then(r=>new U3(this._firestore,new Yl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Sd(e);return r?(ww("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Sd(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Sd(e);return this._delegate.delete(t),this}}class DA{constructor(e){this._delegate=e}set(e,t,r){const i=Sd(e);return r?(ww("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Sd(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Sd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class bd{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new H3(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Y3(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=bd.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new bd(e,new xm(e),t),i.set(t,a)),a}}bd.INSTANCES=new WeakMap;class Ga{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xm(e)}static forPath(e,t,r){if(e.length%2!=0)throw new dt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ga(t,new Ni(t._delegate,r,new Rt(e)))}static forKey(e,t,r){return new Ga(t,new Ni(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new L4(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new L4(this.firestore,Qz(this._delegate,e))}catch(t){throw qs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xn.m9)(e))instanceof Ni&&Xz(this._delegate,e)}set(e,t){t=ww("DocumentReference.set",t);try{return t?vA(this._delegate,e,t):vA(this._delegate,e)}catch(r){throw qs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?yA(this._delegate,e):yA(this._delegate,e,t,...r)}catch(i){throw qs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function QH(n){return F4(_r(n.firestore,Ri),[new w4(n._key,Wi.none())])}(this._delegate)}onSnapshot(...e){const t=MA(e),r=IA(e,i=>new U3(this.firestore,new Yl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return _A(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function GH(n){n=_r(n,Ni);const e=_r(n.firestore,Ri),t=bo(e),r=new Uu(e);return function aH(n,e){const t=new Ho;return n.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return(r=(0,tt.Z)(function*(i,a,l){try{const p=yield function(y,M){const N=Ht(y);return N.persistence.runTransaction("read document","readonly",U=>N.localDocuments.getDocument(U,M))}(i,a);p.isFoundDocument()?l.resolve(p):p.isNoDocument()?l.resolve(null):l.reject(new dt(qe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=z4(p,`Failed to get document '${a} from cache`);l.reject(y)}}),function(i,a,l){return r.apply(this,arguments)})(yield gm(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Yl(e,r,n._key,i,new Cd(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function qH(n){n=_r(n,Ni);const e=_r(n.firestore,Ri);return Bz(bo(e),n._key,{source:"server"}).then(t=>_w(e,n,t))}(this._delegate):function $H(n){n=_r(n,Ni);const e=_r(n.firestore,Ri);return Bz(bo(e),n._key).then(t=>_w(e,n,t))}(this._delegate),t.then(r=>new U3(this.firestore,new Yl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ga(this.firestore,this._delegate.withConverter(e?bd.getInstance(this.firestore,e):null))}}function qs(n,e,t){return n.message=n.message.replace(e,t),n}function MA(n){for(const e of n)if("object"==typeof e&&!Cw(e))return e;return{}}function IA(n,e){var t,r;let i;return i=Cw(n[0])?n[0]:Cw(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class U3{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ga(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return gA(this._delegate,e._delegate)}}class Y3 extends U3{data(e){const t=this._delegate.data(e);return function dF(n,e){n||Xt()}(void 0!==t),t}}class Ws{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xm(e)}where(e,t,r){try{return new Ws(this.firestore,Hu(this._delegate,function OH(n,e,t){const r=e,i=Em("where",n);return V3._create(i,r,t)}(e,t,r)))}catch(i){throw qs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ws(this.firestore,Hu(this._delegate,function NH(n,e="asc"){const t=e,r=Em("orderBy",n);return vw._create(r,t)}(e,t)))}catch(r){throw qs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ws(this.firestore,Hu(this._delegate,function RH(n){return Wz("limit",n),Tm._create("limit",n,"F")}(e)))}catch(t){throw qs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ws(this.firestore,Hu(this._delegate,function FH(n){return Wz("limitToLast",n),Tm._create("limitToLast",n,"L")}(e)))}catch(t){throw qs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ws(this.firestore,Hu(this._delegate,function LH(...n){return Dm._create("startAt",n,!0)}(...e)))}catch(t){throw qs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ws(this.firestore,Hu(this._delegate,function VH(...n){return Dm._create("startAfter",n,!1)}(...e)))}catch(t){throw qs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ws(this.firestore,Hu(this._delegate,function HH(...n){return Mm._create("endBefore",n,!1)}(...e)))}catch(t){throw qs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ws(this.firestore,Hu(this._delegate,function BH(...n){return Mm._create("endAt",n,!0)}(...e)))}catch(t){throw qs(t,"endAt()","Query.endAt()")}}isEqual(e){return uw(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function KH(n){n=_r(n,vs);const e=_r(n.firestore,Ri),t=bo(e),r=new Uu(e);return function cH(n,e){const t=new Ho;return n.asyncQueue.enqueueAndForget((0,tt.Z)(function*(){return(r=(0,tt.Z)(function*(i,a,l){try{const p=yield sm(i,a,!0),y=new xz(a,p.ir),M=y.sc(p.documents),N=y.applyChanges(M,!1);l.resolve(N.snapshot)}catch(p){const y=z4(p,`Failed to execute query '${a} against cache`);l.reject(y)}}),function(i,a,l){return r.apply(this,arguments)})(yield gm(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Bu(e,r,n,i))}(this._delegate):"server"===e?.source?function ZH(n){n=_r(n,vs);const e=_r(n.firestore,Ri),t=bo(e),r=new Uu(e);return Uz(t,n._query,{source:"server"}).then(i=>new Bu(e,r,n,i))}(this._delegate):function WH(n){n=_r(n,vs);const e=_r(n.firestore,Ri),t=bo(e),r=new Uu(e);return lA(n._query),Uz(t,n._query).then(i=>new Bu(e,r,n,i))}(this._delegate),t.then(r=>new bw(this.firestore,new Bu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=MA(e),r=IA(e,i=>new bw(this.firestore,new Bu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return _A(this._delegate,t,r)}withConverter(e){return new Ws(this.firestore,this._delegate.withConverter(e?bd.getInstance(this.firestore,e):null))}}class CB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Y3(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bw{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ws(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Y3(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new CB(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Y3(this._firestore,r))})}isEqual(e){return gA(this._delegate,e._delegate)}}class L4 extends Ws{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ga(this.firestore,e):null}doc(e){try{return new Ga(this.firestore,void 0===e?ym(this._delegate):ym(this._delegate,e))}catch(t){throw qs(t,"doc()","CollectionReference.doc()")}}add(e){return function XH(n,e){const t=_r(n.firestore,Ri),r=ym(n),i=Im(n.converter,e);return F4(t,[Cm(_d(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Wi.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ga(this.firestore,t))}isEqual(e){return Xz(this._delegate,e._delegate)}withConverter(e){return new L4(this.firestore,this._delegate.withConverter(e?bd.getInstance(this.firestore,e):null))}}function Sd(n){return _r(n,Ni)}class Sw{constructor(...e){this._delegate=new Ul(...e)}static documentId(){return new Sw(mo.keyField().canonicalString())}isEqual(e){return(e=(0,Xn.m9)(e))instanceof Ul&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ed{constructor(e){this._delegate=e}static serverTimestamp(){const e=function hB(){return new hw("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ed(e)}static delete(){const e=function dB(){return new N3("deleteField")}();return e._methodName="FieldValue.delete",new Ed(e)}static arrayUnion(...e){const t=function fB(...n){return new xH("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ed(t)}static arrayRemove(...e){const t=function pB(...n){return new zH("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ed(t)}static increment(e){const t=function mB(n){return new AH("increment",n)}(e);return t._methodName="FieldValue.increment",new Ed(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const bB={Firestore:EA,GeoPoint:_m,Timestamp:qi,Blob:B3,Transaction:TA,WriteBatch:DA,DocumentReference:Ga,DocumentSnapshot:U3,Query:Ws,QueryDocumentSnapshot:Y3,QuerySnapshot:bw,CollectionReference:L4,FieldPath:Sw,FieldValue:Ed,setLogLevel:function wB(n){!function uF(n){Eu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function EB(n){(function SB(n,e){n.INTERNAL.registerComponent(new t4.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},bB)))})(n,(e,t)=>new EA(e,t,new _B)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(VD.Z);var j3=L(5363),qa=L(3900),TB=L(6063);class DB extends Cn.x{constructor(e=1/0,t=1/0,r=TB.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let p=0;for(let y=1;y<r.length&&r[y]<=l;y+=2)p=y;p&&r.splice(0,p+1)}}}function Ew(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Na.B)({connector:()=>new DB(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}var MB=L(590);function xA(n,e){return(0,Uc.m)(e)?(0,qa.w)(()=>n,e):(0,qa.w)(()=>n)}var Tw=L(9468);L(259);const Mw=new Map,AA={activated:!1,tokenObservers:[]},PB={initialized:!1,enabled:!1};function vo(n){return Mw.get(n)||Object.assign({},AA)}function Am(){return PB}const Iw="https://content-firebaseappcheck.googleapis.com/v1",RB="exchangeDebugToken",PA={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class LB{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,tt.Z)(function*(){t.stop();try{t.pending=new Xn.BH,yield function VB(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ys=new Xn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xw(n){if(!vo(n).activated)throw ys.create("use-before-activation",{appName:n.name})}function Om(n,e){return Aw.apply(this,arguments)}function Aw(){return Aw=(0,tt.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const U=yield i.getHeartbeatsHeader();U&&(r["X-Firebase-Client"]=U)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,p;try{l=yield fetch(n,a)}catch(U){throw ys.create("fetch-network-error",{originalErrorMessage:U?.message})}if(200!==l.status)throw ys.create("fetch-status-error",{httpStatus:l.status});try{p=yield l.json()}catch(U){throw ys.create("fetch-parse-error",{originalErrorMessage:U?.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw ys.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const M=1e3*Number(y[1]),N=Date.now();return{token:p.token,expireTimeMillis:N+M,issuedAtTimeMillis:N}}),Aw.apply(this,arguments)}function kA(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Iw}/projects/${t}/apps/${r}:${RB}?key=${i}`,body:{debug_token:e}}}const YB="firebase-app-check-database",jB=1,$3="firebase-app-check-store";let Nm=null;function Pw(){return Pw=(0,tt.Z)(function*(n,e){const r=(yield function NA(){return Nm||(Nm=new Promise((n,e)=>{try{const t=indexedDB.open(YB,jB);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ys.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($3,{keyPath:"compositeKey"})}}catch(t){e(ys.create("storage-open",{originalErrorMessage:t?.message}))}}),Nm)}()).transaction($3,"readwrite"),a=r.objectStore($3).put({compositeKey:n,value:e});return new Promise((l,p)=>{a.onsuccess=y=>{l()},r.onerror=y=>{var M;p(ys.create("storage-set",{originalErrorMessage:null===(M=y.target.error)||void 0===M?void 0:M.message}))}})}),Pw.apply(this,arguments)}const G3=new Cu.Yd("@firebase/app-check");function Nw(n,e){return(0,Xn.hl)()?function GB(n,e){return function RA(n,e){return Pw.apply(this,arguments)}(function LA(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{G3.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Fw(){return Am().enabled}function Lw(){return Vw.apply(this,arguments)}function Vw(){return Vw=(0,tt.Z)(function*(){const n=Am();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Vw.apply(this,arguments)}const XB={error:"UNKNOWN_ERROR"};function JB(n){return Xn.US.encodeString(JSON.stringify(n),!1)}function Rm(n){return Hw.apply(this,arguments)}function Hw(){return Hw=(0,tt.Z)(function*(n,e=!1){const t=n.app;xw(t);const r=vo(t);let a,i=r.token;if(i&&!V4(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(V4(y)?i=y:yield Nw(t,void 0))}if(!e&&i&&V4(i))return{token:i.token};let p,l=!1;if(Fw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Om(kA(t,yield Lw()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const y=yield r.exchangeTokenPromise;return yield Nw(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield vo(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?G3.warn(y.message):G3.error(y),a=y}return i?a?p=V4(i)?{token:i.token,internalError:a}:UA(a):(p={token:i.token},r.token=i,yield Nw(t,i)):p=UA(a),l&&function BA(n,e){const t=vo(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,p),p}),Hw.apply(this,arguments)}function Bw(){return Bw=(0,tt.Z)(function*(n){const e=n.app;xw(e);const{provider:t}=vo(e);if(Fw()){const r=yield Lw(),{token:i}=yield Om(kA(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),Bw.apply(this,arguments)}function Yw(n,e){const t=vo(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function HA(n){const{app:e}=n,t=vo(e);let r=t.tokenRefresher;r||(r=function eU(n){const{app:e}=n;return new LB((0,tt.Z)(function*(){let r;if(r=vo(e).token?yield Rm(n,!0):yield Rm(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=vo(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},PA.RETRIAL_MIN_WAIT,PA.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function V4(n){return n.expireTimeMillis-Date.now()>0}function UA(n){return{token:JB(XB),error:n}}class tU{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=vo(this.app);for(const t of e)Yw(this.app,t.next);return Promise.resolve()}}const ZA="app-check-internal";!function mU(){(0,vc._registerComponent)(new t4.wA("app-check",n=>function nU(n,e){return new tU(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ZA).initialize()})),(0,vc._registerComponent)(new t4.wA(ZA,n=>function rU(n){return{getToken:e=>Rm(n,e),getLimitedUseToken:()=>function VA(n){return Bw.apply(this,arguments)}(n),addTokenListener:e=>function Uw(n,e,t,r){const{app:i}=n,a=vo(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&V4(a.token)){const p=a.token;Promise.resolve().then(()=>{t({token:p.token}),HA(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>HA(n))}(n,"INTERNAL",e),removeTokenListener:e=>Yw(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,vc.registerVersion)("@firebase/app-check","0.8.0")}();class Lm{constructor(){return(0,io.vb)("app-check")}}typeof window<"u"&&window;var wU=L(9260);const XA=new _.OlP("angularfire2.auth.use-emulator"),JA=new _.OlP("angularfire2.auth.settings"),eP=new _.OlP("angularfire2.auth.tenant-id"),tP=new _.OlP("angularfire2.auth.langugage-code"),nP=new _.OlP("angularfire2.auth.use-device-language"),rP=new _.OlP("angularfire.auth.persistence"),iP=(n,e,t,r,i,a,l,p)=>(0,Vo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),l)for(const[M,N]of Object.entries(l))y.settings[M]=N;return p&&y.setPersistence(p),y},[t,r,i,a,l,p]);let Ww=(()=>{class n{constructor(t,r,i,a,l,p,y,M,N,U,te,ce){const ge=new Cn.x,Re=(0,mi.of)(void 0).pipe((0,j3.Q)(l.outsideAngular),(0,qa.w)(()=>a.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2644)))),(0,ir.U)(()=>(0,Vo.on)(t,a,r)),(0,ir.U)($e=>iP($e,a,p,M,N,U,y,te)),Ew({bufferSize:1,refCount:!1}));if((0,tn.PM)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,mi.of)(null);else{Re.pipe((0,MB.P)()).subscribe();const pt=Re.pipe((0,qa.w)(Ot=>Ot.getRedirectResult().then(En=>En,()=>null)),io.iC,Ew({bufferSize:1,refCount:!1})),Bt=Re.pipe((0,qa.w)(Ot=>new Lr.y(En=>({unsubscribe:a.runOutsideAngular(()=>Ot.onAuthStateChanged(yn=>En.next(yn),yn=>En.error(yn),()=>En.complete()))})))),At=Re.pipe((0,qa.w)(Ot=>new Lr.y(En=>({unsubscribe:a.runOutsideAngular(()=>Ot.onIdTokenChanged(yn=>En.next(yn),yn=>En.error(yn),()=>En.complete()))}))));this.authState=pt.pipe(xA(Bt),(0,Tw.R)(l.outsideAngular),(0,j3.Q)(l.insideAngular)),this.user=pt.pipe(xA(At),(0,Tw.R)(l.outsideAngular),(0,j3.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,qa.w)(Ot=>Ot?(0,qc.D)(Ot.getIdToken()):(0,mi.of)(null))),this.idTokenResult=this.user.pipe((0,qa.w)(Ot=>Ot?(0,qc.D)(Ot.getIdTokenResult()):(0,mi.of)(null))),this.credential=(0,$f.T)(pt,ge,this.authState.pipe((0,vi.h)(Ot=>!Ot))).pipe((0,ir.U)(Ot=>Ot?.user?Ot:null),(0,Tw.R)(l.outsideAngular),(0,j3.Q)(l.insideAngular))}return(0,Vo.pX)(this,Re,a,{spy:{apply:($e,pt,Bt)=>{($e.startsWith("signIn")||$e.startsWith("createUser"))&&Bt.then(At=>ge.next(At))}}})}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Vo.Dh),_.LFG(Vo.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(io.HU),_.LFG(XA,8),_.LFG(JA,8),_.LFG(eP,8),_.LFG(tP,8),_.LFG(nP,8),_.LFG(rP,8),_.LFG(Lm,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function oP(n,e){return function bU(n,e=Z1.z){return new Lr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function Kw(n,e){return oP(n,e).pipe((0,ir.U)(t=>({payload:t,type:"query"})))}function Vm(n,e){return Kw(n,e).pipe((0,Q1.O)(void 0),g9(),(0,ir.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,p)=>{const y=i.find(N=>N.doc.ref.isEqual(l.ref)),M=t?.payload.docs.find(N=>N.ref.isEqual(l.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(l.metadata)||!y&&M&&JSON.stringify(M.metadata)===JSON.stringify(l.metadata)||a.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:l}})}),a}))}function sP(n,e,t){return Vm(n,t).pipe((0,v9.R)((r,i)=>function EU(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function TU(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Zw(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Zw(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Zw(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function tR(n,e=eR.y){return n=n??nR,(0,qh.e)((t,r)=>{let i,a=!0;t.subscribe((0,Yc.x)(r,l=>{const p=e(l);(a||!n(i,p))&&(a=!1,i=p,r.next(l))}))})}(),(0,ir.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Zw(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function aP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class cP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Vm(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ir.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe((0,Q1.O)(void 0),g9(),(0,vi.h)(([r,i])=>i.length>0||!r),(0,ir.U)(([r,i])=>i),io.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,v9.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=aP(e);return sP(this.query,t,this.afs.schedulers.outsideAngular).pipe(io.iC)}valueChanges(e={}){return Kw(this.query,this.afs.schedulers.outsideAngular).pipe((0,ir.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),io.iC)}get(e){return(0,qc.D)(this.query.get(e)).pipe(io.iC)}add(e){return this.ref.add(e)}doc(e){return new lP(this.ref.doc(e),this.afs)}}class lP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=hP(r,t);return new cP(i,a,this.afs)}snapshotChanges(){return function SU(n,e){return oP(n,e).pipe((0,Q1.O)(void 0),g9(),(0,ir.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(io.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ir.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,qc.D)(this.ref.get(e)).pipe(io.iC)}}class DU{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Vm(this.query,this.afs.schedulers.outsideAngular).pipe((0,ir.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,vi.h)(t=>t.length>0),io.iC):Vm(this.query,this.afs.schedulers.outsideAngular).pipe(io.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,v9.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=aP(e);return sP(this.query,t,this.afs.schedulers.outsideAngular).pipe(io.iC)}valueChanges(e={}){return Kw(this.query,this.afs.schedulers.outsideAngular).pipe((0,ir.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),io.iC)}get(e){return(0,qc.D)(this.query.get(e)).pipe(io.iC)}}const uP=new _.OlP("angularfire2.enableFirestorePersistence"),dP=new _.OlP("angularfire2.firestore.persistenceSettings"),MU=new _.OlP("angularfire2.firestore.settings"),IU=new _.OlP("angularfire2.firestore.use-emulator");function hP(n,e=(t=>t)){return{query:e(n),ref:n}}let fP=(()=>{class n{constructor(t,r,i,a,l,p,y,M,N,U,te,ce,ge,Re,$e,pt,Bt){this.schedulers=y;const At=(0,Vo.on)(t,p,r),Ot=N;U&&iP(At,p,te,ge,Re,$e,ce,pt),[this.firestore,this.persistenceEnabled$]=(0,Vo.cc)(`${At.name}.firestore`,"AngularFirestore",At.name,()=>{const En=p.runOutsideAngular(()=>At.firestore());if(a&&En.settings(a),Ot&&En.useEmulator(...Ot),i&&!(0,tn.PM)(l)){const yn=()=>{try{return(0,qc.D)(En.enablePersistence(M||void 0).then(()=>!0,()=>!1))}catch(ur){return typeof console<"u"&&console.warn(ur),(0,mi.of)(!1)}};return[En,p.runOutsideAngular(yn)]}return[En,(0,mi.of)(!1)]},[a,Ot,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:l}=hP(i,r),p=this.schedulers.ngZone.run(()=>a);return new cP(p,l,this)}collectionGroup(t,r){const i=r||(l=>l),a=this.firestore.collectionGroup(t);return new DU(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new lP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Vo.Dh),_.LFG(Vo.xv,8),_.LFG(uP,8),_.LFG(MU,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(io.HU),_.LFG(dP,8),_.LFG(IU,8),_.LFG(Ww,8),_.LFG(XA,8),_.LFG(JA,8),_.LFG(eP,8),_.LFG(tP,8),_.LFG(nP,8),_.LFG(rP,8),_.LFG(Lm,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),xU=(()=>{class n{constructor(){wU.Z.registerVersion("angularfire",io.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:uP,useValue:!0},{provide:dP,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({providers:[fP]}),n})();const zU_firebase={apiKey:"AIzaSyAGaR-zPa9o0aahmB6PNwgUws858Lp0zpc",authDomain:"angularfireex-db2e0.firebaseapp.com",projectId:"angularfireex-db2e0",storageBucket:"angularfireex-db2e0.firebasestorage.app",messagingSenderId:"948719993362",appId:"1:948719993362:web:25cf9d5813e01e1b660ecb",measurementId:"G-ZC2G0SQ7DK"};class pP{}class AU{}const jl="*";function mP(n,e=null){return{type:2,steps:n,options:e}}function gP(n){return{type:6,styles:n,offset:null}}function vP(n){Promise.resolve().then(n)}class q3{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){vP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class yP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?vP(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==a&&this._onFinish()}),l.onDestroy(()=>{++r==a&&this._onDestroy()}),l.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((l,p)=>Math.max(l,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Qw="!";function _P(n){return new _.vHH(3e3,!1)}function hY(){return typeof window<"u"&&typeof window.document<"u"}function Xw(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ju(n){switch(n.length){case 0:return new q3;case 1:return n[0];default:return new yP(n)}}function wP(n,e,t,r,i=new Map,a=new Map){const l=[],p=[];let y=-1,M=null;if(r.forEach(N=>{const U=N.get("offset"),te=U==y,ce=te&&M||new Map;N.forEach((ge,Re)=>{let $e=Re,pt=ge;if("offset"!==Re)switch($e=e.normalizePropertyName($e,l),pt){case Qw:pt=i.get(Re);break;case jl:pt=a.get(Re);break;default:pt=e.normalizeStyleValue(Re,$e,pt,l)}ce.set($e,pt)}),te||p.push(ce),M=ce,y=U}),l.length)throw function eY(n){return new _.vHH(3502,!1)}();return p}function Jw(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&eC(t,"start",n)));break;case"done":n.onDone(()=>r(t&&eC(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&eC(t,"destroy",n)))}}function eC(n,e,t){const a=tC(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function tC(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function Sa(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function CP(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let nC=(n,e)=>!1,bP=(n,e,t)=>[],SP=null;function rC(n){const e=n.parentNode||n.host;return e===SP?null:e}(Xw()||typeof Element<"u")&&(hY()?(SP=(()=>document.documentElement)(),nC=(n,e)=>{for(;e;){if(e===n)return!0;e=rC(e)}return!1}):nC=(n,e)=>n.contains(e),bP=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Td=null,EP=!1;const TP=nC,DP=bP;let MP=(()=>{class n{validateStyleProperty(t){return function pY(n){Td||(Td=function mY(){return typeof document<"u"?document.body:null}()||{},EP=!!Td.style&&"WebkitAppearance"in Td.style);let e=!0;return Td.style&&!function fY(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Td.style,!e&&EP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Td.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return TP(t,r)}getParentElement(t){return rC(t)}query(t,r,i){return DP(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,l,p=[],y){return new q3(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})(),iC=(()=>{class n{}return n.NOOP=new MP,n})();const gY=1e3,oC="ng-enter",Hm="ng-leave",Bm="ng-trigger",Um=".ng-trigger",xP="ng-animating",sC=".ng-animating";function $l(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:aC(parseFloat(e[1]),e[2])}function aC(n,e){return"s"===e?n*gY:n}function Ym(n,e,t){return n.hasOwnProperty("duration")?n:function yY(n,e,t){let i,a=0,l="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(_P()),{duration:0,delay:0,easing:""};i=aC(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(a=aC(parseFloat(y),p[4]));const M=p[5];M&&(l=M)}else i=n;if(!t){let p=!1,y=e.length;i<0&&(e.push(function PU(){return new _.vHH(3100,!1)}()),p=!0),a<0&&(e.push(function kU(){return new _.vHH(3101,!1)}()),p=!0),p&&e.splice(y,0,_P())}return{duration:i,delay:a,easing:l}}(n,e,t)}function W3(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function zP(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function $u(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function PP(n,e,t){return t?e+":"+t+";":""}function kP(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=PP(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=PP(0,bY(t),n.style[t]));n.setAttribute("style",e)}function rl(n,e,t){n.style&&(e.forEach((r,i)=>{const a=lC(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),Xw()&&kP(n))}function Dd(n,e){n.style&&(e.forEach((t,r)=>{const i=lC(r);n.style[i]=""}),Xw()&&kP(n))}function K3(n){return Array.isArray(n)?1==n.length?n[0]:mP(n):n}const cC=new RegExp("{{\\s*(.+?)\\s*}}","g");function OP(n){let e=[];if("string"==typeof n){let t;for(;t=cC.exec(n);)e.push(t[1]);cC.lastIndex=0}return e}function Z3(n,e,t){const r=n.toString(),i=r.replace(cC,(a,l)=>{let p=e[l];return null==p&&(t.push(function NU(n){return new _.vHH(3003,!1)}()),p=""),p.toString()});return i==r?n:i}function jm(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const CY=/-+([a-z0-9])/g;function lC(n){return n.replace(CY,(...e)=>e[1].toUpperCase())}function bY(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ea(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function RU(n){return new _.vHH(3004,!1)}()}}function NP(n,e){return window.getComputedStyle(n)[e]}const qm="*";function IY(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function xY(n,e,t){if(":"==n[0]){const y=function zY(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function ZU(n){return new _.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function KU(n){return new _.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(RP(i,l));"<"==a[0]&&!(i==qm&&l==qm)&&e.push(RP(l,i))}(r,t,e)):t.push(n),t}const Wm=new Set(["true","1"]),Km=new Set(["false","0"]);function RP(n,e){const t=Wm.has(n)||Km.has(n),r=Wm.has(e)||Km.has(e);return(i,a)=>{let l=n==qm||n==i,p=e==qm||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?Wm.has(n):Km.has(n)),!p&&r&&"boolean"==typeof a&&(p=a?Wm.has(e):Km.has(e)),l&&p}}const AY=new RegExp("s*:selfs*,?","g");function uC(n,e,t,r){return new PY(n).build(e,t,r)}class PY{constructor(e){this._driver=e}build(e,t,r){const i=new NY(t);return this._resetContextStyleTimingState(i),Ea(this,K3(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function LU(){return new _.vHH(3006,!1)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,M=y.name;M.toString().split(/\s*,\s*/).forEach(N=>{y.name=N,a.push(this.visitState(y,t))}),y.name=M}else if(1==p.type){const y=this.visitTransition(p,t);r+=y.queryCount,i+=y.depCount,l.push(y)}else t.errors.push(function VU(){return new _.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(y=>{OP(y).forEach(M=>{l.hasOwnProperty(M)||a.add(M)})})}),a.size&&(jm(a.values()),t.errors.push(function HU(n,e){return new _.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ea(this,K3(e.animation),t);return{type:1,matchers:IY(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Md(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ea(this,r,t)),options:Md(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const p=Ea(this,l,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:a,options:Md(e.options)}}visitAnimate(e,t){const r=function FY(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return dC(Ym(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=dC(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=Ym(t,e);return dC(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:gP({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,p=!1;if(!l){p=!0;const M={};r.easing&&(M.easing=r.easing),l=gP(M)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(l,t);y.isEmptyStep=p,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of i)"string"==typeof p?p===jl?r.push(p):t.errors.push(new _.vHH(3002,!1)):r.push(zP(p));let a=!1,l=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(l=p.get("easing"),p.delete("easing")),!a))for(let y of p.values())if(y.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((p,y)=>{const M=t.collectedStyles.get(t.currentQuerySelector),N=M.get(y);let U=!0;N&&(a!=i&&a>=N.startTime&&i<=N.endTime&&(t.errors.push(function UU(n,e,t,r,i){return new _.vHH(3010,!1)}()),U=!1),a=N.startTime),U&&M.set(y,{startTime:a,endTime:i}),t.options&&function wY(n,e,t){const r=e.params||{},i=OP(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function OU(n){return new _.vHH(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function YU(){return new _.vHH(3011,!1)}()),r;let a=0;const l=[];let p=!1,y=!1,M=0;const N=e.steps.map(pt=>{const Bt=this._makeStyleAst(pt,t);let At=null!=Bt.offset?Bt.offset:function RY(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Bt.styles),Ot=0;return null!=At&&(a++,Ot=Bt.offset=At),y=y||Ot<0||Ot>1,p=p||Ot<M,M=Ot,l.push(Ot),Bt});y&&t.errors.push(function jU(){return new _.vHH(3012,!1)}()),p&&t.errors.push(function $U(){return new _.vHH(3200,!1)}());const U=e.steps.length;let te=0;a>0&&a<U?t.errors.push(function GU(){return new _.vHH(3202,!1)}()):0==a&&(te=1/(U-1));const ce=U-1,ge=t.currentTime,Re=t.currentAnimateTimings,$e=Re.duration;return N.forEach((pt,Bt)=>{const At=te>0?Bt==ce?1:te*Bt:l[Bt],Ot=At*$e;t.currentTime=ge+Re.delay+Ot,Re.duration=Ot,this._validateStyleAst(pt,t),pt.offset=At,r.styles.push(pt)}),r}visitReference(e,t){return{type:8,animation:Ea(this,K3(e.animation),t),options:Md(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Md(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Md(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function kY(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(AY,"")),n=n.replace(/@\*/g,Um).replace(/@\w+/g,t=>Um+"-"+t.slice(1)).replace(/:animating/g,sC),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Sa(t.collectedStyles,t.currentQuerySelector,new Map);const p=Ea(this,K3(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:p,originalSelector:e.selector,options:Md(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function qU(){return new _.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ym(e.timings,t.errors,!0);return{type:12,animation:Ea(this,K3(e.animation),t),timings:r,options:null}}}class NY{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Md(n){return n?(n=W3(n)).params&&(n.params=function OY(n){return n?W3(n):null}(n.params)):n={},n}function dC(n,e,t){return{duration:n,delay:e,easing:t}}function hC(n,e,t,r,i,a,l=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:p}}class Zm{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const HY=new RegExp(":enter","g"),UY=new RegExp(":leave","g");function fC(n,e,t,r,i,a=new Map,l=new Map,p,y,M=[]){return(new YY).buildKeyframes(n,e,t,r,i,a,l,p,y,M)}class YY{buildKeyframes(e,t,r,i,a,l,p,y,M,N=[]){M=M||new Zm;const U=new pC(e,t,M,i,a,N,[]);U.options=y;const te=y.delay?$l(y.delay):0;U.currentTimeline.delayNextStep(te),U.currentTimeline.setStyles([l],null,U.errors,y),Ea(this,r,U);const ce=U.timelines.filter(ge=>ge.containsAnimation());if(ce.length&&p.size){let ge;for(let Re=ce.length-1;Re>=0;Re--){const $e=ce[Re];if($e.element===t){ge=$e;break}}ge&&!ge.allowOnlyTimelineStyles()&&ge.setStyles([p],null,U.errors,y)}return ce.length?ce.map(ge=>ge.buildKeyframes()):[hC(t,[],[],[],0,te,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const l="number"==typeof a?a:$l(Z3(a,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?$l(r.duration):null,p=null!=r.delay?$l(r.delay):null;return 0!==l&&e.forEach(y=>{const M=t.appendInstructionToTimeline(y,l,p);a=Math.max(a,M.duration+M.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Ea(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Qm);const l=$l(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Ea(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?$l(e.options.delay):0;e.steps.forEach(l=>{const p=t.createSubContext(e.options);a&&p.delayNextStep(a),Ea(this,l,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Ym(t.params?Z3(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*a),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?$l(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Qm);let l=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((M,N)=>{t.currentQueryIndex=N;const U=t.createSubContext(e.options,M);a&&U.delayNextStep(a),M===t.element&&(y=U.currentTimeline),Ea(this,e.animation,U),U.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,U.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),p=l*(t.currentQueryTotal-1);let y=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const N=t.currentTimeline;y&&N.delayNextStep(y);const U=N.currentTime;Ea(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-U+(i.startTime-r.currentTimeline.startTime)}}const Qm={};class pC{constructor(e,t,r,i,a,l,p,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new Xm(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=$l(r.duration)),null!=r.delay&&(i.delay=$l(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(p=>{(!t||!l.hasOwnProperty(p))&&(l[p]=Z3(a[p],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new pC(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Qm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new jY(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(HY,"."+this._enterClassName)).replace(UY,"."+this._leaveClassName);let M=this._driver.query(this.element,e,1!=r);0!==r&&(M=r<0?M.slice(M.length+r,M.length):M.slice(0,r)),p.push(...M)}return!a&&0==p.length&&l.push(function WU(n){return new _.vHH(3014,!1)}()),p}}class Xm{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Xm(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||jl),this._currentKeyframe.set(t,jl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function $Y(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,jl)}else $u(i,t)}),t}(e,this._globalTimelineStyles);for(let[p,y]of l){const M=Z3(y,a,r);this._pendingStyles.set(p,M),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??jl),this._updateStyle(p,M)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,y)=>{const M=$u(p,new Map,this._backFill);M.forEach((N,U)=>{N===Qw?e.add(U):N===jl&&t.add(U)}),r||M.set("offset",y/this.duration),i.push(M)});const a=e.size?jm(e.values()):[],l=t.size?jm(t.values()):[];if(r){const p=i[0],y=new Map(p);p.set("offset",0),y.set("offset",1),i=[p,y]}return hC(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class jY extends Xm{constructor(e,t,r,i,a,l,p=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=p,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,p=t/l,y=$u(e[0]);y.set("offset",0),a.push(y);const M=$u(e[0]);M.set("offset",VP(p)),a.push(M);const N=e.length-1;for(let U=1;U<=N;U++){let te=$u(e[U]);const ce=te.get("offset");te.set("offset",VP((t+ce*r)/l)),a.push(te)}r=l,t=0,i="",e=a}return hC(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function VP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class mC{}const GY=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class qY extends mC{normalizePropertyName(e,t){return lC(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(GY.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function FU(n,e){return new _.vHH(3005,!1)}())}return l+a}}function HP(n,e,t,r,i,a,l,p,y,M,N,U,te){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:p,queriedElements:y,preStyleProps:M,postStyleProps:N,totalTime:U,errors:te}}const gC={};class BP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function WY(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,p,y,M,N){const U=[],te=this.ast.options&&this.ast.options.params||gC,ge=this.buildStyles(r,p&&p.params||gC,U),Re=y&&y.params||gC,$e=this.buildStyles(i,Re,U),pt=new Set,Bt=new Map,At=new Map,Ot="void"===i,En={params:KY(Re,te),delay:this.ast.options?.delay},yn=N?[]:fC(e,t,this.ast.animation,a,l,ge,$e,En,M,U);let ur=0;if(yn.forEach(dr=>{ur=Math.max(dr.duration+dr.delay,ur)}),U.length)return HP(t,this._triggerName,r,i,Ot,ge,$e,[],[],Bt,At,ur,U);yn.forEach(dr=>{const So=dr.element,Za=Sa(Bt,So,new Set);dr.preStyleProps.forEach(Qa=>Za.add(Qa));const Rs=Sa(At,So,new Set);dr.postStyleProps.forEach(Qa=>Rs.add(Qa)),So!==t&&pt.add(So)});const Fi=jm(pt.values());return HP(t,this._triggerName,r,i,Ot,ge,$e,yn,Fi,Bt,At,ur)}}function KY(n,e){const t=W3(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class ZY{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=W3(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,p)=>{l&&(l=Z3(l,i,t));const y=this.normalizer.normalizePropertyName(p,t);l=this.normalizer.normalizeStyleValue(p,y,l,t),r.set(p,l)})}),r}}class XY{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new ZY(i.style,i.options&&i.options.params||{},r))}),UP(this.states,"true","1"),UP(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new BP(e,i,this.states))}),this.fallbackTransition=function JY(n,e,t){return new BP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function UP(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const ej=new Zm;class tj{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],a=uC(this._driver,t,r,i);if(r.length)throw function tY(n){return new _.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=wP(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const p=new Map;if(a?(l=fC(this._driver,t,a,oC,Hm,new Map,new Map,r,ej,i),l.forEach(N=>{const U=Sa(p,N.element,new Map);N.postStyleProps.forEach(te=>U.set(te,null))})):(i.push(function nY(){return new _.vHH(3300,!1)}()),l=[]),i.length)throw function rY(n){return new _.vHH(3504,!1)}();p.forEach((N,U)=>{N.forEach((te,ce)=>{N.set(ce,this._driver.computeStyle(U,ce,jl))})});const M=ju(l.map(N=>{const U=p.get(N.element);return this._buildPlayer(N,new Map,U)}));return this._playersById.set(e,M),M.onDestroy(()=>this.destroy(e)),this.players.push(M),M}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function iY(n){return new _.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=tC(t,"","","");return Jw(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const YP="ng-animate-queued",vC="ng-animate-disabled",sj=[],jP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wa="__ng_removed";class yC{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function dj(n){return n??null}(r?e.value:e),r){const a=W3(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Q3="void",_C=new yC(Q3);class cj{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ka(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function oY(n,e){return new _.vHH(3302,!1)}();if(null==r||0==r.length)throw function sY(n){return new _.vHH(3303,!1)}();if(!function hj(n){return"start"==n||"done"==n}(r))throw function aY(n,e){return new _.vHH(3400,!1)}();const a=Sa(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const p=Sa(this._engine.statesByElement,e,new Map);return p.has(t)||(Ka(e,Bm),Ka(e,Bm+"-"+t),p.set(t,_C)),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(l);y>=0&&a.splice(y,1),this._triggers.has(t)||p.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function cY(n){return new _.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new wC(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(Ka(e,Bm),Ka(e,Bm+"-"+t),this._engine.statesByElement.set(e,p=new Map));let y=p.get(t);const M=new yC(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&M.absorbOptions(y.options),p.set(t,M),y||(y=_C),M.value!==Q3&&y.value===M.value){if(!function mj(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(y.params,M.params)){const Re=[],$e=a.matchStyles(y.value,y.params,Re),pt=a.matchStyles(M.value,M.params,Re);Re.length?this._engine.reportError(Re):this._engine.afterFlush(()=>{Dd(e,$e),rl(e,pt)})}return}const te=Sa(this._engine.playersByElement,e,[]);te.forEach(Re=>{Re.namespaceId==this.id&&Re.triggerName==t&&Re.queued&&Re.destroy()});let ce=a.matchTransition(y.value,M.value,e,M.params),ge=!1;if(!ce){if(!i)return;ce=a.fallbackTransition,ge=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:ce,fromState:y,toState:M,player:l,isFallbackTransition:ge}),ge||(Ka(e,YP),l.onStart(()=>{H4(e,YP)})),l.onDone(()=>{let Re=this.players.indexOf(l);Re>=0&&this.players.splice(Re,1);const $e=this._engine.playersByElement.get(e);if($e){let pt=$e.indexOf(l);pt>=0&&$e.splice(pt,1)}}),this.players.push(l),te.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Um,!0);r.forEach(i=>{if(i[Wa])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const p=[];if(a.forEach((y,M)=>{if(l.set(M,y.value),this._triggers.has(M)){const N=this.trigger(e,M,Q3,i);N&&p.push(N)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&ju(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const y=this._triggers.get(l).fallbackTransition,M=r.get(l)||_C,N=new yC(Q3),U=new wC(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:y,fromState:M,toState:N,player:U,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Wa];(!a||a===jP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ka(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(p=>{if(p.name==r.triggerName){const y=tC(a,r.triggerName,r.fromState.value,r.toState.value);y._data=e,Jw(r.player,p.phase,y,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class lj{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new cj(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,p=this.driver.getParentElement(t);for(;p;){const y=i.get(p);if(y){const M=r.indexOf(y);r.splice(M+1,0,e),l=!0;break}p=this.driver.getParentElement(p)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(Jm(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Jm(t))return;const a=t[Wa];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ka(e,vC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),H4(e,vC))}removeNode(e,t,r,i){if(Jm(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Wa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return Jm(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Um,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,sC,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ju(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Wa];if(t&&t.setForRemoval){if(e[Wa]=jP,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(vC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ka(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ju(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function lY(n){return new _.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Zm,i=[],a=new Map,l=[],p=new Map,y=new Map,M=new Map,N=new Set;this.disabledNodes.forEach(en=>{N.add(en);const Dn=this.driver.query(en,".ng-animate-queued",!0);for(let Fn=0;Fn<Dn.length;Fn++)N.add(Dn[Fn])});const U=this.bodyNode,te=Array.from(this.statesByElement.keys()),ce=qP(te,this.collectedEnterElements),ge=new Map;let Re=0;ce.forEach((en,Dn)=>{const Fn=oC+Re++;ge.set(Dn,Fn),en.forEach(Nr=>Ka(Nr,Fn))});const $e=[],pt=new Set,Bt=new Set;for(let en=0;en<this.collectedLeaveElements.length;en++){const Dn=this.collectedLeaveElements[en],Fn=Dn[Wa];Fn&&Fn.setForRemoval&&($e.push(Dn),pt.add(Dn),Fn.hasAnimation?this.driver.query(Dn,".ng-star-inserted",!0).forEach(Nr=>pt.add(Nr)):Bt.add(Dn))}const At=new Map,Ot=qP(te,Array.from(pt));Ot.forEach((en,Dn)=>{const Fn=Hm+Re++;At.set(Dn,Fn),en.forEach(Nr=>Ka(Nr,Fn))}),e.push(()=>{ce.forEach((en,Dn)=>{const Fn=ge.get(Dn);en.forEach(Nr=>H4(Nr,Fn))}),Ot.forEach((en,Dn)=>{const Fn=At.get(Dn);en.forEach(Nr=>H4(Nr,Fn))}),$e.forEach(en=>{this.processLeaveNode(en)})});const En=[],yn=[];for(let en=this._namespaceList.length-1;en>=0;en--)this._namespaceList[en].drainQueuedTransitions(t).forEach(Fn=>{const Nr=Fn.player,Jo=Fn.element;if(En.push(Nr),this.collectedEnterElements.length){const Fs=Jo[Wa];if(Fs&&Fs.setForMove){if(Fs.previousTriggersValues&&Fs.previousTriggersValues.has(Fn.triggerName)){const Pd=Fs.previousTriggersValues.get(Fn.triggerName),Xa=this.statesByElement.get(Fn.element);if(Xa&&Xa.has(Fn.triggerName)){const dg=Xa.get(Fn.triggerName);dg.value=Pd,Xa.set(Fn.triggerName,dg)}}return void Nr.destroy()}}const al=!U||!this.driver.containsElement(U,Jo),Da=At.get(Jo),qu=ge.get(Jo),so=this._buildInstruction(Fn,r,qu,Da,al);if(so.errors&&so.errors.length)return void yn.push(so);if(al)return Nr.onStart(()=>Dd(Jo,so.fromStyles)),Nr.onDestroy(()=>rl(Jo,so.toStyles)),void i.push(Nr);if(Fn.isFallbackTransition)return Nr.onStart(()=>Dd(Jo,so.fromStyles)),Nr.onDestroy(()=>rl(Jo,so.toStyles)),void i.push(Nr);const $k=[];so.timelines.forEach(Fs=>{Fs.stretchStartingKeyframe=!0,this.disabledNodes.has(Fs.element)||$k.push(Fs)}),so.timelines=$k,r.append(Jo,so.timelines),l.push({instruction:so,player:Nr,element:Jo}),so.queriedElements.forEach(Fs=>Sa(p,Fs,[]).push(Nr)),so.preStyleProps.forEach((Fs,Pd)=>{if(Fs.size){let Xa=y.get(Pd);Xa||y.set(Pd,Xa=new Set),Fs.forEach((dg,NC)=>Xa.add(NC))}}),so.postStyleProps.forEach((Fs,Pd)=>{let Xa=M.get(Pd);Xa||M.set(Pd,Xa=new Set),Fs.forEach((dg,NC)=>Xa.add(NC))})});if(yn.length){const en=[];yn.forEach(Dn=>{en.push(function uY(n,e){return new _.vHH(3505,!1)}())}),En.forEach(Dn=>Dn.destroy()),this.reportError(en)}const ur=new Map,Fi=new Map;l.forEach(en=>{const Dn=en.element;r.has(Dn)&&(Fi.set(Dn,Dn),this._beforeAnimationBuild(en.player.namespaceId,en.instruction,ur))}),i.forEach(en=>{const Dn=en.element;this._getPreviousPlayers(Dn,!1,en.namespaceId,en.triggerName,null).forEach(Nr=>{Sa(ur,Dn,[]).push(Nr),Nr.destroy()})});const dr=$e.filter(en=>KP(en,y,M)),So=new Map;GP(So,this.driver,Bt,M,jl).forEach(en=>{KP(en,y,M)&&dr.push(en)});const Rs=new Map;ce.forEach((en,Dn)=>{GP(Rs,this.driver,new Set(en),y,Qw)}),dr.forEach(en=>{const Dn=So.get(en),Fn=Rs.get(en);So.set(en,new Map([...Array.from(Dn?.entries()??[]),...Array.from(Fn?.entries()??[])]))});const Qa=[],zd=[],Ad={};l.forEach(en=>{const{element:Dn,player:Fn,instruction:Nr}=en;if(r.has(Dn)){if(N.has(Dn))return Fn.onDestroy(()=>rl(Dn,Nr.toStyles)),Fn.disabled=!0,Fn.overrideTotalTime(Nr.totalTime),void i.push(Fn);let Jo=Ad;if(Fi.size>1){let Da=Dn;const qu=[];for(;Da=Da.parentNode;){const so=Fi.get(Da);if(so){Jo=so;break}qu.push(Da)}qu.forEach(so=>Fi.set(so,Jo))}const al=this._buildAnimation(Fn.namespaceId,Nr,ur,a,Rs,So);if(Fn.setRealPlayer(al),Jo===Ad)Qa.push(Fn);else{const Da=this.playersByElement.get(Jo);Da&&Da.length&&(Fn.parentPlayer=ju(Da)),i.push(Fn)}}else Dd(Dn,Nr.fromStyles),Fn.onDestroy(()=>rl(Dn,Nr.toStyles)),zd.push(Fn),N.has(Dn)&&i.push(Fn)}),zd.forEach(en=>{const Dn=a.get(en.element);if(Dn&&Dn.length){const Fn=ju(Dn);en.setRealPlayer(Fn)}}),i.forEach(en=>{en.parentPlayer?en.syncPlayerEvents(en.parentPlayer):en.destroy()});for(let en=0;en<$e.length;en++){const Dn=$e[en],Fn=Dn[Wa];if(H4(Dn,Hm),Fn&&Fn.hasAnimation)continue;let Nr=[];if(p.size){let al=p.get(Dn);al&&al.length&&Nr.push(...al);let Da=this.driver.query(Dn,sC,!0);for(let qu=0;qu<Da.length;qu++){let so=p.get(Da[qu]);so&&so.length&&Nr.push(...so)}}const Jo=Nr.filter(al=>!al.destroyed);Jo.length?fj(this,Dn,Jo):this.processLeaveNode(Dn)}return $e.length=0,Qa.forEach(en=>{this.players.push(en),en.onDone(()=>{en.destroy();const Dn=this.players.indexOf(en);this.players.splice(Dn,1)}),en.play()}),Qa}elementContainsData(e,t){let r=!1;const i=t[Wa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(l=p)}else{const p=this.playersByElement.get(e);if(p){const y=!a||a==Q3;p.forEach(M=>{M.queued||!y&&M.triggerName!=i||l.push(M)})}}return(r||i)&&(l=l.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const M=y.element,N=M!==a,U=Sa(r,M,[]);this._getPreviousPlayers(M,N,l,p,t.toState).forEach(ce=>{const ge=ce.getRealPlayer();ge.beforeDestroy&&ge.beforeDestroy(),ce.destroy(),U.push(ce)})}Dd(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const p=t.triggerName,y=t.element,M=[],N=new Set,U=new Set,te=t.timelines.map(ge=>{const Re=ge.element;N.add(Re);const $e=Re[Wa];if($e&&$e.removedBeforeQueried)return new q3(ge.duration,ge.delay);const pt=Re!==y,Bt=function pj(n){const e=[];return WP(n,e),e}((r.get(Re)||sj).map(ur=>ur.getRealPlayer())).filter(ur=>!!ur.element&&ur.element===Re),At=a.get(Re),Ot=l.get(Re),En=wP(0,this._normalizer,0,ge.keyframes,At,Ot),yn=this._buildPlayer(ge,En,Bt);if(ge.subTimeline&&i&&U.add(Re),pt){const ur=new wC(e,p,Re);ur.setRealPlayer(yn),M.push(ur)}return yn});M.forEach(ge=>{Sa(this.playersByQueriedElement,ge.element,[]).push(ge),ge.onDone(()=>function uj(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,ge.element,ge))}),N.forEach(ge=>Ka(ge,xP));const ce=ju(te);return ce.onDestroy(()=>{N.forEach(ge=>H4(ge,xP)),rl(y,t.toStyles)}),U.forEach(ge=>{Sa(i,ge,[]).push(ce)}),ce}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new q3(e.duration,e.delay)}}class wC{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new q3,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Jw(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Sa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Jm(n){return n&&1===n.nodeType}function $P(n,e){const t=n.style.display;return n.style.display=e??"none",t}function GP(n,e,t,r,i){const a=[];t.forEach(y=>a.push($P(y)));const l=[];r.forEach((y,M)=>{const N=new Map;y.forEach(U=>{const te=e.computeStyle(M,U,i);N.set(U,te),(!te||0==te.length)&&(M[Wa]=aj,l.push(M))}),n.set(M,N)});let p=0;return t.forEach(y=>$P(y,a[p++])),l}function qP(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const r=1,i=new Set(e),a=new Map;function l(p){if(!p)return r;let y=a.get(p);if(y)return y;const M=p.parentNode;return y=t.has(M)?M:i.has(M)?r:l(M),a.set(p,y),y}return e.forEach(p=>{const y=l(p);y!==r&&t.get(y).push(p)}),t}function Ka(n,e){n.classList?.add(e)}function H4(n,e){n.classList?.remove(e)}function fj(n,e,t){ju(t).onDone(()=>n.processLeaveNode(e))}function WP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof yP?WP(r.players,e):e.push(r)}}function KP(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class eg{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new lj(e,t,r),this._timelineEngine=new tj(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let p=this._triggerCache[l];if(!p){const y=[],M=[],N=uC(this._driver,a,y,M);if(y.length)throw function JU(n,e){return new _.vHH(3404,!1)}();p=function QY(n,e,t){return new XY(n,e,t)}(i,N,this._normalizer),this._triggerCache[l]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=CP(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,p]=CP(r);return this._timelineEngine.listen(l,t,p,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let vj=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&rl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rl(this._element,this._initialStyles),this._endStyles&&(rl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Dd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dd(this._element,this._endStyles),this._endStyles=null),rl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function CC(n){let e=null;return n.forEach((t,r)=>{(function yj(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class ZP{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:NP(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class _j{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return TP(e,t)}getParentElement(e){return rC(e)}query(e,t,r){return DP(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(y.easing=a);const M=new Map,N=l.filter(ce=>ce instanceof ZP);(function SY(n,e){return 0===n||0===e})(r,i)&&N.forEach(ce=>{ce.currentSnapshot.forEach((ge,Re)=>M.set(Re,ge))});let U=function _Y(n){return n.length?n[0]instanceof Map?n:n.map(e=>zP(e)):[]}(t).map(ce=>$u(ce));U=function EY(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(p=>l.set(p,NP(n,p)))}}return e}(e,U,M);const te=function gj(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=CC(e[0]),e.length>1&&(r=CC(e[e.length-1]))):e instanceof Map&&(t=CC(e)),t||r?new vj(n,t,r):null}(e,U);return new ZP(e,U,y,te)}}let wj=(()=>{class n extends pP{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:_.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?mP(t):t;return QP(this._renderer,null,r,"register",[i]),new Cj(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(_.FYo),_.LFG(tn.K0))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();class Cj extends AU{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new bj(this._id,e,t||{},this._renderer)}}class bj{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return QP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function QP(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const XP="@.disabled";let Sj=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const p=l?.parentNode(a);p&&l.removeChild(p,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let N=this._rendererCache.get(a);return N||(N=new JP("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,N)),N}const l=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=N=>{Array.isArray(N)?N.forEach(y):this.engine.registerTrigger(l,p,t,N.name,N)};return r.data.animation.forEach(y),new Ej(this,p,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,p]=a;l(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(_.FYo),_.LFG(eg),_.LFG(_.R0b))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();class JP{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==XP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ej extends JP{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==XP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Tj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function Dj(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let Mj=(()=>{class n extends eg{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(tn.K0),_.LFG(iC),_.LFG(mC),_.LFG(_.z2F))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac}),n})();const ek=[{provide:pP,useClass:wj},{provide:mC,useFactory:function Ij(){return new qY}},{provide:eg,useClass:Mj},{provide:_.FYo,useFactory:function xj(n,e,t){return new Sj(n,e,t)},deps:[g.se,eg,_.R0b]}],bC=[{provide:iC,useFactory:()=>new _j},{provide:_.QbO,useValue:"BrowserAnimations"},...ek],tk=[{provide:iC,useClass:MP},{provide:_.QbO,useValue:"NoopAnimations"},...ek];let zj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?tk:bC}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({providers:bC,imports:[g.b2]}),n})();var ng=L(5137);const Aj=[{path:"",loadChildren:()=>L.e(292).then(L.bind(L,6292)).then(n=>n.HomeModule)},{path:"roles",loadChildren:()=>Promise.all([L.e(292),L.e(251)]).then(L.bind(L,8251)).then(n=>n.RolesModule)}];let Pj=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_.oAB({type:e}),e.\u0275inj=_.cJS({imports:[ng.Bz.forRoot(Aj),ng.Bz]}),n})();function kj(n,e){if(1&n&&(_.TgZ(0,"li")(1,"a",20),_._uU(2),_.qZA()()),2&n){const t=e.$implicit;_.xp6(2),_.Oqu(t)}}function Oj(n,e){if(1&n&&(_.TgZ(0,"div",18)(1,"h3"),_._uU(2),_.qZA(),_.TgZ(3,"ul"),_.YNc(4,kj,3,1,"li",19),_.qZA()()),2&n){const t=e.$implicit;_.xp6(2),_.Oqu(t.title),_.xp6(2),_.Q6J("ngForOf",t.links)}}function Nj(n,e){if(1&n&&(_.TgZ(0,"div",16),_.YNc(1,Oj,5,2,"div",17),_.qZA()),2&n){const t=e.$implicit;_.xp6(1),_.Q6J("ngForOf",t.sections)}}let Rj=(()=>{const e=class{constructor(){this.showDropdown=!1,this.dropdownColumns=[{sections:[{title:"Kh\xe1m ph\xe1 vai tr\xf2",links:["Nh\xe0 ph\xe2n t\xedch d\u1eef li\u1ec7u","Qu\u1ea3n l\xfd d\u1ef1 \xe1n","Nh\xe0 ph\xe2n t\xedch An ninh M\u1ea1ng","Nh\xe0 khoa h\u1ecdc d\u1eef li\u1ec7u","Chuy\xean vi\xean Ph\xe2n t\xedch Kinh doanh Th\xf4ng minh","Chuy\xean gia ti\u1ebfp th\u1ecb k\u1ef9 thu\u1eadt s\u1ed1","Tr\xecnh thi\u1ebft k\u1ebf giao di\u1ec7n ng\u01b0\u1eddi d\xf9ng/UX","K\u1ef9 s\u01b0 h\u1ecdc m\xe1y","Chuy\xean gia truy\u1ec1n th\xf4ng x\xe3 h\u1ed9i","Chuy\xean gia H\u1ed7 tr\u1ee3 M\xe1y t\xednh","Xem t\u1ea5t c\u1ea3"]}]},{sections:[{title:"Kh\xe1m ph\xe1 danh m\u1ee5c",links:["Kinh doanh","Khoa h\u1ecdc m\xe1y t\xednh","C\xf4ng ngh\u1ec7 th\xf4ng tin","Khoa h\u1ecdc m\xe1y t\xednh","Ch\u0103m s\xf3c s\u1ee9c kh\u1ecfe","Khoa h\u1ecdc v\u1eadt l\xfd v\xe0 k\u1ef9 thu\u1eadt","Ph\xe1t tri\u1ec3n c\xe1 nh\xe2n","Khoa h\u1ecdc X\xe3 h\u1ed9i","H\u1ecdc ng\xf4n ng\u1eef","Ngh\u1ec7 thu\u1eadt v\xe0 Nh\xe2n v\u0103n","Xem t\u1ea5t c\u1ea3"]}]},{sections:[{title:"Nh\u1eadn Ch\u1ee9ng ch\u1ec9 Chuy\xean m\xf4n",links:["Kinh doanh","Khoa h\u1ecdc m\xe1y t\xednh","Khoa h\u1ecdc d\u1eef li\u1ec7u","C\xf4ng ngh\u1ec7 th\xf4ng tin","Xem t\u1ea5t c\u1ea3"]},{title:"Nh\u1eadn b\u1eb1ng tr\u1ef1c tuy\u1ebfn",links:["B\u1eb1ng c\u1eed nh\xe2n","B\u1eb1ng th\u1ea1c s\u0129","Ch\u01b0\u01a1ng tr\xecnh sau \u0111\u1ea1i h\u1ecdc","Xem t\u1ea5t c\u1ea3"]}]},{sections:[{title:"Kh\xe1m ph\xe1 c\xe1c k\u1ef9 n\u0103ng th\u1ecbnh h\xe0nh",links:["Python","Tr\xed tu\u1ec7 nh\xe2n t\u1ea1o","Excel","H\u1ecdc m\xe1y","SQL","Qu\u1ea3n l\xfd d\u1ef1 \xe1n","Power BI","Ti\u1ebfp th\u1ecb"]},{title:"Chu\u1ea9n b\u1ecb cho b\xe0i thi ch\u1ee9ng ch\u1ec9",links:["Xem t\u1ea5t c\u1ea3"]}]}]}onMouseEnter(){this.showDropdown=!0}onMouseLeave(){this.showDropdown=!1}};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_.Xpm({type:e,selectors:[["app-header"]],decls:21,vars:3,consts:[[1,"container"],["href","#",1,"logo"],[1,"nav-left"],[1,"dropdown",3,"mouseenter"],[1,"dropdown-btn"],[1,"mega-dropdown",3,"mouseleave"],[1,"dropdown-grid"],["class","dropdown-column",4,"ngFor","ngForOf"],[1,"search-container"],["type","text","placeholder","Ban mu\u1ed1n h\u1ecdc g\xec?",1,"search-box"],[1,"search-btn"],["xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","width","25","height","25","viewBox","0 0 50 50","fill","currentColor",1,"search-icon"],["d","M 21 3 C 11.601563 3 4 10.601563 4 20 C 4 29.398438 11.601563 37 21 37 C 24.355469 37 27.460938 36.015625 30.09375 34.34375 L 42.375 46.625 L 46.625 42.375 L 34.5 30.28125 C 36.679688 27.421875 38 23.878906 38 20 C 38 10.601563 30.398438 3 21 3 Z M 21 7 C 28.199219 7 34 12.800781 34 20 C 34 27.199219 28.199219 33 21 33 C 13.800781 33 8 27.199219 8 20 C 8 12.800781 13.800781 7 21 7 Z"],[1,"nav-right"],[1,"btn-login"],[1,"btn-free"],[1,"dropdown-column"],["class","dropdown-section",4,"ngFor","ngForOf"],[1,"dropdown-section"],[4,"ngFor","ngForOf"],["href","#"]],template:function(i,a){1&i&&(_.TgZ(0,"header")(1,"div",0)(2,"a",1),_._uU(3,"coursera"),_.qZA(),_.TgZ(4,"nav",2)(5,"div",3),_.NdJ("mouseenter",function(){return a.onMouseEnter()}),_.TgZ(6,"button",4),_._uU(7," Kh\xe1m ph\xe1 "),_.qZA(),_.TgZ(8,"div",5),_.NdJ("mouseleave",function(){return a.onMouseLeave()}),_.TgZ(9,"div",6),_.YNc(10,Nj,2,1,"div",7),_.qZA()()(),_.TgZ(11,"div",8),_._UZ(12,"input",9),_.TgZ(13,"div",10),_.O4$(),_.TgZ(14,"svg",11),_._UZ(15,"path",12),_.qZA()()()(),_.kcU(),_.TgZ(16,"div",13)(17,"button",14),_._uU(18,"\u0110\u0103ng nh\u1eadp"),_.qZA(),_.TgZ(19,"button",15),_._uU(20,"Tham gia mi\u1ec5n ph\xed"),_.qZA()()()()),2&i&&(_.xp6(8),_.ekj("show",a.showDropdown),_.xp6(2),_.Q6J("ngForOf",a.dropdownColumns))},dependencies:[tn.sg],styles:['@charset "UTF-8";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Source Sans Pro,Arial,sans-serif}header[_ngcontent-%COMP%]{background-color:var(ion-color-hu-white);border-bottom:1px solid var(--ion-color-hu-brown);padding:12px 0;position:sticky;top:0;z-index:1000}.container[_ngcontent-%COMP%]{max-width:1280px;margin:0 auto;padding:0 24px;display:flex;align-items:center;justify-content:space-between}.logo[_ngcontent-%COMP%]{color:var(--ion-color-hu-orange);font-size:28px;font-weight:700;text-decoration:none;letter-spacing:-.5px}.nav-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:32px;flex:1;margin-left:48px}.dropdown[_ngcontent-%COMP%]{position:relative}.dropdown-btn[_ngcontent-%COMP%]{background:none;border:none;color:var(--ion-color-hu-black);font-size:16px;cursor:pointer;padding:8px 12px;display:flex;align-items:center;gap:6px}.dropdown-btn[_ngcontent-%COMP%]:after{content:" \\25bc";font-size:12px;margin-left:4px}.dropdown-btn[_ngcontent-%COMP%]:hover{color:var(--ion-color-hu-orange)}.mega-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:white;border:1px solid #e0e0e0;border-radius:8px;box-shadow:0 8px 24px #00000026;padding:40px;margin-top:8px;display:none;z-index:1000;min-width:900px}.mega-dropdown.show[_ngcontent-%COMP%]{display:block}.dropdown-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:40px}.dropdown-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#1a1a1a;margin-bottom:16px}.dropdown-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.dropdown-column[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:12px}.dropdown-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;color:#545454;text-decoration:none;transition:color .2s ease}.dropdown-column[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0056d2}.dropdown-section[_ngcontent-%COMP%]{margin-bottom:32px}.dropdown-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.search-container[_ngcontent-%COMP%]{flex:1;max-width:500px;position:relative}.search-box[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #d1d5db;border-radius:4px;font-size:15px;outline:none}.search-box[_ngcontent-%COMP%]:focus{border-color:var(--ion-color-hu-orange);box-shadow:0 0 0 3px #0056d21a}.search-btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);pointer-events:none;background-color:var(--ion-color-hu-orange);padding:6px;border-radius:40%}.search-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:var(--ion-color-hu-white)}.nav-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.btn-login[_ngcontent-%COMP%]{background:none;border:1px solid var(--ion-color-hu-white);border-radius:4px;color:var(--ion-color-hu-orange);font-size:16px;font-weight:600;cursor:pointer;padding:10px 16px}.btn-login[_ngcontent-%COMP%]:hover{border-radius:4px;border:1px solid var(--ion-color-hu-orange)}.btn-free[_ngcontent-%COMP%]{background-color:var(--ion-color-hu-white);color:var(--ion-color-hu-orange);border:1px solid var(--ion-color-hu-orange);padding:10px 20px;border-radius:4px;font-size:16px;font-weight:600;cursor:pointer;transition:background-color .2s}.btn-free[_ngcontent-%COMP%]:hover{background-color:var(--ion-color-hu-orange);color:var(--ion-color-hu-white)}@media (max-width: 768px){.nav-left[_ngcontent-%COMP%]{display:none}.search-container[_ngcontent-%COMP%]{max-width:300px}}']}),n})(),Fj=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_.Xpm({type:e,selectors:[["app-footer"]],decls:147,vars:0,consts:[[1,"footer-content"],[1,"footer-columns"],[1,"footer-column"],["href","#"],[1,"footer-column","footer-apps"],[1,"app-badges"],["href","#",1,"app-badge"],["src","https://d3njjcbhbojbot.cloudfront.net/api/utilities/v1/imageproxy/https://d3njjcbhbojbot.cloudfront.net/web/images/icons/download_on_the_app_store_badge_en.svg?auto=format%2Ccompress&dpr=1&w=152&h=45&q=40","alt","App Store"],["src","https://d3njjcbhbojbot.cloudfront.net/api/utilities/v1/imageproxy/https://d3njjcbhbojbot.cloudfront.net/web/images/icons/en_generic_rgb_wo_45.png?auto=format%2Ccompress&dpr=1&w=152&h=45&q=40","alt","Google Play"],[1,"certification"],["src","https://d3njjcbhbojbot.cloudfront.net/api/utilities/v1/imageproxy/https://d3njjcbhbojbot.cloudfront.net/web/images/icons/2018-B-Corp-Logo-Black-S.png?auto=format%2Ccompress&dpr=1&w=151&h=120&q=40","alt","B Corporation"],[1,"footer-bottom"],[1,"social-links"],["href","#","aria-label","Facebook"],["width","24","height","24","viewBox","0 0 24 24","fill","currentColor"],["d","M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"],["href","#","aria-label","LinkedIn"],["d","M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"],["href","#","aria-label","Twitter"],["d","M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"],["href","#","aria-label","YouTube"],["d","M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"],["href","#","aria-label","Instagram"],["d","M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"],["href","#","aria-label","TikTok"],["d","M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"]],template:function(i,a){1&i&&(_.TgZ(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h3"),_._uU(5,"Coursera"),_.qZA(),_.TgZ(6,"ul")(7,"li")(8,"a",3),_._uU(9,"Gi\u1edbi thi\u1ec7u"),_.qZA()(),_.TgZ(10,"li")(11,"a",3),_._uU(12,"Nh\u1eefng g\xec ch\xfang t\xf4i cung c\u1ea5p"),_.qZA()(),_.TgZ(13,"li")(14,"a",3),_._uU(15,"Kh\u1ea3 n\u0103ng l\xe3nh \u0111\u1ea1o"),_.qZA()(),_.TgZ(16,"li")(17,"a",3),_._uU(18,"Ngh\u1ec1 nghi\u1ec7p"),_.qZA()(),_.TgZ(19,"li")(20,"a",3),_._uU(21,"Danh m\u1ee5c"),_.qZA()(),_.TgZ(22,"li")(23,"a",3),_._uU(24,"Coursera Plus"),_.qZA()(),_.TgZ(25,"li")(26,"a",3),_._uU(27,"C\xe1c Ch\u1ee9ng ch\u1ec9 Chuy\xean m\xf4n"),_.qZA()(),_.TgZ(28,"li")(29,"a",3),_._uU(30,"Ch\u1ee9ng ch\u1ec9 MasterTrack\xae"),_.qZA()(),_.TgZ(31,"li")(32,"a",3),_._uU(33,"Tr\xecnh \u0111\u1ed9"),_.qZA()(),_.TgZ(34,"li")(35,"a",3),_._uU(36,"D\xe0nh cho Doanh nghi\u1ec7p"),_.qZA()(),_.TgZ(37,"li")(38,"a",3),_._uU(39,"D\xe0nh cho Ch\xednh ph\u1ee7"),_.qZA()(),_.TgZ(40,"li")(41,"a",3),_._uU(42,"\u0110\u1ed1i v\u1edbi Tr\u01b0\u1eddng h\u1ecdc"),_.qZA()(),_.TgZ(43,"li")(44,"a",3),_._uU(45,"Tr\u1edf th\xe0nh \u0111\u1ed1i t\xe1c"),_.qZA()(),_.TgZ(46,"li")(47,"a",3),_._uU(48,"T\xe1c \u0111\u1ed9ng X\xe3 h\u1ed9i"),_.qZA()(),_.TgZ(49,"li")(50,"a",3),_._uU(51,"C\xe1c kh\xf3a h\u1ecdc mi\u1ec5n ph\xed"),_.qZA()(),_.TgZ(52,"li")(53,"a",3),_._uU(54,"Chia s\u1ebb c\xe2u chuy\u1ec7n h\u1ecdc t\u1eadp Coursera c\u1ee7a b\u1ea1n"),_.qZA()()()(),_.TgZ(55,"div",2)(56,"h3"),_._uU(57,"C\u1ed9ng \u0111\u1ed3ng"),_.qZA(),_.TgZ(58,"ul")(59,"li")(60,"a",3),_._uU(61,"H\u1ecdc vi\xean"),_.qZA()(),_.TgZ(62,"li")(63,"a",3),_._uU(64,"\u0110\u1ed1i t\xe1c"),_.qZA()(),_.TgZ(65,"li")(66,"a",3),_._uU(67,"Ng\u01b0\u1eddi th\u1eed nghi\u1ec7m Beta"),_.qZA()(),_.TgZ(68,"li")(69,"a",3),_._uU(70,"Blog"),_.qZA()(),_.TgZ(71,"li")(72,"a",3),_._uU(73,"Podcast Coursera"),_.qZA()(),_.TgZ(74,"li")(75,"a",3),_._uU(76,"Blog c\xf4ng ngh\u1ec7"),_.qZA()()()(),_.TgZ(77,"div",2)(78,"h3"),_._uU(79,"Th\xeam"),_.qZA(),_.TgZ(80,"ul")(81,"li")(82,"a",3),_._uU(83,"B\xe1o ch\xed"),_.qZA()(),_.TgZ(84,"li")(85,"a",3),_._uU(86,"Nh\xe0 \u0111\u1ea7u t\u01b0"),_.qZA()(),_.TgZ(87,"li")(88,"a",3),_._uU(89,"C\xe1c h\u1ecdc k\u1ef3"),_.qZA()(),_.TgZ(90,"li")(91,"a",3),_._uU(92,"Quy\u1ec1n ri\xeang t\u01b0"),_.qZA()(),_.TgZ(93,"li")(94,"a",3),_._uU(95,"Tr\u1ee3 gi\xfap"),_.qZA()(),_.TgZ(96,"li")(97,"a",3),_._uU(98,"Kh\u1ea3 n\u0103ng ti\u1ebfp c\u1eadn"),_.qZA()(),_.TgZ(99,"li")(100,"a",3),_._uU(101,"Li\xean h\u1ec7"),_.qZA()(),_.TgZ(102,"li")(103,"a",3),_._uU(104,"B\xe0i vi\u1ebft"),_.qZA()(),_.TgZ(105,"li")(106,"a",3),_._uU(107,"Danh m\u1ee5c"),_.qZA()(),_.TgZ(108,"li")(109,"a",3),_._uU(110,"Chi nh\xe1nh"),_.qZA()(),_.TgZ(111,"li")(112,"a",3),_._uU(113,"Tuy\xean b\u1ed1 v\u1ec1 n\u1ea1n n\xf4 l\u1ec7 hi\u1ec7n \u0111\u1ea1i"),_.qZA()(),_.TgZ(114,"li")(115,"a",3),_._uU(116,"Qu\u1ea3n l\xfd T\xf9y ch\u1ecdn Cookie"),_.qZA()()()(),_.TgZ(117,"div",4)(118,"div",5)(119,"a",6),_._UZ(120,"img",7),_.qZA(),_.TgZ(121,"a",6),_._UZ(122,"img",8),_.qZA()(),_.TgZ(123,"div",9),_._UZ(124,"img",10),_.qZA()()(),_.TgZ(125,"div",11)(126,"p"),_._uU(127,"\xa9 2025 Coursera Inc. T\u1ea5t c\u1ea3 c\xe1c quy\u1ec1n \u0111\u01b0\u1ee3c b\u1ea3o l\u01b0u."),_.qZA(),_.TgZ(128,"div",12)(129,"a",13),_.O4$(),_.TgZ(130,"svg",14),_._UZ(131,"path",15),_.qZA()(),_.kcU(),_.TgZ(132,"a",16),_.O4$(),_.TgZ(133,"svg",14),_._UZ(134,"path",17),_.qZA()(),_.kcU(),_.TgZ(135,"a",18),_.O4$(),_.TgZ(136,"svg",14),_._UZ(137,"path",19),_.qZA()(),_.kcU(),_.TgZ(138,"a",20),_.O4$(),_.TgZ(139,"svg",14),_._UZ(140,"path",21),_.qZA()(),_.kcU(),_.TgZ(141,"a",22),_.O4$(),_.TgZ(142,"svg",14),_._UZ(143,"path",23),_.qZA()(),_.kcU(),_.TgZ(144,"a",24),_.O4$(),_.TgZ(145,"svg",14),_._UZ(146,"path",25),_.qZA()()()()()())},styles:["footer[_ngcontent-%COMP%]{background-color:var(--ion-color-hu-brown);padding:48px 0 24px;margin-top:80px}.footer-content[_ngcontent-%COMP%]{max-width:1280px;margin:0 auto;padding:0 24px}.footer-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:48px;margin-bottom:48px}.footer-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:var(--ion-color-hu-black);margin-bottom:16px}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:12px}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-hu-black);text-decoration:none;font-size:14px;transition:color .2s}.footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--ion-color-hu-orange)}.footer-apps[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.app-badges[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.app-badge[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:140px;height:auto}.certification[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:auto}.footer-bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:24px;border-top:1px solid #d1d5db}.footer-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-hu-black);font-size:14px}.social-links[_ngcontent-%COMP%]{display:flex;gap:16px}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-hu-black);width:32px;height:32px;display:flex;align-items:center;justify-content:center;transition:color .2s}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--ion-color-hu-orange)}@media (max-width: 768px){.nav-left[_ngcontent-%COMP%]{display:none}.search-container[_ngcontent-%COMP%]{max-width:300px}.footer-columns[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:32px}.footer-bottom[_ngcontent-%COMP%]{flex-direction:column;gap:16px;text-align:center}}"]}),n})(),Lj=(()=>{const e=class{constructor(){}ngOnInit(){}};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=_.Xpm({type:e,selectors:[["app-root"]],decls:3,vars:0,template:function(i,a){1&i&&_._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[ng.lC,Rj,Fj]}),n})();const Id=void 0,Hj=["en",[["a","p"],["AM","PM"],Id],[["AM","PM"],Id,Id],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Id,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Id,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Id,"{1} 'at' {0}",Id],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Vj(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}],Bj=new _.OlP("DynamicComponentInjector");new _.OlP("EventArgument",{providedIn:"root",factory:function Uj(){return"$event"}}),new _.OlP("IoEventContext"),new _.OlP("IoEventContextProvider");let Yj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({}),n})();new _.OlP("ReflectRef",{providedIn:"root",factory:()=>window.Reflect});let nk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[Yj]}),n})(),jj=(()=>{class n{constructor(t){this.vcr=t,this.ndcDynamicCreated=new _.vpe,this.componentRef=null}ngOnChanges(t){n.UpdateOnInputs.some(r=>t.hasOwnProperty(r))&&this.createDynamicComponent()}createDynamicComponent(){this.vcr.clear(),this.componentRef=null,this.ndcDynamicComponent&&(this.componentRef=this.vcr.createComponent(this.ndcDynamicComponent,{index:0,injector:this._resolveInjector(),projectableNodes:this.ndcDynamicContent,ngModuleRef:this.ndcDynamicNgModuleRef,environmentInjector:this.ndcDynamicEnvironmentInjector}),this.ndcDynamicCreated.emit(this.componentRef))}_resolveInjector(){let t=this.ndcDynamicInjector||this.vcr.injector;return this.ndcDynamicProviders&&(t=_.zs3.create({providers:this.ndcDynamicProviders,parent:t})),t}}return n.UpdateOnInputs=["ndcDynamicComponent","ndcDynamicInjector","ndcDynamicProviders","ndcDynamicContent","ndcDynamicNgModuleRef","ndcDynamicEnvironmentInjector"],n.\u0275fac=function(t){return new(t||n)(_.Y36(_.s_b))},n.\u0275cmp=_.Xpm({type:n,selectors:[["ndc-dynamic"]],inputs:{ndcDynamicComponent:"ndcDynamicComponent",ndcDynamicInjector:"ndcDynamicInjector",ndcDynamicProviders:"ndcDynamicProviders",ndcDynamicContent:"ndcDynamicContent",ndcDynamicNgModuleRef:"ndcDynamicNgModuleRef",ndcDynamicEnvironmentInjector:"ndcDynamicEnvironmentInjector"},outputs:{ndcDynamicCreated:"ndcDynamicCreated"},standalone:!0,features:[_._Bn([{provide:Bj,useExisting:n}]),_.TTD,_.jDz],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),$j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.oAB({type:n}),n.\u0275inj=_.cJS({imports:[nk,jj,nk]}),n})();const rk="firebasestorage.googleapis.com",ik="storageBucket";class oo extends Xn.ZR{constructor(e,t,r=0){super(SC(e),`Firebase Storage: ${t} (${SC(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return SC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ti=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ti||(Ti={})),Ti))();function SC(n){return"storage/"+n}function EC(){return new oo(Ti.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ok(){return new oo(Ti.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sk(){return new oo(Ti.CANCELED,"User canceled the upload/download.")}function ak(){return new oo(Ti.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function B4(n){return new oo(Ti.INVALID_ARGUMENT,n)}function ck(){return new oo(Ti.APP_DELETED,"The Firebase app was deleted.")}function lk(n){return new oo(Ti.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function X3(n,e){return new oo(Ti.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function J3(n){throw new oo(Ti.INTERNAL_ERROR,"Internal error: "+n)}class Ns{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ns.makeFromUrl(e,t)}catch{return new Ns(e,"")}if(""===r.path)return r;throw function t$(n){return new oo(Ti.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",p=new RegExp("^gs://"+i+"(/(.*))?$","i");function M(Ot){Ot.path_=decodeURIComponent(Ot.path)}const U=t.replace(/[.]/g,"\\."),At=[{regex:p,indices:{bucket:1,path:3},postModify:function a(Ot){"/"===Ot.path.charAt(Ot.path.length-1)&&(Ot.path_=Ot.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${U}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:M},{regex:new RegExp(`^https?://${t===rk?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:M}];for(let Ot=0;Ot<At.length;Ot++){const En=At[Ot],yn=En.regex.exec(e);if(yn){let Fi=yn[En.indices.path];Fi||(Fi=""),r=new Ns(yn[En.indices.bucket],Fi),En.postModify(r);break}}if(null==r)throw function e$(n){return new oo(Ti.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class s${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function rg(n){return"string"==typeof n||n instanceof String}function uk(n){return TC()&&n instanceof Blob}function TC(){return typeof Blob<"u"&&!(0,Xn.UG)()}function DC(n,e,t,r){if(r<e)throw B4(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw B4(`Invalid value for '${n}'. Expected ${t} or less.`)}function Gl(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function dk(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Gu=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Gu||(Gu={})),Gu))();function hk(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}class h${constructor(e,t,r,i,a,l,p,y,M,N,U,te=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=p,this.errorCallback_=y,this.timeout_=M,this.progressCallback_=N,this.connectionFactory_=U,this.retry=te,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ce,ge)=>{this.resolve_=ce,this.reject_=ge,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,l=this.reject_,p=i.connection;if(i.wasSuccessCode)try{const y=this.callback_(p,p.getResponse());!function l$(n){return void 0!==n}(y)?a():a(y)}catch(y){l(y)}else if(null!==p){const y=EC();y.serverResponse=p.getErrorText(),l(this.errorCallback_?this.errorCallback_(p,y):y)}else l(i.canceled?this.appDelete_?ck():sk():ok())};this.canceled_?t(0,new ig(!1,null,!0)):this.backoffId_=function a$(n,e,t){let r=1,i=null,a=null,l=!1,p=0;function y(){return 2===p}let M=!1;function N(...$e){M||(M=!0,e.apply(null,$e))}function U($e){i=setTimeout(()=>{i=null,n(ce,y())},$e)}function te(){a&&clearTimeout(a)}function ce($e,...pt){if(M)return void te();if($e)return te(),void N.call(null,$e,...pt);if(y()||l)return te(),void N.call(null,$e,...pt);let At;r<64&&(r*=2),1===p?(p=2,At=0):At=1e3*(r+Math.random()),U(At)}let ge=!1;function Re($e){ge||(ge=!0,te(),!M&&(null!==i?($e||(p=2),clearTimeout(i),U(0)):$e||(p=1)))}return U(0),a=setTimeout(()=>{l=!0,Re(!0)},t),Re}((r,i)=>{if(i)return void r(!1,new ig(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const l=p=>{null!==this.progressCallback_&&this.progressCallback_(p.loaded,p.lengthComputable?p.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const p=a.getErrorCode()===Gu.NO_ERROR,y=a.getStatus();if(!p||hk(y,this.additionalRetryCodes_)&&this.retry){const N=a.getErrorCode()===Gu.ABORT;return void r(!1,new ig(!1,null,N))}const M=-1!==this.successCodes_.indexOf(y);r(!0,new ig(M,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function c$(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ig{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function _$(...n){const e=function y$(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(TC())return new Blob(n);throw new oo(Ti.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ta={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class MC{constructor(e,t){this.data=e,this.contentType=t||null}}function IC(n,e){switch(n){case Ta.RAW:return new MC(fk(e));case Ta.BASE64:case Ta.BASE64URL:return new MC(pk(n,e));case Ta.DATA_URL:return new MC(function S$(n){const e=new mk(n);return e.base64?pk(Ta.BASE64,e.rest):function b$(n){let e;try{e=decodeURIComponent(n)}catch{throw X3(Ta.DATA_URL,"Malformed data URL.")}return fk(e)}(e.rest)}(e),function E$(n){return new mk(n).contentType}(e))}throw EC()}function fk(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function pk(n,e){switch(n){case Ta.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw X3(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ta.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw X3(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function C$(n){if(typeof atob>"u")throw function o$(n){return new oo(Ti.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:X3(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class mk{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw X3(Ta.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function T$(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class il{constructor(e,t){let r=0,i="";uk(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(uk(this.data_)){const i=function w$(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new il(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new il(r,!0)}}static getBlob(...e){if(TC()){const t=e.map(r=>r instanceof il?r.data_:r);return new il(_$.apply(null,t))}{const t=e.map(l=>rg(l)?IC(Ta.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let p=0;p<l.length;p++)i[a++]=l[p]}),new il(i,!0)}}uploadData(){return this.data_}}function xC(n){let e;try{e=JSON.parse(n)}catch{return null}return function d$(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function gk(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function I$(n,e){return e}class Ks{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||I$}}let og=null;function e8(){if(og)return og;const n=[];n.push(new Ks("bucket")),n.push(new Ks("generation")),n.push(new Ks("metageneration")),n.push(new Ks("name","fullPath",!0));const t=new Ks("name");t.xform=function e(a,l){return function x$(n){return!rg(n)||n.length<2?n:gk(n)}(l)},n.push(t);const i=new Ks("size");return i.xform=function r(a,l){return void 0!==l?Number(l):l},n.push(i),n.push(new Ks("timeCreated")),n.push(new Ks("updated")),n.push(new Ks("md5Hash",null,!0)),n.push(new Ks("cacheControl",null,!0)),n.push(new Ks("contentDisposition",null,!0)),n.push(new Ks("contentEncoding",null,!0)),n.push(new Ks("contentLanguage",null,!0)),n.push(new Ks("contentType",null,!0)),n.push(new Ks("metadata","customMetadata",!0)),og=n,og}function vk(n,e,t){const r=xC(e);return null===r?null:function A$(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return function z$(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new Ns(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function zC(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const yk="prefixes",_k="items";class ol{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function sl(n){if(!n)throw EC()}function sg(n,e){return function t(r,i){const a=vk(n,i,e);return sl(null!==a),a}}function U4(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Xj(){return new oo(Ti.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Qj(){return new oo(Ti.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Zj(n){return new oo(Ti.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Jj(n){return new oo(Ti.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function t8(n){const e=U4(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function Kj(n){return new oo(Ti.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function wk(n,e,t){const i=Gl(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,p=new ol(i,"GET",sg(n,t),l);return p.errorHandler=t8(e),p}function F$(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const p=Gl(e.bucketOnlyServerUrl(),n.host,n._protocol),M=n.maxOperationRetryTime,N=new ol(p,"GET",function N$(n,e){return function t(r,i){const a=function O$(n,e,t){const r=xC(t);return null===r?null:function k$(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[yk])for(const i of t[yk]){const a=i.replace(/\/$/,""),l=n._makeStorageReference(new Ns(e,a));r.prefixes.push(l)}if(t[_k])for(const i of t[_k]){const a=n._makeStorageReference(new Ns(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return sl(null!==a),a}}(n,e.bucket),M);return N.urlParams=a,N.errorHandler=U4(e),N}function bk(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function B$(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class ag{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function AC(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{sl(!1)}return sl(!!t&&-1!==(e||["active"]).indexOf(t)),t}const $$={STATE_CHANGED:"state_changed"},Zs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function PC(n){switch(n){case"running":case"pausing":case"canceling":return Zs.RUNNING;case"paused":return Zs.PAUSED;case"success":return Zs.SUCCESS;case"canceled":return Zs.CANCELED;default:return Zs.ERROR}}class G${constructor(e,t,r){if(function u$(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Y4(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let Tk=null;class q${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw J3("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw J3("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw J3("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw J3("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw J3("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class W$ extends q${initXhr(){this.xhr_.responseType="text"}}function Cc(){return Tk?Tk():new W$}class Dk{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=e8(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Ti.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(hk(i.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=ok()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Ti.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function U$(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l=bk(e,r,i),p={name:l.fullPath},y=Gl(a,n.host,n._protocol),N={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},U=zC(l,t),ge=new ol(y,"POST",function ce(Re){let $e;AC(Re);try{$e=Re.getResponseHeader("X-Goog-Upload-URL")}catch{sl(!1)}return sl(rg($e)),$e},n.maxUploadRetryTime);return ge.urlParams=p,ge.headers=N,ge.body=U,ge.errorHandler=U4(e),ge}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Cc,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function Y$(n,e,t,r){const y=new ol(t,"POST",function a(M){const N=AC(M,["active","final"]);let U=null;try{U=M.getResponseHeader("X-Goog-Upload-Size-Received")}catch{sl(!1)}U||sl(!1);const te=Number(U);return sl(!isNaN(te)),new ag(te,r.size(),"final"===N)},n.maxUploadRetryTime);return y.headers={"X-Goog-Upload-Command":"query"},y.errorHandler=U4(e),y}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,Cc,t,r);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new ag(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let l;try{l=function j$(n,e,t,r,i,a,l,p){const y=new ag(0,0);if(l?(y.current=l.current,y.total=l.total):(y.current=0,y.total=r.size()),r.size()!==y.total)throw function r$(){return new oo(Ti.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const M=y.total-y.current;let N=M;i>0&&(N=Math.min(N,i));const U=y.current;let ce="";ce=0===N?"finalize":M===N?"upload, finalize":"upload";const ge={"X-Goog-Upload-Command":ce,"X-Goog-Upload-Offset":`${y.current}`},Re=r.slice(U,U+N);if(null===Re)throw ak();const At=new ol(t,"POST",function $e(Ot,En){const yn=AC(Ot,["active","final"]),ur=y.current+N,Fi=r.size();let dr;return dr="final"===yn?sg(e,a)(Ot,En):null,new ag(ur,Fi,"final"===yn,dr)},e.maxUploadRetryTime);return At.headers=ge,At.body=Re.uploadData(),At.progressCallback=p||null,At.errorHandler=U4(n),At}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(y){return this._error=y,void this._transition("error")}const p=this._ref.storage._makeRequest(l,Cc,i,a,!1);this._request=p,p.getPromise().then(y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(y.current),y.finalized?(this._metadata=y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=wk(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Cc,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function Sk(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},y=function p(){let At="";for(let Ot=0;Ot<2;Ot++)At+=Math.random().toString().slice(2);return At}();l["Content-Type"]="multipart/related; boundary="+y;const M=bk(e,r,i),N=zC(M,t),ce=il.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+N+"\r\n--"+y+"\r\nContent-Type: "+M.contentType+"\r\n\r\n",r,"\r\n--"+y+"--");if(null===ce)throw ak();const ge={name:M.fullPath},Re=Gl(a,n.host,n._protocol),pt=n.maxUploadRetryTime,Bt=new ol(Re,"POST",sg(n,t),pt);return Bt.urlParams=ge,Bt.headers=l,Bt.body=ce.uploadData(),Bt.errorHandler=U4(e),Bt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Cc,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=sk(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=PC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new G$(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(PC(this._state)){case Zs.SUCCESS:Y4(this._resolve.bind(null,this.snapshot))();break;case Zs.CANCELED:case Zs.ERROR:Y4(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(PC(this._state)){case Zs.RUNNING:case Zs.PAUSED:e.next&&Y4(e.next.bind(e,this.snapshot))();break;case Zs.SUCCESS:e.complete&&Y4(e.complete.bind(e))();break;default:e.error&&Y4(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class xd{constructor(e,t){this._service=e,this._location=t instanceof Ns?t:Ns.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new xd(e,t)}get root(){const e=new Ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gk(this._location.path)}get storage(){return this._service}get parent(){const e=function D$(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ns(this._location.bucket,e);return new xd(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw lk(e)}}function Ik(n,e,t){return kC.apply(this,arguments)}function kC(){return kC=(0,tt.Z)(function*(n,e,t){const i=yield xk(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield Ik(n,e,i.nextPageToken))}),kC.apply(this,arguments)}function xk(n,e){null!=e&&"number"==typeof e.maxResults&&DC("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=F$(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Cc)}function sG(n){n._throwIfRoot("getDownloadURL");const e=function L$(n,e,t){const i=Gl(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,p=new ol(i,"GET",function R$(n,e){return function t(r,i){const a=vk(n,i,e);return sl(null!==a),function P$(n,e,t,r){const i=xC(e);if(null===i||!rg(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const l=encodeURIComponent;return a.split(",").map(M=>{const U=n.fullPath;return Gl("/b/"+l(n.bucket)+"/o/"+l(U),t,r)+dk({alt:"media",token:M})})[0]}(a,i,n.host,n._protocol)}}(n,t),l);return p.errorHandler=t8(e),p}(n.storage,n._location,e8());return n.storage.makeRequestWithTokens(e,Cc).then(t=>{if(null===t)throw function i$(){return new oo(Ti.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function zk(n,e){const t=function M$(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Ns(n._location.bucket,t);return new xd(n.storage,r)}function Ak(n,e){if(n instanceof OC){const t=n;if(null==t._bucket)throw function n$(){return new oo(Ti.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ik+"' property when initializing the app?")}();const r=new xd(t,t._bucket);return null!=e?Ak(r,e):r}return void 0!==e?zk(n,e):n}function uG(n,e){if(e&&function cG(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof OC)return function lG(n,e){return new xd(n,e)}(n,e);throw B4("To use ref(service, url), the first argument must be a Storage instance.")}return Ak(n,e)}function Pk(n,e){const t=e?.[ik];return null==t?null:Ns.makeFromBucketSpec(t,n)}class OC{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=rk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ns.makeFromBucketSpec(i,this._host):Pk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ns.makeFromBucketSpec(this._url,e):Pk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,tt.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,tt.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xd(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new s$(ck());{const l=function v$(n,e,t,r,i,a,l=!0){const p=dk(n.urlParams),y=n.url+p,M=Object.assign({},n.headers);return function m$(n,e){e&&(n["X-Firebase-GMPID"]=e)}(M,e),function f$(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(M,t),function p$(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(M,a),function g$(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(M,r),new h$(y,n.method,M,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,tt.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const kk="@firebase/storage";function Rk(n,e){return uG(n=(0,Xn.m9)(n),e)}function wG(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new OC(t,r,i,e,vc.SDK_VERSION)}!function CG(){(0,vc._registerComponent)(new t4.wA("storage",wG,"PUBLIC").setMultipleInstances(!0)),(0,vc.registerVersion)(kk,"0.11.2",""),(0,vc.registerVersion)(kk,"0.11.2","esm2017")}();class cg{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Lk{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new cg(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new cg(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?l=>t(new cg(l,this,this._ref)):{next:t.next?l=>t.next(new cg(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class Vk{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ql(e,this._service))}get items(){return this._delegate.items.map(e=>new ql(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ql{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function _G(n,e){return zk(n,e)}(this._delegate,e);return new ql(t,this.storage)}get root(){return new ql(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ql(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Lk(function hG(n,e,t){return function tG(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Dk(n,new il(e),t)}(n=(0,Xn.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ta.RAW,r){this._throwIfRoot("putString");const i=IC(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new Lk(new Dk(this._delegate,new il(i.data,!0),a),this)}listAll(){return function gG(n){return function rG(n){const e={prefixes:[],items:[]};return Ik(n,e).then(()=>e)}(n=(0,Xn.m9)(n))}(this._delegate).then(e=>new Vk(e,this.storage))}list(e){return function mG(n,e){return xk(n=(0,Xn.m9)(n),e)}(this._delegate,e||void 0).then(t=>new Vk(t,this.storage))}getMetadata(){return function fG(n){return function iG(n){n._throwIfRoot("getMetadata");const e=wk(n.storage,n._location,e8());return n.storage.makeRequestWithTokens(e,Cc)}(n=(0,Xn.m9)(n))}(this._delegate)}updateMetadata(e){return function pG(n,e){return function oG(n,e){n._throwIfRoot("updateMetadata");const t=function V$(n,e,t,r){const a=Gl(e.fullServerUrl(),n.host,n._protocol),p=zC(t,r),M=n.maxOperationRetryTime,N=new ol(a,"PATCH",sg(n,r),M);return N.headers={"Content-Type":"application/json; charset=utf-8"},N.body=p,N.errorHandler=t8(e),N}(n.storage,n._location,e,e8());return n.storage.makeRequestWithTokens(t,Cc)}(n=(0,Xn.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function vG(n){return sG(n=(0,Xn.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function yG(n){return function aG(n){n._throwIfRoot("deleteObject");const e=function H$(n,e){const r=Gl(e.fullServerUrl(),n.host,n._protocol),p=new ol(r,"DELETE",function l(y,M){},n.maxOperationRetryTime);return p.successCodes=[200,204],p.errorHandler=t8(e),p}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Cc)}(n=(0,Xn.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw lk(e)}}class Hk{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Bk(e))throw B4("ref() expected a child path but got a URL, use refFromURL instead.");return new ql(Rk(this._delegate,e),this)}refFromURL(e){if(!Bk(e))throw B4("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ns.makeFromUrl(e,this._delegate.host)}catch{throw B4("refFromUrl() expected a valid full URL but got an invalid one.")}return new ql(Rk(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function Fk(n,e,t,r={}){!function dG(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Xn.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function Bk(n){return/^[A-Za-z]+:\/\//.test(n)}function TG(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new Hk(t,r)}function Uk(n){const e=function MG(n){return new Lr.y(e=>{const t=l=>e.next(l);t(n.snapshot);const a=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){a()}}).pipe(AD(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,ir.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function lg(n){return{getDownloadURL:()=>(0,mi.of)(void 0).pipe(io.fc,(0,qa.w)(()=>n.getDownloadURL()),io.iC),getMetadata:()=>(0,mi.of)(void 0).pipe(io.fc,(0,qa.w)(()=>n.getMetadata()),io.iC),delete:()=>(0,qc.D)(n.delete()),child:e=>lg(n.child(e)),updateMetadata:e=>(0,qc.D)(n.updateMetadata(e)),put:(e,t)=>Uk(n.put(e,t)),putString:(e,t,r)=>Uk(n.putString(e,t,r)),list:e=>(0,qc.D)(n.list(e)),listAll:()=>(0,qc.D)(n.listAll())}}!function DG(n){const e={TaskState:Zs,TaskEvent:$$,StringFormat:Ta,Storage:Hk,Reference:ql};n.INTERNAL.registerComponent(new t4.wA("storage-compat",TG,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(VD.Z);const IG=new _.OlP("angularfire2.storageBucket"),xG=new _.OlP("angularfire2.storage.maxUploadRetryTime"),zG=new _.OlP("angularfire2.storage.maxOperationRetryTime"),AG=new _.OlP("angularfire2.storage.use-emulator");let PG=(()=>{class n{constructor(t,r,i,a,l,p,y,M,N,U){const te=(0,Vo.on)(t,l,r);this.storage=(0,Vo.cc)(`${te.name}.storage.${i}`,"AngularFireStorage",te.name,()=>{const ce=l.runOutsideAngular(()=>te.storage(i||void 0)),ge=N;return ge&&ce.useEmulator(...ge),y&&ce.setMaxUploadRetryTime(y),M&&ce.setMaxOperationRetryTime(M),ce},[y,M])}ref(t){return lg(this.storage.ref(t))}refFromURL(t){return lg(this.storage.refFromURL(t))}upload(t,r,i){return lg(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Vo.Dh),_.LFG(Vo.xv,8),_.LFG(IG,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(io.HU),_.LFG(xG,8),_.LFG(zG,8),_.LFG(AG,8),_.LFG(Lm,8))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var kG=L(7582),OG=L(515),NG=L(5132);const FG=new _.OlP("angularfire2.analytics.analyticsCollectionEnabled"),LG=new _.OlP("angularfire2.analytics.appVersion"),VG=new _.OlP("angularfire2.analytics.appName"),HG=new _.OlP("angularfire2.analytics.debugMode"),BG=new _.OlP("angularfire2.analytics.config"),ug="dataLayer";let jk=(()=>{class n{constructor(t,r,i,a,l,p,y,M,N){if(this.analyticsInitialized=new Promise(()=>{}),(0,tn.NF)(y)){window[ug]=window[ug]||[];const te=(...Re)=>"config"===Re[0]&&"firebase"===Re[2].origin&&(this.measurementId=Re[1],!0),ce=Re=>{window.gtag=(...$e)=>{Re&&Re(...$e),"event"===$e[0]&&$e[2].send_to===this.measurementId&&(a&&($e[2].app_name=a),i&&($e[2].app_version=i)),l&&typeof console<"u"&&console.info(...$e),function(...pt){window[ug].push(arguments)}(...$e)}};window[ug].some(te)?(this.analyticsInitialized=Promise.resolve(),ce()):this.analyticsInitialized=new Promise(Re=>{ce((...$e)=>{te(...$e)&&Re()})}),p&&this.updateConfig(p),l&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const U=(0,mi.of)(void 0).pipe((0,j3.Q)(N.outsideAngular),(0,qa.w)(NG.Gb),(0,qa.w)(te=>te?M.runOutsideAngular(()=>L.e(814).then(L.bind(L,3814))):OG.E),(0,ir.U)(()=>(0,Vo.cc)("analytics","AngularFireAnalytics",t.name,()=>{const te=t.analytics();return!1===r&&te.setAnalyticsCollectionEnabled(!1),te},[t,r,p,l])),Ew({bufferSize:1,refCount:!1}));return(0,Vo.pX)(this,U,M)}updateConfig(t){return(0,kG.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(_.LFG(Vo.Ot),_.LFG(FG,8),_.LFG(LG,8),_.LFG(VG,8),_.LFG(HG,8),_.LFG(BG,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(io.HU))},n.\u0275prov=_.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qG=(()=>{const e=class{constructor(r,i,a,l,p,y,M,N){this.afAuth=r,this.afs=i,this.http=a,this.storage=l,this.titleService=p,this.platform=y,this.analytics=M,this.router=N}};let n=e;return e.\u0275fac=function(i){return new(i||e)(_.LFG(Ww),_.LFG(fP),_.LFG(dn),_.LFG(PG),_.LFG(g.Dx),_.LFG($),_.LFG(jk),_.LFG(ng.F0))},e.\u0275prov=_.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),WG=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_.oAB({type:e}),e.\u0275inj=_.cJS({imports:[tn.ez]}),n})();(0,tn.qS)(Hj);let KG=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_.oAB({type:e,bootstrap:[Lj]}),e.\u0275inj=_.cJS({providers:[qG,{provide:we,useValue:pe}],imports:[g.b2,Pj,Q.u5,Vo.hO.initializeApp(zU_firebase),xU,zj,Oa,$j,$h.forRoot([qo,Is,o7]),JN,WG]}),n})();g.q6().bootstrapModule(KG).catch(n=>console.error(n))},9751:(It,Ve,L)=>{L.d(Ve,{y:()=>Ne});var g=L(930),Q=L(727),_=L(8822),pe=L(9635),ve=L(2416),we=L(576),xe=L(2806);let Ne=(()=>{class he{constructor(He){He&&(this._subscribe=He)}lift(He){const Qe=new he;return Qe.source=this,Qe.operator=He,Qe}subscribe(He,Qe,St){const Be=function ae(he){return he&&he instanceof g.Lv||function se(he){return he&&(0,we.m)(he.next)&&(0,we.m)(he.error)&&(0,we.m)(he.complete)}(he)&&(0,Q.Nn)(he)}(He)?He:new g.Hp(He,Qe,St);return(0,xe.x)(()=>{const{operator:et,source:st}=this;Be.add(et?et.call(Be,st):st?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe(He){try{return this._subscribe(He)}catch(Qe){He.error(Qe)}}forEach(He,Qe){return new(Qe=Pe(Qe))((St,Be)=>{const et=new g.Hp({next:st=>{try{He(st)}catch(ht){Be(ht),et.unsubscribe()}},error:Be,complete:St});this.subscribe(et)})}_subscribe(He){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(He)}[_.L](){return this}pipe(...He){return(0,pe.U)(He)(this)}toPromise(He){return new(He=Pe(He))((Qe,St)=>{let Be;this.subscribe(et=>Be=et,et=>St(et),()=>Qe(Be))})}}return he.create=Ke=>new he(Ke),he})();function Pe(he){var Ke;return null!==(Ke=he??ve.v.Promise)&&void 0!==Ke?Ke:Promise}},7579:(It,Ve,L)=>{L.d(Ve,{x:()=>xe});var g=L(9751),Q=L(727);const pe=(0,L(3888).d)(Pe=>function(){Pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=L(8737),we=L(2806);let xe=(()=>{class Pe extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const he=new Ne(this,this);return he.operator=ae,he}_throwIfClosed(){if(this.closed)throw new pe}next(ae){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const he of this.currentObservers)he.next(ae)}})}error(ae){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:he}=this;for(;he.length;)he.shift().error(ae)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:he,isStopped:Ke,observers:He}=this;return he||Ke?Q.Lc:(this.currentObservers=null,He.push(ae),new Q.w0(()=>{this.currentObservers=null,(0,ve.P)(He,ae)}))}_checkFinalizedStatuses(ae){const{hasError:he,thrownError:Ke,isStopped:He}=this;he?ae.error(Ke):He&&ae.complete()}asObservable(){const ae=new g.y;return ae.source=this,ae}}return Pe.create=(se,ae)=>new Ne(se,ae),Pe})();class Ne extends xe{constructor(se,ae){super(),this.destination=se,this.source=ae}next(se){var ae,he;null===(he=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===he||he.call(ae,se)}error(se){var ae,he;null===(he=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===he||he.call(ae,se)}complete(){var se,ae;null===(ae=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===ae||ae.call(se)}_subscribe(se){var ae,he;return null!==(he=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(se))&&void 0!==he?he:Q.Lc}}},930:(It,Ve,L)=>{L.d(Ve,{Hp:()=>St,Lv:()=>he});var g=L(576),Q=L(727),_=L(2416),pe=L(7849),ve=L(5032);const we=Pe("C",void 0,void 0);function Pe(Xe,Fe,Ye){return{kind:Xe,value:Fe,error:Ye}}var se=L(3410),ae=L(2806);class he extends Q.w0{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,Q.Nn)(Fe)&&Fe.add(this)):this.destination=ht}static create(Fe,Ye,mt){return new St(Fe,Ye,mt)}next(Fe){this.isStopped?st(function Ne(Xe){return Pe("N",Xe,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?st(function xe(Xe){return Pe("E",void 0,Xe)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?st(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function He(Xe,Fe){return Ke.call(Xe,Fe)}class Qe{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:Ye}=this;if(Ye.next)try{Ye.next(Fe)}catch(mt){Be(mt)}}error(Fe){const{partialObserver:Ye}=this;if(Ye.error)try{Ye.error(Fe)}catch(mt){Be(mt)}else Be(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(Ye){Be(Ye)}}}class St extends he{constructor(Fe,Ye,mt){let nt;if(super(),(0,g.m)(Fe)||!Fe)nt={next:Fe??void 0,error:Ye??void 0,complete:mt??void 0};else{let _t;this&&_.v.useDeprecatedNextContext?(_t=Object.create(Fe),_t.unsubscribe=()=>this.unsubscribe(),nt={next:Fe.next&&He(Fe.next,_t),error:Fe.error&&He(Fe.error,_t),complete:Fe.complete&&He(Fe.complete,_t)}):nt=Fe}this.destination=new Qe(nt)}}function Be(Xe){_.v.useDeprecatedSynchronousErrorHandling?(0,ae.O)(Xe):(0,pe.h)(Xe)}function st(Xe,Fe){const{onStoppedNotification:Ye}=_.v;Ye&&se.z.setTimeout(()=>Ye(Xe,Fe))}const ht={closed:!0,next:ve.Z,error:function et(Xe){throw Xe},complete:ve.Z}},727:(It,Ve,L)=>{L.d(Ve,{Lc:()=>we,w0:()=>ve,Nn:()=>xe});var g=L(576);const _=(0,L(3888).d)(Pe=>function(ae){Pe(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((he,Ke)=>`${Ke+1}) ${he.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var pe=L(8737);class ve{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const He of ae)He.remove(this);else ae.remove(this);const{initialTeardown:he}=this;if((0,g.m)(he))try{he()}catch(He){se=He instanceof _?He.errors:[He]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const He of Ke)try{Ne(He)}catch(Qe){se=se??[],Qe instanceof _?se=[...se,...Qe.errors]:se.push(Qe)}}if(se)throw new _(se)}}add(se){var ae;if(se&&se!==this)if(this.closed)Ne(se);else{if(se instanceof ve){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(se)}}_hasParent(se){const{_parentage:ae}=this;return ae===se||Array.isArray(ae)&&ae.includes(se)}_addParent(se){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(se),ae):ae?[ae,se]:se}_removeParent(se){const{_parentage:ae}=this;ae===se?this._parentage=null:Array.isArray(ae)&&(0,pe.P)(ae,se)}remove(se){const{_finalizers:ae}=this;ae&&(0,pe.P)(ae,se),se instanceof ve&&se._removeParent(this)}}ve.EMPTY=(()=>{const Pe=new ve;return Pe.closed=!0,Pe})();const we=ve.EMPTY;function xe(Pe){return Pe instanceof ve||Pe&&"closed"in Pe&&(0,g.m)(Pe.remove)&&(0,g.m)(Pe.add)&&(0,g.m)(Pe.unsubscribe)}function Ne(Pe){(0,g.m)(Pe)?Pe():Pe.unsubscribe()}},2416:(It,Ve,L)=>{L.d(Ve,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(It,Ve,L)=>{L.d(Ve,{a:()=>se});var g=L(9751),Q=L(4742),_=L(8996),pe=L(4671),ve=L(3268),we=L(3269),xe=L(1810),Ne=L(5403),Pe=L(9672);function se(...Ke){const He=(0,we.yG)(Ke),Qe=(0,we.jO)(Ke),{args:St,keys:Be}=(0,Q.D)(Ke);if(0===St.length)return(0,_.D)([],He);const et=new g.y(function ae(Ke,He,Qe=pe.y){return St=>{he(He,()=>{const{length:Be}=Ke,et=new Array(Be);let st=Be,ht=Be;for(let Xe=0;Xe<Be;Xe++)he(He,()=>{const Fe=(0,_.D)(Ke[Xe],He);let Ye=!1;Fe.subscribe((0,Ne.x)(St,mt=>{et[Xe]=mt,Ye||(Ye=!0,ht--),ht||St.next(Qe(et.slice()))},()=>{--st||St.complete()}))},St)},St)}}(St,He,Be?st=>(0,xe.n)(Be,st):pe.y));return Qe?et.pipe((0,ve.Z)(Qe)):et}function he(Ke,He,Qe){Ke?(0,Pe.f)(Qe,Ke,He):He()}},7272:(It,Ve,L)=>{L.d(Ve,{z:()=>ve});var g=L(8189),_=L(3269),pe=L(8996);function ve(...we){return function Q(){return(0,g.J)(1)}()((0,pe.D)(we,(0,_.yG)(we)))}},515:(It,Ve,L)=>{L.d(Ve,{E:()=>Q});const Q=new(L(9751).y)(ve=>ve.complete())},8996:(It,Ve,L)=>{L.d(Ve,{D:()=>Fe});var g=L(8421),Q=L(5363),_=L(9468),we=L(9751),Ne=L(2202),Pe=L(576),se=L(9672);function he(Ye,mt){if(!Ye)throw new Error("Iterable cannot be null");return new we.y(nt=>{(0,se.f)(nt,mt,()=>{const _t=Ye[Symbol.asyncIterator]();(0,se.f)(nt,mt,()=>{_t.next().then(Ie=>{Ie.done?nt.complete():nt.next(Ie.value)})},0,!0)})})}var Ke=L(3670),He=L(8239),Qe=L(1144),St=L(6495),Be=L(2206),et=L(4532),st=L(3260);function Fe(Ye,mt){return mt?function Xe(Ye,mt){if(null!=Ye){if((0,Ke.c)(Ye))return function pe(Ye,mt){return(0,g.Xf)(Ye).pipe((0,_.R)(mt),(0,Q.Q)(mt))}(Ye,mt);if((0,Qe.z)(Ye))return function xe(Ye,mt){return new we.y(nt=>{let _t=0;return mt.schedule(function(){_t===Ye.length?nt.complete():(nt.next(Ye[_t++]),nt.closed||this.schedule())})})}(Ye,mt);if((0,He.t)(Ye))return function ve(Ye,mt){return(0,g.Xf)(Ye).pipe((0,_.R)(mt),(0,Q.Q)(mt))}(Ye,mt);if((0,Be.D)(Ye))return he(Ye,mt);if((0,St.T)(Ye))return function ae(Ye,mt){return new we.y(nt=>{let _t;return(0,se.f)(nt,mt,()=>{_t=Ye[Ne.h](),(0,se.f)(nt,mt,()=>{let Ie,$t;try{({value:Ie,done:$t}=_t.next())}catch(wt){return void nt.error(wt)}$t?nt.complete():nt.next(Ie)},0,!0)}),()=>(0,Pe.m)(_t?.return)&&_t.return()})}(Ye,mt);if((0,st.L)(Ye))return function ht(Ye,mt){return he((0,st.Q)(Ye),mt)}(Ye,mt)}throw(0,et.z)(Ye)}(Ye,mt):(0,g.Xf)(Ye)}},8421:(It,Ve,L)=>{L.d(Ve,{Xf:()=>Ke});var g=L(7582),Q=L(1144),_=L(8239),pe=L(9751),ve=L(3670),we=L(2206),xe=L(4532),Ne=L(6495),Pe=L(3260),se=L(576),ae=L(7849),he=L(8822);function Ke(Xe){if(Xe instanceof pe.y)return Xe;if(null!=Xe){if((0,ve.c)(Xe))return function He(Xe){return new pe.y(Fe=>{const Ye=Xe[he.L]();if((0,se.m)(Ye.subscribe))return Ye.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Xe);if((0,Q.z)(Xe))return function Qe(Xe){return new pe.y(Fe=>{for(let Ye=0;Ye<Xe.length&&!Fe.closed;Ye++)Fe.next(Xe[Ye]);Fe.complete()})}(Xe);if((0,_.t)(Xe))return function St(Xe){return new pe.y(Fe=>{Xe.then(Ye=>{Fe.closed||(Fe.next(Ye),Fe.complete())},Ye=>Fe.error(Ye)).then(null,ae.h)})}(Xe);if((0,we.D)(Xe))return et(Xe);if((0,Ne.T)(Xe))return function Be(Xe){return new pe.y(Fe=>{for(const Ye of Xe)if(Fe.next(Ye),Fe.closed)return;Fe.complete()})}(Xe);if((0,Pe.L)(Xe))return function st(Xe){return et((0,Pe.Q)(Xe))}(Xe)}throw(0,xe.z)(Xe)}function et(Xe){return new pe.y(Fe=>{(function ht(Xe,Fe){var Ye,mt,nt,_t;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Ye=(0,g.KL)(Xe);!(mt=yield Ye.next()).done;)if(Fe.next(mt.value),Fe.closed)return}catch(Ie){nt={error:Ie}}finally{try{mt&&!mt.done&&(_t=Ye.return)&&(yield _t.call(Ye))}finally{if(nt)throw nt.error}}Fe.complete()})})(Xe,Fe).catch(Ye=>Fe.error(Ye))})}},6451:(It,Ve,L)=>{L.d(Ve,{T:()=>we});var g=L(8189),Q=L(8421),_=L(515),pe=L(3269),ve=L(8996);function we(...xe){const Ne=(0,pe.yG)(xe),Pe=(0,pe._6)(xe,1/0),se=xe;return se.length?1===se.length?(0,Q.Xf)(se[0]):(0,g.J)(Pe)((0,ve.D)(se,Ne)):_.E}},9646:(It,Ve,L)=>{L.d(Ve,{of:()=>_});var g=L(3269),Q=L(8996);function _(...pe){const ve=(0,g.yG)(pe);return(0,Q.D)(pe,ve)}},5403:(It,Ve,L)=>{L.d(Ve,{x:()=>Q});var g=L(930);function Q(pe,ve,we,xe,Ne){return new _(pe,ve,we,xe,Ne)}class _ extends g.Lv{constructor(ve,we,xe,Ne,Pe,se){super(ve),this.onFinalize=Pe,this.shouldUnsubscribe=se,this._next=we?function(ae){try{we(ae)}catch(he){ve.error(he)}}:super._next,this._error=Ne?function(ae){try{Ne(ae)}catch(he){ve.error(he)}finally{this.unsubscribe()}}:super._error,this._complete=xe?function(){try{xe()}catch(ae){ve.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(ve=this.onFinalize)||void 0===ve||ve.call(this))}}}},262:(It,Ve,L)=>{L.d(Ve,{K:()=>pe});var g=L(8421),Q=L(5403),_=L(4482);function pe(ve){return(0,_.e)((we,xe)=>{let se,Ne=null,Pe=!1;Ne=we.subscribe((0,Q.x)(xe,void 0,void 0,ae=>{se=(0,g.Xf)(ve(ae,pe(ve)(we))),Ne?(Ne.unsubscribe(),Ne=null,se.subscribe(xe)):Pe=!0})),Pe&&(Ne.unsubscribe(),Ne=null,se.subscribe(xe))})}},4351:(It,Ve,L)=>{L.d(Ve,{b:()=>_});var g=L(5577),Q=L(576);function _(pe,ve){return(0,Q.m)(ve)?(0,g.z)(pe,ve,1):(0,g.z)(pe,1)}},6590:(It,Ve,L)=>{L.d(Ve,{d:()=>_});var g=L(4482),Q=L(5403);function _(pe){return(0,g.e)((ve,we)=>{let xe=!1;ve.subscribe((0,Q.x)(we,Ne=>{xe=!0,we.next(Ne)},()=>{xe||we.next(pe),we.complete()}))})}},9300:(It,Ve,L)=>{L.d(Ve,{h:()=>_});var g=L(4482),Q=L(5403);function _(pe,ve){return(0,g.e)((we,xe)=>{let Ne=0;we.subscribe((0,Q.x)(xe,Pe=>pe.call(ve,Pe,Ne++)&&xe.next(Pe)))})}},8746:(It,Ve,L)=>{L.d(Ve,{x:()=>Q});var g=L(4482);function Q(_){return(0,g.e)((pe,ve)=>{try{pe.subscribe(ve)}finally{ve.add(_)}})}},590:(It,Ve,L)=>{L.d(Ve,{P:()=>xe});var g=L(6805),Q=L(9300),_=L(5698),pe=L(6590),ve=L(8068),we=L(4671);function xe(Ne,Pe){const se=arguments.length>=2;return ae=>ae.pipe(Ne?(0,Q.h)((he,Ke)=>Ne(he,Ke,ae)):we.y,(0,_.q)(1),se?(0,pe.d)(Pe):(0,ve.T)(()=>new g.K))}},4004:(It,Ve,L)=>{L.d(Ve,{U:()=>_});var g=L(4482),Q=L(5403);function _(pe,ve){return(0,g.e)((we,xe)=>{let Ne=0;we.subscribe((0,Q.x)(xe,Pe=>{xe.next(pe.call(ve,Pe,Ne++))}))})}},9718:(It,Ve,L)=>{L.d(Ve,{h:()=>Q});var g=L(4004);function Q(_){return(0,g.U)(()=>_)}},8189:(It,Ve,L)=>{L.d(Ve,{J:()=>_});var g=L(5577),Q=L(4671);function _(pe=1/0){return(0,g.z)(Q.y,pe)}},5577:(It,Ve,L)=>{L.d(Ve,{z:()=>Ne});var g=L(4004),Q=L(8421),_=L(4482),pe=L(9672),ve=L(5403),xe=L(576);function Ne(Pe,se,ae=1/0){return(0,xe.m)(se)?Ne((he,Ke)=>(0,g.U)((He,Qe)=>se(he,He,Ke,Qe))((0,Q.Xf)(Pe(he,Ke))),ae):("number"==typeof se&&(ae=se),(0,_.e)((he,Ke)=>function we(Pe,se,ae,he,Ke,He,Qe,St){const Be=[];let et=0,st=0,ht=!1;const Xe=()=>{ht&&!Be.length&&!et&&se.complete()},Fe=mt=>et<he?Ye(mt):Be.push(mt),Ye=mt=>{He&&se.next(mt),et++;let nt=!1;(0,Q.Xf)(ae(mt,st++)).subscribe((0,ve.x)(se,_t=>{Ke?.(_t),He?Fe(_t):se.next(_t)},()=>{nt=!0},void 0,()=>{if(nt)try{for(et--;Be.length&&et<he;){const _t=Be.shift();Qe?(0,pe.f)(se,Qe,()=>Ye(_t)):Ye(_t)}Xe()}catch(_t){se.error(_t)}}))};return Pe.subscribe((0,ve.x)(se,Fe,()=>{ht=!0,Xe()})),()=>{St?.()}}(he,Ke,Pe,ae)))}},5363:(It,Ve,L)=>{L.d(Ve,{Q:()=>pe});var g=L(9672),Q=L(4482),_=L(5403);function pe(ve,we=0){return(0,Q.e)((xe,Ne)=>{xe.subscribe((0,_.x)(Ne,Pe=>(0,g.f)(Ne,ve,()=>Ne.next(Pe),we),()=>(0,g.f)(Ne,ve,()=>Ne.complete(),we),Pe=>(0,g.f)(Ne,ve,()=>Ne.error(Pe),we)))})}},5026:(It,Ve,L)=>{L.d(Ve,{R:()=>pe});var g=L(4482),Q=L(5403);function pe(ve,we){return(0,g.e)(function _(ve,we,xe,Ne,Pe){return(se,ae)=>{let he=xe,Ke=we,He=0;se.subscribe((0,Q.x)(ae,Qe=>{const St=He++;Ke=he?ve(Ke,Qe,St):(he=!0,Qe),Ne&&ae.next(Ke)},Pe&&(()=>{he&&ae.next(Ke),ae.complete()})))}}(ve,we,arguments.length>=2,!0))}},3099:(It,Ve,L)=>{L.d(Ve,{B:()=>ve});var g=L(8421),Q=L(7579),_=L(930),pe=L(4482);function ve(xe={}){const{connector:Ne=(()=>new Q.x),resetOnError:Pe=!0,resetOnComplete:se=!0,resetOnRefCountZero:ae=!0}=xe;return he=>{let Ke,He,Qe,St=0,Be=!1,et=!1;const st=()=>{He?.unsubscribe(),He=void 0},ht=()=>{st(),Ke=Qe=void 0,Be=et=!1},Xe=()=>{const Fe=Ke;ht(),Fe?.unsubscribe()};return(0,pe.e)((Fe,Ye)=>{St++,!et&&!Be&&st();const mt=Qe=Qe??Ne();Ye.add(()=>{St--,0===St&&!et&&!Be&&(He=we(Xe,ae))}),mt.subscribe(Ye),!Ke&&St>0&&(Ke=new _.Hp({next:nt=>mt.next(nt),error:nt=>{et=!0,st(),He=we(ht,Pe,nt),mt.error(nt)},complete:()=>{Be=!0,st(),He=we(ht,se),mt.complete()}}),(0,g.Xf)(Fe).subscribe(Ke))})(he)}}function we(xe,Ne,...Pe){if(!0===Ne)return void xe();if(!1===Ne)return;const se=new _.Hp({next:()=>{se.unsubscribe(),xe()}});return(0,g.Xf)(Ne(...Pe)).subscribe(se)}},8675:(It,Ve,L)=>{L.d(Ve,{O:()=>pe});var g=L(7272),Q=L(3269),_=L(4482);function pe(...ve){const we=(0,Q.yG)(ve);return(0,_.e)((xe,Ne)=>{(we?(0,g.z)(ve,xe,we):(0,g.z)(ve,xe)).subscribe(Ne)})}},9468:(It,Ve,L)=>{L.d(Ve,{R:()=>Q});var g=L(4482);function Q(_,pe=0){return(0,g.e)((ve,we)=>{we.add(_.schedule(()=>ve.subscribe(we),pe))})}},3900:(It,Ve,L)=>{L.d(Ve,{w:()=>pe});var g=L(8421),Q=L(4482),_=L(5403);function pe(ve,we){return(0,Q.e)((xe,Ne)=>{let Pe=null,se=0,ae=!1;const he=()=>ae&&!Pe&&Ne.complete();xe.subscribe((0,_.x)(Ne,Ke=>{Pe?.unsubscribe();let He=0;const Qe=se++;(0,g.Xf)(ve(Ke,Qe)).subscribe(Pe=(0,_.x)(Ne,St=>Ne.next(we?we(Ke,St,Qe,He++):St),()=>{Pe=null,he()}))},()=>{ae=!0,he()}))})}},5698:(It,Ve,L)=>{L.d(Ve,{q:()=>pe});var g=L(515),Q=L(4482),_=L(5403);function pe(ve){return ve<=0?()=>g.E:(0,Q.e)((we,xe)=>{let Ne=0;we.subscribe((0,_.x)(xe,Pe=>{++Ne<=ve&&(xe.next(Pe),ve<=Ne&&xe.complete())}))})}},8505:(It,Ve,L)=>{L.d(Ve,{b:()=>ve});var g=L(576),Q=L(4482),_=L(5403),pe=L(4671);function ve(we,xe,Ne){const Pe=(0,g.m)(we)||xe||Ne?{next:we,error:xe,complete:Ne}:we;return Pe?(0,Q.e)((se,ae)=>{var he;null===(he=Pe.subscribe)||void 0===he||he.call(Pe);let Ke=!0;se.subscribe((0,_.x)(ae,He=>{var Qe;null===(Qe=Pe.next)||void 0===Qe||Qe.call(Pe,He),ae.next(He)},()=>{var He;Ke=!1,null===(He=Pe.complete)||void 0===He||He.call(Pe),ae.complete()},He=>{var Qe;Ke=!1,null===(Qe=Pe.error)||void 0===Qe||Qe.call(Pe,He),ae.error(He)},()=>{var He,Qe;Ke&&(null===(He=Pe.unsubscribe)||void 0===He||He.call(Pe)),null===(Qe=Pe.finalize)||void 0===Qe||Qe.call(Pe)}))}):pe.y}},8068:(It,Ve,L)=>{L.d(Ve,{T:()=>pe});var g=L(6805),Q=L(4482),_=L(5403);function pe(we=ve){return(0,Q.e)((xe,Ne)=>{let Pe=!1;xe.subscribe((0,_.x)(Ne,se=>{Pe=!0,Ne.next(se)},()=>Pe?Ne.complete():Ne.error(we())))})}function ve(){return new g.K}},4408:(It,Ve,L)=>{L.d(Ve,{o:()=>ve});var g=L(727);class Q extends g.w0{constructor(xe,Ne){super()}schedule(xe,Ne=0){return this}}const _={setInterval(we,xe,...Ne){const{delegate:Pe}=_;return Pe?.setInterval?Pe.setInterval(we,xe,...Ne):setInterval(we,xe,...Ne)},clearInterval(we){const{delegate:xe}=_;return(xe?.clearInterval||clearInterval)(we)},delegate:void 0};var pe=L(8737);class ve extends Q{constructor(xe,Ne){super(xe,Ne),this.scheduler=xe,this.work=Ne,this.pending=!1}schedule(xe,Ne=0){var Pe;if(this.closed)return this;this.state=xe;const se=this.id,ae=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(ae,se,Ne)),this.pending=!0,this.delay=Ne,this.id=null!==(Pe=this.id)&&void 0!==Pe?Pe:this.requestAsyncId(ae,this.id,Ne),this}requestAsyncId(xe,Ne,Pe=0){return _.setInterval(xe.flush.bind(xe,this),Pe)}recycleAsyncId(xe,Ne,Pe=0){if(null!=Pe&&this.delay===Pe&&!1===this.pending)return Ne;null!=Ne&&_.clearInterval(Ne)}execute(xe,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Pe=this._execute(xe,Ne);if(Pe)return Pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(xe,Ne){let se,Pe=!1;try{this.work(xe)}catch(ae){Pe=!0,se=ae||new Error("Scheduled action threw falsy error")}if(Pe)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:xe,scheduler:Ne}=this,{actions:Pe}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Pe,this),null!=xe&&(this.id=this.recycleAsyncId(Ne,xe,null)),this.delay=null,super.unsubscribe()}}}},7565:(It,Ve,L)=>{L.d(Ve,{v:()=>_});var g=L(6063);class Q{constructor(ve,we=Q.now){this.schedulerActionCtor=ve,this.now=we}schedule(ve,we=0,xe){return new this.schedulerActionCtor(this,ve).schedule(xe,we)}}Q.now=g.l.now;class _ extends Q{constructor(ve,we=Q.now){super(ve,we),this.actions=[],this._active=!1}flush(ve){const{actions:we}=this;if(this._active)return void we.push(ve);let xe;this._active=!0;do{if(xe=ve.execute(ve.state,ve.delay))break}while(ve=we.shift());if(this._active=!1,xe){for(;ve=we.shift();)ve.unsubscribe();throw xe}}}},4986:(It,Ve,L)=>{L.d(Ve,{P:()=>pe,z:()=>_});var g=L(4408);const _=new(L(7565).v)(g.o),pe=_},6063:(It,Ve,L)=>{L.d(Ve,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},3410:(It,Ve,L)=>{L.d(Ve,{z:()=>g});const g={setTimeout(Q,_,...pe){const{delegate:ve}=g;return ve?.setTimeout?ve.setTimeout(Q,_,...pe):setTimeout(Q,_,...pe)},clearTimeout(Q){const{delegate:_}=g;return(_?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},2202:(It,Ve,L)=>{L.d(Ve,{h:()=>Q});const Q=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(It,Ve,L)=>{L.d(Ve,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(It,Ve,L)=>{L.d(Ve,{K:()=>Q});const Q=(0,L(3888).d)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(It,Ve,L)=>{L.d(Ve,{_6:()=>we,jO:()=>pe,yG:()=>ve});var g=L(576),Q=L(3532);function _(xe){return xe[xe.length-1]}function pe(xe){return(0,g.m)(_(xe))?xe.pop():void 0}function ve(xe){return(0,Q.K)(_(xe))?xe.pop():void 0}function we(xe,Ne){return"number"==typeof _(xe)?xe.pop():Ne}},4742:(It,Ve,L)=>{L.d(Ve,{D:()=>ve});const{isArray:g}=Array,{getPrototypeOf:Q,prototype:_,keys:pe}=Object;function ve(xe){if(1===xe.length){const Ne=xe[0];if(g(Ne))return{args:Ne,keys:null};if(function we(xe){return xe&&"object"==typeof xe&&Q(xe)===_}(Ne)){const Pe=pe(Ne);return{args:Pe.map(se=>Ne[se]),keys:Pe}}}return{args:xe,keys:null}}},8737:(It,Ve,L)=>{function g(Q,_){if(Q){const pe=Q.indexOf(_);0<=pe&&Q.splice(pe,1)}}L.d(Ve,{P:()=>g})},3888:(It,Ve,L)=>{function g(Q){const pe=Q(ve=>{Error.call(ve),ve.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}L.d(Ve,{d:()=>g})},1810:(It,Ve,L)=>{function g(Q,_){return Q.reduce((pe,ve,we)=>(pe[ve]=_[we],pe),{})}L.d(Ve,{n:()=>g})},2806:(It,Ve,L)=>{L.d(Ve,{O:()=>pe,x:()=>_});var g=L(2416);let Q=null;function _(ve){if(g.v.useDeprecatedSynchronousErrorHandling){const we=!Q;if(we&&(Q={errorThrown:!1,error:null}),ve(),we){const{errorThrown:xe,error:Ne}=Q;if(Q=null,xe)throw Ne}}else ve()}function pe(ve){g.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=ve)}},9672:(It,Ve,L)=>{function g(Q,_,pe,ve=0,we=!1){const xe=_.schedule(function(){pe(),we?Q.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(Q.add(xe),!we)return xe}L.d(Ve,{f:()=>g})},4671:(It,Ve,L)=>{function g(Q){return Q}L.d(Ve,{y:()=>g})},1144:(It,Ve,L)=>{L.d(Ve,{z:()=>g});const g=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(It,Ve,L)=>{L.d(Ve,{D:()=>Q});var g=L(576);function Q(_){return Symbol.asyncIterator&&(0,g.m)(_?.[Symbol.asyncIterator])}},576:(It,Ve,L)=>{function g(Q){return"function"==typeof Q}L.d(Ve,{m:()=>g})},3670:(It,Ve,L)=>{L.d(Ve,{c:()=>_});var g=L(8822),Q=L(576);function _(pe){return(0,Q.m)(pe[g.L])}},6495:(It,Ve,L)=>{L.d(Ve,{T:()=>_});var g=L(2202),Q=L(576);function _(pe){return(0,Q.m)(pe?.[g.h])}},8239:(It,Ve,L)=>{L.d(Ve,{t:()=>Q});var g=L(576);function Q(_){return(0,g.m)(_?.then)}},3260:(It,Ve,L)=>{L.d(Ve,{L:()=>pe,Q:()=>_});var g=L(7582),Q=L(576);function _(ve){return(0,g.FC)(this,arguments,function*(){const xe=ve.getReader();try{for(;;){const{value:Ne,done:Pe}=yield(0,g.qq)(xe.read());if(Pe)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(Ne)}}finally{xe.releaseLock()}})}function pe(ve){return(0,Q.m)(ve?.getReader)}},3532:(It,Ve,L)=>{L.d(Ve,{K:()=>Q});var g=L(576);function Q(_){return _&&(0,g.m)(_.schedule)}},4482:(It,Ve,L)=>{L.d(Ve,{A:()=>Q,e:()=>_});var g=L(576);function Q(pe){return(0,g.m)(pe?.lift)}function _(pe){return ve=>{if(Q(ve))return ve.lift(function(we){try{return pe(we,this)}catch(xe){this.error(xe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(It,Ve,L)=>{L.d(Ve,{Z:()=>pe});var g=L(4004);const{isArray:Q}=Array;function pe(ve){return(0,g.U)(we=>function _(ve,we){return Q(we)?ve(...we):ve(we)}(ve,we))}},5032:(It,Ve,L)=>{function g(){}L.d(Ve,{Z:()=>g})},9635:(It,Ve,L)=>{L.d(Ve,{U:()=>_,z:()=>Q});var g=L(4671);function Q(...pe){return _(pe)}function _(pe){return 0===pe.length?g.y:1===pe.length?pe[0]:function(we){return pe.reduce((xe,Ne)=>Ne(xe),we)}}},7849:(It,Ve,L)=>{L.d(Ve,{h:()=>_});var g=L(2416),Q=L(3410);function _(pe){Q.z.setTimeout(()=>{const{onUnhandledError:ve}=g.v;if(!ve)throw pe;ve(pe)})}},4532:(It,Ve,L)=>{function g(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Ve,{z:()=>g})},6895:(It,Ve,L)=>{L.d(Ve,{Do:()=>st,EM:()=>jo,HT:()=>pe,JF:()=>rs,K0:()=>we,Mx:()=>To,NF:()=>mi,O5:()=>fi,PM:()=>Lr,S$:()=>St,V_:()=>Pe,Ye:()=>ht,b0:()=>et,bD:()=>Xs,ez:()=>ns,q:()=>_,qS:()=>Eo,sg:()=>Yr,w_:()=>ve});var g=L(4650);let Q=null;function _(){return Q}function pe(P){Q||(Q=P)}class ve{}const we=new g.OlP("DocumentToken");let xe=(()=>{class P{historyGo(O){throw new Error("Not implemented")}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=g.Yz7({token:P,factory:function(){return function Ne(){return(0,g.LFG)(se)}()},providedIn:"platform"}),P})();const Pe=new g.OlP("Location Initialized");let se=(()=>{class P extends xe{constructor(O){super(),this._doc=O,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _().getBaseHref(this._doc)}onPopState(O){const q=_().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",O,!1),()=>q.removeEventListener("popstate",O)}onHashChange(O){const q=_().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",O,!1),()=>q.removeEventListener("hashchange",O)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(O){this._location.pathname=O}pushState(O,q,oe){ae()?this._history.pushState(O,q,oe):this._location.hash=oe}replaceState(O,q,oe){ae()?this._history.replaceState(O,q,oe):this._location.hash=oe}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return P.\u0275fac=function(O){return new(O||P)(g.LFG(we))},P.\u0275prov=g.Yz7({token:P,factory:function(){return function he(){return new se((0,g.LFG)(we))}()},providedIn:"platform"}),P})();function ae(){return!!window.history.pushState}function Ke(P,H){if(0==P.length)return H;if(0==H.length)return P;let O=0;return P.endsWith("/")&&O++,H.startsWith("/")&&O++,2==O?P+H.substring(1):1==O?P+H:P+"/"+H}function He(P){const H=P.match(/#|\?|$/),O=H&&H.index||P.length;return P.slice(0,O-("/"===P[O-1]?1:0))+P.slice(O)}function Qe(P){return P&&"?"!==P[0]?"?"+P:P}let St=(()=>{class P{historyGo(O){throw new Error("Not implemented")}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=g.Yz7({token:P,factory:function(){return(0,g.f3M)(et)},providedIn:"root"}),P})();const Be=new g.OlP("appBaseHref");let et=(()=>{class P extends St{constructor(O,q){super(),this._platformLocation=O,this._removeListenerFns=[],this._baseHref=q??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return Ke(this._baseHref,O)}path(O=!1){const q=this._platformLocation.pathname+Qe(this._platformLocation.search),oe=this._platformLocation.hash;return oe&&O?`${q}${oe}`:q}pushState(O,q,oe,je){const rt=this.prepareExternalUrl(oe+Qe(je));this._platformLocation.pushState(O,q,rt)}replaceState(O,q,oe,je){const rt=this.prepareExternalUrl(oe+Qe(je));this._platformLocation.replaceState(O,q,rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return P.\u0275fac=function(O){return new(O||P)(g.LFG(xe),g.LFG(Be,8))},P.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})(),st=(()=>{class P extends St{constructor(O,q){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(O){const q=Ke(this._baseHref,O);return q.length>0?"#"+q:q}pushState(O,q,oe,je){let rt=this.prepareExternalUrl(oe+Qe(je));0==rt.length&&(rt=this._platformLocation.pathname),this._platformLocation.pushState(O,q,rt)}replaceState(O,q,oe,je){let rt=this.prepareExternalUrl(oe+Qe(je));0==rt.length&&(rt=this._platformLocation.pathname),this._platformLocation.replaceState(O,q,rt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return P.\u0275fac=function(O){return new(O||P)(g.LFG(xe),g.LFG(Be,8))},P.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac}),P})(),ht=(()=>{class P{constructor(O){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const q=this._locationStrategy.getBaseHref();this._basePath=function mt(P){if(new RegExp("^(https?:)?//").test(P)){const[,O]=P.split(/\/\/[^\/]+/);return O}return P}(He(Ye(q))),this._locationStrategy.onPopState(oe=>{this._subject.emit({url:this.path(!0),pop:!0,state:oe.state,type:oe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,q=""){return this.path()==this.normalize(O+Qe(q))}normalize(O){return P.stripTrailingSlash(function Fe(P,H){if(!P||!H.startsWith(P))return H;const O=H.substring(P.length);return""===O||["/",";","?","#"].includes(O[0])?O:H}(this._basePath,Ye(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,q="",oe=null){this._locationStrategy.pushState(oe,"",O,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Qe(q)),oe)}replaceState(O,q="",oe=null){this._locationStrategy.replaceState(oe,"",O,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+Qe(q)),oe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){this._locationStrategy.historyGo?.(O)}onUrlChange(O){return this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)})),()=>{const q=this._urlChangeListeners.indexOf(O);this._urlChangeListeners.splice(q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",q){this._urlChangeListeners.forEach(oe=>oe(O,q))}subscribe(O,q,oe){return this._subject.subscribe({next:O,error:q,complete:oe})}}return P.normalizeQueryParams=Qe,P.joinWithSlash=Ke,P.stripTrailingSlash=He,P.\u0275fac=function(O){return new(O||P)(g.LFG(St))},P.\u0275prov=g.Yz7({token:P,factory:function(){return function Xe(){return new ht((0,g.LFG)(St))}()},providedIn:"root"}),P})();function Ye(P){return P.replace(/\/index.html$/,"")}function Eo(P,H,O){return(0,g.dwT)(P,H,O)}function To(P,H){H=encodeURIComponent(H);for(const O of P.split(";")){const q=O.indexOf("="),[oe,je]=-1==q?[O,""]:[O.slice(0,q),O.slice(q+1)];if(oe.trim()===H)return decodeURIComponent(je)}return null}class Sr{constructor(H,O,q,oe){this.$implicit=H,this.ngForOf=O,this.index=q,this.count=oe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yr=(()=>{class P{set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}constructor(O,q,oe){this._viewContainer=O,this._template=q,this._differs=oe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const q=this._viewContainer;O.forEachOperation((oe,je,rt)=>{if(null==oe.previousIndex)q.createEmbeddedView(this._template,new Sr(oe.item,this._ngForOf,-1,-1),null===rt?void 0:rt);else if(null==rt)q.remove(null===je?void 0:je);else if(null!==je){const Kt=q.get(je);q.move(Kt,rt),Bn(Kt,oe)}});for(let oe=0,je=q.length;oe<je;oe++){const Kt=q.get(oe).context;Kt.index=oe,Kt.count=je,Kt.ngForOf=this._ngForOf}O.forEachIdentityChange(oe=>{Bn(q.get(oe.currentIndex),oe)})}static ngTemplateContextGuard(O,q){return!0}}return P.\u0275fac=function(O){return new(O||P)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},P.\u0275dir=g.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),P})();function Bn(P,H){P.context.$implicit=H.item}let fi=(()=>{class P{constructor(O,q){this._viewContainer=O,this._context=new fn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=q}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){ri("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){ri("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,q){return!0}}return P.\u0275fac=function(O){return new(O||P)(g.Y36(g.s_b),g.Y36(g.Rgc))},P.\u0275dir=g.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),P})();class fn{constructor(){this.$implicit=null,this.ngIf=null}}function ri(P,H){if(H&&!H.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,g.AaK)(H)}'.`)}let ns=(()=>{class P{}return P.\u0275fac=function(O){return new(O||P)},P.\u0275mod=g.oAB({type:P}),P.\u0275inj=g.cJS({}),P})();const Xs="browser",ha="server";function mi(P){return P===Xs}function Lr(P){return P===ha}let jo=(()=>{class P{}return P.\u0275prov=(0,g.Yz7)({token:P,providedIn:"root",factory:()=>new Po((0,g.LFG)(we),window)}),P})();class Po{constructor(H,O){this.document=H,this.window=O,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const O=function Ii(P,H){const O=P.getElementById(H)||P.getElementsByName(H)[0];if(O)return O;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const q=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let oe=q.currentNode;for(;oe;){const je=oe.shadowRoot;if(je){const rt=je.getElementById(H)||je.querySelector(`[name="${H}"]`);if(rt)return rt}oe=q.nextNode()}}return null}(this.document,H);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration(H){if(this.supportScrollRestoration()){const O=this.window.history;O&&O.scrollRestoration&&(O.scrollRestoration=H)}}scrollToElement(H){const O=H.getBoundingClientRect(),q=O.left+this.window.pageXOffset,oe=O.top+this.window.pageYOffset,je=this.offset();this.window.scrollTo(q-je[0],oe-je[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const H=Bi(this.window.history)||Bi(Object.getPrototypeOf(this.window.history));return!(!H||!H.writable&&!H.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Bi(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class rs{}},4650:(It,Ve,L)=>{L.d(Ve,{$8M:()=>Ic,$WT:()=>Cn,$Z:()=>e5,AFp:()=>Fv,AaK:()=>Ne,AsE:()=>R6,CHM:()=>I,CRH:()=>_v,CZH:()=>Gh,CqO:()=>P5,D6c:()=>p9,EJc:()=>Q1,EiD:()=>qo,EpF:()=>z5,F$t:()=>L5,F4k:()=>A5,FYo:()=>Ag,FiY:()=>kc,Gf:()=>Hh,GfV:()=>Pg,Gpc:()=>ae,Hsn:()=>V5,JOm:()=>sa,JVY:()=>N8,JZr:()=>St,KtG:()=>B,L6k:()=>R8,LAX:()=>us,LFG:()=>On,LSH:()=>fu,Lbi:()=>Lv,Lck:()=>ST,MMx:()=>G6,MR2:()=>RC,NdJ:()=>T6,O4$:()=>Na,OlP:()=>Hr,Oqu:()=>N6,P3R:()=>S1,PXZ:()=>mD,Q6J:()=>_6,QGY:()=>E6,QbO:()=>Vv,Qsj:()=>ZC,R0b:()=>_a,RDi:()=>T2,Rgc:()=>Lh,SBq:()=>bh,Sil:()=>oD,Suo:()=>h0,TTD:()=>ir,TgZ:()=>q2,Udp:()=>A6,X6Q:()=>r9,XFs:()=>Dt,Xpm:()=>Mt,Xts:()=>V8,Y36:()=>I1,YKP:()=>iv,YNc:()=>I5,Yjl:()=>un,Yz7:()=>Te,Z0I:()=>Zt,ZZ4:()=>ep,_Bn:()=>j6,_UZ:()=>C6,_Vd:()=>Ch,_c5:()=>DD,_uU:()=>l7,aQg:()=>I0,c2e:()=>_0,cJS:()=>an,cg1:()=>F6,dDg:()=>hD,dqk:()=>mn,dwT:()=>ME,eBb:()=>M2,eFA:()=>E0,eJc:()=>p0,ekj:()=>P6,eoX:()=>Kh,f3M:()=>nr,g9A:()=>Nf,h0i:()=>U1,hGG:()=>MD,hij:()=>Q2,iGM:()=>Vh,ifc:()=>We,ip1:()=>Of,jDz:()=>q6,kL8:()=>X2,kcU:()=>ho,lG2:()=>Nt,lqb:()=>mu,lri:()=>$v,mCW:()=>hu,n5z:()=>eu,oAB:()=>Se,oxw:()=>F5,pB0:()=>mh,q3G:()=>Si,q4F:()=>kg,qLn:()=>Sh,qOj:()=>p6,qZA:()=>W2,qzn:()=>Vc,rWj:()=>Gv,sBO:()=>yD,s_b:()=>c0,soG:()=>kl,tBr:()=>ma,tb:()=>Kv,tp0:()=>nu,uIk:()=>y6,vHH:()=>Be,vpe:()=>ya,wAp:()=>Sn,xp6:()=>Bg,z2F:()=>Zh,z3N:()=>Fo,zSh:()=>U8,zs3:()=>gu});var g=L(7579),Q=L(727),_=L(9751),pe=L(6451),ve=L(3099);function we(o){for(let s in o)if(o[s]===we)return s;throw Error("Could not find renamed property on target object.")}function xe(o,s){for(const c in s)s.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=s[c])}function Ne(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Ne).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const c=s.indexOf("\n");return-1===c?s:s.substring(0,c)}function Pe(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const se=we({__forward_ref__:we});function ae(o){return o.__forward_ref__=ae,o.toString=function(){return Ne(this())},o}function he(o){return Ke(o)?o():o}function Ke(o){return"function"==typeof o&&o.hasOwnProperty(se)&&o.__forward_ref__===ae}function He(o){return o&&!!o.\u0275providers}const St="https://g.co/ng/security#xss";class Be extends Error{constructor(s,c){super(et(s,c)),this.code=s}}function et(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}function st(o){return"string"==typeof o?o:null==o?"":String(o)}function mt(o,s){throw new Be(-201,!1)}function Ae(o,s){null==o&&function be(o,s,c,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${c} ${u} ${s} <=Actual]`))}(s,o,null,"!=")}function Te(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function an(o){return{providers:o.providers||[],imports:o.imports||[]}}function Tn(o){return Ln(o,_n)||Ln(o,fr)}function Zt(o){return null!==Tn(o)}function Ln(o,s){return o.hasOwnProperty(s)?o[s]:null}function Ir(o){return o&&(o.hasOwnProperty(Vn)||o.hasOwnProperty(rn))?o[Vn]:null}const _n=we({\u0275prov:we}),Vn=we({\u0275inj:we}),fr=we({ngInjectableDef:we}),rn=we({ngInjectorDef:we});var Dt=(()=>((Dt=Dt||{})[Dt.Default=0]="Default",Dt[Dt.Host=1]="Host",Dt[Dt.Self=2]="Self",Dt[Dt.SkipSelf=4]="SkipSelf",Dt[Dt.Optional=8]="Optional",Dt))();let An;function br(o){const s=An;return An=o,s}function vr(o,s,c){const u=Tn(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&Dt.Optional?null:void 0!==s?s:void mt(Ne(o))}const mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),xr={},Hn="__NG_DI_FLAG__",Vt="ngTempTokenPath",pr="ngTokenPath",sr=/\n/gm,wr="\u0275",gn="__source";let Fr;function vn(o){const s=Fr;return Fr=o,s}function Ki(o,s=Dt.Default){if(void 0===Fr)throw new Be(-203,!1);return null===Fr?vr(o,void 0,s):Fr.get(o,s&Dt.Optional?null:void 0,s)}function On(o,s=Dt.Default){return(function ni(){return An}()||Ki)(he(o),s)}function nr(o,s=Dt.Default){return On(o,Jn(s))}function Jn(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Ci(o){const s=[];for(let c=0;c<o.length;c++){const u=he(o[c]);if(Array.isArray(u)){if(0===u.length)throw new Be(900,!1);let d,m=Dt.Default;for(let b=0;b<u.length;b++){const x=u[b],k=tn(x);"number"==typeof k?-1===k?d=x.token:m|=k:d=x}s.push(On(d,m))}else s.push(On(u))}return s}function Yn(o,s){return o[Hn]=s,o.prototype[Hn]=s,o}function tn(o){return o[Hn]}function re(o){return{toString:o}.toString()}var fe=(()=>((fe=fe||{})[fe.OnPush=0]="OnPush",fe[fe.Default=1]="Default",fe))(),We=(()=>{return(o=We||(We={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",We;var o})();const De={},at=[],ue=we({\u0275cmp:we}),$=we({\u0275dir:we}),Y=we({\u0275pipe:we}),J=we({\u0275mod:we}),me=we({\u0275fac:we}),Me=we({__NG_ELEMENT_ID__:we});let ct=0;function Mt(o){return re(()=>{const s=Cr(o),c={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===fe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||We.Emulated,id:"c"+ct++,styles:o.styles||at,_:null,schemas:o.schemas||null,tView:null};Eo(c);const u=o.dependencies;return c.directiveDefs=To(u,!1),c.pipeDefs=To(u,!0),c})}function on(o){return Ut(o)||Pn(o)}function Ee(o){return null!==o}function Se(o){return re(()=>({type:o.type,bootstrap:o.bootstrap||at,declarations:o.declarations||at,imports:o.imports||at,exports:o.exports||at,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function xt(o,s){if(null==o)return De;const c={};for(const u in o)if(o.hasOwnProperty(u)){let d=o[u],m=d;Array.isArray(d)&&(m=d[1],d=d[0]),c[d]=u,s&&(s[d]=m)}return c}function Nt(o){return re(()=>{const s=Cr(o);return Eo(s),s})}function un(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Ut(o){return o[ue]||null}function Pn(o){return o[$]||null}function wn(o){return o[Y]||null}function Cn(o){const s=Ut(o)||Pn(o)||wn(o);return null!==s&&s.standalone}function In(o,s){const c=o[J]||null;if(!c&&!0===s)throw new Error(`Type ${Ne(o)} does not have '\u0275mod' property.`);return c}function Cr(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||at,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xt(o.inputs,s),outputs:xt(o.outputs)}}function Eo(o){o.features?.forEach(s=>s(o))}function To(o,s){if(!o)return null;const c=s?wn:on;return()=>("function"==typeof o?o():o).map(u=>c(u)).filter(Ee)}const Qr=0,vt=1,nn=2,rr=3,hi=4,Nn=5,Sr=6,Yr=7,Bn=8,Zi=9,fi=10,fn=11,ri=12,ne=13,ye=14,Ge=15,gt=16,pn=17,cn=18,xn=19,qn=20,Er=21,bn=22,es=1,Di=2,Mi=7,Do=8,Li=9,jr=10;function pi(o){return Array.isArray(o)&&"object"==typeof o[es]}function ii(o){return Array.isArray(o)&&!0===o[es]}function ts(o){return 0!=(4&o.flags)}function $r(o){return o.componentOffset>-1}function ao(o){return 1==(1&o.flags)}function Xr(o){return!!o.template}function Ao(o){return 0!=(256&o[nn])}function gi(o,s){return o.hasOwnProperty(me)?o[me]:null}class vi{constructor(s,c,u){this.previousValue=s,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function ir(){return jo}function jo(o){return o.type.prototype.ngOnChanges&&(o.setInput=Bi),Po}function Po(){const o=Ma(this),s=o?.current;if(s){const c=o.previous;if(c===De)o.previous=s;else for(let u in s)c[u]=s[u];o.current=null,this.ngOnChanges(s)}}function Bi(o,s,c,u){const d=this.declaredInputs[c],m=Ma(o)||function rs(o,s){return o[Ii]=s}(o,{previous:De,current:null}),b=m.current||(m.current={}),x=m.previous,k=x[d];b[d]=new vi(k&&k.currentValue,s,x===De),o[u]=s}ir.ngInherit=!0;const Ii="__ngSimpleChanges__";function Ma(o){return o[Ii]||null}const Jr=function(o,s,c){},ei="svg";function Gr(o){for(;Array.isArray(o);)o=o[Qr];return o}function Pr(o,s){return Gr(s[o])}function kr(o,s){return Gr(s[o.index])}function ea(o,s){return o.data[s]}function Or(o,s){const c=s[o];return pi(c)?c:c[Qr]}function xi(o){return 64==(64&o[nn])}function yi(o,s){return null==s?null:o[s]}function uo(o){o[cn]=0}function Ui(o,s){o[Nn]+=s;let c=o,u=o[rr];for(;null!==u&&(1===s&&1===c[Nn]||-1===s&&0===c[Nn]);)u[Nn]+=s,c=u,u=u[rr]}const dn={lFrame:ka(null),bindingsEnabled:!0};function Hs(){return dn.bindingsEnabled}function v(){return dn.lFrame.lView}function T(){return dn.lFrame.tView}function I(o){return dn.lFrame.contextLView=o,o[Bn]}function B(o){return dn.lFrame.contextLView=null,o}function ie(){let o=Ze();for(;null!==o&&64===o.type;)o=o.parent;return o}function Ze(){return dn.lFrame.currentTNode}function Qt(o,s){const c=dn.lFrame;c.currentTNode=o,c.isParent=s}function Wn(){return dn.lFrame.isParent}function Un(){dn.lFrame.isParent=!1}function wi(){return dn.lFrame.bindingIndex++}function oi(o){const s=dn.lFrame,c=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,c}function Sc(o,s){const c=dn.lFrame;c.bindingIndex=c.bindingRootIndex=o,qr(s)}function qr(o){dn.lFrame.currentDirectiveIndex=o}function za(){return dn.lFrame.currentQueryIndex}function Aa(o){dn.lFrame.currentQueryIndex=o}function Ec(o){const s=o[vt];return 2===s.type?s.declTNode:1===s.type?o[Sr]:null}function na(o,s,c){if(c&Dt.SkipSelf){let d=s,m=o;for(;!(d=d.parent,null!==d||c&Dt.Host||(d=Ec(m),null===d||(m=m[Ge],10&d.type))););if(null===d)return!1;s=d,o=m}const u=dn.lFrame=Ja();return u.currentTNode=s,u.lView=o,!0}function Pa(o){const s=Ja(),c=o[vt];dn.lFrame=s,s.currentTNode=c.firstChild,s.lView=o,s.tView=c,s.contextLView=o,s.bindingIndex=c.bindingStartIndex,s.inI18n=!1}function Ja(){const o=dn.lFrame,s=null===o?null:o.child;return null===s?ka(o):s}function ka(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function ec(){const o=dn.lFrame;return dn.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Wl=ec;function Oa(){const o=ec();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function eo(){return dn.lFrame.selectedIndex}function Ts(o){dn.lFrame.selectedIndex=o}function Wr(){const o=dn.lFrame;return ea(o.tView,o.selectedIndex)}function Na(){dn.lFrame.currentNamespace=ei}function ho(){!function ll(){dn.lFrame.currentNamespace=null}()}function ra(o,s){for(let c=s.directiveStart,u=s.directiveEnd;c<u;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:x,ngAfterViewInit:k,ngAfterViewChecked:V,ngOnDestroy:K}=m;b&&(o.contentHooks??(o.contentHooks=[])).push(-c,b),x&&((o.contentHooks??(o.contentHooks=[])).push(c,x),(o.contentCheckHooks??(o.contentCheckHooks=[])).push(c,x)),k&&(o.viewHooks??(o.viewHooks=[])).push(-c,k),V&&((o.viewHooks??(o.viewHooks=[])).push(c,V),(o.viewCheckHooks??(o.viewCheckHooks=[])).push(c,V)),null!=K&&(o.destroyHooks??(o.destroyHooks=[])).push(c,K)}}function tc(o,s,c){H(o,s,3,c)}function Ra(o,s,c,u){(3&o[nn])===c&&H(o,s,c,u)}function P(o,s){let c=o[nn];(3&c)===s&&(c&=2047,c+=1,o[nn]=c)}function H(o,s,c,u){const m=u??-1,b=s.length-1;let x=0;for(let k=void 0!==u?65535&o[cn]:0;k<b;k++)if("number"==typeof s[k+1]){if(x=s[k],null!=u&&x>=u)break}else s[k]<0&&(o[cn]+=65536),(x<m||-1==m)&&(O(o,c,s,k),o[cn]=(4294901760&o[cn])+k+2),k++}function O(o,s,c,u){const d=c[u]<0,m=c[u+1],x=o[d?-c[u]:c[u]];if(d){if(o[nn]>>11<o[cn]>>16&&(3&o[nn])===s){o[nn]+=2048,Jr(4,x,m);try{m.call(x)}finally{Jr(5,x,m)}}}else{Jr(4,x,m);try{m.call(x)}finally{Jr(5,x,m)}}}const q=-1;class oe{constructor(s,c,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function or(o,s,c){let u=0;for(;u<c.length;){const d=c[u];if("number"==typeof d){if(0!==d)break;u++;const m=c[u++],b=c[u++],x=c[u++];o.setAttribute(s,b,x,m)}else{const m=d,b=c[++u];Ds(m)?o.setProperty(s,m,b):o.setAttribute(s,m,b),u++}}return u}function ai(o){return 3===o||4===o||6===o}function Ds(o){return 64===o.charCodeAt(0)}function yo(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let c=-1;for(let u=0;u<s.length;u++){const d=s[u];"number"==typeof d?c=d:0===c||ss(o,c,d,null,-1===c||2===c?s[++u]:null)}}return o}function ss(o,s,c,u,d){let m=0,b=o.length;if(-1===s)b=-1;else for(;m<o.length;){const x=o[m++];if("number"==typeof x){if(x===s){b=-1;break}if(x>s){b=m-1;break}}}for(;m<o.length;){const x=o[m];if("number"==typeof x)break;if(x===c){if(null===u)return void(null!==d&&(o[m+1]=d));if(u===o[m+1])return void(o[m+2]=d)}m++,null!==u&&m++,null!==d&&m++}-1!==b&&(o.splice(b,0,s),m=b+1),o.splice(m++,0,c),null!==u&&o.splice(m++,0,u),null!==d&&o.splice(m++,0,d)}function ji(o){return o!==q}function Io(o){return 32767&o}function _o(o,s){let c=function Ms(o){return o>>16}(o),u=s;for(;c>0;)u=u[Ge],c--;return u}let Fa=!0;function Dc(o){const s=Fa;return Fa=o,s}const dl=255,hl=5;let fl=0;const ia={};function pl(o,s){const c=nc(o,s);if(-1!==c)return c;const u=s[vt];u.firstCreatePass&&(o.injectorIndex=s.length,Ql(u.data,o),Ql(s,null),Ql(u.blueprint,null));const d=Xl(o,s),m=o.injectorIndex;if(ji(d)){const b=Io(d),x=_o(d,s),k=x[vt].data;for(let V=0;V<8;V++)s[m+V]=x[b+V]|k[b+V]}return s[m+8]=d,m}function Ql(o,s){o.push(0,0,0,0,0,0,0,0,s)}function nc(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Xl(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,u=null,d=s;for(;null!==d;){if(u=yl(d),null===u)return q;if(c++,d=d[Ge],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return q}function cr(o,s,c){!function Bs(o,s,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(Me)&&(u=c[Me]),null==u&&(u=c[Me]=fl++);const d=u&dl;s.data[o+(d>>hl)]|=1<<d}(o,s,c)}function rc(o,s,c){if(c&Dt.Optional||void 0!==o)return o;mt()}function Zu(o,s,c,u){if(c&Dt.Optional&&void 0===u&&(u=null),!(c&(Dt.Self|Dt.Host))){const d=o[Zi],m=br(void 0);try{return d?d.get(s,u,c&Dt.Optional):vr(s,u,c&Dt.Optional)}finally{br(m)}}return rc(u,0,c)}function ml(o,s,c,u=Dt.Default,d){if(null!==o){if(1024&s[nn]){const b=function Is(o,s,c,u,d){let m=o,b=s;for(;null!==m&&null!==b&&1024&b[nn]&&!(256&b[nn]);){const x=Jl(m,b,c,u|Dt.Self,ia);if(x!==ia)return x;let k=m.parent;if(!k){const V=b[Er];if(V){const K=V.get(c,ia,u);if(K!==ia)return K}k=yl(b),b=b[Ge]}m=k}return d}(o,s,c,u,ia);if(b!==ia)return b}const m=Jl(o,s,c,u,ia);if(m!==ia)return m}return Zu(s,c,u,d)}function Jl(o,s,c,u,d){const m=function ic(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Me)?o[Me]:void 0;return"number"==typeof s?s>=0?s&dl:oc:s}(c);if("function"==typeof m){if(!na(s,o,u))return u&Dt.Host?rc(d,0,u):Zu(s,c,u,d);try{const b=m(u);if(null!=b||u&Dt.Optional)return b;mt()}finally{Wl()}}else if("number"==typeof m){let b=null,x=nc(o,s),k=q,V=u&Dt.Host?s[gt][Sr]:null;for((-1===x||u&Dt.SkipSelf)&&(k=-1===x?Xl(o,s):s[x+8],k!==q&&to(u,!1)?(b=s[vt],x=Io(k),s=_o(k,s)):x=-1);-1!==x;){const K=s[vt];if(vl(m,x,K.data)){const ee=j4(x,s,c,b,u,V);if(ee!==ia)return ee}k=s[x+8],k!==q&&to(u,s[vt].data[x+8]===V)&&vl(m,x,s)?(b=K,x=Io(k),s=_o(k,s)):x=-1}}return d}function j4(o,s,c,u,d,m){const b=s[vt],x=b.data[o+8],K=gl(x,b,c,null==u?$r(x)&&Fa:u!=b&&0!=(3&x.type),d&Dt.Host&&m===x);return null!==K?La(s,b,K,x):ia}function gl(o,s,c,u,d){const m=o.providerIndexes,b=s.data,x=1048575&m,k=o.directiveStart,K=m>>20,_e=d?x+K:o.directiveEnd;for(let Le=u?x:x+K;Le<_e;Le++){const it=b[Le];if(Le<k&&c===it||Le>=k&&it.type===c)return Le}if(d){const Le=b[k];if(Le&&Xr(Le)&&Le.type===c)return k}return null}function La(o,s,c,u){let d=o[c];const m=s.data;if(function je(o){return o instanceof oe}(d)){const b=d;b.resolving&&function Xe(o,s){const c=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new Be(-200,`Circular dependency in DI detected for ${o}${c}`)}(function ht(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():st(o)}(m[c]));const x=Dc(b.canSeeViewProviders);b.resolving=!0;const k=b.injectImpl?br(b.injectImpl):null;na(o,u,Dt.Default);try{d=o[c]=b.factory(void 0,m,o,u),s.firstCreatePass&&c>=u.directiveStart&&function ul(o,s,c){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:m}=s.type.prototype;if(u){const b=jo(s);(c.preOrderHooks??(c.preOrderHooks=[])).push(o,b),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,b)}d&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-o,d),m&&((c.preOrderHooks??(c.preOrderHooks=[])).push(o,m),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,m))}(c,m[c],s)}finally{null!==k&&br(k),Dc(x),b.resolving=!1,Wl()}}return d}function vl(o,s,c){return!!(c[s+(o>>hl)]&1<<o)}function to(o,s){return!(o&Dt.Self||o&Dt.Host&&s)}class oa{constructor(s,c){this._tNode=s,this._lView=c}get(s,c,u){return ml(this._tNode,this._lView,s,Jn(u),c)}}function oc(){return new oa(ie(),v())}function eu(o){return re(()=>{const s=o.prototype.constructor,c=s[me]||Mc(s),u=Object.prototype;let d=Object.getPrototypeOf(o.prototype).constructor;for(;d&&d!==u;){const m=d[me]||Mc(d);if(m&&m!==c)return m;d=Object.getPrototypeOf(d)}return m=>new m})}function Mc(o){return Ke(o)?()=>{const s=Mc(he(o));return s&&s()}:gi(o)}function yl(o){const s=o[vt],c=s.type;return 2===c?s.declTNode:1===c?o[Sr]:null}function Ic(o){return function kd(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const c=o.attrs;if(c){const u=c.length;let d=0;for(;d<u;){const m=c[d];if(ai(m))break;if(0===m)d+=2;else if("number"==typeof m)for(d++;d<u&&"string"==typeof c[d];)d++;else{if(m===s)return c[d+1];d+=2}}}return null}(ie(),o)}const xc="__parameters__";function ac(o,s,c){return re(()=>{const u=function Us(o){return function(...c){if(o){const u=o(...c);for(const d in u)this[d]=u[d]}}}(s);function d(...m){if(this instanceof d)return u.apply(this,m),this;const b=new d(...m);return x.annotation=b,x;function x(k,V,K){const ee=k.hasOwnProperty(xc)?k[xc]:Object.defineProperty(k,xc,{value:[]})[xc];for(;ee.length<=K;)ee.push(null);return(ee[K]=ee[K]||[]).push(b),k}}return c&&(d.prototype=Object.create(c.prototype)),d.prototype.ngMetadataName=o,d.annotationCls=d,d})}class Hr{constructor(s,c){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Te({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ys(o,s){o.forEach(c=>Array.isArray(c)?Ys(c,s):s(c))}function Ju(o,s,c){s>=o.length?o.push(c):o.splice(s,0,c)}function Pc(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function S(o,s){const c=[];for(let u=0;u<o;u++)c.push(s);return c}function j(o,s,c){let u=Ce(o,s);return u>=0?o[1|u]=c:(u=~u,function z(o,s,c,u){let d=o.length;if(d==s)o.push(c,u);else if(1===d)o.push(u,o[0]),o[0]=c;else{for(d--,o.push(o[d-1],o[d]);d>s;)o[d]=o[d-2],d--;o[s]=c,o[s+1]=u}}(o,u,s,c)),u}function X(o,s){const c=Ce(o,s);if(c>=0)return o[1|c]}function Ce(o,s){return function Pt(o,s,c){let u=0,d=o.length>>c;for(;d!==u;){const m=u+(d-u>>1),b=o[m<<c];if(s===b)return m<<c;b>s?d=m:u=m+1}return~(d<<c)}(o,s,1)}const ma=Yn(ac("Inject",o=>({token:o})),-1),kc=Yn(ac("Optional"),8),nu=Yn(ac("SkipSelf"),4);var sa=(()=>((sa=sa||{})[sa.Important=1]="Important",sa[sa.DashCase=2]="DashCase",sa))();const u1=new Map;let s2=0;const Kd="__ngContext__";function Ro(o,s){pi(s)?(o[Kd]=s[qn],function a2(o){u1.set(o[qn],o)}(s)):o[Kd]=s}let h1;function Xd(o,s){return h1(o,s)}function ou(o){const s=o[rr];return ii(s)?s[rr]:s}function f1(o){return th(o[ne])}function bl(o){return th(o[hi])}function th(o){for(;null!==o&&!ii(o);)o=o[hi];return o}function Nc(o,s,c,u,d){if(null!=u){let m,b=!1;ii(u)?m=u:pi(u)&&(b=!0,u=u[Qr]);const x=Gr(u);0===o&&null!==c?null==d?m1(s,c,x):Fc(s,c,x,d||null,!0):1===o&&null!==c?Fc(s,c,x,d||null,!0):2===o?function ch(o,s,c){const u=g1(o,s);u&&function T8(o,s,c,u){o.removeChild(s,c,u)}(o,u,s,c)}(s,x,b):3===o&&s.destroyNode(x),null!=m&&function M8(o,s,c,u,d){const m=c[Mi];m!==Gr(c)&&Nc(s,o,u,m,d);for(let x=jr;x<c.length;x++){const k=c[x];cu(k[vt],k,o,s,u,m)}}(s,o,m,c,d)}}function ih(o,s,c){return o.createElement(s,c)}function p2(o,s){const c=o[Li],u=c.indexOf(s),d=s[rr];512&s[nn]&&(s[nn]&=-513,Ui(d,-1)),c.splice(u,1)}function su(o,s){if(o.length<=jr)return;const c=jr+s,u=o[c];if(u){const d=u[pn];null!==d&&d!==o&&p2(d,u),s>0&&(o[c-1][hi]=u[hi]);const m=Pc(o,jr+s);!function C8(o,s){cu(o,s,s[fn],2,null,null),s[Qr]=null,s[Sr]=null}(u[vt],u);const b=m[xn];null!==b&&b.detachView(m[vt]),u[rr]=null,u[hi]=null,u[nn]&=-65}return u}function m2(o,s){if(!(128&s[nn])){const c=s[fn];c.destroyNode&&cu(o,s,c,3,null,null),function mg(o){let s=o[ne];if(!s)return au(o[vt],o);for(;s;){let c=null;if(pi(s))c=s[ne];else{const u=s[jr];u&&(c=u)}if(!c){for(;s&&!s[hi]&&s!==o;)pi(s)&&au(s[vt],s),s=s[rr];null===s&&(s=o),pi(s)&&au(s[vt],s),c=s&&s[hi]}s=c}}(s)}}function au(o,s){if(!(128&s[nn])){s[nn]&=-65,s[nn]|=128,function E8(o,s){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let u=0;u<c.length;u+=2){const d=s[c[u]];if(!(d instanceof oe)){const m=c[u+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const x=d[m[b]],k=m[b+1];Jr(4,x,k);try{k.call(x)}finally{Jr(5,x,k)}}else{Jr(4,d,m);try{m.call(d)}finally{Jr(5,d,m)}}}}}(o,s),function g2(o,s){const c=o.cleanup,u=s[Yr];let d=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const b=c[m+3];b>=0?u[d=b]():u[d=-b].unsubscribe(),m+=2}else{const b=u[d=c[m+1]];c[m].call(b)}if(null!==u){for(let m=d+1;m<u.length;m++)(0,u[m])();s[Yr]=null}}(o,s),1===s[vt].type&&s[fn].destroy();const c=s[pn];if(null!==c&&ii(s[rr])){c!==s[rr]&&p2(c,s);const u=s[xn];null!==u&&u.detachView(o)}!function g8(o){u1.delete(o[qn])}(s)}}function p1(o,s,c){return function v2(o,s,c){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return c[Qr];{const{componentOffset:d}=u;if(d>-1){const{encapsulation:m}=o.data[u.directiveStart+d];if(m===We.None||m===We.Emulated)return null}return kr(u,c)}}(o,s.parent,c)}function Fc(o,s,c,u,d){o.insertBefore(s,c,u,d)}function m1(o,s,c){o.appendChild(s,c)}function y2(o,s,c,u,d){null!==u?Fc(o,s,c,u,d):m1(o,s,c)}function g1(o,s){return o.parentNode(s)}function sh(o,s,c){return _2(o,s,c)}let ah,lu,uu,Ml,_2=function v1(o,s,c){return 40&o.type?kr(o,c):null};function Sl(o,s,c,u){const d=p1(o,u,s),m=s[fn],x=sh(u.parent||s[Sr],u,s);if(null!=d)if(Array.isArray(c))for(let k=0;k<c.length;k++)y2(m,d,c[k],x,!1);else y2(m,d,c,x,!1);void 0!==ah&&ah(m,u,s,c,d)}function _1(o,s){if(null!==s){const c=s.type;if(3&c)return kr(s,o);if(4&c)return El(-1,o[s.index]);if(8&c){const u=s.child;if(null!==u)return _1(o,u);{const d=o[s.index];return ii(d)?El(-1,d):Gr(d)}}if(32&c)return Xd(s,o)()||Gr(o[s.index]);{const u=w2(o,s);return null!==u?Array.isArray(u)?u[0]:_1(ou(o[gt]),u):_1(o,s.next)}}return null}function w2(o,s){return null!==s?o[gt][Sr].projection[s.projection]:null}function El(o,s){const c=jr+o+1;if(c<s.length){const u=s[c],d=u[vt].firstChild;if(null!==d)return _1(u,d)}return s[Mi]}function lh(o,s,c,u,d,m,b){for(;null!=c;){const x=u[c.index],k=c.type;if(b&&0===s&&(x&&Ro(Gr(x),u),c.flags|=2),32!=(32&c.flags))if(8&k)lh(o,s,c.child,u,d,m,!1),Nc(s,o,d,x,m);else if(32&k){const V=Xd(c,u);let K;for(;K=V();)Nc(s,o,d,K,m);Nc(s,o,d,x,m)}else 16&k?b2(o,s,u,c,d,m):Nc(s,o,d,x,m);c=b?c.projectionNext:c.next}}function cu(o,s,c,u,d,m){lh(c,u,o.firstChild,s,d,m,!1)}function b2(o,s,c,u,d,m){const b=c[gt],k=b[Sr].projection[u.projection];if(Array.isArray(k))for(let V=0;V<k.length;V++)Nc(s,o,d,k[V],m);else lh(o,s,k,b[rr],d,m,!0)}function Tl(o,s,c){""===c?o.removeAttribute(s,"class"):o.setAttribute(s,"class",c)}function S2(o,s,c){const{mergedAttrs:u,classes:d,styles:m}=c;null!==u&&or(o,s,u),null!==d&&Tl(o,s,d),null!==m&&function x8(o,s,c){o.setAttribute(s,"style",c)}(o,s,m)}function Dl(o){return function uh(){if(void 0===lu&&(lu=null,mn.trustedTypes))try{lu=mn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return lu}()?.createHTML(o)||o}function T2(o){uu=o}function w1(o){return function hh(){if(void 0===Ml&&(Ml=null,mn.trustedTypes))try{Ml=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ml}()?.createScriptURL(o)||o}class Lc{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${St})`}}class C1 extends Lc{getTypeName(){return"HTML"}}class fh extends Lc{getTypeName(){return"Style"}}class P8 extends Lc{getTypeName(){return"Script"}}class ph extends Lc{getTypeName(){return"URL"}}class k8 extends Lc{getTypeName(){return"ResourceURL"}}function Fo(o){return o instanceof Lc?o.changingThisBreaksApplicationSecurity:o}function Vc(o,s){const c=function O8(o){return o instanceof Lc&&o.getTypeName()||null}(o);if(null!=c&&c!==s){if("ResourceURL"===c&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${c} (see ${St})`)}return c===s}function N8(o){return new C1(o)}function R8(o){return new fh(o)}function M2(o){return new P8(o)}function us(o){return new ph(o)}function mh(o){return new k8(o)}class F8{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const c=(new window.DOMParser).parseFromString(Dl(s),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(s):(c.removeChild(c.firstChild),c)}catch{return null}}}class Ha{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const c=this.inertDocument.createElement("template");return c.innerHTML=Dl(s),c}}const I2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hu(o){return(o=String(o)).match(I2)?o:"unsafe:"+o}function Ba(o){const s={};for(const c of o.split(","))s[c]=!0;return s}function uc(...o){const s={};for(const c of o)for(const u in c)c.hasOwnProperty(u)&&(s[u]=!0);return s}const x2=Ba("area,br,col,hr,img,wbr"),z2=Ba("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),A2=Ba("rp,rt"),f=uc(x2,uc(z2,Ba("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),uc(A2,Ba("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),uc(A2,z2)),E=Ba("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),de=uc(E,Ba("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ba("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ze=Ba("script,style,template");class ut{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let c=s.firstChild,u=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let d=this.checkClobberedElement(c,c.nextSibling);if(d){c=d;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(s){const c=s.nodeName.toLowerCase();if(!f.hasOwnProperty(c))return this.sanitizedSomething=!0,!ze.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=s.attributes;for(let d=0;d<u.length;d++){const m=u.item(d),b=m.name,x=b.toLowerCase();if(!de.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let k=m.value;E[x]&&(k=hu(k)),this.buf.push(" ",b,'="',kt(k),'"')}return this.buf.push(">"),!0}endElement(s){const c=s.nodeName.toLowerCase();f.hasOwnProperty(c)&&!x2.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(s){this.buf.push(kt(s))}checkClobberedElement(s,c){if(c&&(s.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return c}}const zt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sn=/([^\#-~ |!])/g;function kt(o){return o.replace(/&/g,"&amp;").replace(zt,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(sn,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let er;function qo(o,s){let c=null;try{er=er||function b1(o){const s=new Ha(o);return function du(){try{return!!(new window.DOMParser).parseFromString(Dl(""),"text/html")}catch{return!1}}()?new F8(s):s}(o);let u=s?String(s):"";c=er.getInertBodyElement(u);let d=5,m=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=m,m=c.innerHTML,c=er.getInertBodyElement(u)}while(u!==m);return Dl((new ut).sanitizeChildren(dc(c)||c))}finally{if(c){const u=dc(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function dc(o){return"content"in o&&function xl(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Si=(()=>((Si=Si||{})[Si.NONE=0]="NONE",Si[Si.HTML=1]="HTML",Si[Si.STYLE=2]="STYLE",Si[Si.SCRIPT=3]="SCRIPT",Si[Si.URL=4]="URL",Si[Si.RESOURCE_URL=5]="RESOURCE_URL",Si))();function fu(o){const s=_h();return s?s.sanitize(Si.URL,o)||"":Vc(o,"URL")?Fo(o):hu(st(o))}function vh(o){const s=_h();if(s)return w1(s.sanitize(Si.RESOURCE_URL,o)||"");if(Vc(o,"ResourceURL"))return w1(Fo(o));throw new Be(904,!1)}function S1(o,s,c){return function L8(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?vh:fu}(s,c)(o)}function _h(){const o=v();return o&&o[ri]}const V8=new Hr("ENVIRONMENT_INITIALIZER"),_g=new Hr("INJECTOR",-1),wg=new Hr("INJECTOR_DEF_TYPES");class Cg{get(s,c=xr){if(c===xr){const u=new Error(`NullInjectorError: No provider for ${Ne(s)}!`);throw u.name="NullInjectorError",u}return c}}function RC(o){return{\u0275providers:o}}function bg(...o){return{\u0275providers:Sg(0,o),\u0275fromNgModule:!0}}function Sg(o,...s){const c=[],u=new Set;let d;return Ys(s,m=>{const b=m;H8(b,c,[],u)&&(d||(d=[]),d.push(b))}),void 0!==d&&Eg(d,c),c}function Eg(o,s){for(let c=0;c<o.length;c++){const{providers:d}=o[c];N2(d,m=>{s.push(m)})}}function H8(o,s,c,u){if(!(o=he(o)))return!1;let d=null,m=Ir(o);const b=!m&&Ut(o);if(m||b){if(b&&!b.standalone)return!1;d=o}else{const k=o.ngModule;if(m=Ir(k),!m)return!1;d=k}const x=u.has(d);if(b){if(x)return!1;if(u.add(d),b.dependencies){const k="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const V of k)H8(V,s,c,u)}}else{if(!m)return!1;{if(null!=m.imports&&!x){let V;u.add(d);try{Ys(m.imports,K=>{H8(K,s,c,u)&&(V||(V=[]),V.push(K))})}finally{}void 0!==V&&Eg(V,s)}if(!x){const V=gi(d)||(()=>new d);s.push({provide:d,useFactory:V,deps:at},{provide:wg,useValue:d,multi:!0},{provide:V8,useValue:()=>On(d),multi:!0})}const k=m.providers;null==k||x||N2(k,K=>{s.push(K)})}}return d!==o&&void 0!==o.providers}function N2(o,s){for(let c of o)He(c)&&(c=c.\u0275providers),Array.isArray(c)?N2(c,s):s(c)}const FC=we({provide:String,useValue:we});function B8(o){return null!==o&&"object"==typeof o&&FC in o}function pu(o){return"function"==typeof o}const U8=new Hr("Set Injector scope."),wh={},VC={};let Y8;function R2(){return void 0===Y8&&(Y8=new Cg),Y8}class mu{}class Mg extends mu{get destroyed(){return this._destroyed}constructor(s,c,u,d){super(),this.parent=c,this.source=u,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$8(s,b=>this.processProvider(b)),this.records.set(_g,E1(void 0,this)),d.has("environment")&&this.records.set(mu,E1(void 0,this));const m=this.records.get(U8);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(wg.multi,at,Dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const c=vn(this),u=br(void 0);try{return s()}finally{vn(c),br(u)}}get(s,c=xr,u=Dt.Default){this.assertNotDestroyed(),u=Jn(u);const d=vn(this),m=br(void 0);try{if(!(u&Dt.SkipSelf)){let x=this.records.get(s);if(void 0===x){const k=function jC(o){return"function"==typeof o||"object"==typeof o&&o instanceof Hr}(s)&&Tn(s);x=k&&this.injectableDefInScope(k)?E1(j8(s),wh):null,this.records.set(s,x)}if(null!=x)return this.hydrate(s,x)}return(u&Dt.Self?R2():this.parent).get(s,c=u&Dt.Optional&&c===xr?null:c)}catch(b){if("NullInjectorError"===b.name){if((b[Vt]=b[Vt]||[]).unshift(Ne(s)),d)throw b;return function Ar(o,s,c,u){const d=o[Vt];throw s[gn]&&d.unshift(s[gn]),o.message=function le(o,s,c,u=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==wr?o.slice(2):o;let d=Ne(s);if(Array.isArray(s))d=s.map(Ne).join(" -> ");else if("object"==typeof s){let m=[];for(let b in s)if(s.hasOwnProperty(b)){let x=s[b];m.push(b+":"+("string"==typeof x?JSON.stringify(x):Ne(x)))}d=`{${m.join(", ")}}`}return`${c}${u?"("+u+")":""}[${d}]: ${o.replace(sr,"\n  ")}`}("\n"+o.message,d,c,u),o[pr]=d,o[Vt]=null,o}(b,s,"R3InjectorError",this.source)}throw b}finally{br(m),vn(d)}}resolveInjectorInitializers(){const s=vn(this),c=br(void 0);try{const u=this.get(V8.multi,at,Dt.Self);for(const d of u)d()}finally{vn(s),br(c)}}toString(){const s=[],c=this.records;for(const u of c.keys())s.push(Ne(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(s){let c=pu(s=he(s))?s:he(s&&s.provide);const u=function BC(o){return B8(o)?E1(void 0,o.useValue):E1(Ig(o),wh)}(s);if(pu(s)||!0!==s.multi)this.records.get(c);else{let d=this.records.get(c);d||(d=E1(void 0,wh,!0),d.factory=()=>Ci(d.multi),this.records.set(c,d)),c=s,d.multi.push(s)}this.records.set(c,u)}hydrate(s,c){return c.value===wh&&(c.value=VC,c.value=c.factory()),"object"==typeof c.value&&c.value&&function YC(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(s){if(!s.providedIn)return!1;const c=he(s.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function j8(o){const s=Tn(o),c=null!==s?s.factory:gi(o);if(null!==c)return c;if(o instanceof Hr)throw new Be(204,!1);if(o instanceof Function)return function HC(o){const s=o.length;if(s>0)throw S(s,"?"),new Be(204,!1);const c=function Mn(o){return o&&(o[_n]||o[fr])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Be(204,!1)}function Ig(o,s,c){let u;if(pu(o)){const d=he(o);return gi(d)||j8(d)}if(B8(o))u=()=>he(o.useValue);else if(function Dg(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...Ci(o.deps||[]));else if(function Tg(o){return!(!o||!o.useExisting)}(o))u=()=>On(he(o.useExisting));else{const d=he(o&&(o.useClass||o.provide));if(!function UC(o){return!!o.deps}(o))return gi(d)||j8(d);u=()=>new d(...Ci(o.deps))}return u}function E1(o,s,c=!1){return{factory:o,value:s,multi:c?[]:void 0}}function $8(o,s){for(const c of o)Array.isArray(c)?$8(c,s):c&&He(c)?$8(c.\u0275providers,s):s(c)}class $C{}class xg{}class qC{resolveComponentFactory(s){throw function GC(o){const s=Error(`No component factory found for ${Ne(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let Ch=(()=>{class o{}return o.NULL=new qC,o})();function WC(){return T1(ie(),v())}function T1(o,s){return new bh(kr(o,s))}let bh=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=WC,o})();function KC(o){return o instanceof bh?o.nativeElement:o}class Ag{}let ZC=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function QC(){const o=v(),c=Or(ie().index,o);return(pi(c)?c:o)[fn]}(),o})(),XC=(()=>{class o{}return o.\u0275prov=Te({token:o,providedIn:"root",factory:()=>null}),o})();class Pg{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const kg=new Pg("15.2.10"),G8={},q8="ngOriginalError";function W8(o){return o[q8]}class Sh{constructor(){this._console=console}handleError(s){const c=this._findOriginalError(s);this._console.error("ERROR",s),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(s){let c=s&&W8(s);for(;c&&W8(c);)c=W8(c);return c||null}}function Hc(o){return o instanceof Function?o():o}function Rg(o,s,c){let u=o.length;for(;;){const d=o.indexOf(s,c);if(-1===d)return d;if(0===d||o.charCodeAt(d-1)<=32){const m=s.length;if(d+m===u||o.charCodeAt(d+m)<=32)return d}c=d+1}}const Fg="ng-template";function cb(o,s,c){let u=0,d=!0;for(;u<o.length;){let m=o[u++];if("string"==typeof m&&d){const b=o[u++];if(c&&"class"===m&&-1!==Rg(b.toLowerCase(),s,0))return!0}else{if(1===m){for(;u<o.length&&"string"==typeof(m=o[u++]);)if(m.toLowerCase()===s)return!0;return!1}"number"==typeof m&&(d=!1)}}return!1}function Lg(o){return 4===o.type&&o.value!==Fg}function lb(o,s,c){return s===(4!==o.type||c?o.value:Fg)}function ub(o,s,c){let u=4;const d=o.attrs||[],m=function fb(o){for(let s=0;s<o.length;s++)if(ai(o[s]))return s;return o.length}(d);let b=!1;for(let x=0;x<s.length;x++){const k=s[x];if("number"!=typeof k){if(!b)if(4&u){if(u=2|1&u,""!==k&&!lb(o,k,c)||""===k&&1===s.length){if(Ua(u))return!1;b=!0}}else{const V=8&u?k:s[++x];if(8&u&&null!==o.attrs){if(!cb(o.attrs,V,c)){if(Ua(u))return!1;b=!0}continue}const ee=db(8&u?"class":k,d,Lg(o),c);if(-1===ee){if(Ua(u))return!1;b=!0;continue}if(""!==V){let _e;_e=ee>m?"":d[ee+1].toLowerCase();const Le=8&u?_e:null;if(Le&&-1!==Rg(Le,V,0)||2&u&&V!==_e){if(Ua(u))return!1;b=!0}}}}else{if(!b&&!Ua(u)&&!Ua(k))return!1;if(b&&Ua(k))continue;b=!1,u=k|1&u}}return Ua(u)||b}function Ua(o){return 0==(1&o)}function db(o,s,c,u){if(null===s)return-1;let d=0;if(u||!c){let m=!1;for(;d<s.length;){const b=s[d];if(b===o)return d;if(3===b||6===b)m=!0;else{if(1===b||2===b){let x=s[++d];for(;"string"==typeof x;)x=s[++d];continue}if(4===b)break;if(0===b){d+=4;continue}}d+=m?1:2}return-1}return function pb(o,s){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const u=o[c];if("number"==typeof u)return-1;if(u===s)return c;c++}return-1}(s,o)}function Vg(o,s,c=!1){for(let u=0;u<s.length;u++)if(ub(o,s[u],c))return!0;return!1}function mb(o,s){e:for(let c=0;c<s.length;c++){const u=s[c];if(o.length===u.length){for(let d=0;d<o.length;d++)if(o[d]!==u[d])continue e;return!0}}return!1}function Hg(o,s){return o?":not("+s.trim()+")":s}function gb(o){let s=o[0],c=1,u=2,d="",m=!1;for(;c<o.length;){let b=o[c];if("string"==typeof b)if(2&u){const x=o[++c];d+="["+b+(x.length>0?'="'+x+'"':"")+"]"}else 8&u?d+="."+b:4&u&&(d+=" "+b);else""!==d&&!Ua(b)&&(s+=Hg(m,d),d=""),u=b,m=m||!Ua(u);c++}return""!==d&&(s+=Hg(m,d)),s}const Zn={};function Bg(o){Ug(T(),v(),eo()+o,!1)}function Ug(o,s,c,u){if(!u)if(3==(3&s[nn])){const m=o.preOrderCheckHooks;null!==m&&tc(s,m,c)}else{const m=o.preOrderHooks;null!==m&&Ra(s,m,0,c)}Ts(c)}function Gg(o,s=null,c=null,u){const d=qg(o,s,c,u);return d.resolveInjectorInitializers(),d}function qg(o,s=null,c=null,u,d=new Set){const m=[c||at,bg(o)];return u=u||("object"==typeof o?void 0:Ne(o)),new Mg(m,s||R2(),u||null,d)}let gu=(()=>{class o{static create(c,u){if(Array.isArray(c))return Gg({name:""},u,c,"");{const d=c.name??"";return Gg({name:d},c.parent,c.providers,d)}}}return o.THROW_IF_NOT_FOUND=xr,o.NULL=new Cg,o.\u0275prov=Te({token:o,providedIn:"any",factory:()=>On(_g)}),o.__NG_ELEMENT_ID__=-1,o})();function I1(o,s=Dt.Default){const c=v();return null===c?On(o,s):ml(ie(),c,he(o),s)}function e5(){throw new Error("invalid")}function J8(o,s){const c=o.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const m=c[u+1];if(-1!==m){const b=o.data[m];Aa(c[u]),b.contentQueries(2,s[m],m)}}}function L2(o,s,c,u,d,m,b,x,k,V,K){const ee=s.blueprint.slice();return ee[Qr]=d,ee[nn]=76|u,(null!==K||o&&1024&o[nn])&&(ee[nn]|=1024),uo(ee),ee[rr]=ee[Ge]=o,ee[Bn]=c,ee[fi]=b||o&&o[fi],ee[fn]=x||o&&o[fn],ee[ri]=k||o&&o[ri]||null,ee[Zi]=V||o&&o[Zi]||null,ee[Sr]=m,ee[qn]=function m8(){return s2++}(),ee[Er]=K,ee[gt]=2==s.type?o[gt]:ee,ee}function x1(o,s,c,u,d){let m=o.data[s];if(null===m)m=function e6(o,s,c,u,d){const m=Ze(),b=Wn(),k=o.data[s]=function Ub(o,s,c,u,d,m){return{type:c,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,c,s,u,d);return null===o.firstChild&&(o.firstChild=k),null!==m&&(b?null==m.child&&null!==k.parent&&(m.child=k):null===m.next&&(m.next=k,k.prev=m)),k}(o,s,c,u,d),function Es(){return dn.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=u,m.attrs=d;const b=function qt(){const o=dn.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();m.injectorIndex=null===b?-1:b.injectorIndex}return Qt(m,!0),m}function Eh(o,s,c,u){if(0===c)return-1;const d=s.length;for(let m=0;m<c;m++)s.push(u),o.blueprint.push(u),o.data.push(null);return d}function t6(o,s,c){Pa(s);try{const u=o.viewQuery;null!==u&&h6(1,u,c);const d=o.template;null!==d&&t5(o,s,d,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&J8(o,s),o.staticViewQueries&&h6(2,o.viewQuery,c);const m=o.components;null!==m&&function Vb(o,s){for(let c=0;c<s.length;c++)cS(o,s[c])}(s,m)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{s[nn]&=-5,Oa()}}function V2(o,s,c,u){const d=s[nn];if(128!=(128&d)){Pa(s);try{uo(s),function Ji(o){return dn.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&t5(o,s,c,2,u);const b=3==(3&d);if(b){const V=o.preOrderCheckHooks;null!==V&&tc(s,V,null)}else{const V=o.preOrderHooks;null!==V&&Ra(s,V,0,null),P(s,0)}if(function sS(o){for(let s=f1(o);null!==s;s=bl(s)){if(!s[Di])continue;const c=s[Li];for(let u=0;u<c.length;u++){const d=c[u];512&d[nn]||Ui(d[rr],1),d[nn]|=512}}}(s),function oS(o){for(let s=f1(o);null!==s;s=bl(s))for(let c=jr;c<s.length;c++){const u=s[c],d=u[vt];xi(u)&&V2(d,u,d.template,u[Bn])}}(s),null!==o.contentQueries&&J8(o,s),b){const V=o.contentCheckHooks;null!==V&&tc(s,V)}else{const V=o.contentHooks;null!==V&&Ra(s,V,1),P(s,1)}!function Fb(o,s){const c=o.hostBindingOpCodes;if(null!==c)try{for(let u=0;u<c.length;u++){const d=c[u];if(d<0)Ts(~d);else{const m=d,b=c[++u],x=c[++u];Sc(b,m),x(2,s[m])}}}finally{Ts(-1)}}(o,s);const x=o.components;null!==x&&function Lb(o,s){for(let c=0;c<s.length;c++)aS(o,s[c])}(s,x);const k=o.viewQuery;if(null!==k&&h6(2,k,u),b){const V=o.viewCheckHooks;null!==V&&tc(s,V)}else{const V=o.viewHooks;null!==V&&Ra(s,V,2),P(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[nn]&=-41,512&s[nn]&&(s[nn]&=-513,Ui(s[rr],-1))}finally{Oa()}}}function t5(o,s,c,u,d){const m=eo(),b=2&u;try{Ts(-1),b&&s.length>bn&&Ug(o,s,bn,!1),Jr(b?2:0,d),c(u,d)}finally{Ts(m),Jr(b?3:1,d)}}function n6(o,s,c){if(ts(s)){const d=s.directiveEnd;for(let m=s.directiveStart;m<d;m++){const b=o.data[m];b.contentQueries&&b.contentQueries(1,c[m],m)}}}function r6(o,s,c){Hs()&&(function Kb(o,s,c,u){const d=c.directiveStart,m=c.directiveEnd;$r(c)&&function nS(o,s,c){const u=kr(s,o),d=n5(c),m=o[fi],b=H2(o,L2(o,d,null,c.onPush?32:16,u,s,m,m.createRenderer(u,c),null,null,null));o[s.index]=b}(s,c,o.data[d+c.componentOffset]),o.firstCreatePass||pl(c,s),Ro(u,s);const b=c.initialInputs;for(let x=d;x<m;x++){const k=o.data[x],V=La(s,o,x,c);Ro(V,s),null!==b&&rS(0,x-d,V,k,0,b),Xr(k)&&(Or(c.index,s)[Bn]=La(s,o,x,c))}}(o,s,c,kr(c,s)),64==(64&c.flags)&&a5(o,s,c))}function o6(o,s,c=kr){const u=s.localNames;if(null!==u){let d=s.index+1;for(let m=0;m<u.length;m+=2){const b=u[m+1],x=-1===b?c(s,o):o[b];o[d++]=x}}}function n5(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=s6(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function s6(o,s,c,u,d,m,b,x,k,V){const K=bn+u,ee=K+d,_e=function Hb(o,s){const c=[];for(let u=0;u<s;u++)c.push(u<o?null:Zn);return c}(K,ee),Le="function"==typeof V?V():V;return _e[vt]={type:o,blueprint:_e,template:c,queries:null,viewQuery:x,declTNode:s,data:_e.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:k,consts:Le,incompleteFirstPass:!1}}function a6(o,s,c,u){const d=l5(s);null===c?d.push(u):(d.push(c),o.firstCreatePass&&u5(o).push(u,d.length-1))}function r5(o,s,c,u){for(let d in o)if(o.hasOwnProperty(d)){c=null===c?{}:c;const m=o[d];null===u?o5(c,s,d,m):u.hasOwnProperty(d)&&o5(c,s,u[d],m)}return c}function o5(o,s,c,u){o.hasOwnProperty(c)?o[c].push(s,u):o[c]=[s,u]}function c6(o,s,c,u){if(Hs()){const d=null===u?null:{"":-1},m=function Qb(o,s){const c=o.directiveRegistry;let u=null,d=null;if(c)for(let m=0;m<c.length;m++){const b=c[m];if(Vg(s,b.selectors,!1))if(u||(u=[]),Xr(b))if(null!==b.findHostDirectiveDefs){const x=[];d=d||new Map,b.findHostDirectiveDefs(b,x,d),u.unshift(...x,b),l6(o,s,x.length)}else u.unshift(b),l6(o,s,0);else d=d||new Map,b.findHostDirectiveDefs?.(b,u,d),u.push(b)}return null===u?null:[u,d]}(o,c);let b,x;null===m?b=x=null:[b,x]=m,null!==b&&s5(o,s,c,b,d,x),d&&function Xb(o,s,c){if(s){const u=o.localNames=[];for(let d=0;d<s.length;d+=2){const m=c[s[d+1]];if(null==m)throw new Be(-301,!1);u.push(s[d],m)}}}(c,u,d)}c.mergedAttrs=yo(c.mergedAttrs,c.attrs)}function s5(o,s,c,u,d,m){for(let V=0;V<u.length;V++)cr(pl(c,s),o,u[V].type);!function eS(o,s,c){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+c,o.providerIndexes=s}(c,o.data.length,u.length);for(let V=0;V<u.length;V++){const K=u[V];K.providersResolver&&K.providersResolver(K)}let b=!1,x=!1,k=Eh(o,s,u.length,null);for(let V=0;V<u.length;V++){const K=u[V];c.mergedAttrs=yo(c.mergedAttrs,K.hostAttrs),tS(o,c,s,k,K),Jb(k,K,d),null!==K.contentQueries&&(c.flags|=4),(null!==K.hostBindings||null!==K.hostAttrs||0!==K.hostVars)&&(c.flags|=64);const ee=K.type.prototype;!b&&(ee.ngOnChanges||ee.ngOnInit||ee.ngDoCheck)&&((o.preOrderHooks??(o.preOrderHooks=[])).push(c.index),b=!0),!x&&(ee.ngOnChanges||ee.ngDoCheck)&&((o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(c.index),x=!0),k++}!function Yb(o,s,c){const d=s.directiveEnd,m=o.data,b=s.attrs,x=[];let k=null,V=null;for(let K=s.directiveStart;K<d;K++){const ee=m[K],_e=c?c.get(ee):null,it=_e?_e.outputs:null;k=r5(ee.inputs,K,k,_e?_e.inputs:null),V=r5(ee.outputs,K,V,it);const Tt=null===k||null===b||Lg(s)?null:iS(k,K,b);x.push(Tt)}null!==k&&(k.hasOwnProperty("class")&&(s.flags|=8),k.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=x,s.inputs=k,s.outputs=V}(o,c,m)}function a5(o,s,c){const u=c.directiveStart,d=c.directiveEnd,m=c.index,b=function Wu(){return dn.lFrame.currentDirectiveIndex}();try{Ts(m);for(let x=u;x<d;x++){const k=o.data[x],V=s[x];qr(x),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&Zb(k,V)}}finally{Ts(-1),qr(b)}}function Zb(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function l6(o,s,c){s.componentOffset=c,(o.components??(o.components=[])).push(s.index)}function Jb(o,s,c){if(c){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)c[s.exportAs[u]]=o;Xr(s)&&(c[""]=o)}}function tS(o,s,c,u,d){o.data[u]=d;const m=d.factory||(d.factory=gi(d.type)),b=new oe(m,Xr(d),I1);o.blueprint[u]=b,c[u]=b,function qb(o,s,c,u,d){const m=d.hostBindings;if(m){let b=o.hostBindingOpCodes;null===b&&(b=o.hostBindingOpCodes=[]);const x=~s.index;(function Wb(o){let s=o.length;for(;s>0;){const c=o[--s];if("number"==typeof c&&c<0)return c}return 0})(b)!=x&&b.push(x),b.push(c,u,m)}}(o,s,u,Eh(o,c,d.hostVars,Zn),d)}function hc(o,s,c,u,d,m){const b=kr(o,s);!function u6(o,s,c,u,d,m,b){if(null==m)o.removeAttribute(s,d,c);else{const x=null==b?st(m):b(m,u||"",d);o.setAttribute(s,d,x,c)}}(s[fn],b,m,o.value,c,u,d)}function rS(o,s,c,u,d,m){const b=m[s];if(null!==b){const x=u.setInput;for(let k=0;k<b.length;){const V=b[k++],K=b[k++],ee=b[k++];null!==x?u.setInput(c,ee,V,K):c[K]=ee}}}function iS(o,s,c){let u=null,d=0;for(;d<c.length;){const m=c[d];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===u&&(u=[]);const b=o[m];for(let x=0;x<b.length;x+=2)if(b[x]===s){u.push(m,b[x+1],c[d+1]);break}}d+=2}else d+=2;else d+=4}return u}function c5(o,s,c,u){return[o,!0,!1,s,null,0,u,c,null,null]}function aS(o,s){const c=Or(s,o);if(xi(c)){const u=c[vt];48&c[nn]?V2(u,c,u.template,c[Bn]):c[Nn]>0&&d6(c)}}function d6(o){for(let u=f1(o);null!==u;u=bl(u))for(let d=jr;d<u.length;d++){const m=u[d];if(xi(m))if(512&m[nn]){const b=m[vt];V2(b,m,b.template,m[Bn])}else m[Nn]>0&&d6(m)}const c=o[vt].components;if(null!==c)for(let u=0;u<c.length;u++){const d=Or(c[u],o);xi(d)&&d[Nn]>0&&d6(d)}}function cS(o,s){const c=Or(s,o),u=c[vt];(function lS(o,s){for(let c=s.length;c<o.blueprint.length;c++)s.push(o.blueprint[c])})(u,c),t6(u,c,c[Bn])}function H2(o,s){return o[ne]?o[ye][hi]=s:o[ne]=s,o[ye]=s,s}function B2(o){for(;o;){o[nn]|=32;const s=ou(o);if(Ao(o)&&!s)return o;o=s}return null}function U2(o,s,c,u=!0){const d=s[fi];d.begin&&d.begin();try{V2(o,s,o.template,c)}catch(b){throw u&&h5(s,b),b}finally{d.end&&d.end()}}function h6(o,s,c){Aa(0),s(o,c)}function l5(o){return o[Yr]||(o[Yr]=[])}function u5(o){return o.cleanup||(o.cleanup=[])}function h5(o,s){const c=o[Zi],u=c?c.get(Sh,null):null;u&&u.handleError(s)}function f6(o,s,c,u,d){for(let m=0;m<c.length;){const b=c[m++],x=c[m++],k=s[b],V=o.data[b];null!==V.setInput?V.setInput(k,d,u,x):k[x]=d}}function Bc(o,s,c){const u=Pr(s,o);!function rh(o,s,c){o.setValue(s,c)}(o[fn],u,c)}function Y2(o,s,c){let u=c?o.styles:null,d=c?o.classes:null,m=0;if(null!==s)for(let b=0;b<s.length;b++){const x=s[b];"number"==typeof x?m=x:1==m?d=Pe(d,x):2==m&&(u=Pe(u,x+": "+s[++b]+";"))}c?o.styles=u:o.stylesWithoutHost=u,c?o.classes=d:o.classesWithoutHost=d}function j2(o,s,c,u,d=!1){for(;null!==c;){const m=s[c.index];if(null!==m&&u.push(Gr(m)),ii(m))for(let x=jr;x<m.length;x++){const k=m[x],V=k[vt].firstChild;null!==V&&j2(k[vt],k,V,u)}const b=c.type;if(8&b)j2(o,s,c.child,u);else if(32&b){const x=Xd(c,s);let k;for(;k=x();)u.push(k)}else if(16&b){const x=w2(s,c);if(Array.isArray(x))u.push(...x);else{const k=ou(s[gt]);j2(k[vt],k,x,u,!0)}}c=d?c.projectionNext:c.next}return u}class Th{get rootNodes(){const s=this._lView,c=s[vt];return j2(c,s,c.firstChild,[])}constructor(s,c){this._lView=s,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bn]}set context(s){this._lView[Bn]=s}get destroyed(){return 128==(128&this._lView[nn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[rr];if(ii(s)){const c=s[Do],u=c?c.indexOf(this):-1;u>-1&&(su(s,u),Pc(c,u))}this._attachedToViewContainer=!1}m2(this._lView[vt],this._lView)}onDestroy(s){a6(this._lView[vt],this._lView,null,s)}markForCheck(){B2(this._cdRefInjectingView||this._lView)}detach(){this._lView[nn]&=-65}reattach(){this._lView[nn]|=64}detectChanges(){U2(this._lView[vt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function b8(o,s){cu(o,s,s[fn],2,null,null)}(this._lView[vt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=s}}class uS extends Th{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;U2(s[vt],s,s[Bn],!1)}checkNoChanges(){}get context(){return null}}class f5 extends Ch{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const c=Ut(s);return new Dh(c,this.ngModule)}}function p5(o){const s=[];for(let c in o)o.hasOwnProperty(c)&&s.push({propName:o[c],templateName:c});return s}class hS{constructor(s,c){this.injector=s,this.parentInjector=c}get(s,c,u){u=Jn(u);const d=this.injector.get(s,G8,u);return d!==G8||c===G8?d:this.parentInjector.get(s,c,u)}}class Dh extends xg{get inputs(){return p5(this.componentDef.inputs)}get outputs(){return p5(this.componentDef.outputs)}constructor(s,c){super(),this.componentDef=s,this.ngModule=c,this.componentType=s.type,this.selector=function vb(o){return o.map(gb).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!c}create(s,c,u,d){let m=(d=d||this.ngModule)instanceof mu?d:d?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const b=m?new hS(s,m):s,x=b.get(Ag,null);if(null===x)throw new Be(407,!1);const k=b.get(XC,null),V=x.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",ee=u?function Bb(o,s,c){return o.selectRootElement(s,c===We.ShadowDom)}(V,u,this.componentDef.encapsulation):ih(V,K,function dS(o){const s=o.toLowerCase();return"svg"===s?ei:"math"===s?"math":null}(K)),_e=this.componentDef.onPush?288:272,Le=s6(0,null,null,1,0,null,null,null,null,null),it=L2(null,Le,null,_e,null,null,x,V,k,b,null);let Tt,Ft;Pa(it);try{const Jt=this.componentDef;let zn,ft=null;Jt.findHostDirectiveDefs?(zn=[],ft=new Map,Jt.findHostDirectiveDefs(Jt,zn,ft),zn.push(Jt)):zn=[Jt];const jn=function pS(o,s){const c=o[vt],u=bn;return o[u]=s,x1(c,u,2,"#host",null)}(it,ee),Ai=function mS(o,s,c,u,d,m,b,x){const k=d[vt];!function gS(o,s,c,u){for(const d of o)s.mergedAttrs=yo(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(Y2(s,s.mergedAttrs,!0),null!==c&&S2(u,c,s))}(u,o,s,b);const V=m.createRenderer(s,c),K=L2(d,n5(c),null,c.onPush?32:16,d[o.index],o,m,V,x||null,null,null);return k.firstCreatePass&&l6(k,o,u.length-1),H2(d,K),d[o.index]=K}(jn,ee,Jt,zn,it,x,V);Ft=ea(Le,bn),ee&&function yS(o,s,c,u){if(u)or(o,c,["ng-version",kg.full]);else{const{attrs:d,classes:m}=function yb(o){const s=[],c=[];let u=1,d=2;for(;u<o.length;){let m=o[u];if("string"==typeof m)2===d?""!==m&&s.push(m,o[++u]):8===d&&c.push(m);else{if(!Ua(d))break;d=m}u++}return{attrs:s,classes:c}}(s.selectors[0]);d&&or(o,c,d),m&&m.length>0&&Tl(o,c,m.join(" "))}}(V,Jt,ee,u),void 0!==c&&function _S(o,s,c){const u=o.projection=[];for(let d=0;d<s.length;d++){const m=c[d];u.push(null!=m?Array.from(m):null)}}(Ft,this.ngContentSelectors,c),Tt=function vS(o,s,c,u,d,m){const b=ie(),x=d[vt],k=kr(b,d);s5(x,d,b,c,null,u);for(let K=0;K<c.length;K++)Ro(La(d,x,b.directiveStart+K,b),d);a5(x,d,b),k&&Ro(k,d);const V=La(d,x,b.directiveStart+b.componentOffset,b);if(o[Bn]=d[Bn]=V,null!==m)for(const K of m)K(V,s);return n6(x,b,o),V}(Ai,Jt,zn,ft,it,[wS]),t6(Le,it,null)}finally{Oa()}return new fS(this.componentType,Tt,T1(Ft,it),it,Ft)}}class fS extends $C{constructor(s,c,u,d,m){super(),this.location=u,this._rootLView=d,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new uS(d),this.componentType=s}setInput(s,c){const u=this._tNode.inputs;let d;if(null!==u&&(d=u[s])){const m=this._rootLView;f6(m[vt],m,d,s,c),B2(Or(this._tNode.index,m))}}get injector(){return new oa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function wS(){const o=ie();ra(v()[vt],o)}function p6(o){let s=function m5(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const u=[o];for(;s;){let d;if(Xr(o))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Be(903,!1);d=s.\u0275dir}if(d){if(c){u.push(d);const b=o;b.inputs=m6(o.inputs),b.declaredInputs=m6(o.declaredInputs),b.outputs=m6(o.outputs);const x=d.hostBindings;x&&ES(o,x);const k=d.viewQuery,V=d.contentQueries;if(k&&bS(o,k),V&&SS(o,V),xe(o.inputs,d.inputs),xe(o.declaredInputs,d.declaredInputs),xe(o.outputs,d.outputs),Xr(d)&&d.data.animation){const K=o.data;K.animation=(K.animation||[]).concat(d.data.animation)}}const m=d.features;if(m)for(let b=0;b<m.length;b++){const x=m[b];x&&x.ngInherit&&x(o),x===p6&&(c=!1)}}s=Object.getPrototypeOf(s)}!function CS(o){let s=0,c=null;for(let u=o.length-1;u>=0;u--){const d=o[u];d.hostVars=s+=d.hostVars,d.hostAttrs=yo(d.hostAttrs,c=yo(c,d.hostAttrs))}}(u)}function m6(o){return o===De?{}:o===at?[]:o}function bS(o,s){const c=o.viewQuery;o.viewQuery=c?(u,d)=>{s(u,d),c(u,d)}:s}function SS(o,s){const c=o.contentQueries;o.contentQueries=c?(u,d,m)=>{s(u,d,m),c(u,d,m)}:s}function ES(o,s){const c=o.hostBindings;o.hostBindings=c?(u,d)=>{s(u,d),c(u,d)}:s}function $2(o){return!!v6(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function v6(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ds(o,s,c){return!Object.is(o[s],c)&&(o[s]=c,!0)}function y6(o,s,c,u){const d=v();return ds(d,wi(),s)&&(T(),hc(Wr(),d,o,s,c,u)),y6}function P1(o,s,c,u,d,m){const x=function vu(o,s,c,u){const d=ds(o,s,c);return ds(o,s+1,u)||d}(o,function Yi(){return dn.lFrame.bindingIndex}(),c,d);return oi(2),x?s+st(c)+u+st(d)+m:Zn}function I5(o,s,c,u,d,m,b,x){const k=v(),V=T(),K=o+bn,ee=V.firstCreatePass?function kS(o,s,c,u,d,m,b,x,k){const V=s.consts,K=x1(s,o,4,b||null,yi(V,x));c6(s,c,K,yi(V,k)),ra(s,K);const ee=K.tView=s6(2,K,u,d,m,s.directiveRegistry,s.pipeRegistry,null,s.schemas,V);return null!==s.queries&&(s.queries.template(s,K),ee.queries=s.queries.embeddedTView(K)),K}(K,V,k,s,c,u,d,m,b):V.data[K];Qt(ee,!1);const _e=k[fn].createComment("");Sl(V,k,_e,ee),Ro(_e,k),H2(k,k[K]=c5(_e,k,_e,ee)),ao(ee)&&r6(V,k,ee),null!=b&&o6(k,ee,x)}function _6(o,s,c){const u=v();return ds(u,wi(),s)&&function js(o,s,c,u,d,m,b,x){const k=kr(s,c);let K,V=s.inputs;!x&&null!=V&&(K=V[u])?(f6(o,c,K,u,d),$r(s)&&function $b(o,s){const c=Or(s,o);16&c[nn]||(c[nn]|=32)}(c,s.index)):3&s.type&&(u=function jb(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),d=null!=b?b(d,s.value||"",u):d,m.setProperty(k,u,d))}(T(),Wr(),u,o,s,u[fn],c,!1),_6}function w6(o,s,c,u,d){const b=d?"class":"style";f6(o,c,s.inputs[b],b,u)}function q2(o,s,c,u){const d=v(),m=T(),b=bn+o,x=d[fn],k=m.firstCreatePass?function RS(o,s,c,u,d,m){const b=s.consts,k=x1(s,o,2,u,yi(b,d));return c6(s,c,k,yi(b,m)),null!==k.attrs&&Y2(k,k.attrs,!1),null!==k.mergedAttrs&&Y2(k,k.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,k),k}(b,m,d,s,c,u):m.data[b],V=d[b]=ih(x,s,function Zl(){return dn.lFrame.currentNamespace}()),K=ao(k);return Qt(k,!0),S2(x,V,k),32!=(32&k.flags)&&Sl(m,d,V,k),0===function Ia(){return dn.lFrame.elementDepthCount}()&&Ro(V,d),function Vs(){dn.lFrame.elementDepthCount++}(),K&&(r6(m,d,k),n6(m,k,d)),null!==u&&o6(d,k),q2}function W2(){let o=ie();Wn()?Un():(o=o.parent,Qt(o,!1));const s=o;!function os(){dn.lFrame.elementDepthCount--}();const c=T();return c.firstCreatePass&&(ra(c,o),ts(o)&&c.queries.elementEnd(o)),null!=s.classesWithoutHost&&function mr(o){return 0!=(8&o.flags)}(s)&&w6(c,s,v(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Kn(o){return 0!=(16&o.flags)}(s)&&w6(c,s,v(),s.stylesWithoutHost,!1),W2}function C6(o,s,c,u){return q2(o,s,c,u),W2(),C6}function z5(){return v()}function E6(o){return!!o&&"function"==typeof o.then}function A5(o){return!!o&&"function"==typeof o.subscribe}const P5=A5;function T6(o,s,c,u){const d=v(),m=T(),b=ie();return function O5(o,s,c,u,d,m,b){const x=ao(u),V=o.firstCreatePass&&u5(o),K=s[Bn],ee=l5(s);let _e=!0;if(3&u.type||b){const Tt=kr(u,s),Ft=b?b(Tt):Tt,Jt=ee.length,zn=b?jn=>b(Gr(jn[u.index])):u.index;let ft=null;if(!b&&x&&(ft=function LS(o,s,c,u){const d=o.cleanup;if(null!=d)for(let m=0;m<d.length-1;m+=2){const b=d[m];if(b===c&&d[m+1]===u){const x=s[Yr],k=d[m+2];return x.length>k?x[k]:null}"string"==typeof b&&(m+=2)}return null}(o,s,d,u.index)),null!==ft)(ft.__ngLastListenerFn__||ft).__ngNextListenerFn__=m,ft.__ngLastListenerFn__=m,_e=!1;else{m=R5(u,s,K,m,!1);const jn=c.listen(Ft,d,m);ee.push(m,jn),V&&V.push(d,zn,Jt,Jt+1)}}else m=R5(u,s,K,m,!1);const Le=u.outputs;let it;if(_e&&null!==Le&&(it=Le[d])){const Tt=it.length;if(Tt)for(let Ft=0;Ft<Tt;Ft+=2){const Ai=s[it[Ft]][it[Ft+1]].subscribe(m),fo=ee.length;ee.push(m,Ai),V&&V.push(d,u.index,fo,-(fo+1))}}}(m,d,d[fn],b,o,s,u),T6}function N5(o,s,c,u){try{return Jr(6,s,c),!1!==c(u)}catch(d){return h5(o,d),!1}finally{Jr(7,s,c)}}function R5(o,s,c,u,d){return function m(b){if(b===Function)return u;B2(o.componentOffset>-1?Or(o.index,s):s);let k=N5(s,c,u,b),V=m.__ngNextListenerFn__;for(;V;)k=N5(s,c,V,b)&&k,V=V.__ngNextListenerFn__;return d&&!1===k&&(b.preventDefault(),b.returnValue=!1),k}}function F5(o=1){return function Kl(o){return(dn.lFrame.contextLView=function cl(o,s){for(;o>0;)s=s[Ge],o--;return s}(o,dn.lFrame.contextLView))[Bn]}(o)}function VS(o,s){let c=null;const u=function hb(o){const s=o.attrs;if(null!=s){const c=s.indexOf(5);if(!(1&c))return s[c+1]}return null}(o);for(let d=0;d<s.length;d++){const m=s[d];if("*"!==m){if(null===u?Vg(o,m,!0):mb(u,m))return d}else c=d}return c}function L5(o){const s=v()[gt][Sr];if(!s.projection){const u=s.projection=S(o?o.length:1,null),d=u.slice();let m=s.child;for(;null!==m;){const b=o?VS(m,o):0;null!==b&&(d[b]?d[b].projectionNext=m:u[b]=m,d[b]=m),m=m.next}}}function V5(o,s=0,c){const u=v(),d=T(),m=x1(d,bn+o,16,null,c||null);null===m.projection&&(m.projection=s),Un(),32!=(32&m.flags)&&function C2(o,s,c){b2(s[fn],0,s,c,p1(o,c,s),sh(c.parent||s[Sr],c,s))}(d,u,m)}function K2(o,s){return o<<17|s<<2}function zl(o){return o>>17&32767}function I6(o){return 2|o}function yu(o){return(131068&o)>>2}function x6(o,s){return-131069&o|s<<2}function z6(o){return 1|o}function K5(o,s,c,u,d){const m=o[c+1],b=null===s;let x=u?zl(m):yu(m),k=!1;for(;0!==x&&(!1===k||b);){const K=o[x+1];jS(o[x],s)&&(k=!0,o[x+1]=u?z6(K):I6(K)),x=u?zl(K):yu(K)}k&&(o[c+1]=u?I6(m):z6(m))}function jS(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&Ce(o,s)>=0}function A6(o,s,c){return va(o,s,c,!1),A6}function P6(o,s){return va(o,s,null,!0),P6}function va(o,s,c,u){const d=v(),m=T(),b=oi(2);m.firstUpdatePass&&function r7(o,s,c,u){const d=o.data;if(null===d[c+1]){const m=d[eo()],b=function n7(o,s){return s>=o.expandoStartIndex}(o,c);(function c7(o,s){return 0!=(o.flags&(s?8:16))})(m,u)&&null===s&&!b&&(s=!1),s=function eE(o,s,c,u){const d=function No(o){const s=dn.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let m=u?s.residualClasses:s.residualStyles;if(null===d)0===(u?s.classBindings:s.styleBindings)&&(c=Ih(c=k6(null,o,s,c,u),s.attrs,u),m=null);else{const b=s.directiveStylingLast;if(-1===b||o[b]!==d)if(c=k6(d,o,s,c,u),null===m){let k=function tE(o,s,c){const u=c?s.classBindings:s.styleBindings;if(0!==yu(u))return o[zl(u)]}(o,s,u);void 0!==k&&Array.isArray(k)&&(k=k6(null,o,s,k[1],u),k=Ih(k,s.attrs,u),function nE(o,s,c,u){o[zl(c?s.classBindings:s.styleBindings)]=u}(o,s,u,k))}else m=function o7(o,s,c){let u;const d=s.directiveEnd;for(let m=1+s.directiveStylingLast;m<d;m++)u=Ih(u,o[m].hostAttrs,c);return Ih(u,s.attrs,c)}(o,s,u)}return void 0!==m&&(u?s.residualClasses=m:s.residualStyles=m),c}(d,m,s,u),function YS(o,s,c,u,d,m){let b=m?s.classBindings:s.styleBindings,x=zl(b),k=yu(b);o[u]=c;let K,V=!1;if(Array.isArray(c)?(K=c[1],(null===K||Ce(c,K)>0)&&(V=!0)):K=c,d)if(0!==k){const _e=zl(o[x+1]);o[u+1]=K2(_e,x),0!==_e&&(o[_e+1]=x6(o[_e+1],u)),o[x+1]=function BS(o,s){return 131071&o|s<<17}(o[x+1],u)}else o[u+1]=K2(x,0),0!==x&&(o[x+1]=x6(o[x+1],u)),x=u;else o[u+1]=K2(k,0),0===x?x=u:o[k+1]=x6(o[k+1],u),k=u;V&&(o[u+1]=I6(o[u+1])),K5(o,K,u,!0),K5(o,K,u,!1),function W5(o,s,c,u,d){const m=d?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof s&&Ce(m,s)>=0&&(c[u+1]=z6(c[u+1]))}(s,K,o,u,m),b=K2(x,k),m?s.classBindings=b:s.styleBindings=b}(d,m,s,c,b,u)}}(m,o,b,u),s!==Zn&&ds(d,b,s)&&function s7(o,s,c,u,d,m,b,x){if(!(3&s.type))return;const k=o.data,V=k[x+1],K=function US(o){return 1==(1&o)}(V)?a7(k,s,c,d,yu(V),b):void 0;Z2(K)||(Z2(m)||function HS(o){return 2==(2&o)}(V)&&(m=a7(k,null,c,d,x,b)),function I8(o,s,c,u,d){if(s)d?o.addClass(c,u):o.removeClass(c,u);else{let m=-1===u.indexOf("-")?void 0:sa.DashCase;null==d?o.removeStyle(c,u,m):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),m|=sa.Important),o.setStyle(c,u,d,m))}}(u,b,Pr(eo(),c),d,m))}(m,m.data[eo()],d,d[fn],o,d[b+1]=function sE(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=Ne(Fo(o)))),o}(s,c),u,b)}function k6(o,s,c,u,d){let m=null;const b=c.directiveEnd;let x=c.directiveStylingLast;for(-1===x?x=c.directiveStart:x++;x<b&&(m=s[x],u=Ih(u,m.hostAttrs,d),m!==o);)x++;return null!==o&&(c.directiveStylingLast=x),u}function Ih(o,s,c){const u=c?1:2;let d=-1;if(null!==s)for(let m=0;m<s.length;m++){const b=s[m];"number"==typeof b?d=b:d===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),j(o,b,!!c||s[++m]))}return void 0===o?null:o}function a7(o,s,c,u,d,m){const b=null===s;let x;for(;d>0;){const k=o[d],V=Array.isArray(k),K=V?k[1]:k,ee=null===K;let _e=c[d+1];_e===Zn&&(_e=ee?at:void 0);let Le=ee?X(_e,u):K===u?_e:void 0;if(V&&!Z2(Le)&&(Le=X(k,u)),Z2(Le)&&(x=Le,b))return x;const it=o[d+1];d=b?zl(it):yu(it)}if(null!==s){let k=m?s.residualClasses:s.residualStyles;null!=k&&(x=X(k,u))}return x}function Z2(o){return void 0!==o}function l7(o,s=""){const c=v(),u=T(),d=o+bn,m=u.firstCreatePass?x1(u,d,1,s,null):u.data[d],b=c[d]=function nh(o,s){return o.createText(s)}(c[fn],s);Sl(u,c,b,m),Qt(m,!1)}function N6(o){return Q2("",o,""),N6}function Q2(o,s,c){const u=v(),d=function A1(o,s,c,u){return ds(o,wi(),c)?s+st(c)+u:Zn}(u,o,s,c);return d!==Zn&&Bc(u,eo(),d),Q2}function R6(o,s,c,u,d){const m=v(),b=P1(m,o,s,c,u,d);return b!==Zn&&Bc(m,eo(),b),R6}const _u=void 0;var DE=["en",[["a","p"],["AM","PM"],_u],[["AM","PM"],_u,_u],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_u,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_u,"{1} 'at' {0}",_u],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function TE(o){const c=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let H1={};function ME(o,s,c){"string"!=typeof s&&(c=s,s=o[Sn.LocaleId]),s=s.toLowerCase().replace(/_/g,"-"),H1[s]=o,c&&(H1[s][Sn.ExtraData]=c)}function F6(o){const s=function IE(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=I7(s);if(c)return c;const u=s.split("-")[0];if(c=I7(u),c)return c;if("en"===u)return DE;throw new Be(701,!1)}function X2(o){return F6(o)[Sn.PluralCase]}function I7(o){return o in H1||(H1[o]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[o]),H1[o]}var Sn=(()=>((Sn=Sn||{})[Sn.LocaleId=0]="LocaleId",Sn[Sn.DayPeriodsFormat=1]="DayPeriodsFormat",Sn[Sn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Sn[Sn.DaysFormat=3]="DaysFormat",Sn[Sn.DaysStandalone=4]="DaysStandalone",Sn[Sn.MonthsFormat=5]="MonthsFormat",Sn[Sn.MonthsStandalone=6]="MonthsStandalone",Sn[Sn.Eras=7]="Eras",Sn[Sn.FirstDayOfWeek=8]="FirstDayOfWeek",Sn[Sn.WeekendRange=9]="WeekendRange",Sn[Sn.DateFormat=10]="DateFormat",Sn[Sn.TimeFormat=11]="TimeFormat",Sn[Sn.DateTimeFormat=12]="DateTimeFormat",Sn[Sn.NumberSymbols=13]="NumberSymbols",Sn[Sn.NumberFormats=14]="NumberFormats",Sn[Sn.CurrencyCode=15]="CurrencyCode",Sn[Sn.CurrencySymbol=16]="CurrencySymbol",Sn[Sn.CurrencyName=17]="CurrencyName",Sn[Sn.Currencies=18]="Currencies",Sn[Sn.Directionality=19]="Directionality",Sn[Sn.PluralCase=20]="PluralCase",Sn[Sn.ExtraData=21]="ExtraData",Sn))();const B1="en-US";let x7=B1;function H6(o,s,c,u,d){if(o=he(o),Array.isArray(o))for(let m=0;m<o.length;m++)H6(o[m],s,c,u,d);else{const m=T(),b=v();let x=pu(o)?o:he(o.provide),k=Ig(o);const V=ie(),K=1048575&V.providerIndexes,ee=V.directiveStart,_e=V.providerIndexes>>20;if(pu(o)||!o.multi){const Le=new oe(k,d,I1),it=U6(x,s,d?K:K+_e,ee);-1===it?(cr(pl(V,b),m,x),B6(m,o,s.length),s.push(x),V.directiveStart++,V.directiveEnd++,d&&(V.providerIndexes+=1048576),c.push(Le),b.push(Le)):(c[it]=Le,b[it]=Le)}else{const Le=U6(x,s,K+_e,ee),it=U6(x,s,K,K+_e),Ft=it>=0&&c[it];if(d&&!Ft||!d&&!(Le>=0&&c[Le])){cr(pl(V,b),m,x);const Jt=function bT(o,s,c,u,d){const m=new oe(o,c,I1);return m.multi=[],m.index=s,m.componentProviders=0,rv(m,d,u&&!c),m}(d?CT:wT,c.length,d,u,k);!d&&Ft&&(c[it].providerFactory=Jt),B6(m,o,s.length,0),s.push(x),V.directiveStart++,V.directiveEnd++,d&&(V.providerIndexes+=1048576),c.push(Jt),b.push(Jt)}else B6(m,o,Le>-1?Le:it,rv(c[d?it:Le],k,!d&&u));!d&&u&&Ft&&c[it].componentProviders++}}}function B6(o,s,c,u){const d=pu(s),m=function LC(o){return!!o.useClass}(s);if(d||m){const k=(m?he(s.useClass):s).prototype.ngOnDestroy;if(k){const V=o.destroyHooks||(o.destroyHooks=[]);if(!d&&s.multi){const K=V.indexOf(c);-1===K?V.push(c,[u,k]):V[K+1].push(u,k)}else V.push(c,k)}}}function rv(o,s,c){return c&&o.componentProviders++,o.multi.push(s)-1}function U6(o,s,c,u){for(let d=c;d<u;d++)if(s[d]===o)return d;return-1}function wT(o,s,c,u){return Y6(this.multi,[])}function CT(o,s,c,u){const d=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,x=La(c,c[vt],this.providerFactory.index,u);m=x.slice(0,b),Y6(d,m);for(let k=b;k<x.length;k++)m.push(x[k])}else m=[],Y6(d,m);return m}function Y6(o,s){for(let c=0;c<o.length;c++)s.push((0,o[c])());return s}function j6(o,s=[]){return c=>{c.providersResolver=(u,d)=>function _T(o,s,c){const u=T();if(u.firstCreatePass){const d=Xr(o);H6(c,u.data,u.blueprint,d,!0),H6(s,u.data,u.blueprint,d,!1)}}(u,d?d(o):o,s)}}class U1{}class iv{}function ST(o,s){return new ov(o,s??null)}class ov extends U1{constructor(s,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new f5(this);const u=In(s);this._bootstrapComponents=Hc(u.bootstrap),this._r3Injector=qg(s,c,[{provide:U1,useValue:this},{provide:Ch,useValue:this.componentFactoryResolver}],Ne(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class $6 extends iv{constructor(s){super(),this.moduleType=s}create(s){return new ov(this.moduleType,s)}}class ET extends U1{constructor(s,c,u){super(),this.componentFactoryResolver=new f5(this),this.instance=null;const d=new Mg([...s,{provide:U1,useValue:this},{provide:Ch,useValue:this.componentFactoryResolver}],c||R2(),u,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function G6(o,s,c=null){return new ET(o,s,c).injector}let TT=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const u=Sg(0,c.type),d=u.length>0?G6([u],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,d)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Te({token:o,providedIn:"environment",factory:()=>new o(On(mu))}),o})();function q6(o){o.getStandaloneInjector=s=>s.get(TT).getOrCreateStandaloneInjector(o)}function cf(o){return s=>{setTimeout(o,void 0,s)}}const ya=class LT extends g.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,c,u){let d=s,m=c||(()=>null),b=u;if(s&&"object"==typeof s){const k=s;d=k.next?.bind(k),m=k.error?.bind(k),b=k.complete?.bind(k)}this.__isAsync&&(m=cf(m),d&&(d=cf(d)),b&&(b=cf(b)));const x=super.subscribe({next:d,error:m,complete:b});return s instanceof Q.w0&&s.add(x),x}};function gv(){return this._results[Symbol.iterator]()}class lf{get changes(){return this._changes||(this._changes=new ya)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=lf.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=gv)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,c){return this._results.reduce(s,c)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,c){const u=this;u.dirty=!1;const d=function as(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Ld(o,s,c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++){let d=o[u],m=s[u];if(c&&(d=c(d),m=c(m)),m!==d)return!1}return!0}(u._results,d,c))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Lh=(()=>{class o{}return o.__NG_ELEMENT_ID__=BT,o})();const VT=Lh,HT=class extends VT{constructor(s,c,u){super(),this._declarationLView=s,this._declarationTContainer=c,this.elementRef=u}createEmbeddedView(s,c){const u=this._declarationTContainer.tView,d=L2(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null,c||null);d[pn]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[xn];return null!==b&&(d[xn]=b.createEmbeddedView(u)),t6(u,d,s),new Th(d)}};function BT(){return a0(ie(),v())}function a0(o,s){return 4&o.type?new HT(s,o,T1(o,s)):null}let c0=(()=>{class o{}return o.__NG_ELEMENT_ID__=vv,o})();function vv(){return ff(ie(),v())}const uf=c0,df=class extends uf{constructor(s,c,u){super(),this._lContainer=s,this._hostTNode=c,this._hostLView=u}get element(){return T1(this._hostTNode,this._hostLView)}get injector(){return new oa(this._hostTNode,this._hostLView)}get parentInjector(){const s=Xl(this._hostTNode,this._hostLView);if(ji(s)){const c=_o(s,this._hostLView),u=Io(s);return new oa(c[vt].data[u+8],c)}return new oa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const c=Y1(this._lContainer);return null!==c&&c[s]||null}get length(){return this._lContainer.length-jr}createEmbeddedView(s,c,u){let d,m;"number"==typeof u?d=u:null!=u&&(d=u.index,m=u.injector);const b=s.createEmbeddedView(c||{},m);return this.insert(b,d),b}createComponent(s,c,u,d,m){const b=s&&!function Ac(o){return"function"==typeof o}(s);let x;if(b)x=c;else{const ee=c||{};x=ee.index,u=ee.injector,d=ee.projectableNodes,m=ee.environmentInjector||ee.ngModuleRef}const k=b?s:new Dh(Ut(s)),V=u||this.parentInjector;if(!m&&null==k.ngModule){const _e=(b?V:this.parentInjector).get(mu,null);_e&&(m=_e)}const K=k.create(V,d,void 0,m);return this.insert(K.hostView,x),K}insert(s,c){const u=s._lView,d=u[vt];if(function is(o){return ii(o[rr])}(u)){const K=this.indexOf(s);if(-1!==K)this.detach(K);else{const ee=u[rr],_e=new df(ee,ee[Sr],ee[rr]);_e.detach(_e.indexOf(s))}}const m=this._adjustIndex(c),b=this._lContainer;!function Rc(o,s,c,u){const d=jr+u,m=c.length;u>0&&(c[d-1][hi]=s),u<m-jr?(s[hi]=c[d],Ju(c,jr+u,s)):(c.push(s),s[hi]=null),s[rr]=c;const b=s[pn];null!==b&&c!==b&&function S8(o,s){const c=o[Li];s[gt]!==s[rr][rr][gt]&&(o[Di]=!0),null===c?o[Li]=[s]:c.push(s)}(b,s);const x=s[xn];null!==x&&x.insertView(o),s[nn]|=64}(d,u,b,m);const x=El(m,b),k=u[fn],V=g1(k,b[Mi]);return null!==V&&function oh(o,s,c,u,d,m){u[Qr]=d,u[Sr]=s,cu(o,u,c,1,d,m)}(d,b[Sr],k,u,V,x),s.attachToViewContainerRef(),Ju(hf(b),m,s),s}move(s,c){return this.insert(s,c)}indexOf(s){const c=Y1(this._lContainer);return null!==c?c.indexOf(s):-1}remove(s){const c=this._adjustIndex(s,-1),u=su(this._lContainer,c);u&&(Pc(hf(this._lContainer),c),m2(u[vt],u))}detach(s){const c=this._adjustIndex(s,-1),u=su(this._lContainer,c);return u&&null!=Pc(hf(this._lContainer),c)?new Th(u):null}_adjustIndex(s,c=0){return s??this.length+c}};function Y1(o){return o[Do]}function hf(o){return o[Do]||(o[Do]=[])}function ff(o,s){let c;const u=s[o.index];if(ii(u))c=u;else{let d;if(8&o.type)d=Gr(u);else{const m=s[fn];d=m.createComment("");const b=kr(o,s);Fc(m,g1(m,b),d,function D8(o,s){return o.nextSibling(s)}(m,b),!1)}s[o.index]=c=c5(u,s,d,o),H2(s,c)}return new df(c,o,s)}class pf{constructor(s){this.queryList=s,this.matches=null}clone(){return new pf(this.queryList)}setDirty(){this.queryList.setDirty()}}class mf{constructor(s=[]){this.queries=s}createEmbeddedView(s){const c=s.queries;if(null!==c){const u=null!==s.contentQueries?s.contentQueries[0]:c.length,d=[];for(let m=0;m<u;m++){const b=c.getByIndex(m);d.push(this.queries[b.indexInDeclarationView].clone())}return new mf(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let c=0;c<this.queries.length;c++)null!==wf(s,c).matches&&this.queries[c].setDirty()}}class gf{constructor(s,c,u=null){this.predicate=s,this.flags=c,this.read=u}}class j1{constructor(s=[]){this.queries=s}elementStart(s,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,c)}elementEnd(s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(s)}embeddedTView(s){let c=null;for(let u=0;u<this.length;u++){const d=null!==c?c.length:0,m=this.getByIndex(u).embeddedTView(s,d);m&&(m.indexInDeclarationView=u,null!==c?c.push(m):c=[m])}return null!==c?new j1(c):null}template(s,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,c)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class l0{constructor(s,c=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(s,c){this.isApplyingToNode(c)&&this.matchTNode(s,c)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,c){this.elementStart(s,c)}embeddedTView(s,c){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,c),new l0(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const m=u[d];this.matchTNodeWithReadOption(s,c,Kr(c,m)),this.matchTNodeWithReadOption(s,c,gl(c,s,m,!1,!1))}else u===Lh?4&c.type&&this.matchTNodeWithReadOption(s,c,-1):this.matchTNodeWithReadOption(s,c,gl(c,s,u,!1,!1))}matchTNodeWithReadOption(s,c,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===bh||d===c0||d===Lh&&4&c.type)this.addMatch(c.index,-2);else{const m=gl(c,s,d,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,u)}}addMatch(s,c){null===this.matches?this.matches=[s,c]:this.matches.push(s,c)}}function Kr(o,s){const c=o.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===s)return c[u+1];return null}function d0(o,s,c,u){return-1===c?function u0(o,s){return 11&o.type?T1(o,s):4&o.type?a0(o,s):null}(s,o):-2===c?function yv(o,s,c){return c===bh?T1(s,o):c===Lh?a0(s,o):c===c0?ff(s,o):void 0}(o,s,u):La(o,o[vt],c,s)}function vf(o,s,c,u){const d=s[xn].queries[u];if(null===d.matches){const m=o.data,b=c.matches,x=[];for(let k=0;k<b.length;k+=2){const V=b[k];x.push(V<0?null:d0(s,m[V],b[k+1],c.metadata.read))}d.matches=x}return d.matches}function yf(o,s,c,u){const d=o.queries.getByIndex(c),m=d.matches;if(null!==m){const b=vf(o,s,d,c);for(let x=0;x<m.length;x+=2){const k=m[x];if(k>0)u.push(b[x/2]);else{const V=m[x+1],K=s[-k];for(let ee=jr;ee<K.length;ee++){const _e=K[ee];_e[pn]===_e[rr]&&yf(_e[vt],_e,V,u)}if(null!==K[Li]){const ee=K[Li];for(let _e=0;_e<ee.length;_e++){const Le=ee[_e];yf(Le[vt],Le,V,u)}}}}}return u}function Vh(o){const s=v(),c=T(),u=za();Aa(u+1);const d=wf(c,u);if(o.dirty&&function hr(o){return 4==(4&o[nn])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)o.reset([]);else{const m=d.crossesNgTemplate?yf(c,s,u,[]):vf(c,s,d,u);o.reset(m,KC),o.notifyOnChanges()}return!0}return!1}function Hh(o,s,c){const u=T();u.firstCreatePass&&(Cv(u,new gf(o,s,c),-1),2==(2&s)&&(u.staticViewQueries=!0)),wv(u,v(),s)}function h0(o,s,c,u){const d=T();if(d.firstCreatePass){const m=ie();Cv(d,new gf(s,c,u),m.index),function _f(o,s){const c=o.contentQueries||(o.contentQueries=[]);s!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,s)}(d,o),2==(2&c)&&(d.staticContentQueries=!0)}wv(d,v(),c)}function _v(){return function UT(o,s){return o[xn].queries[s].queryList}(v(),za())}function wv(o,s,c){const u=new lf(4==(4&c));a6(o,s,u,u.destroy),null===s[xn]&&(s[xn]=new mf),s[xn].queries.push(new pf(u))}function Cv(o,s,c){null===o.queries&&(o.queries=new j1),o.queries.track(new l0(s,c))}function wf(o,s){return o.queries.getByIndex(s)}function p0(o){return!!In(o)}function Pl(...o){}const Of=new Hr("Application Initializer");let Gh=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Pl,this.reject=Pl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const c=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const m=this.appInits[d]();if(E6(m))c.push(m);else if(P5(m)){const b=new Promise((x,k)=>{m.subscribe({complete:x,error:k})});c.push(b)}}Promise.all(c).then(()=>{u()}).catch(d=>{this.reject(d)}),0===c.length&&u(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(On(Of,8))},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Fv=new Hr("AppId",{providedIn:"root",factory:function Z1(){return`${Yc()}${Yc()}${Yc()}`}});function Yc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Nf=new Hr("Platform Initializer"),Lv=new Hr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vv=new Hr("AnimationModuleType");let _0=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const kl=new Hr("LocaleId",{providedIn:"root",factory:()=>nr(kl,Dt.Optional|Dt.SkipSelf)||function Hv(){return typeof $localize<"u"&&$localize.locale||B1}()}),Q1=new Hr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class iD{constructor(s,c){this.ngModuleFactory=s,this.componentFactories=c}}let oD=(()=>{class o{compileModuleSync(c){return new $6(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),m=Hc(In(c).declarations).reduce((b,x)=>{const k=Ut(x);return k&&b.push(new Dh(k)),b},[]);return new iD(u,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Bv=(()=>Promise.resolve(0))();function C0(o){typeof Zone>"u"?Bv.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class _a{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ya(!1),this.onMicrotaskEmpty=new ya(!1),this.onStable=new ya(!1),this.onError=new ya(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&c,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Uv(){let o=mn.requestAnimationFrame,s=mn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Vf(o){const s=()=>{!function uD(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(mn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,X1(o),o.isCheckStableRunning=!0,Lf(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),X1(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,d,m,b,x)=>{try{return Yv(o),c.invokeTask(d,m,b,x)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&s(),jv(o)}},onInvoke:(c,u,d,m,b,x,k)=>{try{return Yv(o),c.invoke(d,m,b,x,k)}finally{o.shouldCoalesceRunChangeDetection&&s(),jv(o)}},onHasTask:(c,u,d,m)=>{c.hasTask(d,m),u===d&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,X1(o),Lf(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,u,d,m)=>(c.handleError(d,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_a.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(_a.isInAngularZone())throw new Be(909,!1)}run(s,c,u){return this._inner.run(s,c,u)}runTask(s,c,u,d){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+d,s,lD,Pl,Pl);try{return m.runTask(b,c,u)}finally{m.cancelTask(b)}}runGuarded(s,c,u){return this._inner.runGuarded(s,c,u)}runOutsideAngular(s){return this._outer.run(s)}}const lD={};function Lf(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function X1(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Yv(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function jv(o){o._nesting--,Lf(o)}class dD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ya,this.onMicrotaskEmpty=new ya,this.onStable=new ya,this.onError=new ya}run(s,c,u){return s.apply(c,u)}runGuarded(s,c,u){return s.apply(c,u)}runOutsideAngular(s){return s()}runTask(s,c,u,d){return s.apply(c,u)}}const $v=new Hr(""),Gv=new Hr("");let b0,hD=(()=>{class o{constructor(c,u,d){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,b0||(function qv(o){b0=o}(d),d.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_a.assertNotInAngularZone(),C0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())C0(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,d){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:d})}whenStable(c,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,d){return[]}}return o.\u0275fac=function(c){return new(c||o)(On(_a),On(Kh),On(Gv))},o.\u0275prov=Te({token:o,factory:o.\u0275fac}),o})(),Kh=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return b0?.findTestabilityInTree(this,c,u)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const gc=!1;let jc=null;const Wv=new Hr("AllowMultipleToken"),S0=new Hr("PlatformDestroyListeners"),Kv=new Hr("appBootstrapListener");class mD{constructor(s,c){this.name=s,this.token=c}}function E0(o,s,c=[]){const u=`Platform: ${s}`,d=new Hr(u);return(m=[])=>{let b=Bf();if(!b||b.injector.get(Wv,!1)){const x=[...c,...m,{provide:d,useValue:!0}];o?o(x):function Hf(o){if(jc&&!jc.get(Wv,!1))throw new Be(400,!1);jc=o;const s=o.get(Uf);(function Zv(o){const s=o.get(Nf,null);s&&s.forEach(c=>c())})(o)}(function Xv(o=[],s){return gu.create({name:s,providers:[{provide:U8,useValue:"platform"},{provide:S0,useValue:new Set([()=>jc=null])},...o]})}(x,u))}return function Qv(o){const s=Bf();if(!s)throw new Be(401,!1);return s}()}}function Bf(){return jc?.get(Uf)??null}let Uf=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const d=function Yf(o,s){let c;return c="noop"===o?new dD:("zone.js"===o?void 0:o)||new _a(s),c}(u?.ngZone,function Jv(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(u)),m=[{provide:_a,useValue:d}];return d.run(()=>{const b=gu.create({providers:m,parent:this.injector,name:c.moduleType.name}),x=c.create(b),k=x.injector.get(Sh,null);if(!k)throw new Be(402,!1);return d.runOutsideAngular(()=>{const V=d.onError.subscribe({next:K=>{k.handleError(K)}});x.onDestroy(()=>{Qh(this._modules,x),V.unsubscribe()})}),function e9(o,s,c){try{const u=c();return E6(u)?u.catch(d=>{throw s.runOutsideAngular(()=>o.handleError(d)),d}):u}catch(u){throw s.runOutsideAngular(()=>o.handleError(u)),u}}(k,d,()=>{const V=x.injector.get(Gh);return V.runInitializers(),V.donePromise.then(()=>(function z7(o){Ae(o,"Expected localeId to be defined"),"string"==typeof o&&(x7=o.toLowerCase().replace(/_/g,"-"))}(x.injector.get(kl,B1)||B1),this._moduleDoBootstrap(x),x))})})}bootstrapModule(c,u=[]){const d=jf({},u);return function fD(o,s,c){const u=new $6(c);return Promise.resolve(u)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(c){const u=c.injector.get(Zh);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!c.instance.ngDoBootstrap)throw new Be(-403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get(S0,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(On(gu))},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function jf(o,s){return Array.isArray(s)?s.reduce(jf,o):{...o,...s}}let Zh=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,u,d){this._zone=c,this._injector=u,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new _.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),b=new _.y(x=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{_a.assertNotInAngularZone(),C0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{_a.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{k.unsubscribe(),V.unsubscribe()}});this.isStable=(0,pe.T)(m,b.pipe((0,ve.B)()))}bootstrap(c,u){const d=c instanceof xg;if(!this._injector.get(Gh).done){!d&&Cn(c);throw new Be(405,gc)}let b;b=d?c:this._injector.get(Ch).resolveComponentFactory(c),this.componentTypes.push(b.componentType);const x=function pD(o){return o.isBoundToModule}(b)?void 0:this._injector.get(U1),V=b.create(gu.NULL,[],u||b.selector,x),K=V.location.nativeElement,ee=V.injector.get($v,null);return ee?.registerApplication(K),V.onDestroy(()=>{this.detachView(V.hostView),Qh(this.components,V),ee?.unregisterApplication(K)}),this._loadComponent(V),V}tick(){if(this._runningTick)throw new Be(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;Qh(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get(Kv,[]);u.push(...this._bootstrapListeners),u.forEach(d=>d(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Qh(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Be(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(On(_a),On(mu),On(Sh))},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Qh(o,s){const c=o.indexOf(s);c>-1&&o.splice(c,1)}function r9(){return!1}let yD=(()=>{class o{}return o.__NG_ELEMENT_ID__=_D,o})();function _D(o){return function wD(o,s,c){if($r(o)&&!c){const u=Or(o.index,s);return new Th(u,u)}return 47&o.type?new Th(s[gt],s):null}(ie(),v(),16==(16&o))}class qf{constructor(){}supports(s){return $2(s)}create(s){return new Wf(s)}}const l9=(o,s)=>s;class Wf{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||l9}forEachItem(s){let c;for(c=this._itHead;null!==c;c=c._next)s(c)}forEachOperation(s){let c=this._itHead,u=this._removalsHead,d=0,m=null;for(;c||u;){const b=!u||c&&c.currentIndex<Qf(u,d,m)?c:u,x=Qf(b,d,m),k=b.currentIndex;if(b===u)d--,u=u._nextRemoved;else if(c=c._next,null==b.previousIndex)d++;else{m||(m=[]);const V=x-d,K=k-d;if(V!=K){for(let _e=0;_e<V;_e++){const Le=_e<m.length?m[_e]:m[_e]=0,it=Le+_e;K<=it&&it<V&&(m[_e]=Le+1)}m[b.previousIndex]=K-V}}x!==k&&s(b,x,k)}}forEachPreviousItem(s){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachMovedItem(s){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}forEachIdentityChange(s){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)s(c)}diff(s){if(null==s&&(s=[]),!$2(s))throw new Be(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,m,b,c=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let x=0;x<this.length;x++)m=s[x],b=this._trackByFn(x,m),null!==c&&Object.is(c.trackById,b)?(u&&(c=this._verifyReinsertion(c,m,b,x)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,b,x),u=!0),c=c._next}else d=0,function zS(o,s){if(Array.isArray(o))for(let c=0;c<o.length;c++)s(o[c]);else{const c=o[Symbol.iterator]();let u;for(;!(u=c.next()).done;)s(u.value)}}(s,x=>{b=this._trackByFn(d,x),null!==c&&Object.is(c.trackById,b)?(u&&(c=this._verifyReinsertion(c,x,b,d)),Object.is(c.item,x)||this._addIdentityChange(c,x)):(c=this._mismatch(c,x,b,d),u=!0),c=c._next,d++}),this.length=d;return this._truncate(c),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,c,u,d){let m;return null===s?m=this._itTail:(m=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._reinsertAfter(s,m,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._moveAfter(s,m,d)):s=this._addAfter(new u9(c,u),m,d),s}_verifyReinsertion(s,c,u,d){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?s=this._reinsertAfter(m,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const c=s._next;this._addToRemovals(this._unlink(s)),s=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,m=s._nextRemoved;return null===d?this._removalsHead=m:d._nextRemoved=m,null===m?this._removalsTail=d:m._prevRemoved=d,this._insertAfter(s,c,u),this._addToMoves(s,u),s}_moveAfter(s,c,u){return this._unlink(s),this._insertAfter(s,c,u),this._addToMoves(s,u),s}_addAfter(s,c,u){return this._insertAfter(s,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,c,u){const d=null===c?this._itHead:c._next;return s._next=d,s._prev=c,null===d?this._itTail=s:d._prev=s,null===c?this._itHead=s:c._next=s,null===this._linkedRecords&&(this._linkedRecords=new Zf),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const c=s._prev,u=s._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,s}_addToMoves(s,c){return s.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zf),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,c){return s.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class u9{constructor(s,c){this.item=s,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Kf{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const c=s._prevDup,u=s._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class Zf{constructor(){this.map=new Map}put(s){const c=s.trackById;let u=this.map.get(c);u||(u=new Kf,this.map.set(c,u)),u.add(s)}get(s,c){const d=this.map.get(s);return d?d.get(s,c):null}remove(s){const c=s.trackById;return this.map.get(c).remove(s)&&this.map.delete(c),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qf(o,s,c){const u=o.previousIndex;if(null===u)return u;let d=0;return c&&u<c.length&&(d=c[u]),u+s+d}class Gc{constructor(){}supports(s){return s instanceof Map||v6(s)}create(){return new Xf}}class Xf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let c;for(c=this._mapHead;null!==c;c=c._next)s(c)}forEachPreviousItem(s){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)s(c)}forEachChangedItem(s){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}diff(s){if(s){if(!(s instanceof Map||v6(s)))throw new Be(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,d)=>{if(c&&c.key===d)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(d,u);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,c){if(s){const u=s._prev;return c._next=s,c._prev=u,s._prev=c,u&&(u._next=c),s===this._mapHead&&(this._mapHead=c),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(s,c){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,c);const m=d._prev,b=d._next;return m&&(m._next=b),b&&(b._prev=m),d._next=null,d._prev=null,d}const u=new Jf(s);return this._records.set(s,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,c){Object.is(c,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=c,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,c){s instanceof Map?s.forEach(c):Object.keys(s).forEach(u=>c(s[u],u))}}class Jf{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function d9(){return new ep([new qf])}let ep=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(null!=u){const d=u.factories.slice();c=c.concat(d)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||d9()),deps:[[o,new nu,new kc]]}}find(c){const u=this.factories.find(d=>d.supports(c));if(null!=u)return u;throw new Be(901,!1)}}return o.\u0275prov=Te({token:o,providedIn:"root",factory:d9}),o})();function tp(){return new I0([new Gc])}let I0=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(u){const d=u.factories.slice();c=c.concat(d)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||tp()),deps:[[o,new nu,new kc]]}}find(c){const u=this.factories.find(d=>d.supports(c));if(u)return u;throw new Be(901,!1)}}return o.\u0275prov=Te({token:o,providedIn:"root",factory:tp}),o})();const DD=E0(null,"core",[]);let MD=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(On(Zh))},o.\u0275mod=Se({type:o}),o.\u0275inj=an({}),o})();function p9(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},433:(It,Ve,L)=>{L.d(Ve,{u5:()=>xa,UX:()=>G});var g=L(4650);L(6895),L(8996),L(9751),L(4742),L(8421),L(3269),L(5403),L(3268),L(1810),L(4004);const on=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ee}),Ee="always";let $r=(()=>{class v{}return v.\u0275fac=function(I){return new(I||v)},v.\u0275mod=g.oAB({type:v}),v.\u0275inj=g.cJS({}),v})();const Hi=new g.OlP("NgModelWithFormControlWarning");let uo=(()=>{class v{}return v.\u0275fac=function(I){return new(I||v)},v.\u0275mod=g.oAB({type:v}),v.\u0275inj=g.cJS({imports:[$r]}),v})(),xa=(()=>{class v{static withConfig(I){return{ngModule:v,providers:[{provide:on,useValue:I.callSetDisabledState??Ee}]}}}return v.\u0275fac=function(I){return new(I||v)},v.\u0275mod=g.oAB({type:v}),v.\u0275inj=g.cJS({imports:[uo]}),v})(),G=(()=>{class v{static withConfig(I){return{ngModule:v,providers:[{provide:Hi,useValue:I.warnOnNgModelWithFormControl??"always"},{provide:on,useValue:I.callSetDisabledState??Ee}]}}}return v.\u0275fac=function(I){return new(I||v)},v.\u0275mod=g.oAB({type:v}),v.\u0275inj=g.cJS({imports:[uo]}),v})()},1481:(It,Ve,L)=>{L.d(Ve,{Dx:()=>Gn,H7:()=>fe,b2:()=>ni,q6:()=>fr,se:()=>bt});var g=L(6895),Q=L(4650);class _ extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pe extends _{static makeCurrent(){(0,g.HT)(new pe)}onAndCancel($,Y,J){return $.addEventListener(Y,J,!1),()=>{$.removeEventListener(Y,J,!1)}}dispatchEvent($,Y){$.dispatchEvent(Y)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,Y){return(Y=Y||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,Y){return"window"===Y?window:"document"===Y?$:"body"===Y?$.body:null}getBaseHref($){const Y=function we(){return ve=ve||document.querySelector("base"),ve?ve.getAttribute("href"):null}();return null==Y?null:function Ne(ue){xe=xe||document.createElement("a"),xe.setAttribute("href",ue);const $=xe.pathname;return"/"===$.charAt(0)?$:`/${$}`}(Y)}resetBaseElement(){ve=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,g.Mx)(document.cookie,$)}}let xe,ve=null;const Pe=new Q.OlP("TRANSITION_ID"),ae=[{provide:Q.ip1,useFactory:function se(ue,$,Y){return()=>{Y.get(Q.CZH).donePromise.then(()=>{const J=(0,g.q)(),me=$.querySelectorAll(`style[ng-transition="${ue}"]`);for(let Me=0;Me<me.length;Me++)J.remove(me[Me])})}},deps:[Pe,g.K0,Q.zs3],multi:!0}];let Ke=(()=>{class ue{build(){return new XMLHttpRequest}}return ue.\u0275fac=function(Y){return new(Y||ue)},ue.\u0275prov=Q.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const He=new Q.OlP("EventManagerPlugins");let Qe=(()=>{class ue{constructor(Y,J){this._zone=J,this._eventNameToPlugin=new Map,Y.forEach(me=>{me.manager=this}),this._plugins=Y.slice().reverse()}addEventListener(Y,J,me){return this._findPluginFor(J).addEventListener(Y,J,me)}addGlobalEventListener(Y,J,me){return this._findPluginFor(J).addGlobalEventListener(Y,J,me)}getZone(){return this._zone}_findPluginFor(Y){const J=this._eventNameToPlugin.get(Y);if(J)return J;const me=this._plugins;for(let Me=0;Me<me.length;Me++){const ct=me[Me];if(ct.supports(Y))return this._eventNameToPlugin.set(Y,ct),ct}throw new Error(`No event manager plugin found for event ${Y}`)}}return ue.\u0275fac=function(Y){return new(Y||ue)(Q.LFG(He),Q.LFG(Q.R0b))},ue.\u0275prov=Q.Yz7({token:ue,factory:ue.\u0275fac}),ue})();class St{constructor($){this._doc=$}addGlobalEventListener($,Y,J){const me=(0,g.q)().getGlobalEventTarget(this._doc,$);if(!me)throw new Error(`Unsupported event target ${me} for event ${Y}`);return this.addEventListener(me,Y,J)}}let Be=(()=>{class ue{constructor(){this.usageCount=new Map}addStyles(Y){for(const J of Y)1===this.changeUsageCount(J,1)&&this.onStyleAdded(J)}removeStyles(Y){for(const J of Y)0===this.changeUsageCount(J,-1)&&this.onStyleRemoved(J)}onStyleRemoved(Y){}onStyleAdded(Y){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(Y,J){const me=this.usageCount;let Me=me.get(Y)??0;return Me+=J,Me>0?me.set(Y,Me):me.delete(Y),Me}ngOnDestroy(){for(const Y of this.getAllStyles())this.onStyleRemoved(Y);this.usageCount.clear()}}return ue.\u0275fac=function(Y){return new(Y||ue)},ue.\u0275prov=Q.Yz7({token:ue,factory:ue.\u0275fac}),ue})(),et=(()=>{class ue extends Be{constructor(Y){super(),this.doc=Y,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(Y){for(const J of this.hostNodes)this.addStyleToHost(J,Y)}onStyleRemoved(Y){const J=this.styleRef;J.get(Y)?.forEach(Me=>Me.remove()),J.delete(Y)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(Y){this.hostNodes.add(Y);for(const J of this.getAllStyles())this.addStyleToHost(Y,J)}removeHost(Y){this.hostNodes.delete(Y)}addStyleToHost(Y,J){const me=this.doc.createElement("style");me.textContent=J,Y.appendChild(me);const Me=this.styleRef.get(J);Me?Me.push(me):this.styleRef.set(J,[me])}resetHostNodes(){const Y=this.hostNodes;Y.clear(),Y.add(this.doc.head)}}return ue.\u0275fac=function(Y){return new(Y||ue)(Q.LFG(g.K0))},ue.\u0275prov=Q.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ht=/%COMP%/g,_t=new Q.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function wt(ue,$){return $.flat(100).map(Y=>Y.replace(ht,ue))}function Gt(ue){return $=>{if("__ngUnwrap__"===$)return ue;!1===ue($)&&($.preventDefault(),$.returnValue=!1)}}let bt=(()=>{class ue{constructor(Y,J,me,Me){this.eventManager=Y,this.sharedStylesHost=J,this.appId=me,this.removeStylesOnCompDestory=Me,this.rendererByCompId=new Map,this.defaultRenderer=new ui(Y)}createRenderer(Y,J){if(!Y||!J)return this.defaultRenderer;const me=this.getOrCreateRenderer(Y,J);return me instanceof Ae?me.applyToHost(Y):me instanceof Zr&&me.applyStyles(),me}getOrCreateRenderer(Y,J){const me=this.rendererByCompId;let Me=me.get(J.id);if(!Me){const ct=this.eventManager,Mt=this.sharedStylesHost,Wt=this.removeStylesOnCompDestory;switch(J.encapsulation){case Q.ifc.Emulated:Me=new Ae(ct,Mt,J,this.appId,Wt);break;case Q.ifc.ShadowDom:return new ti(ct,Mt,Y,J);default:Me=new Zr(ct,Mt,J,Wt)}Me.onDestroy=()=>me.delete(J.id),me.set(J.id,Me)}return Me}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ue.\u0275fac=function(Y){return new(Y||ue)(Q.LFG(Qe),Q.LFG(et),Q.LFG(Q.AFp),Q.LFG(_t))},ue.\u0275prov=Q.Yz7({token:ue,factory:ue.\u0275fac}),ue})();class ui{constructor($){this.eventManager=$,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,Y){return Y?document.createElementNS(st[Y]||Y,$):document.createElement($)}createComment($){return document.createComment($)}createText($){return document.createTextNode($)}appendChild($,Y){(Br($)?$.content:$).appendChild(Y)}insertBefore($,Y,J){$&&(Br($)?$.content:$).insertBefore(Y,J)}removeChild($,Y){$&&$.removeChild(Y)}selectRootElement($,Y){let J="string"==typeof $?document.querySelector($):$;if(!J)throw new Error(`The selector "${$}" did not match any elements`);return Y||(J.textContent=""),J}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,Y,J,me){if(me){Y=me+":"+Y;const Me=st[me];Me?$.setAttributeNS(Me,Y,J):$.setAttribute(Y,J)}else $.setAttribute(Y,J)}removeAttribute($,Y,J){if(J){const me=st[J];me?$.removeAttributeNS(me,Y):$.removeAttribute(`${J}:${Y}`)}else $.removeAttribute(Y)}addClass($,Y){$.classList.add(Y)}removeClass($,Y){$.classList.remove(Y)}setStyle($,Y,J,me){me&(Q.JOm.DashCase|Q.JOm.Important)?$.style.setProperty(Y,J,me&Q.JOm.Important?"important":""):$.style[Y]=J}removeStyle($,Y,J){J&Q.JOm.DashCase?$.style.removeProperty(Y):$.style[Y]=""}setProperty($,Y,J){$[Y]=J}setValue($,Y){$.nodeValue=Y}listen($,Y,J){return"string"==typeof $?this.eventManager.addGlobalEventListener($,Y,Gt(J)):this.eventManager.addEventListener($,Y,Gt(J))}}function Br(ue){return"TEMPLATE"===ue.tagName&&void 0!==ue.content}class ti extends ui{constructor($,Y,J,me){super($),this.sharedStylesHost=Y,this.hostEl=J,this.shadowRoot=J.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Me=wt(me.id,me.styles);for(const ct of Me){const Mt=document.createElement("style");Mt.textContent=ct,this.shadowRoot.appendChild(Mt)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,Y){return super.appendChild(this.nodeOrShadowRoot($),Y)}insertBefore($,Y,J){return super.insertBefore(this.nodeOrShadowRoot($),Y,J)}removeChild($,Y){return super.removeChild(this.nodeOrShadowRoot($),Y)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Zr extends ui{constructor($,Y,J,me,Me=J.id){super($),this.sharedStylesHost=Y,this.removeStylesOnCompDestory=me,this.rendererUsageCount=0,this.styles=wt(Me,J.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ae extends Zr{constructor($,Y,J,me,Me){const ct=me+"-"+J.id;super($,Y,J,Me,ct),this.contentAttr=function Ie(ue){return"_ngcontent-%COMP%".replace(ht,ue)}(ct),this.hostAttr=function $t(ue){return"_nghost-%COMP%".replace(ht,ue)}(ct)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,Y){const J=super.createElement($,Y);return super.setAttribute(J,this.contentAttr,""),J}}let be=(()=>{class ue extends St{constructor(Y){super(Y)}supports(Y){return!0}addEventListener(Y,J,me){return Y.addEventListener(J,me,!1),()=>this.removeEventListener(Y,J,me)}removeEventListener(Y,J,me){return Y.removeEventListener(J,me)}}return ue.\u0275fac=function(Y){return new(Y||ue)(Q.LFG(g.K0))},ue.\u0275prov=Q.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const ke=["alt","control","meta","shift"],Oe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lt={alt:ue=>ue.altKey,control:ue=>ue.ctrlKey,meta:ue=>ue.metaKey,shift:ue=>ue.shiftKey};let Te=(()=>{class ue extends St{constructor(Y){super(Y)}supports(Y){return null!=ue.parseEventName(Y)}addEventListener(Y,J,me){const Me=ue.parseEventName(J),ct=ue.eventCallback(Me.fullKey,me,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel(Y,Me.domEventName,ct))}static parseEventName(Y){const J=Y.toLowerCase().split("."),me=J.shift();if(0===J.length||"keydown"!==me&&"keyup"!==me)return null;const Me=ue._normalizeKey(J.pop());let ct="",Mt=J.indexOf("code");if(Mt>-1&&(J.splice(Mt,1),ct="code."),ke.forEach(on=>{const Ee=J.indexOf(on);Ee>-1&&(J.splice(Ee,1),ct+=on+".")}),ct+=Me,0!=J.length||0===Me.length)return null;const Wt={};return Wt.domEventName=me,Wt.fullKey=ct,Wt}static matchEventFullKeyCode(Y,J){let me=Oe[Y.key]||Y.key,Me="";return J.indexOf("code.")>-1&&(me=Y.code,Me="code."),!(null==me||!me)&&(me=me.toLowerCase()," "===me?me="space":"."===me&&(me="dot"),ke.forEach(ct=>{ct!==me&&(0,lt[ct])(Y)&&(Me+=ct+".")}),Me+=me,Me===J)}static eventCallback(Y,J,me){return Me=>{ue.matchEventFullKeyCode(Me,Y)&&me.runGuarded(()=>J(Me))}}static _normalizeKey(Y){return"esc"===Y?"escape":Y}}return ue.\u0275fac=function(Y){return new(Y||ue)(Q.LFG(g.K0))},ue.\u0275prov=Q.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const fr=(0,Q.eFA)(Q._c5,"browser",[{provide:Q.Lbi,useValue:g.bD},{provide:Q.g9A,useValue:function Mn(){pe.makeCurrent()},multi:!0},{provide:g.K0,useFactory:function _n(){return(0,Q.RDi)(document),document},deps:[]}]),rn=new Q.OlP(""),Dt=[{provide:Q.rWj,useClass:class he{addToWindow($){Q.dqk.getAngularTestability=(J,me=!0)=>{const Me=$.findTestabilityInTree(J,me);if(null==Me)throw new Error("Could not find testability for element.");return Me},Q.dqk.getAllAngularTestabilities=()=>$.getAllTestabilities(),Q.dqk.getAllAngularRootElements=()=>$.getAllRootElements(),Q.dqk.frameworkStabilizers||(Q.dqk.frameworkStabilizers=[]),Q.dqk.frameworkStabilizers.push(J=>{const me=Q.dqk.getAllAngularTestabilities();let Me=me.length,ct=!1;const Mt=function(Wt){ct=ct||Wt,Me--,0==Me&&J(ct)};me.forEach(function(Wt){Wt.whenStable(Mt)})})}findTestabilityInTree($,Y,J){return null==Y?null:$.getTestability(Y)??(J?(0,g.q)().isShadowRoot(Y)?this.findTestabilityInTree($,Y.host,!0):this.findTestabilityInTree($,Y.parentElement,!0):null)}},deps:[]},{provide:Q.lri,useClass:Q.dDg,deps:[Q.R0b,Q.eoX,Q.rWj]},{provide:Q.dDg,useClass:Q.dDg,deps:[Q.R0b,Q.eoX,Q.rWj]}],An=[{provide:Q.zSh,useValue:"root"},{provide:Q.qLn,useFactory:function Ir(){return new Q.qLn},deps:[]},{provide:He,useClass:be,multi:!0,deps:[g.K0,Q.R0b,Q.Lbi]},{provide:He,useClass:Te,multi:!0,deps:[g.K0]},{provide:bt,useClass:bt,deps:[Qe,et,Q.AFp,_t]},{provide:Q.FYo,useExisting:bt},{provide:Be,useExisting:et},{provide:et,useClass:et,deps:[g.K0]},{provide:Qe,useClass:Qe,deps:[He,Q.R0b]},{provide:g.JF,useClass:Ke,deps:[]},[]];let ni=(()=>{class ue{constructor(Y){}static withServerTransition(Y){return{ngModule:ue,providers:[{provide:Q.AFp,useValue:Y.appId},{provide:Pe,useExisting:Q.AFp},ae]}}}return ue.\u0275fac=function(Y){return new(Y||ue)(Q.LFG(rn,12))},ue.\u0275mod=Q.oAB({type:ue}),ue.\u0275inj=Q.cJS({providers:[...An,...Dt],imports:[g.ez,Q.hGG]}),ue})(),Gn=(()=>{class ue{constructor(Y){this._doc=Y}getTitle(){return this._doc.title}setTitle(Y){this._doc.title=Y||""}}return ue.\u0275fac=function(Y){return new(Y||ue)(Q.LFG(g.K0))},ue.\u0275prov=Q.Yz7({token:ue,factory:function(Y){let J=null;return J=Y?new Y:function mn(){return new Gn((0,Q.LFG)(g.K0))}(),J},providedIn:"root"}),ue})();typeof window<"u"&&window;let fe=(()=>{class ue{}return ue.\u0275fac=function(Y){return new(Y||ue)},ue.\u0275prov=Q.Yz7({token:ue,factory:function(Y){let J=null;return J=Y?new(Y||ue):Q.LFG(De),J},providedIn:"root"}),ue})(),De=(()=>{class ue extends fe{constructor(Y){super(),this._doc=Y}sanitize(Y,J){if(null==J)return null;switch(Y){case Q.q3G.NONE:return J;case Q.q3G.HTML:return(0,Q.qzn)(J,"HTML")?(0,Q.z3N)(J):(0,Q.EiD)(this._doc,String(J)).toString();case Q.q3G.STYLE:return(0,Q.qzn)(J,"Style")?(0,Q.z3N)(J):J;case Q.q3G.SCRIPT:if((0,Q.qzn)(J,"Script"))return(0,Q.z3N)(J);throw new Error("unsafe value used in a script context");case Q.q3G.URL:return(0,Q.qzn)(J,"URL")?(0,Q.z3N)(J):(0,Q.mCW)(String(J));case Q.q3G.RESOURCE_URL:if((0,Q.qzn)(J,"ResourceURL"))return(0,Q.z3N)(J);throw new Error(`unsafe value used in a resource URL context (see ${Q.JZr})`);default:throw new Error(`Unexpected SecurityContext ${Y} (see ${Q.JZr})`)}}bypassSecurityTrustHtml(Y){return(0,Q.JVY)(Y)}bypassSecurityTrustStyle(Y){return(0,Q.L6k)(Y)}bypassSecurityTrustScript(Y){return(0,Q.eBb)(Y)}bypassSecurityTrustUrl(Y){return(0,Q.LAX)(Y)}bypassSecurityTrustResourceUrl(Y){return(0,Q.pB0)(Y)}}return ue.\u0275fac=function(Y){return new(Y||ue)(Q.LFG(g.K0))},ue.\u0275prov=Q.Yz7({token:ue,factory:function(Y){let J=null;return J=Y?new Y:function We(ue){return new De(ue.get(g.K0))}(Q.LFG(Q.zs3)),J},providedIn:"root"}),ue})()},5137:(It,Ve,L)=>{L.d(Ve,{F0:()=>cr,Bz:()=>Fd,lC:()=>ir});var g=L(4650),Q=L(8996),_=L(9646),pe=L(7579);class ve extends pe.x{constructor(D){super(),this._value=D}get value(){return this.getValue()}_subscribe(D){const C=super._subscribe(D);return!C.closed&&D.next(this._value),C}getValue(){const{hasError:D,thrownError:C,_value:z}=this;if(D)throw C;return this._throwIfClosed(),z}next(D){super.next(this._value=D)}}var we=L(6805),xe=L(9841),Ne=L(7272),Pe=L(9751),se=L(8421);function ae(S){return new Pe.y(D=>{(0,se.Xf)(S()).subscribe(D)})}var he=L(9635),Ke=L(576);function He(S,D){const C=(0,Ke.m)(S)?S:()=>S,z=R=>R.error(C());return new Pe.y(D?R=>D.schedule(z,0,R):z)}var Qe=L(515),St=L(727),Be=L(4482),et=L(5403);function st(){return(0,Be.e)((S,D)=>{let C=null;S._refCount++;const z=(0,et.x)(D,void 0,void 0,void 0,()=>{if(!S||S._refCount<=0||0<--S._refCount)return void(C=null);const R=S._connection,j=C;C=null,R&&(!j||R===j)&&R.unsubscribe(),D.unsubscribe()});S.subscribe(z),z.closed||(C=S.connect())})}class ht extends Pe.y{constructor(D,C){super(),this.source=D,this.subjectFactory=C,this._subject=null,this._refCount=0,this._connection=null,(0,Be.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new St.w0;const C=this.getSubject();D.add(this.source.subscribe((0,et.x)(C,void 0,()=>{this._teardown(),C.complete()},z=>{this._teardown(),C.error(z)},()=>this._teardown()))),D.closed&&(this._connection=null,D=St.w0.EMPTY)}return D}refCount(){return st()(this)}}var Xe=L(6895),Fe=L(4004),Ye=L(3900),mt=L(5698),nt=L(8675),_t=L(9300),Ie=L(5577),$t=L(590),wt=L(4351),Gt=L(8505),bt=L(262),ui=L(5026);function Rr(S){return S<=0?()=>Qe.E:(0,Be.e)((D,C)=>{let z=[];D.subscribe((0,et.x)(C,R=>{z.push(R),S<z.length&&z.shift()},()=>{for(const R of z)C.next(R);C.complete()},void 0,()=>{z=null}))})}var di=L(8068),Br=L(6590),ti=L(4671);function Zr(S,D){const C=arguments.length>=2;return z=>z.pipe(S?(0,_t.h)((R,j)=>S(R,j,z)):ti.y,Rr(1),C?(0,Br.d)(D):(0,di.T)(()=>new we.K))}var be=L(9718),ke=L(8746),Oe=L(8189),lt=L(1481);const Te="primary",Ct=Symbol("RouteTitle");class an{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const C=this.params[D];return Array.isArray(C)?C[0]:C}return null}getAll(D){if(this.has(D)){const C=this.params[D];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function Tn(S){return new an(S)}function Zt(S,D,C){const z=C.path.split("/");if(z.length>S.length||"full"===C.pathMatch&&(D.hasChildren()||z.length<S.length))return null;const R={};for(let j=0;j<z.length;j++){const X=z[j],Ce=S[j];if(X.startsWith(":"))R[X.substring(1)]=Ce;else if(X!==Ce.path)return null}return{consumed:S.slice(0,z.length),posParams:R}}function Mn(S,D){const C=S?Object.keys(S):void 0,z=D?Object.keys(D):void 0;if(!C||!z||C.length!=z.length)return!1;let R;for(let j=0;j<C.length;j++)if(R=C[j],!Ir(S[R],D[R]))return!1;return!0}function Ir(S,D){if(Array.isArray(S)&&Array.isArray(D)){if(S.length!==D.length)return!1;const C=[...S].sort(),z=[...D].sort();return C.every((R,j)=>z[j]===R)}return S===D}function _n(S){return Array.prototype.concat.apply([],S)}function Vn(S){return S.length>0?S[S.length-1]:null}function rn(S,D){for(const C in S)S.hasOwnProperty(C)&&D(S[C],C)}function Dt(S){return(0,g.CqO)(S)?S:(0,g.QGY)(S)?(0,Q.D)(Promise.resolve(S)):(0,_.of)(S)}const An=!1,ni={exact:function mn(S,D,C){if(!wr(S.segments,D.segments)||!xr(S.segments,D.segments,C)||S.numberOfChildren!==D.numberOfChildren)return!1;for(const z in D.children)if(!S.children[z]||!mn(S.children[z],D.children[z],C))return!1;return!0},subset:Et},br={exact:function Ur(S,D){return Mn(S,D)},subset:function Gn(S,D){return Object.keys(D).length<=Object.keys(S).length&&Object.keys(D).every(C=>Ir(S[C],D[C]))},ignored:()=>!0};function vr(S,D,C){return ni[C.paths](S.root,D.root,C.matrixParams)&&br[C.queryParams](S.queryParams,D.queryParams)&&!("exact"===C.fragment&&S.fragment!==D.fragment)}function Et(S,D,C){return Lt(S,D,D.segments,C)}function Lt(S,D,C,z){if(S.segments.length>C.length){const R=S.segments.slice(0,C.length);return!(!wr(R,C)||D.hasChildren()||!xr(R,C,z))}if(S.segments.length===C.length){if(!wr(S.segments,C)||!xr(S.segments,C,z))return!1;for(const R in D.children)if(!S.children[R]||!Et(S.children[R],D.children[R],z))return!1;return!0}{const R=C.slice(0,S.segments.length),j=C.slice(S.segments.length);return!!(wr(S.segments,R)&&xr(S.segments,R,z)&&S.children[Te])&&Lt(S.children[Te],D,j,z)}}function xr(S,D,C){return D.every((z,R)=>br[C](S[R].parameters,z.parameters))}class Hn{constructor(D=new Vt([],{}),C={},z=null){this.root=D,this.queryParams=C,this.fragment=z}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tn(this.queryParams)),this._queryParamMap}toString(){return Ki.serialize(this)}}class Vt{constructor(D,C){this.segments=D,this.children=C,this.parent=null,rn(C,(z,R)=>z.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return On(this)}}class pr{constructor(D,C){this.path=D,this.parameters=C}get parameterMap(){return this._parameterMap||(this._parameterMap=Tn(this.parameters)),this._parameterMap}toString(){return le(this)}}function wr(S,D){return S.length===D.length&&S.every((C,z)=>C.path===D[z].path)}let Fr=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=g.Yz7({token:S,factory:function(){return new vn},providedIn:"root"}),S})();class vn{parse(D){const C=new J(D);return new Hn(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(D){const C=`/${zr(D.root,!0)}`,z=function fe(S){const D=Object.keys(S).map(C=>{const z=S[C];return Array.isArray(z)?z.map(R=>`${Jn(C)}=${Jn(R)}`).join("&"):`${Jn(C)}=${Jn(z)}`}).filter(C=>!!C);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${C}${z}${"string"==typeof D.fragment?`#${function Ci(S){return encodeURI(S)}(D.fragment)}`:""}`}}const Ki=new vn;function On(S){return S.segments.map(D=>le(D)).join("/")}function zr(S,D){if(!S.hasChildren())return On(S);if(D){const C=S.children[Te]?zr(S.children[Te],!1):"",z=[];return rn(S.children,(R,j)=>{j!==Te&&z.push(`${j}:${zr(R,!1)}`)}),z.length>0?`${C}(${z.join("//")})`:C}{const C=function gn(S,D){let C=[];return rn(S.children,(z,R)=>{R===Te&&(C=C.concat(D(z,R)))}),rn(S.children,(z,R)=>{R!==Te&&(C=C.concat(D(z,R)))}),C}(S,(z,R)=>R===Te?[zr(S.children[Te],!1)]:[`${R}:${zr(z,!1)}`]);return 1===Object.keys(S.children).length&&null!=S.children[Te]?`${On(S)}/${C[0]}`:`${On(S)}/(${C.join("//")})`}}function nr(S){return encodeURIComponent(S).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jn(S){return nr(S).replace(/%3B/gi,";")}function Yn(S){return nr(S).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tn(S){return decodeURIComponent(S)}function Ar(S){return tn(S.replace(/\+/g,"%20"))}function le(S){return`${Yn(S.path)}${function re(S){return Object.keys(S).map(D=>`;${Yn(D)}=${Yn(S[D])}`).join("")}(S.parameters)}`}const We=/^[^\/()?;=#]+/;function De(S){const D=S.match(We);return D?D[0]:""}const at=/^[^=?&#]+/,$=/^[^&#]+/;class J{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let z={};return this.peekStartsWith("(")&&(z=this.parseParens(!1)),(D.length>0||Object.keys(C).length>0)&&(z[Te]=new Vt(D,C)),z}parseSegment(){const D=De(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new g.vHH(4009,An);return this.capture(D),new pr(tn(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const C=De(this.remaining);if(!C)return;this.capture(C);let z="";if(this.consumeOptional("=")){const R=De(this.remaining);R&&(z=R,this.capture(z))}D[tn(C)]=tn(z)}parseQueryParam(D){const C=function ue(S){const D=S.match(at);return D?D[0]:""}(this.remaining);if(!C)return;this.capture(C);let z="";if(this.consumeOptional("=")){const X=function Y(S){const D=S.match($);return D?D[0]:""}(this.remaining);X&&(z=X,this.capture(z))}const R=Ar(C),j=Ar(z);if(D.hasOwnProperty(R)){let X=D[R];Array.isArray(X)||(X=[X],D[R]=X),X.push(j)}else D[R]=j}parseParens(D){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const z=De(this.remaining),R=this.remaining[z.length];if("/"!==R&&")"!==R&&";"!==R)throw new g.vHH(4010,An);let j;z.indexOf(":")>-1?(j=z.slice(0,z.indexOf(":")),this.capture(j),this.capture(":")):D&&(j=Te);const X=this.parseChildren();C[j]=1===Object.keys(X).length?X[Te]:new Vt([],X),this.consumeOptional("//")}return C}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new g.vHH(4011,An)}}function me(S){return S.segments.length>0?new Vt([],{[Te]:S}):S}function Me(S){const D={};for(const z of Object.keys(S.children)){const j=Me(S.children[z]);(j.segments.length>0||j.hasChildren())&&(D[z]=j)}return function ct(S){if(1===S.numberOfChildren&&S.children[Te]){const D=S.children[Te];return new Vt(S.segments.concat(D.segments),D.children)}return S}(new Vt(S.segments,D))}function Mt(S){return S instanceof Hn}const Wt=!1;function Je(S,D,C,z,R){if(0===C.length)return un(D.root,D.root,D.root,z,R);const j=function wn(S){if("string"==typeof S[0]&&1===S.length&&"/"===S[0])return new Pn(!0,0,S);let D=0,C=!1;const z=S.reduce((R,j,X)=>{if("object"==typeof j&&null!=j){if(j.outlets){const Ce={};return rn(j.outlets,(ot,Pt)=>{Ce[Pt]="string"==typeof ot?ot.split("/"):ot}),[...R,{outlets:Ce}]}if(j.segmentPath)return[...R,j.segmentPath]}return"string"!=typeof j?[...R,j]:0===X?(j.split("/").forEach((Ce,ot)=>{0==ot&&"."===Ce||(0==ot&&""===Ce?C=!0:".."===Ce?D++:""!=Ce&&R.push(Ce))}),R):[...R,j]},[]);return new Pn(C,D,z)}(C);return j.toRoot()?un(D.root,D.root,new Vt([],{}),z,R):function X(ot){const Pt=function Cr(S,D,C,z){if(S.isAbsolute)return new Cn(D.root,!0,0);if(-1===z)return new Cn(C,C===D.root,0);return function Eo(S,D,C){let z=S,R=D,j=C;for(;j>R;){if(j-=R,z=z.parent,!z)throw new g.vHH(4005,Wt&&"Invalid number of '../'");R=z.segments.length}return new Cn(z,!1,R-j)}(C,z+(xt(S.commands[0])?0:1),S.numberOfDoubleDots)}(j,D,S.snapshot?._urlSegment,ot),Yt=Pt.processChildren?vt(Pt.segmentGroup,Pt.index,j.commands):Qr(Pt.segmentGroup,Pt.index,j.commands);return un(D.root,Pt.segmentGroup,Yt,z,R)}(S.snapshot?._lastPathIndex)}function xt(S){return"object"==typeof S&&null!=S&&!S.outlets&&!S.segmentPath}function Nt(S){return"object"==typeof S&&null!=S&&S.outlets}function un(S,D,C,z,R){let X,j={};z&&rn(z,(ot,Pt)=>{j[Pt]=Array.isArray(ot)?ot.map(Yt=>`${Yt}`):`${ot}`}),X=S===D?C:Ut(S,D,C);const Ce=me(Me(X));return new Hn(Ce,j,R)}function Ut(S,D,C){const z={};return rn(S.children,(R,j)=>{z[j]=R===D?C:Ut(R,D,C)}),new Vt(S.segments,z)}class Pn{constructor(D,C,z){if(this.isAbsolute=D,this.numberOfDoubleDots=C,this.commands=z,D&&z.length>0&&xt(z[0]))throw new g.vHH(4003,Wt&&"Root segment cannot have matrix parameters");const R=z.find(Nt);if(R&&R!==Vn(z))throw new g.vHH(4004,Wt&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cn{constructor(D,C,z){this.segmentGroup=D,this.processChildren=C,this.index=z}}function Qr(S,D,C){if(S||(S=new Vt([],{})),0===S.segments.length&&S.hasChildren())return vt(S,D,C);const z=function nn(S,D,C){let z=0,R=D;const j={match:!1,pathIndex:0,commandIndex:0};for(;R<S.segments.length;){if(z>=C.length)return j;const X=S.segments[R],Ce=C[z];if(Nt(Ce))break;const ot=`${Ce}`,Pt=z<C.length-1?C[z+1]:null;if(R>0&&void 0===ot)break;if(ot&&Pt&&"object"==typeof Pt&&void 0===Pt.outlets){if(!Sr(ot,Pt,X))return j;z+=2}else{if(!Sr(ot,{},X))return j;z++}R++}return{match:!0,pathIndex:R,commandIndex:z}}(S,D,C),R=C.slice(z.commandIndex);if(z.match&&z.pathIndex<S.segments.length){const j=new Vt(S.segments.slice(0,z.pathIndex),{});return j.children[Te]=new Vt(S.segments.slice(z.pathIndex),S.children),vt(j,0,R)}return z.match&&0===R.length?new Vt(S.segments,{}):z.match&&!S.hasChildren()?rr(S,D,C):z.match?vt(S,0,R):rr(S,D,C)}function vt(S,D,C){if(0===C.length)return new Vt(S.segments,{});{const z=function To(S){return Nt(S[0])?S[0].outlets:{[Te]:S}}(C),R={};if(!z[Te]&&S.children[Te]&&1===S.numberOfChildren&&0===S.children[Te].segments.length){const j=vt(S.children[Te],D,C);return new Vt(S.segments,j.children)}return rn(z,(j,X)=>{"string"==typeof j&&(j=[j]),null!==j&&(R[X]=Qr(S.children[X],D,j))}),rn(S.children,(j,X)=>{void 0===z[X]&&(R[X]=j)}),new Vt(S.segments,R)}}function rr(S,D,C){const z=S.segments.slice(0,D);let R=0;for(;R<C.length;){const j=C[R];if(Nt(j)){const ot=hi(j.outlets);return new Vt(z,ot)}if(0===R&&xt(C[0])){z.push(new pr(S.segments[D].path,Nn(C[0]))),R++;continue}const X=Nt(j)?j.outlets[Te]:`${j}`,Ce=R<C.length-1?C[R+1]:null;X&&Ce&&xt(Ce)?(z.push(new pr(X,Nn(Ce))),R+=2):(z.push(new pr(X,{})),R++)}return new Vt(z,{})}function hi(S){const D={};return rn(S,(C,z)=>{"string"==typeof C&&(C=[C]),null!==C&&(D[z]=rr(new Vt([],{}),0,C))}),D}function Nn(S){const D={};return rn(S,(C,z)=>D[z]=`${C}`),D}function Sr(S,D,C){return S==C.path&&Mn(D,C.parameters)}const Yr="imperative";class Bn{constructor(D,C){this.id=D,this.url=C}}class Zi extends Bn{constructor(D,C,z="imperative",R=null){super(D,C),this.type=0,this.navigationTrigger=z,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fi extends Bn{constructor(D,C,z){super(D,C),this.urlAfterRedirects=z,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fn extends Bn{constructor(D,C,z,R){super(D,C),this.reason=z,this.code=R,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ri extends Bn{constructor(D,C,z,R){super(D,C),this.reason=z,this.code=R,this.type=16}}class ne extends Bn{constructor(D,C,z,R){super(D,C),this.error=z,this.target=R,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ye extends Bn{constructor(D,C,z,R){super(D,C),this.urlAfterRedirects=z,this.state=R,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ge extends Bn{constructor(D,C,z,R){super(D,C),this.urlAfterRedirects=z,this.state=R,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gt extends Bn{constructor(D,C,z,R,j){super(D,C),this.urlAfterRedirects=z,this.state=R,this.shouldActivate=j,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pn extends Bn{constructor(D,C,z,R){super(D,C),this.urlAfterRedirects=z,this.state=R,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cn extends Bn{constructor(D,C,z,R){super(D,C),this.urlAfterRedirects=z,this.state=R,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xn{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qn{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Er{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bn{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class es{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Di{constructor(D,C,z){this.routerEvent=D,this.position=C,this.anchor=z,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Li=(()=>{class S{createUrlTree(C,z,R,j,X,Ce){return Je(C||z.root,R,j,X,Ce)}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac}),S})(),_s=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=g.Yz7({token:S,factory:function(D){return Li.\u0275fac(D)},providedIn:"root"}),S})();class pi{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const C=this.pathFromRoot(D);return C.length>1?C[C.length-2]:null}children(D){const C=ii(D,this._root);return C?C.children.map(z=>z.value):[]}firstChild(D){const C=ii(D,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(D){const C=ts(D,this._root);return C.length<2?[]:C[C.length-2].children.map(R=>R.value).filter(R=>R!==D)}pathFromRoot(D){return ts(D,this._root).map(C=>C.value)}}function ii(S,D){if(S===D.value)return D;for(const C of D.children){const z=ii(S,C);if(z)return z}return null}function ts(S,D){if(S===D.value)return[D];for(const C of D.children){const z=ts(S,C);if(z.length)return z.unshift(D),z}return[]}class $r{constructor(D,C){this.value=D,this.children=C}toString(){return`TreeNode(${this.value})`}}function ao(S){const D={};return S&&S.children.forEach(C=>D[C.value.outlet]=C),D}class Xr extends pi{constructor(D,C){super(D),this.snapshot=C,ua(this,D)}toString(){return this.snapshot.toString()}}function Ao(S,D){const C=function Vi(S,D){const X=new Uo([],{},{},"",{},Te,D,null,S.root,-1,{});return new Yo("",new $r(X,[]))}(S,D),z=new ve([new pr("",{})]),R=new ve({}),j=new ve({}),X=new ve({}),Ce=new ve(""),ot=new Hi(z,R,X,Ce,j,Te,D,C.root);return ot.snapshot=C.root,new Xr(new $r(ot,[]),C)}class Hi{constructor(D,C,z,R,j,X,Ce,ot){this.url=D,this.params=C,this.queryParams=z,this.fragment=R,this.data=j,this.outlet=X,this.component=Ce,this.title=this.data?.pipe((0,Fe.U)(Pt=>Pt[Ct]))??(0,_.of)(void 0),this._futureSnapshot=ot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Fe.U)(D=>Tn(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Fe.U)(D=>Tn(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ws(S,D="emptyOnly"){const C=S.pathFromRoot;let z=0;if("always"!==D)for(z=C.length-1;z>=1;){const R=C[z],j=C[z-1];if(R.routeConfig&&""===R.routeConfig.path)z--;else{if(j.component)break;z--}}return function lr(S){return S.reduce((D,C)=>({params:{...D.params,...C.params},data:{...D.data,...C.data},resolve:{...C.data,...D.resolve,...C.routeConfig?.data,...C._resolvedData}}),{params:{},data:{},resolve:{}})}(C.slice(z))}class Uo{get title(){return this.data?.[Ct]}constructor(D,C,z,R,j,X,Ce,ot,Pt,Yt,gr){this.url=D,this.params=C,this.queryParams=z,this.fragment=R,this.data=j,this.outlet=X,this.component=Ce,this.routeConfig=ot,this._urlSegment=Pt,this._lastPathIndex=Yt,this._resolve=gr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(z=>z.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yo extends pi{constructor(D,C){super(C),this.url=D,ua(this,C)}toString(){return Cs(this._root)}}function ua(S,D){D.value._routerState=S,D.children.forEach(C=>ua(S,C))}function Cs(S){const D=S.children.length>0?` { ${S.children.map(Cs).join(", ")} } `:"";return`${S.value}${D}`}function da(S){if(S.snapshot){const D=S.snapshot,C=S._futureSnapshot;S.snapshot=C,Mn(D.queryParams,C.queryParams)||S.queryParams.next(C.queryParams),D.fragment!==C.fragment&&S.fragment.next(C.fragment),Mn(D.params,C.params)||S.params.next(C.params),function Ln(S,D){if(S.length!==D.length)return!1;for(let C=0;C<S.length;++C)if(!Mn(S[C],D[C]))return!1;return!0}(D.url,C.url)||S.url.next(C.url),Mn(D.data,C.data)||S.data.next(C.data)}else S.snapshot=S._futureSnapshot,S.data.next(S._futureSnapshot.data)}function Mo(S,D){const C=Mn(S.params,D.params)&&function sr(S,D){return wr(S,D)&&S.every((C,z)=>Mn(C.parameters,D[z].parameters))}(S.url,D.url);return C&&!(!S.parent!=!D.parent)&&(!S.parent||Mo(S.parent,D.parent))}function Qs(S,D,C){if(C&&S.shouldReuseRoute(D.value,C.value.snapshot)){const z=C.value;z._futureSnapshot=D.value;const R=function Ls(S,D,C){return D.children.map(z=>{for(const R of C.children)if(S.shouldReuseRoute(z.value,R.value.snapshot))return Qs(S,z,R);return Qs(S,z)})}(S,D,C);return new $r(z,R)}{if(S.shouldAttach(D.value)){const j=S.retrieve(D.value);if(null!==j){const X=j.route;return X.value._futureSnapshot=D.value,X.children=D.children.map(Ce=>Qs(S,Ce)),X}}const z=function ns(S){return new Hi(new ve(S.url),new ve(S.params),new ve(S.queryParams),new ve(S.fragment),new ve(S.data),S.outlet,S.component,S)}(D.value),R=D.children.map(j=>Qs(S,j));return new $r(z,R)}}const Xs="ngNavigationCancelingError";function ha(S,D){const{redirectTo:C,navigationBehaviorOptions:z}=Mt(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,R=co(!1,0,D);return R.url=C,R.navigationBehaviorOptions=z,R}function co(S,D,C){const z=new Error("NavigationCancelingError: "+(S||""));return z[Xs]=!0,z.cancellationCode=D,C&&(z.url=C),z}function bc(S){return mi(S)&&Mt(S.url)}function mi(S){return S&&S[Xs]}class Lr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new gi,this.attachRef=null}}let gi=(()=>{class S{constructor(){this.contexts=new Map}onChildOutletCreated(C,z){const R=this.getOrCreateContext(C);R.outlet=z,this.contexts.set(C,R)}onChildOutletDestroyed(C){const z=this.getContext(C);z&&(z.outlet=null,z.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let z=this.getContext(C);return z||(z=new Lr,this.contexts.set(C,z)),z}getContext(C){return this.contexts.get(C)||null}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const vi=!1;let ir=(()=>{class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Te,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(gi),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb)}ngOnChanges(C){if(C.name){const{firstChange:z,previousValue:R}=C.name;if(z)return;this.isTrackedInParentContexts(R)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(R)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(C){return this.parentContexts.getContext(C)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const C=this.parentContexts.getContext(this.name);C?.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,vi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,vi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,vi);this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,z){this.activated=C,this._activatedRoute=z,this.location.insert(C.hostView),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,z){if(this.isActivated)throw new g.vHH(4013,vi);this._activatedRoute=C;const R=this.location,X=C.snapshot.component,Ce=this.parentContexts.getOrCreateContext(this.name).children,ot=new jo(C,Ce,R.injector);if(z&&function Po(S){return!!S.resolveComponentFactory}(z)){const Pt=z.resolveComponentFactory(X);this.activated=R.createComponent(Pt,R.length,ot)}else this.activated=R.createComponent(X,{index:R.length,injector:ot,environmentInjector:z??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275dir=g.lG2({type:S,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]}),S})();class jo{constructor(D,C,z){this.route=D,this.childContexts=C,this.parent=z}get(D,C){return D===Hi?this.route:D===gi?this.childContexts:this.parent.get(D,C)}}let Bi=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275cmp=g.Xpm({type:S,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(C,z){1&C&&g._UZ(0,"router-outlet")},dependencies:[ir],encapsulation:2}),S})();function Ii(S,D){return S.providers&&!S._injector&&(S._injector=(0,g.MMx)(S.providers,D,`Route: ${S.path}`)),S._injector??D}function lo(S){const D=S.children&&S.children.map(lo),C=D?{...S,children:D}:{...S};return!C.component&&!C.loadComponent&&(D||C.loadChildren)&&C.outlet&&C.outlet!==Te&&(C.component=Bi),C}function Pr(S){return S.outlet||Te}function kr(S,D){const C=S.filter(z=>Pr(z)===D);return C.push(...S.filter(z=>Pr(z)!==D)),C}function ko(S){if(!S)return null;if(S.routeConfig?._injector)return S.routeConfig._injector;for(let D=S.parent;D;D=D.parent){const C=D.routeConfig;if(C?._loadedInjector)return C._loadedInjector;if(C?._injector)return C._injector}return null}class Oo{constructor(D,C,z,R){this.routeReuseStrategy=D,this.futureState=C,this.currState=z,this.forwardEvent=R}activate(D){const C=this.futureState._root,z=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,z,D),da(this.futureState.root),this.activateChildRoutes(C,z,D)}deactivateChildRoutes(D,C,z){const R=ao(C);D.children.forEach(j=>{const X=j.value.outlet;this.deactivateRoutes(j,R[X],z),delete R[X]}),rn(R,(j,X)=>{this.deactivateRouteAndItsChildren(j,z)})}deactivateRoutes(D,C,z){const R=D.value,j=C?C.value:null;if(R===j)if(R.component){const X=z.getContext(R.outlet);X&&this.deactivateChildRoutes(D,C,X.children)}else this.deactivateChildRoutes(D,C,z);else j&&this.deactivateRouteAndItsChildren(C,z)}deactivateRouteAndItsChildren(D,C){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,C):this.deactivateRouteAndOutlet(D,C)}detachAndStoreRouteSubtree(D,C){const z=C.getContext(D.value.outlet),R=z&&D.value.component?z.children:C,j=ao(D);for(const X of Object.keys(j))this.deactivateRouteAndItsChildren(j[X],R);if(z&&z.outlet){const X=z.outlet.detach(),Ce=z.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:X,route:D,contexts:Ce})}}deactivateRouteAndOutlet(D,C){const z=C.getContext(D.value.outlet),R=z&&D.value.component?z.children:C,j=ao(D);for(const X of Object.keys(j))this.deactivateRouteAndItsChildren(j[X],R);z&&(z.outlet&&(z.outlet.deactivate(),z.children.onOutletDeactivated()),z.attachRef=null,z.resolver=null,z.route=null)}activateChildRoutes(D,C,z){const R=ao(C);D.children.forEach(j=>{this.activateRoutes(j,R[j.value.outlet],z),this.forwardEvent(new es(j.value.snapshot))}),D.children.length&&this.forwardEvent(new bn(D.value.snapshot))}activateRoutes(D,C,z){const R=D.value,j=C?C.value:null;if(da(R),R===j)if(R.component){const X=z.getOrCreateContext(R.outlet);this.activateChildRoutes(D,C,X.children)}else this.activateChildRoutes(D,C,z);else if(R.component){const X=z.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const Ce=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),X.children.onOutletReAttached(Ce.contexts),X.attachRef=Ce.componentRef,X.route=Ce.route.value,X.outlet&&X.outlet.attach(Ce.componentRef,Ce.route.value),da(Ce.route.value),this.activateChildRoutes(D,null,X.children)}else{const Ce=ko(R.snapshot),ot=Ce?.get(g._Vd)??null;X.attachRef=null,X.route=R,X.resolver=ot,X.injector=Ce,X.outlet&&X.outlet.activateWith(R,X.injector),this.activateChildRoutes(D,null,X.children)}}else this.activateChildRoutes(D,null,z)}}class Or{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class hr{constructor(D,C){this.component=D,this.route=C}}function xi(S,D,C){const z=S._root;return uo(z,D?D._root:null,C,[z.value])}function yi(S,D){const C=Symbol(),z=D.get(S,C);return z===C?"function"!=typeof S||(0,g.Z0I)(S)?D.get(S):S:z}function uo(S,D,C,z,R={canDeactivateChecks:[],canActivateChecks:[]}){const j=ao(D);return S.children.forEach(X=>{(function Ui(S,D,C,z,R={canDeactivateChecks:[],canActivateChecks:[]}){const j=S.value,X=D?D.value:null,Ce=C?C.getContext(S.value.outlet):null;if(X&&j.routeConfig===X.routeConfig){const ot=function dn(S,D,C){if("function"==typeof C)return C(S,D);switch(C){case"pathParamsChange":return!wr(S.url,D.url);case"pathParamsOrQueryParamsChange":return!wr(S.url,D.url)||!Mn(S.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mo(S,D)||!Mn(S.queryParams,D.queryParams);default:return!Mo(S,D)}}(X,j,j.routeConfig.runGuardsAndResolvers);ot?R.canActivateChecks.push(new Or(z)):(j.data=X.data,j._resolvedData=X._resolvedData),uo(S,D,j.component?Ce?Ce.children:null:C,z,R),ot&&Ce&&Ce.outlet&&Ce.outlet.isActivated&&R.canDeactivateChecks.push(new hr(Ce.outlet.component,X))}else X&&_i(D,Ce,R),R.canActivateChecks.push(new Or(z)),uo(S,null,j.component?Ce?Ce.children:null:C,z,R)})(X,j[X.value.outlet],C,z.concat([X.value]),R),delete j[X.value.outlet]}),rn(j,(X,Ce)=>_i(X,C.getContext(Ce),R)),R}function _i(S,D,C){const z=ao(S),R=S.value;rn(z,(j,X)=>{_i(j,R.component?D?D.children.getContext(X):null:D,C)}),C.canDeactivateChecks.push(new hr(R.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,R))}function Ss(S){return"function"==typeof S}function I(S){return S instanceof we.K||"EmptyError"===S?.name}const B=Symbol("INITIAL_VALUE");function ie(){return(0,Ye.w)(S=>(0,xe.a)(S.map(D=>D.pipe((0,mt.q)(1),(0,nt.O)(B)))).pipe((0,Fe.U)(D=>{for(const C of D)if(!0!==C){if(C===B)return B;if(!1===C||C instanceof Hn)return C}return!0}),(0,_t.h)(D=>D!==B),(0,mt.q)(1)))}function Yi(S){return(0,he.z)((0,Gt.b)(D=>{if(Mt(D))throw ha(0,D)}),(0,Fe.U)(D=>!0===D))}const wi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oi(S,D,C,z,R){const j=Es(S,D,C);return j.matched?function Ji(S,D,C,z){const R=D.canMatch;if(!R||0===R.length)return(0,_.of)(!0);const j=R.map(X=>{const Ce=yi(X,S);return Dt(function G(S){return S&&Ss(S.canMatch)}(Ce)?Ce.canMatch(D,C):S.runInContext(()=>Ce(D,C)))});return(0,_.of)(j).pipe(ie(),Yi())}(z=Ii(D,z),D,C).pipe((0,Fe.U)(X=>!0===X?j:{...wi})):(0,_.of)(j)}function Es(S,D,C){if(""===D.path)return"full"===D.pathMatch&&(S.hasChildren()||C.length>0)?{...wi}:{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const R=(D.matcher||Zt)(C,S,D);if(!R)return{...wi};const j={};rn(R.posParams,(Ce,ot)=>{j[ot]=Ce.path});const X=R.consumed.length>0?{...j,...R.consumed[R.consumed.length-1].parameters}:j;return{matched:!0,consumedSegments:R.consumed,remainingSegments:C.slice(R.consumed.length),parameters:X,positionalParamSegments:R.posParams??{}}}function ta(S,D,C,z){if(C.length>0&&function qr(S,D,C){return C.some(z=>za(S,D,z)&&Pr(z)!==Te)}(S,C,z)){const j=new Vt(D,function Wu(S,D,C,z){const R={};R[Te]=z,z._sourceSegment=S,z._segmentIndexShift=D.length;for(const j of C)if(""===j.path&&Pr(j)!==Te){const X=new Vt([],{});X._sourceSegment=S,X._segmentIndexShift=D.length,R[Pr(j)]=X}return R}(S,D,z,new Vt(C,S.children)));return j._sourceSegment=S,j._segmentIndexShift=D.length,{segmentGroup:j,slicedSegments:[]}}if(0===C.length&&function No(S,D,C){return C.some(z=>za(S,D,z))}(S,C,z)){const j=new Vt(S.segments,function Sc(S,D,C,z,R){const j={};for(const X of z)if(za(S,C,X)&&!R[Pr(X)]){const Ce=new Vt([],{});Ce._sourceSegment=S,Ce._segmentIndexShift=D.length,j[Pr(X)]=Ce}return{...R,...j}}(S,D,C,z,S.children));return j._sourceSegment=S,j._segmentIndexShift=D.length,{segmentGroup:j,slicedSegments:C}}const R=new Vt(S.segments,S.children);return R._sourceSegment=S,R._segmentIndexShift=D.length,{segmentGroup:R,slicedSegments:C}}function za(S,D,C){return(!(S.hasChildren()||D.length>0)||"full"!==C.pathMatch)&&""===C.path}function Aa(S,D,C,z){return!!(Pr(S)===z||z!==Te&&za(D,C,S))&&("**"===S.path||Es(D,S,C).matched)}function Ec(S,D,C){return 0===D.length&&!S.children[C]}const na=!1;class Pa{constructor(D){this.segmentGroup=D||null}}class Ja{constructor(D){this.urlTree=D}}function ka(S){return He(new Pa(S))}function ec(S){return He(new Ja(S))}class cl{constructor(D,C,z,R,j){this.injector=D,this.configLoader=C,this.urlSerializer=z,this.urlTree=R,this.config=j,this.allowRedirects=!0}apply(){const D=ta(this.urlTree.root,[],[],this.config).segmentGroup,C=new Vt(D.segments,D.children);return this.expandSegmentGroup(this.injector,this.config,C,Te).pipe((0,Fe.U)(j=>this.createUrlTree(Me(j),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,bt.K)(j=>{if(j instanceof Ja)return this.allowRedirects=!1,this.match(j.urlTree);throw j instanceof Pa?this.noMatchError(j):j}))}match(D){return this.expandSegmentGroup(this.injector,this.config,D.root,Te).pipe((0,Fe.U)(R=>this.createUrlTree(Me(R),D.queryParams,D.fragment))).pipe((0,bt.K)(R=>{throw R instanceof Pa?this.noMatchError(R):R}))}noMatchError(D){return new g.vHH(4002,na)}createUrlTree(D,C,z){const R=me(D);return new Hn(R,C,z)}expandSegmentGroup(D,C,z,R){return 0===z.segments.length&&z.hasChildren()?this.expandChildren(D,C,z).pipe((0,Fe.U)(j=>new Vt([],j))):this.expandSegment(D,z,C,z.segments,R,!0)}expandChildren(D,C,z){const R=[];for(const j of Object.keys(z.children))"primary"===j?R.unshift(j):R.push(j);return(0,Q.D)(R).pipe((0,wt.b)(j=>{const X=z.children[j],Ce=kr(C,j);return this.expandSegmentGroup(D,Ce,X,j).pipe((0,Fe.U)(ot=>({segment:ot,outlet:j})))}),(0,ui.R)((j,X)=>(j[X.outlet]=X.segment,j),{}),Zr())}expandSegment(D,C,z,R,j,X){return(0,Q.D)(z).pipe((0,wt.b)(Ce=>this.expandSegmentAgainstRoute(D,C,z,Ce,R,j,X).pipe((0,bt.K)(Pt=>{if(Pt instanceof Pa)return(0,_.of)(null);throw Pt}))),(0,$t.P)(Ce=>!!Ce),(0,bt.K)((Ce,ot)=>{if(I(Ce))return Ec(C,R,j)?(0,_.of)(new Vt([],{})):ka(C);throw Ce}))}expandSegmentAgainstRoute(D,C,z,R,j,X,Ce){return Aa(R,C,j,X)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(D,C,R,j,X):Ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,C,z,R,j,X):ka(C):ka(C)}expandSegmentAgainstRouteUsingRedirect(D,C,z,R,j,X){return"**"===R.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,z,R,X):this.expandRegularSegmentAgainstRouteUsingRedirect(D,C,z,R,j,X)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,C,z,R){const j=this.applyRedirectCommands([],z.redirectTo,{});return z.redirectTo.startsWith("/")?ec(j):this.lineralizeSegments(z,j).pipe((0,Ie.z)(X=>{const Ce=new Vt(X,{});return this.expandSegment(D,Ce,C,X,R,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,C,z,R,j,X){const{matched:Ce,consumedSegments:ot,remainingSegments:Pt,positionalParamSegments:Yt}=Es(C,R,j);if(!Ce)return ka(C);const gr=this.applyRedirectCommands(ot,R.redirectTo,Yt);return R.redirectTo.startsWith("/")?ec(gr):this.lineralizeSegments(R,gr).pipe((0,Ie.z)(no=>this.expandSegment(D,C,z,no.concat(Pt),X,!1)))}matchSegmentAgainstRoute(D,C,z,R,j){return"**"===z.path?(D=Ii(z,D),z.loadChildren?(z._loadedRoutes?(0,_.of)({routes:z._loadedRoutes,injector:z._loadedInjector}):this.configLoader.loadChildren(D,z)).pipe((0,Fe.U)(Ce=>(z._loadedRoutes=Ce.routes,z._loadedInjector=Ce.injector,new Vt(R,{})))):(0,_.of)(new Vt(R,{}))):oi(C,z,R,D).pipe((0,Ye.w)(({matched:X,consumedSegments:Ce,remainingSegments:ot})=>X?this.getChildConfig(D=z._injector??D,z,R).pipe((0,Ie.z)(Yt=>{const gr=Yt.injector??D,no=Yt.routes,{segmentGroup:fa,slicedSegments:xs}=ta(C,Ce,ot,no),pa=new Vt(fa.segments,fa.children);if(0===xs.length&&pa.hasChildren())return this.expandChildren(gr,no,pa).pipe((0,Fe.U)(kc=>new Vt(Ce,kc)));if(0===no.length&&0===xs.length)return(0,_.of)(new Vt(Ce,{}));const Go=Pr(z)===j;return this.expandSegment(gr,pa,no,xs,Go?Te:j,!0).pipe((0,Fe.U)(ma=>new Vt(Ce.concat(ma.segments),ma.children)))})):ka(C)))}getChildConfig(D,C,z){return C.children?(0,_.of)({routes:C.children,injector:D}):C.loadChildren?void 0!==C._loadedRoutes?(0,_.of)({routes:C._loadedRoutes,injector:C._loadedInjector}):function Vr(S,D,C,z){const R=D.canLoad;if(void 0===R||0===R.length)return(0,_.of)(!0);const j=R.map(X=>{const Ce=yi(X,S);return Dt(function Vs(S){return S&&Ss(S.canLoad)}(Ce)?Ce.canLoad(D,C):S.runInContext(()=>Ce(D,C)))});return(0,_.of)(j).pipe(ie(),Yi())}(D,C,z).pipe((0,Ie.z)(R=>R?this.configLoader.loadChildren(D,C).pipe((0,Gt.b)(j=>{C._loadedRoutes=j.routes,C._loadedInjector=j.injector})):function Oa(S){return He(co(na,3))}())):(0,_.of)({routes:[],injector:D})}lineralizeSegments(D,C){let z=[],R=C.root;for(;;){if(z=z.concat(R.segments),0===R.numberOfChildren)return(0,_.of)(z);if(R.numberOfChildren>1||!R.children[Te])return D.redirectTo,He(new g.vHH(4e3,na));R=R.children[Te]}}applyRedirectCommands(D,C,z){return this.applyRedirectCreateUrlTree(C,this.urlSerializer.parse(C),D,z)}applyRedirectCreateUrlTree(D,C,z,R){const j=this.createSegmentGroup(D,C.root,z,R);return new Hn(j,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(D,C){const z={};return rn(D,(R,j)=>{if("string"==typeof R&&R.startsWith(":")){const Ce=R.substring(1);z[j]=C[Ce]}else z[j]=R}),z}createSegmentGroup(D,C,z,R){const j=this.createSegments(D,C.segments,z,R);let X={};return rn(C.children,(Ce,ot)=>{X[ot]=this.createSegmentGroup(D,Ce,z,R)}),new Vt(j,X)}createSegments(D,C,z,R){return C.map(j=>j.path.startsWith(":")?this.findPosParam(D,j,R):this.findOrReturn(j,z))}findPosParam(D,C,z){const R=z[C.path.substring(1)];if(!R)throw new g.vHH(4001,na);return R}findOrReturn(D,C){let z=0;for(const R of C){if(R.path===D.path)return C.splice(z),R;z++}return D}}class Wr{}class ho{constructor(D,C,z,R,j,X,Ce){this.injector=D,this.rootComponentType=C,this.config=z,this.urlTree=R,this.url=j,this.paramsInheritanceStrategy=X,this.urlSerializer=Ce}recognize(){const D=ta(this.urlTree.root,[],[],this.config.filter(C=>void 0===C.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,Te).pipe((0,Fe.U)(C=>{if(null===C)return null;const z=new Uo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Te,this.rootComponentType,null,this.urlTree.root,-1,{}),R=new $r(z,C),j=new Yo(this.url,R);return this.inheritParamsAndData(j._root),j}))}inheritParamsAndData(D){const C=D.value,z=ws(C,this.paramsInheritanceStrategy);C.params=Object.freeze(z.params),C.data=Object.freeze(z.data),D.children.forEach(R=>this.inheritParamsAndData(R))}processSegmentGroup(D,C,z,R){return 0===z.segments.length&&z.hasChildren()?this.processChildren(D,C,z):this.processSegment(D,C,z,z.segments,R)}processChildren(D,C,z){return(0,Q.D)(Object.keys(z.children)).pipe((0,wt.b)(R=>{const j=z.children[R],X=kr(C,R);return this.processSegmentGroup(D,X,j,R)}),(0,ui.R)((R,j)=>R&&j?(R.push(...j),R):null),function Ae(S,D=!1){return(0,Be.e)((C,z)=>{let R=0;C.subscribe((0,et.x)(z,j=>{const X=S(j,R++);(X||D)&&z.next(j),!X&&z.complete()}))})}(R=>null!==R),(0,Br.d)(null),Zr(),(0,Fe.U)(R=>{if(null===R)return null;const j=ra(R);return function ll(S){S.sort((D,C)=>D.value.outlet===Te?-1:C.value.outlet===Te?1:D.value.outlet.localeCompare(C.value.outlet))}(j),j}))}processSegment(D,C,z,R,j){return(0,Q.D)(C).pipe((0,wt.b)(X=>this.processSegmentAgainstRoute(X._injector??D,X,z,R,j)),(0,$t.P)(X=>!!X),(0,bt.K)(X=>{if(I(X))return Ec(z,R,j)?(0,_.of)([]):(0,_.of)(null);throw X}))}processSegmentAgainstRoute(D,C,z,R,j){if(C.redirectTo||!Aa(C,z,R,j))return(0,_.of)(null);let X;if("**"===C.path){const Ce=R.length>0?Vn(R).parameters:{},ot=P(z)+R.length,Pt=new Uo(R,Ce,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O(C),Pr(C),C.component??C._loadedComponent??null,C,Ra(z),ot,q(C));X=(0,_.of)({snapshot:Pt,consumedSegments:[],remainingSegments:[]})}else X=oi(z,C,R,D).pipe((0,Fe.U)(({matched:Ce,consumedSegments:ot,remainingSegments:Pt,parameters:Yt})=>{if(!Ce)return null;const gr=P(z)+ot.length;return{snapshot:new Uo(ot,Yt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O(C),Pr(C),C.component??C._loadedComponent??null,C,Ra(z),gr,q(C)),consumedSegments:ot,remainingSegments:Pt}}));return X.pipe((0,Ye.w)(Ce=>{if(null===Ce)return(0,_.of)(null);const{snapshot:ot,consumedSegments:Pt,remainingSegments:Yt}=Ce;D=C._injector??D;const gr=C._loadedInjector??D,no=function Zl(S){return S.children?S.children:S.loadChildren?S._loadedRoutes:[]}(C),{segmentGroup:fa,slicedSegments:xs}=ta(z,Pt,Yt,no.filter(Go=>void 0===Go.redirectTo));if(0===xs.length&&fa.hasChildren())return this.processChildren(gr,no,fa).pipe((0,Fe.U)(Go=>null===Go?null:[new $r(ot,Go)]));if(0===no.length&&0===xs.length)return(0,_.of)([new $r(ot,[])]);const pa=Pr(C)===j;return this.processSegment(gr,no,fa,xs,pa?Te:j).pipe((0,Fe.U)(Go=>null===Go?null:[new $r(ot,Go)]))}))}}function ul(S){const D=S.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function ra(S){const D=[],C=new Set;for(const z of S){if(!ul(z)){D.push(z);continue}const R=D.find(j=>z.value.routeConfig===j.value.routeConfig);void 0!==R?(R.children.push(...z.children),C.add(R)):D.push(z)}for(const z of C){const R=ra(z.children);D.push(new $r(z.value,R))}return D.filter(z=>!C.has(z))}function Ra(S){let D=S;for(;D._sourceSegment;)D=D._sourceSegment;return D}function P(S){let D=S,C=D._segmentIndexShift??0;for(;D._sourceSegment;)D=D._sourceSegment,C+=D._segmentIndexShift??0;return C-1}function O(S){return S.data||{}}function q(S){return S.resolve||{}}function Kn(S){return"string"==typeof S.title||null===S.title}function Rn(S){return(0,Ye.w)(D=>{const C=S(D);return C?(0,Q.D)(C).pipe((0,Fe.U)(()=>D)):(0,_.of)(D)})}const or=new g.OlP("ROUTES");let ai=(()=>{class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(C){if(this.componentLoaders.get(C))return this.componentLoaders.get(C);if(C._loadedComponent)return(0,_.of)(C._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(C);const z=Dt(C.loadComponent()).pipe((0,Fe.U)(yo),(0,Gt.b)(j=>{this.onLoadEndListener&&this.onLoadEndListener(C),C._loadedComponent=j}),(0,ke.x)(()=>{this.componentLoaders.delete(C)})),R=new ht(z,()=>new pe.x).pipe(st());return this.componentLoaders.set(C,R),R}loadChildren(C,z){if(this.childrenLoaders.get(z))return this.childrenLoaders.get(z);if(z._loadedRoutes)return(0,_.of)({routes:z._loadedRoutes,injector:z._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(z);const j=this.loadModuleFactoryOrRoutes(z.loadChildren).pipe((0,Fe.U)(Ce=>{this.onLoadEndListener&&this.onLoadEndListener(z);let ot,Pt,Yt=!1;Array.isArray(Ce)?Pt=Ce:(ot=Ce.create(C).injector,Pt=_n(ot.get(or,[],g.XFs.Self|g.XFs.Optional)));return{routes:Pt.map(lo),injector:ot}}),(0,ke.x)(()=>{this.childrenLoaders.delete(z)})),X=new ht(j,()=>new pe.x).pipe(st());return this.childrenLoaders.set(z,X),X}loadModuleFactoryOrRoutes(C){return Dt(C()).pipe((0,Fe.U)(yo),(0,Ie.z)(z=>z instanceof g.YKP||Array.isArray(z)?(0,_.of)(z):(0,Q.D)(this.compiler.compileModuleAsync(z))))}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function yo(S){return function Ds(S){return S&&"object"==typeof S&&"default"in S}(S)?S.default:S}let ji=(()=>{class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new pe.x,this.configLoader=(0,g.f3M)(ai),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(Fr),this.rootContexts=(0,g.f3M)(gi),this.navigationId=0,this.afterPreactivation=()=>(0,_.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=R=>this.events.next(new qn(R)),this.configLoader.onLoadStartListener=R=>this.events.next(new xn(R))}complete(){this.transitions?.complete()}handleNavigationRequest(C){const z=++this.navigationId;this.transitions?.next({...this.transitions.value,...C,id:z})}setupNavigations(C){return this.transitions=new ve({id:0,targetPageId:0,currentUrlTree:C.currentUrlTree,currentRawUrl:C.currentUrlTree,extractedUrl:C.urlHandlingStrategy.extract(C.currentUrlTree),urlAfterRedirects:C.urlHandlingStrategy.extract(C.currentUrlTree),rawUrl:C.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yr,restoredState:null,currentSnapshot:C.routerState.snapshot,targetSnapshot:null,currentRouterState:C.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,_t.h)(z=>0!==z.id),(0,Fe.U)(z=>({...z,extractedUrl:C.urlHandlingStrategy.extract(z.rawUrl)})),(0,Ye.w)(z=>{let R=!1,j=!1;return(0,_.of)(z).pipe((0,Gt.b)(X=>{this.currentNavigation={id:X.id,initialUrl:X.rawUrl,extractedUrl:X.extractedUrl,trigger:X.source,extras:X.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ye.w)(X=>{const Ce=C.browserUrlTree.toString(),ot=!C.navigated||X.extractedUrl.toString()!==Ce||Ce!==C.currentUrlTree.toString();if(!ot&&"reload"!==(X.extras.onSameUrlNavigation??C.onSameUrlNavigation)){const Yt="";return this.events.next(new ri(X.id,C.serializeUrl(z.rawUrl),Yt,0)),C.rawUrlTree=X.rawUrl,X.resolve(null),Qe.E}if(C.urlHandlingStrategy.shouldProcessUrl(X.rawUrl))return Io(X.source)&&(C.browserUrlTree=X.extractedUrl),(0,_.of)(X).pipe((0,Ye.w)(Yt=>{const gr=this.transitions?.getValue();return this.events.next(new Zi(Yt.id,this.urlSerializer.serialize(Yt.extractedUrl),Yt.source,Yt.restoredState)),gr!==this.transitions?.getValue()?Qe.E:Promise.resolve(Yt)}),function eo(S,D,C,z){return(0,Ye.w)(R=>function Kl(S,D,C,z,R){return new cl(S,D,C,z,R).apply()}(S,D,C,R.extractedUrl,z).pipe((0,Fe.U)(j=>({...R,urlAfterRedirects:j}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,C.config),(0,Gt.b)(Yt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Yt.urlAfterRedirects},z.urlAfterRedirects=Yt.urlAfterRedirects}),function oe(S,D,C,z,R){return(0,Ie.z)(j=>function Tc(S,D,C,z,R,j,X="emptyOnly"){return new ho(S,D,C,z,R,X,j).recognize().pipe((0,Ye.w)(Ce=>null===Ce?function Na(S){return new Pe.y(D=>D.error(S))}(new Wr):(0,_.of)(Ce)))}(S,D,C,j.urlAfterRedirects,z.serialize(j.urlAfterRedirects),z,R).pipe((0,Fe.U)(X=>({...j,targetSnapshot:X}))))}(this.environmentInjector,this.rootComponentType,C.config,this.urlSerializer,C.paramsInheritanceStrategy),(0,Gt.b)(Yt=>{if(z.targetSnapshot=Yt.targetSnapshot,"eager"===C.urlUpdateStrategy){if(!Yt.extras.skipLocationChange){const no=C.urlHandlingStrategy.merge(Yt.urlAfterRedirects,Yt.rawUrl);C.setBrowserUrl(no,Yt)}C.browserUrlTree=Yt.urlAfterRedirects}const gr=new ye(Yt.id,this.urlSerializer.serialize(Yt.extractedUrl),this.urlSerializer.serialize(Yt.urlAfterRedirects),Yt.targetSnapshot);this.events.next(gr)}));if(ot&&C.urlHandlingStrategy.shouldProcessUrl(C.rawUrlTree)){const{id:Yt,extractedUrl:gr,source:no,restoredState:fa,extras:xs}=X,pa=new Zi(Yt,this.urlSerializer.serialize(gr),no,fa);this.events.next(pa);const Go=Ao(gr,this.rootComponentType).snapshot;return z={...X,targetSnapshot:Go,urlAfterRedirects:gr,extras:{...xs,skipLocationChange:!1,replaceUrl:!1}},(0,_.of)(z)}{const Yt="";return this.events.next(new ri(X.id,C.serializeUrl(z.extractedUrl),Yt,1)),C.rawUrlTree=X.rawUrl,X.resolve(null),Qe.E}}),(0,Gt.b)(X=>{const Ce=new Ge(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(X.urlAfterRedirects),X.targetSnapshot);this.events.next(Ce)}),(0,Fe.U)(X=>z={...X,guards:xi(X.targetSnapshot,X.currentSnapshot,this.rootContexts)}),function Ze(S,D){return(0,Ie.z)(C=>{const{targetSnapshot:z,currentSnapshot:R,guards:{canActivateChecks:j,canDeactivateChecks:X}}=C;return 0===X.length&&0===j.length?(0,_.of)({...C,guardsResult:!0}):function qt(S,D,C,z){return(0,Q.D)(S).pipe((0,Ie.z)(R=>function Xi(S,D,C,z,R){const j=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,_.of)(!0);const X=j.map(Ce=>{const ot=ko(D)??R,Pt=yi(Ce,ot);return Dt(function xa(S){return S&&Ss(S.canDeactivate)}(Pt)?Pt.canDeactivate(S,D,C,z):ot.runInContext(()=>Pt(S,D,C,z))).pipe((0,$t.P)())});return(0,_.of)(X).pipe(ie())}(R.component,R.route,C,D,z)),(0,$t.P)(R=>!0!==R,!0))}(X,z,R,S).pipe((0,Ie.z)(Ce=>Ce&&function Ia(S){return"boolean"==typeof S}(Ce)?function Qt(S,D,C,z){return(0,Q.D)(D).pipe((0,wt.b)(R=>(0,Ne.z)(function Un(S,D){return null!==S&&D&&D(new Er(S)),(0,_.of)(!0)}(R.route.parent,z),function Wn(S,D){return null!==S&&D&&D(new ar(S)),(0,_.of)(!0)}(R.route,z),function Qi(S,D,C){const z=D[D.length-1],j=D.slice(0,D.length-1).reverse().map(X=>function is(S){const D=S.routeConfig?S.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:S,guards:D}:null}(X)).filter(X=>null!==X).map(X=>ae(()=>{const Ce=X.guards.map(ot=>{const Pt=ko(X.node)??C,Yt=yi(ot,Pt);return Dt(function Hs(S){return S&&Ss(S.canActivateChild)}(Yt)?Yt.canActivateChild(z,S):Pt.runInContext(()=>Yt(z,S))).pipe((0,$t.P)())});return(0,_.of)(Ce).pipe(ie())}));return(0,_.of)(j).pipe(ie())}(S,R.path,C),function kn(S,D,C){const z=D.routeConfig?D.routeConfig.canActivate:null;if(!z||0===z.length)return(0,_.of)(!0);const R=z.map(j=>ae(()=>{const X=ko(D)??C,Ce=yi(j,X);return Dt(function os(S){return S&&Ss(S.canActivate)}(Ce)?Ce.canActivate(D,S):X.runInContext(()=>Ce(D,S))).pipe((0,$t.P)())}));return(0,_.of)(R).pipe(ie())}(S,R.route,C))),(0,$t.P)(R=>!0!==R,!0))}(z,j,S,D):(0,_.of)(Ce)),(0,Fe.U)(Ce=>({...C,guardsResult:Ce})))})}(this.environmentInjector,X=>this.events.next(X)),(0,Gt.b)(X=>{if(z.guardsResult=X.guardsResult,Mt(X.guardsResult))throw ha(0,X.guardsResult);const Ce=new gt(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(X.urlAfterRedirects),X.targetSnapshot,!!X.guardsResult);this.events.next(Ce)}),(0,_t.h)(X=>!!X.guardsResult||(C.restoreHistory(X),this.cancelNavigationTransition(X,"",3),!1)),Rn(X=>{if(X.guards.canActivateChecks.length)return(0,_.of)(X).pipe((0,Gt.b)(Ce=>{const ot=new pn(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot);this.events.next(ot)}),(0,Ye.w)(Ce=>{let ot=!1;return(0,_.of)(Ce).pipe(function je(S,D){return(0,Ie.z)(C=>{const{targetSnapshot:z,guards:{canActivateChecks:R}}=C;if(!R.length)return(0,_.of)(C);let j=0;return(0,Q.D)(R).pipe((0,wt.b)(X=>function rt(S,D,C,z){const R=S.routeConfig,j=S._resolve;return void 0!==R?.title&&!Kn(R)&&(j[Ct]=R.title),function Kt(S,D,C,z){const R=function Tr(S){return[...Object.keys(S),...Object.getOwnPropertySymbols(S)]}(S);if(0===R.length)return(0,_.of)({});const j={};return(0,Q.D)(R).pipe((0,Ie.z)(X=>function mr(S,D,C,z){const R=ko(D)??z,j=yi(S,R);return Dt(j.resolve?j.resolve(D,C):R.runInContext(()=>j(D,C)))}(S[X],D,C,z).pipe((0,$t.P)(),(0,Gt.b)(Ce=>{j[X]=Ce}))),Rr(1),(0,be.h)(j),(0,bt.K)(X=>I(X)?Qe.E:He(X)))}(j,S,D,z).pipe((0,Fe.U)(X=>(S._resolvedData=X,S.data=ws(S,C).resolve,R&&Kn(R)&&(S.data[Ct]=R.title),null)))}(X.route,z,S,D)),(0,Gt.b)(()=>j++),Rr(1),(0,Ie.z)(X=>j===R.length?(0,_.of)(C):Qe.E))})}(C.paramsInheritanceStrategy,this.environmentInjector),(0,Gt.b)({next:()=>ot=!0,complete:()=>{ot||(C.restoreHistory(Ce),this.cancelNavigationTransition(Ce,"",2))}}))}),(0,Gt.b)(Ce=>{const ot=new cn(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot);this.events.next(ot)}))}),Rn(X=>{const Ce=ot=>{const Pt=[];ot.routeConfig?.loadComponent&&!ot.routeConfig._loadedComponent&&Pt.push(this.configLoader.loadComponent(ot.routeConfig).pipe((0,Gt.b)(Yt=>{ot.component=Yt}),(0,Fe.U)(()=>{})));for(const Yt of ot.children)Pt.push(...Ce(Yt));return Pt};return(0,xe.a)(Ce(X.targetSnapshot.root)).pipe((0,Br.d)(),(0,mt.q)(1))}),Rn(()=>this.afterPreactivation()),(0,Fe.U)(X=>{const Ce=function bs(S,D,C){const z=Qs(S,D._root,C?C._root:void 0);return new Xr(z,D)}(C.routeReuseStrategy,X.targetSnapshot,X.currentRouterState);return z={...X,targetRouterState:Ce}}),(0,Gt.b)(X=>{C.currentUrlTree=X.urlAfterRedirects,C.rawUrlTree=C.urlHandlingStrategy.merge(X.urlAfterRedirects,X.rawUrl),C.routerState=X.targetRouterState,"deferred"===C.urlUpdateStrategy&&(X.extras.skipLocationChange||C.setBrowserUrl(C.rawUrlTree,X),C.browserUrlTree=X.urlAfterRedirects)}),((S,D,C)=>(0,Fe.U)(z=>(new Oo(D,z.targetRouterState,z.currentRouterState,C).activate(S),z)))(this.rootContexts,C.routeReuseStrategy,X=>this.events.next(X)),(0,mt.q)(1),(0,Gt.b)({next:X=>{R=!0,this.lastSuccessfulNavigation=this.currentNavigation,C.navigated=!0,this.events.next(new fi(X.id,this.urlSerializer.serialize(X.extractedUrl),this.urlSerializer.serialize(C.currentUrlTree))),C.titleStrategy?.updateTitle(X.targetRouterState.snapshot),X.resolve(!0)},complete:()=>{R=!0}}),(0,ke.x)(()=>{R||j||this.cancelNavigationTransition(z,"",1),this.currentNavigation?.id===z.id&&(this.currentNavigation=null)}),(0,bt.K)(X=>{if(j=!0,mi(X)){bc(X)||(C.navigated=!0,C.restoreHistory(z,!0));const Ce=new fn(z.id,this.urlSerializer.serialize(z.extractedUrl),X.message,X.cancellationCode);if(this.events.next(Ce),bc(X)){const ot=C.urlHandlingStrategy.merge(X.url,C.rawUrlTree),Pt={skipLocationChange:z.extras.skipLocationChange,replaceUrl:"eager"===C.urlUpdateStrategy||Io(z.source)};C.scheduleNavigation(ot,Yr,null,Pt,{resolve:z.resolve,reject:z.reject,promise:z.promise})}else z.resolve(!1)}else{C.restoreHistory(z,!0);const Ce=new ne(z.id,this.urlSerializer.serialize(z.extractedUrl),X,z.targetSnapshot??void 0);this.events.next(Ce);try{z.resolve(C.errorHandler(X))}catch(ot){z.reject(ot)}}return Qe.E}))}))}cancelNavigationTransition(C,z,R){const j=new fn(C.id,this.urlSerializer.serialize(C.extractedUrl),z,R);this.events.next(j),C.resolve(!1)}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Io(S){return S!==Yr}let Ms=(()=>{class S{buildTitle(C){let z,R=C.root;for(;void 0!==R;)z=this.getResolvedTitleForRoute(R)??z,R=R.children.find(j=>j.outlet===Te);return z}getResolvedTitleForRoute(C){return C.data[Ct]}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(_o)},providedIn:"root"}),S})(),_o=(()=>{class S extends Ms{constructor(C){super(),this.title=C}updateTitle(C){const z=this.buildTitle(C);void 0!==z&&this.title.setTitle(z)}}return S.\u0275fac=function(C){return new(C||S)(g.LFG(lt.Dx))},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),Fa=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(Ku)},providedIn:"root"}),S})();class Dc{shouldDetach(D){return!1}store(D,C){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,C){return D.routeConfig===C.routeConfig}}let Ku=(()=>{class S extends Dc{}return S.\u0275fac=function(){let D;return function(z){return(D||(D=g.n5z(S)))(z||S)}}(),S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const hl=new g.OlP("",{providedIn:"root",factory:()=>({})});let fl=(()=>{class S{}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=g.Yz7({token:S,factory:function(){return(0,g.f3M)(ia)},providedIn:"root"}),S})(),ia=(()=>{class S{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,z){return C}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function pl(S){throw S}function Ql(S,D,C){return D.parse("/")}const nc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xl={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cr=(()=>{class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this.options=(0,g.f3M)(hl,{optional:!0})||{},this.errorHandler=this.options.errorHandler||pl,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ql,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(fl),this.routeReuseStrategy=(0,g.f3M)(Fa),this.urlCreationStrategy=(0,g.f3M)(_s),this.titleStrategy=(0,g.f3M)(Ms),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=_n((0,g.f3M)(or,{optional:!0})??[]),this.navigationTransitions=(0,g.f3M)(ji),this.urlSerializer=(0,g.f3M)(Fr),this.location=(0,g.f3M)(Xe.Ye),this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Hn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ao(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(C=>{this.lastSuccessfulId=C.id,this.currentPageId=this.browserPageId??0},C=>{this.console.warn(`Unhandled Navigation Error: ${C}`)})}resetRootComponentType(C){this.routerState.root.component=C,this.navigationTransitions.rootComponentType=C}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const C=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yr,C)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(C=>{const z="popstate"===C.type?"popstate":"hashchange";"popstate"===z&&setTimeout(()=>{this.navigateToSyncWithBrowser(C.url,z,C.state)},0)}))}navigateToSyncWithBrowser(C,z,R){const j={replaceUrl:!0},X=R?.navigationId?R:null;if(R){const ot={...R};delete ot.navigationId,delete ot.\u0275routerPageId,0!==Object.keys(ot).length&&(j.state=ot)}const Ce=this.parseUrl(C);this.scheduleNavigation(Ce,z,X,j)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(C){this.config=C.map(lo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(C,z={}){const{relativeTo:R,queryParams:j,fragment:X,queryParamsHandling:Ce,preserveFragment:ot}=z,Pt=ot?this.currentUrlTree.fragment:X;let Yt=null;switch(Ce){case"merge":Yt={...this.currentUrlTree.queryParams,...j};break;case"preserve":Yt=this.currentUrlTree.queryParams;break;default:Yt=j||null}return null!==Yt&&(Yt=this.removeEmptyProps(Yt)),this.urlCreationStrategy.createUrlTree(R,this.routerState,this.currentUrlTree,C,Yt,Pt??null)}navigateByUrl(C,z={skipLocationChange:!1}){const R=Mt(C)?C:this.parseUrl(C),j=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation(j,Yr,null,z)}navigate(C,z={skipLocationChange:!1}){return function kd(S){for(let D=0;D<S.length;D++){const C=S[D];if(null==C)throw new g.vHH(4008,false)}}(C),this.navigateByUrl(this.createUrlTree(C,z),z)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){let z;try{z=this.urlSerializer.parse(C)}catch(R){z=this.malformedUriErrorHandler(R,this.urlSerializer,C)}return z}isActive(C,z){let R;if(R=!0===z?{...nc}:!1===z?{...Xl}:z,Mt(C))return vr(this.currentUrlTree,C,R);const j=this.parseUrl(C);return vr(this.currentUrlTree,j,R)}removeEmptyProps(C){return Object.keys(C).reduce((z,R)=>{const j=C[R];return null!=j&&(z[R]=j),z},{})}scheduleNavigation(C,z,R,j,X){if(this.disposed)return Promise.resolve(!1);let Ce,ot,Pt,Yt;return X?(Ce=X.resolve,ot=X.reject,Pt=X.promise):Pt=new Promise((gr,no)=>{Ce=gr,ot=no}),Yt="computed"===this.canceledNavigationResolution?R&&R.\u0275routerPageId?R.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Yt,source:z,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:C,extras:j,resolve:Ce,reject:ot,promise:Pt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pt.catch(gr=>Promise.reject(gr))}setBrowserUrl(C,z){const R=this.urlSerializer.serialize(C);if(this.location.isCurrentPathEqualTo(R)||z.extras.replaceUrl){const X={...z.extras.state,...this.generateNgRouterState(z.id,this.browserPageId)};this.location.replaceState(R,"",X)}else{const j={...z.extras.state,...this.generateNgRouterState(z.id,z.targetPageId)};this.location.go(R,"",j)}}restoreHistory(C,z=!1){if("computed"===this.canceledNavigationResolution){const j=this.currentPageId-(this.browserPageId??this.currentPageId);0!==j?this.location.historyGo(j):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===j&&(this.resetState(C),this.browserUrlTree=C.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(z&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=C.currentRouterState,this.currentUrlTree=C.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(C,z){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:z}:{navigationId:C}}}return S.\u0275fac=function(C){return new(C||S)},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();class Jl{}let La=(()=>{class S{constructor(C,z,R,j,X){this.router=C,this.injector=R,this.preloadingStrategy=j,this.loader=X}setUpPreloading(){this.subscription=this.router.events.pipe((0,_t.h)(C=>C instanceof fi),(0,wt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,z){const R=[];for(const j of z){j.providers&&!j._injector&&(j._injector=(0,g.MMx)(j.providers,C,`Route: ${j.path}`));const X=j._injector??C,Ce=j._loadedInjector??X;(j.loadChildren&&!j._loadedRoutes&&void 0===j.canLoad||j.loadComponent&&!j._loadedComponent)&&R.push(this.preloadConfig(X,j)),(j.children||j._loadedRoutes)&&R.push(this.processRoutes(Ce,j.children??j._loadedRoutes))}return(0,Q.D)(R).pipe((0,Oe.J)())}preloadConfig(C,z){return this.preloadingStrategy.preload(z,()=>{let R;R=z.loadChildren&&void 0===z.canLoad?this.loader.loadChildren(C,z):(0,_.of)(null);const j=R.pipe((0,Ie.z)(X=>null===X?(0,_.of)(void 0):(z._loadedRoutes=X.routes,z._loadedInjector=X.injector,this.processRoutes(X.injector??C,X.routes))));if(z.loadComponent&&!z._loadedComponent){const X=this.loader.loadComponent(z);return(0,Q.D)([j,X]).pipe((0,Oe.J)())}return j})}}return S.\u0275fac=function(C){return new(C||S)(g.LFG(cr),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Jl),g.LFG(ai))},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const ic=new g.OlP("");let vl=(()=>{class S{constructor(C,z,R,j,X={}){this.urlSerializer=C,this.transitions=z,this.viewportScroller=R,this.zone=j,this.options=X,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},X.scrollPositionRestoration=X.scrollPositionRestoration||"disabled",X.anchorScrolling=X.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof Zi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof fi&&(this.lastId=C.id,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof Di&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,z){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Di(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,z))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return S.\u0275fac=function(C){g.$Z()},S.\u0275prov=g.Yz7({token:S,factory:S.\u0275fac}),S})();var to=(()=>((to=to||{})[to.COMPLETE=0]="COMPLETE",to[to.FAILED=1]="FAILED",to[to.REDIRECTING=2]="REDIRECTING",to))();const oc=!1;function Is(S,D){return{\u0275kind:S,\u0275providers:D}}const yl=new g.OlP("",{providedIn:"root",factory:()=>!1});function Va(){const S=(0,g.f3M)(g.zs3);return D=>{const C=S.get(g.z2F);if(D!==C.components[0])return;const z=S.get(cr),R=S.get(Qu);1===S.get(Us)&&z.initialNavigation(),S.get(Hr,null,g.XFs.Optional)?.setUpPreloading(),S.get(ic,null,g.XFs.Optional)?.init(),z.resetRootComponentType(C.componentTypes[0]),R.closed||(R.next(),R.complete(),R.unsubscribe())}}const Qu=new g.OlP(oc?"bootstrap done indicator":"",{factory:()=>new pe.x}),Us=new g.OlP(oc?"initial navigation":"",{providedIn:"root",factory:()=>1});function Od(){let S=[];return S=oc?[{provide:g.Xts,multi:!0,useFactory:()=>{const D=(0,g.f3M)(cr);return()=>D.events.subscribe(C=>{console.group?.(`Router Event: ${C.constructor.name}`),console.log(function Mi(S){if(!("type"in S))return`Unknown Router Event: ${S.constructor.name}`;switch(S.type){case 14:return`ActivationEnd(path: '${S.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${S.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${S.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${S.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state}, shouldActivate: ${S.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 2:return`NavigationCancel(id: ${S.id}, url: '${S.url}')`;case 16:return`NavigationSkipped(id: ${S.id}, url: '${S.url}')`;case 1:return`NavigationEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${S.id}, url: '${S.url}', error: ${S.error})`;case 0:return`NavigationStart(id: ${S.id}, url: '${S.url}')`;case 6:return`ResolveEnd(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 5:return`ResolveStart(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 10:return`RouteConfigLoadEnd(path: ${S.route.path})`;case 9:return`RouteConfigLoadStart(path: ${S.route.path})`;case 4:return`RoutesRecognized(id: ${S.id}, url: '${S.url}', urlAfterRedirects: '${S.urlAfterRedirects}', state: ${S.state})`;case 15:return`Scroll(anchor: '${S.anchor}', position: '${S.position?`${S.position[0]}, ${S.position[1]}`:null}')`}}(C)),console.log(C),console.groupEnd?.()})}}]:[],Is(1,S)}const Hr=new g.OlP(oc?"router preloader":"");function G4(S){return Is(0,[{provide:Hr,useExisting:La},{provide:Jl,useExisting:S}])}const _l=!1,Rd=new g.OlP(_l?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),zc=[Xe.Ye,{provide:Fr,useClass:vn},cr,gi,{provide:Hi,useFactory:function Mc(S){return S.routerState.root},deps:[cr]},ai,_l?{provide:yl,useValue:!0}:[]];function q4(){return new g.PXZ("Router",cr)}let Fd=(()=>{class S{constructor(C){}static forRoot(C,z){return{ngModule:S,providers:[zc,_l&&z?.enableTracing?Od().\u0275providers:[],{provide:or,multi:!0,useValue:C},{provide:Rd,useFactory:Ld,deps:[[cr,new g.FiY,new g.tp0]]},{provide:hl,useValue:z||{}},z?.useHash?{provide:Xe.S$,useClass:Xe.Do}:{provide:Xe.S$,useClass:Xe.b0},{provide:ic,useFactory:()=>{const S=(0,g.f3M)(Xe.EM),D=(0,g.f3M)(g.R0b),C=(0,g.f3M)(hl),z=(0,g.f3M)(ji),R=(0,g.f3M)(Fr);return C.scrollOffset&&S.setOffset(C.scrollOffset),new vl(R,z,S,D,C)}},z?.preloadingStrategy?G4(z.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:q4},z?.initialNavigation?as(z):[],[{provide:Ys,useFactory:Va},{provide:g.tb,multi:!0,useExisting:Ys}]]}}static forChild(C){return{ngModule:S,providers:[{provide:or,multi:!0,useValue:C}]}}}return S.\u0275fac=function(C){return new(C||S)(g.LFG(Rd,8))},S.\u0275mod=g.oAB({type:S}),S.\u0275inj=g.cJS({imports:[Bi]}),S})();function Ld(S){if(_l&&S)throw new g.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function as(S){return["disabled"===S.initialNavigation?Is(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const D=(0,g.f3M)(cr);return()=>{D.setUpLocationChangeListener()}}},{provide:Us,useValue:2}]).\u0275providers:[],"enabledBlocking"===S.initialNavigation?Is(2,[{provide:Us,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:D=>{const C=D.get(Xe.V_,Promise.resolve());return()=>C.then(()=>new Promise(z=>{const R=D.get(cr),j=D.get(Qu);(function oa(S,D){S.events.pipe((0,_t.h)(C=>C instanceof fi||C instanceof fn||C instanceof ne||C instanceof ri),(0,Fe.U)(C=>C instanceof fi||C instanceof ri?to.COMPLETE:C instanceof fn&&(0===C.code||1===C.code)?to.REDIRECTING:to.FAILED),(0,_t.h)(C=>C!==to.REDIRECTING),(0,mt.q)(1)).subscribe(()=>{D()})})(R,()=>{z(!0)}),D.get(ji).afterPreactivation=()=>(z(!0),j.closed?(0,_.of)(void 0):j),R.initialNavigation()}))}}]).\u0275providers:[]]}const Ys=new g.OlP(_l?"Router Initializer":"")},579:(It,Ve,L)=>{L.d(Ve,{EI:()=>le,Gb:()=>zr,Iv:()=>tn,Kz:()=>fe,Xd:()=>gn,lT:()=>Jn,xP:()=>Ar});var g=L(5861),Q=L(6881),_=L(1877),pe=L(2090),ve=L(4859);L(4727);const xe="analytics",Ne="firebase_id",Pe="origin",se=6e4,ae="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",he="https://www.googletagmanager.com/gtag/js",Ke=new _.Yd("@firebase/analytics"),Qe=new pe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function St($){if(!$.startsWith(he)){const Y=Qe.create("invalid-gtag-resource",{gtagURL:$});return Ke.warn(Y.message),""}return $}function Be($){return Promise.all($.map(Y=>Y.catch(J=>J)))}function Fe(){return(Fe=(0,g.Z)(function*($,Y,J,me,Me,ct){const Mt=me[Me];try{if(Mt)yield Y[Mt];else{const on=(yield Be(J)).find(Ee=>Ee.measurementId===Me);on&&(yield Y[on.appId])}}catch(Wt){Ke.error(Wt)}$("config",Me,ct)})).apply(this,arguments)}function mt(){return(mt=(0,g.Z)(function*($,Y,J,me,Me){try{let ct=[];if(Me&&Me.send_to){let Mt=Me.send_to;Array.isArray(Mt)||(Mt=[Mt]);const Wt=yield Be(J);for(const on of Mt){const Ee=Wt.find(Je=>Je.measurementId===on),Se=Ee&&Y[Ee.appId];if(!Se){ct=[];break}ct.push(Se)}}0===ct.length&&(ct=Object.values(Y)),yield Promise.all(ct),$("event",me,Me||{})}catch(ct){Ke.error(ct)}})).apply(this,arguments)}const $t=30,bt=new class Gt{constructor(Y={},J=1e3){this.throttleMetadata=Y,this.intervalMillis=J}getThrottleMetadata(Y){return this.throttleMetadata[Y]}setThrottleMetadata(Y,J){this.throttleMetadata[Y]=J}deleteThrottleMetadata(Y){delete this.throttleMetadata[Y]}};function ui($){return new Headers({Accept:"application/json","x-goog-api-key":$})}function di(){return(di=(0,g.Z)(function*($){var Y;const{appId:J,apiKey:me}=$,Me={method:"GET",headers:ui(me)},ct=ae.replace("{app-id}",J),Mt=yield fetch(ct,Me);if(200!==Mt.status&&304!==Mt.status){let Wt="";try{const on=yield Mt.json();null!==(Y=on.error)&&void 0!==Y&&Y.message&&(Wt=on.error.message)}catch{}throw Qe.create("config-fetch-failed",{httpStatus:Mt.status,responseMessage:Wt})}return Mt.json()})).apply(this,arguments)}function ti(){return(ti=(0,g.Z)(function*($,Y=bt,J){const{appId:me,apiKey:Me,measurementId:ct}=$.options;if(!me)throw Qe.create("no-app-id");if(!Me){if(ct)return{measurementId:ct,appId:me};throw Qe.create("no-api-key")}const Mt=Y.getThrottleMetadata(me)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Wt=new Oe;return setTimeout((0,g.Z)(function*(){Wt.abort()}),void 0!==J?J:se),Zr({appId:me,apiKey:Me,measurementId:ct},Mt,Wt,Y)})).apply(this,arguments)}function Zr($,Y,J){return Ae.apply(this,arguments)}function Ae(){return Ae=(0,g.Z)(function*($,{throttleEndTimeMillis:Y,backoffCount:J},me,Me=bt){var ct;const{appId:Mt,measurementId:Wt}=$;try{yield function be($,Y){return new Promise((J,me)=>{const Me=Math.max(Y-Date.now(),0),ct=setTimeout(J,Me);$.addEventListener(()=>{clearTimeout(ct),me(Qe.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}(me,Y)}catch(on){if(Wt)return Ke.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wt} provided in the "measurementId" field in the local Firebase config. [${on?.message}]`),{appId:Mt,measurementId:Wt};throw on}try{const on=yield function Rr($){return di.apply(this,arguments)}($);return Me.deleteThrottleMetadata(Mt),on}catch(on){const Ee=on;if(!function ke($){if(!($ instanceof pe.ZR&&$.customData))return!1;const Y=Number($.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}(Ee)){if(Me.deleteThrottleMetadata(Mt),Wt)return Ke.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wt} provided in the "measurementId" field in the local Firebase config. [${Ee?.message}]`),{appId:Mt,measurementId:Wt};throw on}const Se=503===Number(null===(ct=Ee?.customData)||void 0===ct?void 0:ct.httpStatus)?(0,pe.$s)(J,Me.intervalMillis,$t):(0,pe.$s)(J,Me.intervalMillis),Je={throttleEndTimeMillis:Date.now()+Se,backoffCount:J+1};return Me.setThrottleMetadata(Mt,Je),Ke.debug(`Calling attemptFetch again in ${Se} millis`),Zr($,Je,me,Me)}}),Ae.apply(this,arguments)}class Oe{constructor(){this.listeners=[]}addEventListener(Y){this.listeners.push(Y)}abort(){this.listeners.forEach(Y=>Y())}}let lt,Dt;function Ct(){return(Ct=(0,g.Z)(function*($,Y,J,me,Me){if(Me&&Me.global)$("event",J,me);else{const ct=yield Y;$("event",J,Object.assign(Object.assign({},me),{send_to:ct}))}})).apply(this,arguments)}function Tn(){return(Tn=(0,g.Z)(function*($,Y,J,me){if(me&&me.global)return $("set",{screen_name:J}),Promise.resolve();$("config",yield Y,{update:!0,screen_name:J})})).apply(this,arguments)}function Ln(){return(Ln=(0,g.Z)(function*($,Y,J,me){if(me&&me.global)return $("set",{user_id:J}),Promise.resolve();$("config",yield Y,{update:!0,user_id:J})})).apply(this,arguments)}function Ir(){return(Ir=(0,g.Z)(function*($,Y,J,me){if(me&&me.global){const Me={};for(const ct of Object.keys(J))Me[`user_properties.${ct}`]=J[ct];return $("set",Me),Promise.resolve()}$("config",yield Y,{update:!0,user_properties:J})})).apply(this,arguments)}function rn(){return(rn=(0,g.Z)(function*($,Y){const J=yield $;window[`ga-disable-${J}`]=!Y})).apply(this,arguments)}function vr(){return(vr=(0,g.Z)(function*(){if(!(0,pe.hl)())return Ke.warn(Qe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,pe.eu)()}catch($){return Ke.warn(Qe.create("indexeddb-unavailable",{errorInfo:$?.toString()}).message),!1}return!0})).apply(this,arguments)}function mn(){return mn=(0,g.Z)(function*($,Y,J,me,Me,ct,Mt){var Wt;const on=function Br($){return ti.apply(this,arguments)}($);on.then(Nt=>{J[Nt.measurementId]=Nt.appId,$.options.measurementId&&Nt.measurementId!==$.options.measurementId&&Ke.warn(`The measurement ID in the local Firebase config (${$.options.measurementId}) does not match the measurement ID fetched from the server (${Nt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Nt=>Ke.error(Nt)),Y.push(on);const Ee=function br(){return vr.apply(this,arguments)}().then(Nt=>{if(Nt)return me.getId()}),[Se,Je]=yield Promise.all([on,Ee]);(function Ie($){const Y=window.document.getElementsByTagName("script");for(const J of Object.values(Y))if(J.src&&J.src.includes(he)&&J.src.includes($))return J;return null})(ct)||function st($,Y){const J=function et($,Y){let J;return window.trustedTypes&&(J=window.trustedTypes.createPolicy($,Y)),J}("firebase-js-sdk-policy",{createScriptURL:St}),me=document.createElement("script"),Me=`${he}?l=${$}&id=${Y}`;me.src=J?J?.createScriptURL(Me):Me,me.async=!0,document.head.appendChild(me)}(ct,Se.measurementId),Dt&&(Me("consent","default",Dt),function An($){Dt=$}(void 0)),Me("js",new Date);const xt=null!==(Wt=Mt?.config)&&void 0!==Wt?Wt:{};return xt[Pe]="firebase",xt.update=!0,null!=Je&&(xt[Ne]=Je),Me("config",Se.measurementId,xt),lt&&(Me("set",lt),function ni($){lt=$}(void 0)),Se.measurementId}),mn.apply(this,arguments)}class Gn{constructor(Y){this.app=Y}_delete(){return delete Et[this.app.options.appId],Promise.resolve()}}let Et={},Lt=[];const xr={};let pr,sr,Hn="dataLayer",Vt="gtag",wr=!1;function gn($){if(wr)throw Qe.create("already-initialized");$.dataLayerName&&(Hn=$.dataLayerName),$.gtagName&&(Vt=$.gtagName)}function vn($,Y,J){!function Fr(){const $=[];if((0,pe.ru)()&&$.push("This is a browser extension environment."),(0,pe.zI)()||$.push("Cookies are not available."),$.length>0){const Y=$.map((me,Me)=>`(${Me+1}) ${me}`).join(" "),J=Qe.create("invalid-analytics-context",{errorInfo:Y});Ke.warn(J.message)}}();const me=$.options.appId;if(!me)throw Qe.create("no-app-id");if(!$.options.apiKey){if(!$.options.measurementId)throw Qe.create("no-api-key");Ke.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${$.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Et[me])throw Qe.create("already-exists",{id:me});if(!wr){!function ht($){let Y=[];Array.isArray(window[$])?Y=window[$]:window[$]=Y}(Hn);const{wrappedGtag:ct,gtagCore:Mt}=function _t($,Y,J,me,Me){let ct=function(...Mt){window[me].push(arguments)};return window[Me]&&"function"==typeof window[Me]&&(ct=window[Me]),window[Me]=function nt($,Y,J,me){function ct(){return ct=(0,g.Z)(function*(Mt,...Wt){try{if("event"===Mt){const[on,Ee]=Wt;yield function Ye($,Y,J,me,Me){return mt.apply(this,arguments)}($,Y,J,on,Ee)}else if("config"===Mt){const[on,Ee]=Wt;yield function Xe($,Y,J,me,Me,ct){return Fe.apply(this,arguments)}($,Y,J,me,on,Ee)}else if("consent"===Mt){const[on]=Wt;$("consent","update",on)}else if("get"===Mt){const[on,Ee,Se]=Wt;$("get",on,Ee,Se)}else if("set"===Mt){const[on]=Wt;$("set",on)}else $(Mt,...Wt)}catch(on){Ke.error(on)}}),ct.apply(this,arguments)}return function Me(Mt){return ct.apply(this,arguments)}}(ct,$,Y,J),{gtagCore:ct,wrappedGtag:window[Me]}}(Et,Lt,xr,Hn,Vt);sr=ct,pr=Mt,wr=!0}return Et[me]=function Ur($,Y,J,me,Me,ct,Mt){return mn.apply(this,arguments)}($,Lt,xr,Y,pr,Hn,J),new Gn($)}function zr(){return nr.apply(this,arguments)}function nr(){return(nr=(0,g.Z)(function*(){if((0,pe.ru)()||!(0,pe.zI)()||!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}function Jn($,Y,J){$=(0,pe.m9)($),function an($,Y,J,me){return Tn.apply(this,arguments)}(sr,Et[$.app.options.appId],Y,J).catch(me=>Ke.error(me))}function tn($,Y,J){$=(0,pe.m9)($),function Zt($,Y,J,me){return Ln.apply(this,arguments)}(sr,Et[$.app.options.appId],Y,J).catch(me=>Ke.error(me))}function Ar($,Y,J){$=(0,pe.m9)($),function Mn($,Y,J,me){return Ir.apply(this,arguments)}(sr,Et[$.app.options.appId],Y,J).catch(me=>Ke.error(me))}function le($,Y){$=(0,pe.m9)($),function fr($,Y){return rn.apply(this,arguments)}(Et[$.app.options.appId],Y).catch(J=>Ke.error(J))}function fe($,Y,J,me){$=(0,pe.m9)($),function Te($,Y,J,me,Me){return Ct.apply(this,arguments)}(sr,Et[$.app.options.appId],Y,J,me).catch(Me=>Ke.error(Me))}const De="@firebase/analytics";!function ue(){(0,Q._registerComponent)(new ve.wA(xe,(Y,{options:J})=>vn(Y.getProvider("app").getImmediate(),Y.getProvider("installations-internal").getImmediate(),J),"PUBLIC")),(0,Q._registerComponent)(new ve.wA("analytics-internal",function $(Y){try{const J=Y.getProvider(xe).getImmediate();return{logEvent:(me,Me,ct)=>fe(J,me,Me,ct)}}catch(J){throw Qe.create("interop-component-reg-failed",{reason:J})}},"PRIVATE")),(0,Q.registerVersion)(De,"0.10.0"),(0,Q.registerVersion)(De,"0.10.0","esm2017")}()},3942:(It,Ve,L)=>{L.d(Ve,{Z:()=>Qe});var g=L(2090),Q=L(4859),_=L(6881),pe=L(1877);class ve{constructor(Be,et){this._delegate=Be,this.firebase=et,(0,_._addComponent)(Be,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=Be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this._delegate.automaticDataCollectionEnabled=Be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Be=>{this._delegate.checkDestroyed(),Be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,_.deleteApp)(this._delegate)))}_getService(Be,et=_._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(Be);return!ht.isInitialized()&&"EXPLICIT"===(null===(st=ht.getComponent())||void 0===st?void 0:st.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:et})}_removeServiceInstance(Be,et=_._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Be).clearInstance(et)}_addComponent(Be){(0,_._addComponent)(this._delegate,Be)}_addOrOverwriteComponent(Be){(0,_._addOrOverwriteComponent)(this._delegate,Be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xe=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function Pe(){const St=function Ne(St){const Be={},et={__esModule:!0,initializeApp:function Xe(nt,_t={}){const Ie=_.initializeApp(nt,_t);if((0,g.r3)(Be,Ie.name))return Be[Ie.name];const $t=new St(Ie,et);return Be[Ie.name]=$t,$t},app:ht,registerVersion:_.registerVersion,setLogLevel:_.setLogLevel,onLog:_.onLog,apps:null,SDK_VERSION:_.SDK_VERSION,INTERNAL:{registerComponent:function Ye(nt){const _t=nt.name,Ie=_t.replace("-compat","");if(_._registerComponent(nt)&&"PUBLIC"===nt.type){const $t=(wt=ht())=>{if("function"!=typeof wt[Ie])throw xe.create("invalid-app-argument",{appName:_t});return wt[Ie]()};void 0!==nt.serviceProps&&(0,g.ZB)($t,nt.serviceProps),et[Ie]=$t,St.prototype[Ie]=function(...wt){return this._getService.bind(this,_t).apply(this,nt.multipleInstances?wt:[])}}return"PUBLIC"===nt.type?et[Ie]:null},removeApp:function st(nt){delete Be[nt]},useAsService:function mt(nt,_t){return"serverAuth"===_t?null:_t},modularAPIs:_}};function ht(nt){if(!(0,g.r3)(Be,nt=nt||_._DEFAULT_ENTRY_NAME))throw xe.create("no-app",{appName:nt});return Be[nt]}return et.default=et,Object.defineProperty(et,"apps",{get:function Fe(){return Object.keys(Be).map(nt=>Be[nt])}}),ht.App=St,et}(ve);return St.INTERNAL=Object.assign(Object.assign({},St.INTERNAL),{createFirebaseNamespace:Pe,extendNamespace:function Be(et){(0,g.ZB)(St,et)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),St}(),ae=new pe.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const St=self.firebase.SDK_VERSION;St&&St.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=se;!function He(St){(0,_.registerVersion)("@firebase/app-compat","0.2.13",St)}()},6881:(It,Ve,L)=>{L.r(Ve),L.d(Ve,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Fr,_DEFAULT_ENTRY_NAME:()=>vr,_addComponent:()=>Et,_addOrOverwriteComponent:()=>Lt,_apps:()=>mn,_clearComponents:()=>pr,_components:()=>Gn,_getProvider:()=>Hn,_registerComponent:()=>xr,_removeServiceInstance:()=>Vt,deleteApp:()=>zr,getApp:()=>Ki,getApps:()=>On,initializeApp:()=>vn,onLog:()=>Ci,registerVersion:()=>Jn,setLogLevel:()=>Yn});var g=L(5861),Q=L(4859),_=L(1877),pe=L(2090);const ve=(Ee,Se)=>Se.some(Je=>Ee instanceof Je);let we,xe;const se=new WeakMap,ae=new WeakMap,he=new WeakMap,Ke=new WeakMap,He=new WeakMap;let Be={get(Ee,Se,Je){if(Ee instanceof IDBTransaction){if("done"===Se)return ae.get(Ee);if("objectStoreNames"===Se)return Ee.objectStoreNames||he.get(Ee);if("store"===Se)return Je.objectStoreNames[1]?void 0:Je.objectStore(Je.objectStoreNames[0])}return Xe(Ee[Se])},set:(Ee,Se,Je)=>(Ee[Se]=Je,!0),has:(Ee,Se)=>Ee instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in Ee};function ht(Ee){return"function"==typeof Ee?function st(Ee){return Ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pe(){return xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ee)?function(...Se){return Ee.apply(Fe(this),Se),Xe(se.get(this))}:function(...Se){return Xe(Ee.apply(Fe(this),Se))}:function(Se,...Je){const xt=Ee.call(Fe(this),Se,...Je);return he.set(xt,Se.sort?Se.sort():[Se]),Xe(xt)}}(Ee):(Ee instanceof IDBTransaction&&function St(Ee){if(ae.has(Ee))return;const Se=new Promise((Je,xt)=>{const Nt=()=>{Ee.removeEventListener("complete",un),Ee.removeEventListener("error",Ut),Ee.removeEventListener("abort",Ut)},un=()=>{Je(),Nt()},Ut=()=>{xt(Ee.error||new DOMException("AbortError","AbortError")),Nt()};Ee.addEventListener("complete",un),Ee.addEventListener("error",Ut),Ee.addEventListener("abort",Ut)});ae.set(Ee,Se)}(Ee),ve(Ee,function Ne(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ee,Be):Ee)}function Xe(Ee){if(Ee instanceof IDBRequest)return function Qe(Ee){const Se=new Promise((Je,xt)=>{const Nt=()=>{Ee.removeEventListener("success",un),Ee.removeEventListener("error",Ut)},un=()=>{Je(Xe(Ee.result)),Nt()},Ut=()=>{xt(Ee.error),Nt()};Ee.addEventListener("success",un),Ee.addEventListener("error",Ut)});return Se.then(Je=>{Je instanceof IDBCursor&&se.set(Je,Ee)}).catch(()=>{}),He.set(Se,Ee),Se}(Ee);if(Ke.has(Ee))return Ke.get(Ee);const Se=ht(Ee);return Se!==Ee&&(Ke.set(Ee,Se),He.set(Se,Ee)),Se}const Fe=Ee=>He.get(Ee),nt=["get","getKey","getAll","getAllKeys","count"],_t=["put","add","delete","clear"],Ie=new Map;function $t(Ee,Se){if(!(Ee instanceof IDBDatabase)||Se in Ee||"string"!=typeof Se)return;if(Ie.get(Se))return Ie.get(Se);const Je=Se.replace(/FromIndex$/,""),xt=Se!==Je,Nt=_t.includes(Je);if(!(Je in(xt?IDBIndex:IDBObjectStore).prototype)||!Nt&&!nt.includes(Je))return;const un=function(){var Ut=(0,g.Z)(function*(Pn,...wn){const Cn=this.transaction(Pn,Nt?"readwrite":"readonly");let In=Cn.store;return xt&&(In=In.index(wn.shift())),(yield Promise.all([In[Je](...wn),Nt&&Cn.done]))[0]});return function(wn){return Ut.apply(this,arguments)}}();return Ie.set(Se,un),un}!function et(Ee){Be=Ee(Be)}(Ee=>({...Ee,get:(Se,Je,xt)=>$t(Se,Je)||Ee.get(Se,Je,xt),has:(Se,Je)=>!!$t(Se,Je)||Ee.has(Se,Je)}));class wt{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(Je=>{if(function Gt(Ee){return"VERSION"===Ee.getComponent()?.type}(Je)){const xt=Je.getImmediate();return`${xt.library}/${xt.version}`}return null}).filter(Je=>Je).join(" ")}}const bt="@firebase/app",Rr=new _.Yd("@firebase/app"),vr="[DEFAULT]",Ur={[bt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,Gn=new Map;function Et(Ee,Se){try{Ee.container.addComponent(Se)}catch(Je){Rr.debug(`Component ${Se.name} failed to register with FirebaseApp ${Ee.name}`,Je)}}function Lt(Ee,Se){Ee.container.addOrOverwriteComponent(Se)}function xr(Ee){const Se=Ee.name;if(Gn.has(Se))return Rr.debug(`There were multiple attempts to register component ${Se}.`),!1;Gn.set(Se,Ee);for(const Je of mn.values())Et(Je,Ee);return!0}function Hn(Ee,Se){const Je=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return Je&&Je.triggerHeartbeat(),Ee.container.getProvider(Se)}function Vt(Ee,Se,Je=vr){Hn(Ee,Se).clearInstance(Je)}function pr(){Gn.clear()}const wr=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gn{constructor(Se,Je,xt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},Je),this._name=Je.name,this._automaticDataCollectionEnabled=Je.automaticDataCollectionEnabled,this._container=xt,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}const Fr="9.23.0";function vn(Ee,Se={}){let Je=Ee;"object"!=typeof Se&&(Se={name:Se});const xt=Object.assign({name:vr,automaticDataCollectionEnabled:!1},Se),Nt=xt.name;if("string"!=typeof Nt||!Nt)throw wr.create("bad-app-name",{appName:String(Nt)});if(Je||(Je=(0,pe.aH)()),!Je)throw wr.create("no-options");const un=mn.get(Nt);if(un){if((0,pe.vZ)(Je,un.options)&&(0,pe.vZ)(xt,un.config))return un;throw wr.create("duplicate-app",{appName:Nt})}const Ut=new Q.H0(Nt);for(const wn of Gn.values())Ut.addComponent(wn);const Pn=new gn(Je,xt,Ut);return mn.set(Nt,Pn),Pn}function Ki(Ee=vr){const Se=mn.get(Ee);if(!Se&&Ee===vr&&(0,pe.aH)())return vn();if(!Se)throw wr.create("no-app",{appName:Ee});return Se}function On(){return Array.from(mn.values())}function zr(Ee){return nr.apply(this,arguments)}function nr(){return(nr=(0,g.Z)(function*(Ee){const Se=Ee.name;mn.has(Se)&&(mn.delete(Se),yield Promise.all(Ee.container.getProviders().map(Je=>Je.delete())),Ee.isDeleted=!0)})).apply(this,arguments)}function Jn(Ee,Se,Je){var xt;let Nt=null!==(xt=Ur[Ee])&&void 0!==xt?xt:Ee;Je&&(Nt+=`-${Je}`);const un=Nt.match(/\s|\//),Ut=Se.match(/\s|\//);if(un||Ut){const Pn=[`Unable to register library "${Nt}" with version "${Se}":`];return un&&Pn.push(`library name "${Nt}" contains illegal characters (whitespace or "/")`),un&&Ut&&Pn.push("and"),Ut&&Pn.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void Rr.warn(Pn.join(" "))}xr(new Q.wA(`${Nt}-version`,()=>({library:Nt,version:Se}),"VERSION"))}function Ci(Ee,Se){if(null!==Ee&&"function"!=typeof Ee)throw wr.create("invalid-log-argument");(0,_.Am)(Ee,Se)}function Yn(Ee){(0,_.Ub)(Ee)}const tn="firebase-heartbeat-database",Ar=1,le="firebase-heartbeat-store";let re=null;function fe(){return re||(re=function Ye(Ee,Se,{blocked:Je,upgrade:xt,blocking:Nt,terminated:un}={}){const Ut=indexedDB.open(Ee,Se),Pn=Xe(Ut);return xt&&Ut.addEventListener("upgradeneeded",wn=>{xt(Xe(Ut.result),wn.oldVersion,wn.newVersion,Xe(Ut.transaction),wn)}),Je&&Ut.addEventListener("blocked",wn=>Je(wn.oldVersion,wn.newVersion,wn)),Pn.then(wn=>{un&&wn.addEventListener("close",()=>un()),Nt&&wn.addEventListener("versionchange",Cn=>Nt(Cn.oldVersion,Cn.newVersion,Cn))}).catch(()=>{}),Pn}(tn,Ar,{upgrade:(Ee,Se)=>{0===Se&&Ee.createObjectStore(le)}}).catch(Ee=>{throw wr.create("idb-open",{originalErrorMessage:Ee.message})})),re}function De(){return(De=(0,g.Z)(function*(Ee){try{return yield(yield fe()).transaction(le).objectStore(le).get($(Ee))}catch(Se){if(Se instanceof pe.ZR)Rr.warn(Se.message);else{const Je=wr.create("idb-get",{originalErrorMessage:Se?.message});Rr.warn(Je.message)}}})).apply(this,arguments)}function at(Ee,Se){return ue.apply(this,arguments)}function ue(){return(ue=(0,g.Z)(function*(Ee,Se){try{const xt=(yield fe()).transaction(le,"readwrite");yield xt.objectStore(le).put(Se,$(Ee)),yield xt.done}catch(Je){if(Je instanceof pe.ZR)Rr.warn(Je.message);else{const xt=wr.create("idb-set",{originalErrorMessage:Je?.message});Rr.warn(xt.message)}}})).apply(this,arguments)}function $(Ee){return`${Ee.name}!${Ee.options.appId}`}class me{constructor(Se){this.container=Se,this._heartbeatsCache=null;const Je=this.container.getProvider("app").getImmediate();this._storage=new Mt(Je),this._heartbeatsCachePromise=this._storage.read().then(xt=>(this._heartbeatsCache=xt,xt))}triggerHeartbeat(){var Se=this;return(0,g.Z)(function*(){const xt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nt=Me();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==Nt&&!Se._heartbeatsCache.heartbeats.some(un=>un.date===Nt))return Se._heartbeatsCache.heartbeats.push({date:Nt,agent:xt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(un=>{const Ut=new Date(un.date).valueOf();return Date.now()-Ut<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,g.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const Je=Me(),{heartbeatsToSend:xt,unsentEntries:Nt}=function ct(Ee,Se=1024){const Je=[];let xt=Ee.slice();for(const Nt of Ee){const un=Je.find(Ut=>Ut.agent===Nt.agent);if(un){if(un.dates.push(Nt.date),Wt(Je)>Se){un.dates.pop();break}}else if(Je.push({agent:Nt.agent,dates:[Nt.date]}),Wt(Je)>Se){Je.pop();break}xt=xt.slice(1)}return{heartbeatsToSend:Je,unsentEntries:xt}}(Se._heartbeatsCache.heartbeats),un=(0,pe.L)(JSON.stringify({version:2,heartbeats:xt}));return Se._heartbeatsCache.lastSentHeartbeatDate=Je,Nt.length>0?(Se._heartbeatsCache.heartbeats=Nt,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),un})()}}function Me(){return(new Date).toISOString().substring(0,10)}class Mt{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,g.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function We(Ee){return De.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var Je=this;return(0,g.Z)(function*(){var xt;if(yield Je._canUseIndexedDBPromise){const un=yield Je.read();return at(Je.app,{lastSentHeartbeatDate:null!==(xt=Se.lastSentHeartbeatDate)&&void 0!==xt?xt:un.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var Je=this;return(0,g.Z)(function*(){var xt;if(yield Je._canUseIndexedDBPromise){const un=yield Je.read();return at(Je.app,{lastSentHeartbeatDate:null!==(xt=Se.lastSentHeartbeatDate)&&void 0!==xt?xt:un.lastSentHeartbeatDate,heartbeats:[...un.heartbeats,...Se.heartbeats]})}})()}}function Wt(Ee){return(0,pe.L)(JSON.stringify({version:2,heartbeats:Ee})).length}!function on(Ee){xr(new Q.wA("platform-logger",Se=>new wt(Se),"PRIVATE")),xr(new Q.wA("heartbeat",Se=>new me(Se),"PRIVATE")),Jn(bt,"0.9.13",Ee),Jn(bt,"0.9.13","esm2017"),Jn("fire-js","")}("")},4859:(It,Ve,L)=>{L.d(Ve,{H0:()=>Ne,wA:()=>_});var g=L(5861),Q=L(2090);class _{constructor(se,ae,he){this.name=se,this.instanceFactory=ae,this.type=he,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const pe="[DEFAULT]";class ve{constructor(se,ae){this.name=se,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const ae=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(ae)){const he=new Q.BH;if(this.instancesDeferred.set(ae,he),this.isInitialized(ae)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:ae});Ke&&he.resolve(Ke)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(se){var ae;const he=this.normalizeInstanceIdentifier(se?.identifier),Ke=null!==(ae=se?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(he)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:he})}catch(He){if(Ke)return null;throw He}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function xe(Pe){return"EAGER"===Pe.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[ae,he]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(ae);try{const He=this.getOrInitializeService({instanceIdentifier:Ke});he.resolve(He)}catch{}}}}clearInstance(se=pe){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,g.Z)(function*(){const ae=Array.from(se.instances.values());yield Promise.all([...ae.filter(he=>"INTERNAL"in he).map(he=>he.INTERNAL.delete()),...ae.filter(he=>"_delete"in he).map(he=>he._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=pe){return this.instances.has(se)}getOptions(se=pe){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:ae={}}=se,he=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(he))throw Error(`${this.name}(${he}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:he,options:ae});for(const[He,Qe]of this.instancesDeferred.entries())he===this.normalizeInstanceIdentifier(He)&&Qe.resolve(Ke);return Ke}onInit(se,ae){var he;const Ke=this.normalizeInstanceIdentifier(ae),He=null!==(he=this.onInitCallbacks.get(Ke))&&void 0!==he?he:new Set;He.add(se),this.onInitCallbacks.set(Ke,He);const Qe=this.instances.get(Ke);return Qe&&se(Qe,Ke),()=>{He.delete(se)}}invokeOnInitCallbacks(se,ae){const he=this.onInitCallbacks.get(ae);if(he)for(const Ke of he)try{Ke(se,ae)}catch{}}getOrInitializeService({instanceIdentifier:se,options:ae={}}){let he=this.instances.get(se);if(!he&&this.component&&(he=this.component.instanceFactory(this.container,{instanceIdentifier:(Pe=se,Pe===pe?void 0:Pe),options:ae}),this.instances.set(se,he),this.instancesOptions.set(se,ae),this.invokeOnInitCallbacks(he,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,he)}catch{}var Pe;return he||null}normalizeInstanceIdentifier(se=pe){return this.component?this.component.multipleInstances?se:pe:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const ae=this.getProvider(se.name);if(ae.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);ae.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const ae=new ve(se,this);return this.providers.set(se,ae),ae}getProviders(){return Array.from(this.providers.values())}}},4727:(It,Ve,L)=>{var g=L(5861),Q=L(6881),_=L(4859),pe=L(2090);const ve=(ne,ye)=>ye.some(Ge=>ne instanceof Ge);let we,xe;const se=new WeakMap,ae=new WeakMap,he=new WeakMap,Ke=new WeakMap,He=new WeakMap;let Be={get(ne,ye,Ge){if(ne instanceof IDBTransaction){if("done"===ye)return ae.get(ne);if("objectStoreNames"===ye)return ne.objectStoreNames||he.get(ne);if("store"===ye)return Ge.objectStoreNames[1]?void 0:Ge.objectStore(Ge.objectStoreNames[0])}return Xe(ne[ye])},set:(ne,ye,Ge)=>(ne[ye]=Ge,!0),has:(ne,ye)=>ne instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in ne};function ht(ne){return"function"==typeof ne?function st(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pe(){return xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...ye){return ne.apply(Fe(this),ye),Xe(se.get(this))}:function(...ye){return Xe(ne.apply(Fe(this),ye))}:function(ye,...Ge){const gt=ne.call(Fe(this),ye,...Ge);return he.set(gt,ye.sort?ye.sort():[ye]),Xe(gt)}}(ne):(ne instanceof IDBTransaction&&function St(ne){if(ae.has(ne))return;const ye=new Promise((Ge,gt)=>{const pn=()=>{ne.removeEventListener("complete",cn),ne.removeEventListener("error",xn),ne.removeEventListener("abort",xn)},cn=()=>{Ge(),pn()},xn=()=>{gt(ne.error||new DOMException("AbortError","AbortError")),pn()};ne.addEventListener("complete",cn),ne.addEventListener("error",xn),ne.addEventListener("abort",xn)});ae.set(ne,ye)}(ne),ve(ne,function Ne(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,Be):ne)}function Xe(ne){if(ne instanceof IDBRequest)return function Qe(ne){const ye=new Promise((Ge,gt)=>{const pn=()=>{ne.removeEventListener("success",cn),ne.removeEventListener("error",xn)},cn=()=>{Ge(Xe(ne.result)),pn()},xn=()=>{gt(ne.error),pn()};ne.addEventListener("success",cn),ne.addEventListener("error",xn)});return ye.then(Ge=>{Ge instanceof IDBCursor&&se.set(Ge,ne)}).catch(()=>{}),He.set(ye,ne),ye}(ne);if(Ke.has(ne))return Ke.get(ne);const ye=ht(ne);return ye!==ne&&(Ke.set(ne,ye),He.set(ye,ne)),ye}const Fe=ne=>He.get(ne),nt=["get","getKey","getAll","getAllKeys","count"],_t=["put","add","delete","clear"],Ie=new Map;function $t(ne,ye){if(!(ne instanceof IDBDatabase)||ye in ne||"string"!=typeof ye)return;if(Ie.get(ye))return Ie.get(ye);const Ge=ye.replace(/FromIndex$/,""),gt=ye!==Ge,pn=_t.includes(Ge);if(!(Ge in(gt?IDBIndex:IDBObjectStore).prototype)||!pn&&!nt.includes(Ge))return;const cn=function(){var xn=(0,g.Z)(function*(qn,...Er){const bn=this.transaction(qn,pn?"readwrite":"readonly");let ar=bn.store;return gt&&(ar=ar.index(Er.shift())),(yield Promise.all([ar[Ge](...Er),pn&&bn.done]))[0]});return function(Er){return xn.apply(this,arguments)}}();return Ie.set(ye,cn),cn}!function et(ne){Be=ne(Be)}(ne=>({...ne,get:(ye,Ge,gt)=>$t(ye,Ge)||ne.get(ye,Ge,gt),has:(ye,Ge)=>!!$t(ye,Ge)||ne.has(ye,Ge)}));const wt="@firebase/installations",Gt="0.6.4",bt=1e4,ui=`w:${Gt}`,Rr="FIS_v2",di="https://firebaseinstallations.googleapis.com/v1",Br=36e5,be=new pe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ke(ne){return ne instanceof pe.ZR&&ne.code.includes("request-failed")}function Oe({projectId:ne}){return`${di}/projects/${ne}/installations`}function lt(ne){return{token:ne.token,requestStatus:2,expiresIn:Mn(ne.expiresIn),creationTime:Date.now()}}function Te(ne,ye){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,g.Z)(function*(ne,ye){const gt=(yield ye.json()).error;return be.create("request-failed",{requestName:ne,serverCode:gt.code,serverMessage:gt.message,serverStatus:gt.status})})).apply(this,arguments)}function an({apiKey:ne}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ne})}function Zt(ne){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,g.Z)(function*(ne){const ye=yield ne();return ye.status>=500&&ye.status<600?ne():ye})).apply(this,arguments)}function Mn(ne){return Number(ne.replace("s","000"))}function Vn(){return(Vn=(0,g.Z)(function*({appConfig:ne,heartbeatServiceProvider:ye},{fid:Ge}){const gt=Oe(ne),pn=an(ne),cn=ye.getImmediate({optional:!0});if(cn){const bn=yield cn.getHeartbeatsHeader();bn&&pn.append("x-firebase-client",bn)}const qn={method:"POST",headers:pn,body:JSON.stringify({fid:Ge,authVersion:Rr,appId:ne.appId,sdkVersion:ui})},Er=yield Zt(()=>fetch(gt,qn));if(Er.ok){const bn=yield Er.json();return{fid:bn.fid||Ge,registrationStatus:2,refreshToken:bn.refreshToken,authToken:lt(bn.authToken)}}throw yield Te("Create Installation",Er)})).apply(this,arguments)}function fr(ne){return new Promise(ye=>{setTimeout(ye,ne)})}const Dt=/^[cdef][\w-]{21}$/,An="";function ni(){try{const ne=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ne),ne[0]=112+ne[0]%16;const Ge=function br(ne){return function rn(ne){return btoa(String.fromCharCode(...ne)).replace(/\+/g,"-").replace(/\//g,"_")}(ne).substr(0,22)}(ne);return Dt.test(Ge)?Ge:An}catch{return An}}function vr(ne){return`${ne.appName}!${ne.appId}`}const Ur=new Map;function mn(ne,ye){const Ge=vr(ne);Lt(Ge,ye),function xr(ne,ye){const Ge=function Vt(){return!Hn&&"BroadcastChannel"in self&&(Hn=new BroadcastChannel("[Firebase] FID Change"),Hn.onmessage=ne=>{Lt(ne.data.key,ne.data.fid)}),Hn}();Ge&&Ge.postMessage({key:ne,fid:ye}),function pr(){0===Ur.size&&Hn&&(Hn.close(),Hn=null)}()}(Ge,ye)}function Lt(ne,ye){const Ge=Ur.get(ne);if(Ge)for(const gt of Ge)gt(ye)}let Hn=null;const sr="firebase-installations-database",wr=1,gn="firebase-installations-store";let Fr=null;function vn(){return Fr||(Fr=function Ye(ne,ye,{blocked:Ge,upgrade:gt,blocking:pn,terminated:cn}={}){const xn=indexedDB.open(ne,ye),qn=Xe(xn);return gt&&xn.addEventListener("upgradeneeded",Er=>{gt(Xe(xn.result),Er.oldVersion,Er.newVersion,Xe(xn.transaction))}),Ge&&xn.addEventListener("blocked",()=>Ge()),qn.then(Er=>{cn&&Er.addEventListener("close",()=>cn()),pn&&Er.addEventListener("versionchange",()=>pn())}).catch(()=>{}),qn}(sr,wr,{upgrade:(ne,ye)=>{0===ye&&ne.createObjectStore(gn)}})),Fr}function Ki(ne,ye){return On.apply(this,arguments)}function On(){return(On=(0,g.Z)(function*(ne,ye){const Ge=vr(ne),pn=(yield vn()).transaction(gn,"readwrite"),cn=pn.objectStore(gn),xn=yield cn.get(Ge);return yield cn.put(ye,Ge),yield pn.done,(!xn||xn.fid!==ye.fid)&&mn(ne,ye.fid),ye})).apply(this,arguments)}function zr(ne){return nr.apply(this,arguments)}function nr(){return(nr=(0,g.Z)(function*(ne){const ye=vr(ne),gt=(yield vn()).transaction(gn,"readwrite");yield gt.objectStore(gn).delete(ye),yield gt.done})).apply(this,arguments)}function Jn(ne,ye){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,g.Z)(function*(ne,ye){const Ge=vr(ne),pn=(yield vn()).transaction(gn,"readwrite"),cn=pn.objectStore(gn),xn=yield cn.get(Ge),qn=ye(xn);return void 0===qn?yield cn.delete(Ge):yield cn.put(qn,Ge),yield pn.done,qn&&(!xn||xn.fid!==qn.fid)&&mn(ne,qn.fid),qn})).apply(this,arguments)}function Yn(ne){return tn.apply(this,arguments)}function tn(){return tn=(0,g.Z)(function*(ne){let ye;const Ge=yield Jn(ne.appConfig,gt=>{const pn=function Ar(ne){return ue(ne||{fid:ni(),registrationStatus:0})}(gt),cn=function le(ne,ye){if(0===ye.registrationStatus){if(!navigator.onLine)return{installationEntry:ye,registrationPromise:Promise.reject(be.create("app-offline"))};const Ge={fid:ye.fid,registrationStatus:1,registrationTime:Date.now()},gt=function re(ne,ye){return fe.apply(this,arguments)}(ne,Ge);return{installationEntry:Ge,registrationPromise:gt}}return 1===ye.registrationStatus?{installationEntry:ye,registrationPromise:We(ne)}:{installationEntry:ye}}(ne,pn);return ye=cn.registrationPromise,cn.installationEntry});return Ge.fid===An?{installationEntry:yield ye}:{installationEntry:Ge,registrationPromise:ye}}),tn.apply(this,arguments)}function fe(){return fe=(0,g.Z)(function*(ne,ye){try{const Ge=yield function _n(ne,ye){return Vn.apply(this,arguments)}(ne,ye);return Ki(ne.appConfig,Ge)}catch(Ge){throw ke(Ge)&&409===Ge.customData.serverCode?yield zr(ne.appConfig):yield Ki(ne.appConfig,{fid:ye.fid,registrationStatus:0}),Ge}}),fe.apply(this,arguments)}function We(ne){return De.apply(this,arguments)}function De(){return(De=(0,g.Z)(function*(ne){let ye=yield at(ne.appConfig);for(;1===ye.registrationStatus;)yield fr(100),ye=yield at(ne.appConfig);if(0===ye.registrationStatus){const{installationEntry:Ge,registrationPromise:gt}=yield Yn(ne);return gt||Ge}return ye})).apply(this,arguments)}function at(ne){return Jn(ne,ye=>{if(!ye)throw be.create("installation-not-found");return ue(ye)})}function ue(ne){return function $(ne){return 1===ne.registrationStatus&&ne.registrationTime+bt<Date.now()}(ne)?{fid:ne.fid,registrationStatus:0}:ne}function J(){return(J=(0,g.Z)(function*({appConfig:ne,heartbeatServiceProvider:ye},Ge){const gt=function me(ne,{fid:ye}){return`${Oe(ne)}/${ye}/authTokens:generate`}(ne,Ge),pn=function Tn(ne,{refreshToken:ye}){const Ge=an(ne);return Ge.append("Authorization",function Ir(ne){return`${Rr} ${ne}`}(ye)),Ge}(ne,Ge),cn=ye.getImmediate({optional:!0});if(cn){const bn=yield cn.getHeartbeatsHeader();bn&&pn.append("x-firebase-client",bn)}const qn={method:"POST",headers:pn,body:JSON.stringify({installation:{sdkVersion:ui,appId:ne.appId}})},Er=yield Zt(()=>fetch(gt,qn));if(Er.ok)return lt(yield Er.json());throw yield Te("Generate Auth Token",Er)})).apply(this,arguments)}function Me(ne){return ct.apply(this,arguments)}function ct(){return ct=(0,g.Z)(function*(ne,ye=!1){let Ge;const gt=yield Jn(ne.appConfig,cn=>{if(!Je(cn))throw be.create("not-registered");const xn=cn.authToken;if(!ye&&function xt(ne){return 2===ne.requestStatus&&!function Nt(ne){const ye=Date.now();return ye<ne.creationTime||ne.creationTime+ne.expiresIn<ye+Br}(ne)}(xn))return cn;if(1===xn.requestStatus)return Ge=function Mt(ne,ye){return Wt.apply(this,arguments)}(ne,ye),cn;{if(!navigator.onLine)throw be.create("app-offline");const qn=function un(ne){const ye={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ne),{authToken:ye})}(cn);return Ge=function Ee(ne,ye){return Se.apply(this,arguments)}(ne,qn),qn}});return Ge?yield Ge:gt.authToken}),ct.apply(this,arguments)}function Wt(){return(Wt=(0,g.Z)(function*(ne,ye){let Ge=yield on(ne.appConfig);for(;1===Ge.authToken.requestStatus;)yield fr(100),Ge=yield on(ne.appConfig);const gt=Ge.authToken;return 0===gt.requestStatus?Me(ne,ye):gt})).apply(this,arguments)}function on(ne){return Jn(ne,ye=>{if(!Je(ye))throw be.create("not-registered");return function Ut(ne){return 1===ne.requestStatus&&ne.requestTime+bt<Date.now()}(ye.authToken)?Object.assign(Object.assign({},ye),{authToken:{requestStatus:0}}):ye})}function Se(){return Se=(0,g.Z)(function*(ne,ye){try{const Ge=yield function Y(ne,ye){return J.apply(this,arguments)}(ne,ye),gt=Object.assign(Object.assign({},ye),{authToken:Ge});return yield Ki(ne.appConfig,gt),Ge}catch(Ge){if(!ke(Ge)||401!==Ge.customData.serverCode&&404!==Ge.customData.serverCode){const gt=Object.assign(Object.assign({},ye),{authToken:{requestStatus:0}});yield Ki(ne.appConfig,gt)}else yield zr(ne.appConfig);throw Ge}}),Se.apply(this,arguments)}function Je(ne){return void 0!==ne&&2===ne.registrationStatus}function wn(){return(wn=(0,g.Z)(function*(ne){const ye=ne,{installationEntry:Ge,registrationPromise:gt}=yield Yn(ye);return gt?gt.catch(console.error):Me(ye).catch(console.error),Ge.fid})).apply(this,arguments)}function In(){return In=(0,g.Z)(function*(ne,ye=!1){const Ge=ne;return yield function Cr(ne){return Eo.apply(this,arguments)}(Ge),(yield Me(Ge,ye)).token}),In.apply(this,arguments)}function Eo(){return(Eo=(0,g.Z)(function*(ne){const{registrationPromise:ye}=yield Yn(ne);ye&&(yield ye)})).apply(this,arguments)}function Yr(ne){return be.create("missing-app-config-values",{valueName:ne})}const Bn="installations",fi=ne=>{const ye=ne.getProvider("app").getImmediate(),Ge=function Sr(ne){if(!ne||!ne.options)throw Yr("App Configuration");if(!ne.name)throw Yr("App Name");const ye=["projectId","apiKey","appId"];for(const Ge of ye)if(!ne.options[Ge])throw Yr(Ge);return{appName:ne.name,projectId:ne.options.projectId,apiKey:ne.options.apiKey,appId:ne.options.appId}}(ye);return{app:ye,appConfig:Ge,heartbeatServiceProvider:(0,Q._getProvider)(ye,"heartbeat"),_delete:()=>Promise.resolve()}},fn=ne=>{const ye=ne.getProvider("app").getImmediate(),Ge=(0,Q._getProvider)(ye,Bn).getImmediate();return{getId:()=>function Pn(ne){return wn.apply(this,arguments)}(Ge),getToken:pn=>function Cn(ne){return In.apply(this,arguments)}(Ge,pn)}};(function ri(){(0,Q._registerComponent)(new _.wA(Bn,fi,"PUBLIC")),(0,Q._registerComponent)(new _.wA("installations-internal",fn,"PRIVATE"))})(),(0,Q.registerVersion)(wt,Gt),(0,Q.registerVersion)(wt,Gt,"esm2017")},1877:(It,Ve,L)=>{L.d(Ve,{Am:()=>Pe,Ub:()=>Ne,Yd:()=>xe,in:()=>Q});const g=[];var Q=(()=>{return(se=Q||(Q={}))[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",Q;var se})();const _={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},pe=Q.INFO,ve={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},we=(se,ae,...he)=>{if(ae<se.logLevel)return;const Ke=(new Date).toISOString(),He=ve[ae];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[He](`[${Ke}]  ${se.name}:`,...he)};class xe{constructor(ae){this.name=ae,this._logLevel=pe,this._logHandler=we,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in Q))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?_[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...ae),this._logHandler(this,Q.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...ae),this._logHandler(this,Q.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...ae),this._logHandler(this,Q.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...ae),this._logHandler(this,Q.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...ae),this._logHandler(this,Q.ERROR,...ae)}}function Ne(se){g.forEach(ae=>{ae.setLogLevel(se)})}function Pe(se,ae){for(const he of g){let Ke=null;ae&&ae.level&&(Ke=_[ae.level]),he.userLogHandler=null===se?null:(He,Qe,...St)=>{const Be=St.map(et=>{if(null==et)return null;if("string"==typeof et)return et;if("number"==typeof et||"boolean"==typeof et)return et.toString();if(et instanceof Error)return et.message;try{return JSON.stringify(et)}catch{return null}}).filter(et=>et).join(" ");Qe>=(Ke??He.logLevel)&&se({level:Q[Qe].toLowerCase(),message:Be,args:St,type:He.name})}}}},5132:(It,Ve,L)=>{L.d(Ve,{Gb:()=>g.Gb});var g=L(579)},259:(It,Ve,L)=>{L.d(Ve,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=L(6881);(0,g.registerVersion)("firebase","9.23.0","app")},9260:(It,Ve,L)=>{L.d(Ve,{Z:()=>g.Z});var g=L(3942);g.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(It,Ve,L)=>{L.r(Ve);var g=L(5861),Q=L(3942),_=L(2090),pe=L(6881),ve=L(7582),we=L(1877),xe=L(4859);const Pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},he_EMAIL_SIGNIN="EMAIL_SIGNIN",he_PASSWORD_RESET="PASSWORD_RESET",he_RECOVER_EMAIL="RECOVER_EMAIL",he_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",he_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",he_VERIFY_EMAIL="VERIFY_EMAIL";const Qe=function Ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},St=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Be=new _.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new we.Yd("@firebase/auth");function Xe(w,...h){st.logLevel<=we.in.ERROR&&st.error(`Auth (${pe.SDK_VERSION}): ${w}`,...h)}function Fe(w,...h){throw _t(w,...h)}function Ye(w,...h){return _t(w,...h)}function mt(w,h,f){const E=Object.assign(Object.assign({},St()),{[h]:f});return new _.LL("auth","Firebase",E).create(h,{appName:w.name})}function nt(w,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&Fe(w,"argument-error"),mt(w,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _t(w,...h){if("string"!=typeof w){const f=h[0],E=[...h.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(f,...E)}return Be.create(w,...h)}function Ie(w,h,...f){if(!w)throw _t(h,...f)}function $t(w){const h="INTERNAL ASSERTION FAILED: "+w;throw Xe(h),new Error(h)}function wt(w,h){w||$t(h)}function Gt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function bt(){return"http:"===ui()||"https:"===ui()}function ui(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Br{constructor(h,f){this.shortDelay=h,this.longDelay=f,wt(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,_.uI)()||(0,_.b$)()}get(){return function Rr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bt()||(0,_.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ti(w,h){wt(w.emulator,"Emulator should always be set here");const{url:f}=w.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class Zr{static initialize(h,f,E){this.fetchImpl=h,f&&(this.headersImpl=f),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void $t("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void $t("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void $t("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},be=new Br(3e4,6e4);function ke(w,h){return w.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:w.tenantId}):h}function Oe(w,h,f,E){return lt.apply(this,arguments)}function lt(){return(lt=(0,g.Z)(function*(w,h,f,E,F={}){return Te(w,F,(0,g.Z)(function*(){let W={},de={};E&&("GET"===h?de=E:W={body:JSON.stringify(E)});const ze=(0,_.xO)(Object.assign({key:w.config.apiKey},de)).slice(1),ut=yield w._getAdditionalHeaders();return ut["Content-Type"]="application/json",w.languageCode&&(ut["X-Firebase-Locale"]=w.languageCode),Zr.fetch()(Zt(w,w.config.apiHost,f,ze),Object.assign({method:h,headers:ut,referrerPolicy:"no-referrer"},W))}))})).apply(this,arguments)}function Te(w,h,f){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,g.Z)(function*(w,h,f){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},Ae),h);try{const F=new Ln(w),W=yield Promise.race([f(),F.promise]);F.clearNetworkTimeout();const de=yield W.json();if("needConfirmation"in de)throw Mn(w,"account-exists-with-different-credential",de);if(W.ok&&!("errorMessage"in de))return de;{const ze=W.ok?de.errorMessage:de.error.message,[ut,zt]=ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ut)throw Mn(w,"credential-already-in-use",de);if("EMAIL_EXISTS"===ut)throw Mn(w,"email-already-in-use",de);if("USER_DISABLED"===ut)throw Mn(w,"user-disabled",de);const sn=E[ut]||ut.toLowerCase().replace(/[_\s]+/g,"-");if(zt)throw mt(w,sn,zt);Fe(w,sn)}}catch(F){if(F instanceof _.ZR)throw F;Fe(w,"network-request-failed",{message:String(F)})}})).apply(this,arguments)}function an(w,h,f,E){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,g.Z)(function*(w,h,f,E,F={}){const W=yield Oe(w,h,f,E,F);return"mfaPendingCredential"in W&&Fe(w,"multi-factor-auth-required",{_serverResponse:W}),W})).apply(this,arguments)}function Zt(w,h,f,E){const F=`${h}${f}?${E}`;return w.config.emulator?ti(w.config,F):`${w.config.apiScheme}://${F}`}class Ln{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,E)=>{this.timer=setTimeout(()=>E(Ye(this.auth,"network-request-failed")),be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mn(w,h,f){const E={appName:w.name};f.email&&(E.email=f.email),f.phoneNumber&&(E.phoneNumber=f.phoneNumber);const F=Ye(w,h,E);return F.customData._tokenResponse=f,F}function _n(){return(_n=(0,g.Z)(function*(w,h){return Oe(w,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function fr(){return(fr=(0,g.Z)(function*(w,h){return Oe(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Dt(){return(Dt=(0,g.Z)(function*(w,h){return Oe(w,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function An(w){if(w)try{const h=new Date(Number(w));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function vr(){return(vr=(0,g.Z)(function*(w,h=!1){const f=(0,_.m9)(w),E=yield f.getIdToken(h),F=mn(E);Ie(F&&F.exp&&F.auth_time&&F.iat,f.auth,"internal-error");const W="object"==typeof F.firebase?F.firebase:void 0,de=W?.sign_in_provider;return{claims:F,token:E,authTime:An(Ur(F.auth_time)),issuedAtTime:An(Ur(F.iat)),expirationTime:An(Ur(F.exp)),signInProvider:de||null,signInSecondFactor:W?.sign_in_second_factor||null}})).apply(this,arguments)}function Ur(w){return 1e3*Number(w)}function mn(w){const[h,f,E]=w.split(".");if(void 0===h||void 0===f||void 0===E)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,_.tV)(f);return F?JSON.parse(F):(Xe("Failed to decode base64 JWT payload"),null)}catch(F){return Xe("Caught error parsing JWT payload as JSON",F?.toString()),null}}function Et(w,h){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,g.Z)(function*(w,h,f=!1){if(f)return h;try{return yield h}catch(E){throw E instanceof _.ZR&&function xr({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}class Hn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const F=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,F)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const E=this.getInterval(h);this.timerId=setTimeout((0,g.Z)(function*(){yield f.iteration()}),E)}iteration(){var h=this;return(0,g.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&h.schedule(!0))}h.schedule()})()}}class Vt{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=An(this.lastLoginAt),this.creationTime=An(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pr(w){return sr.apply(this,arguments)}function sr(){return sr=(0,g.Z)(function*(w){var h;const f=w.auth,E=yield w.getIdToken(),F=yield Et(w,function rn(w,h){return Dt.apply(this,arguments)}(f,{idToken:E}));Ie(F?.users.length,f,"internal-error");const W=F.users[0];w._notifyReloadListener(W);const de=null!==(h=W.providerUserInfo)&&void 0!==h&&h.length?function vn(w){return w.map(h=>{var{providerId:f}=h,E=(0,ve._T)(h,["providerId"]);return{providerId:f,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(W.providerUserInfo):[],ze=function Fr(w,h){return[...w.filter(E=>!h.some(F=>F.providerId===E.providerId)),...h]}(w.providerData,de),sn=!!w.isAnonymous&&!(w.email&&W.passwordHash||ze?.length),kt={uid:W.localId,displayName:W.displayName||null,photoURL:W.photoUrl||null,email:W.email||null,emailVerified:W.emailVerified||!1,phoneNumber:W.phoneNumber||null,tenantId:W.tenantId||null,providerData:ze,metadata:new Vt(W.createdAt,W.lastLoginAt),isAnonymous:sn};Object.assign(w,kt)}),sr.apply(this,arguments)}function gn(){return(gn=(0,g.Z)(function*(w){const h=(0,_.m9)(w);yield pr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function On(){return(On=(0,g.Z)(function*(w,h){const f=yield Te(w,{},(0,g.Z)(function*(){const E=(0,_.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:F,apiKey:W}=w.config,de=Zt(w,F,"/v1/token",`key=${W}`),ze=yield w._getAdditionalHeaders();return ze["Content-Type"]="application/x-www-form-urlencoded",Zr.fetch()(de,{method:"POST",headers:ze,body:E})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class zr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ie(h.idToken,"internal-error"),Ie(typeof h.idToken<"u","internal-error"),Ie(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Gn(w){const h=mn(w);return Ie(h,"internal-error"),Ie(typeof h.exp<"u","internal-error"),Ie(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h){var f=this;return(0,g.Z)(function*(E,F=!1){return Ie(!f.accessToken||f.refreshToken,E,"user-token-expired"),F||!f.accessToken||f.isExpired?f.refreshToken?(yield f.refresh(E,f.refreshToken),f.accessToken):null:f.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var E=this;return(0,g.Z)(function*(){const{accessToken:F,refreshToken:W,expiresIn:de}=yield function Ki(w,h){return On.apply(this,arguments)}(h,f);E.updateTokensAndExpiration(F,W,Number(de))})()}updateTokensAndExpiration(h,f,E){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(h,f){const{refreshToken:E,accessToken:F,expirationTime:W}=f,de=new zr;return E&&(Ie("string"==typeof E,"internal-error",{appName:h}),de.refreshToken=E),F&&(Ie("string"==typeof F,"internal-error",{appName:h}),de.accessToken=F),W&&(Ie("number"==typeof W,"internal-error",{appName:h}),de.expirationTime=W),de}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new zr,this.toJSON())}_performRefresh(){return $t("not implemented")}}function nr(w,h){Ie("string"==typeof w||typeof w>"u","internal-error",{appName:h})}class Jn{constructor(h){var{uid:f,auth:E,stsTokenManager:F}=h,W=(0,ve._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=E,this.stsTokenManager=F,this.accessToken=F.accessToken,this.displayName=W.displayName||null,this.email=W.email||null,this.emailVerified=W.emailVerified||!1,this.phoneNumber=W.phoneNumber||null,this.photoURL=W.photoURL||null,this.isAnonymous=W.isAnonymous||!1,this.tenantId=W.tenantId||null,this.providerData=W.providerData?[...W.providerData]:[],this.metadata=new Vt(W.createdAt||void 0,W.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,g.Z)(function*(){const E=yield Et(f,f.stsTokenManager.getToken(f.auth,h));return Ie(E,f.auth,"internal-error"),f.accessToken!==E&&(f.accessToken=E,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),E})()}getIdTokenResult(h){return function br(w){return vr.apply(this,arguments)}(this,h)}reload(){return function wr(w){return gn.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ie(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const f=new Jn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(h){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h){var f=this;return(0,g.Z)(function*(E,F=!1){let W=!1;E.idToken&&E.idToken!==f.stsTokenManager.accessToken&&(f.stsTokenManager.updateFromServerResponse(E),W=!0),F&&(yield pr(f)),yield f.auth._persistUserIfCurrent(f),W&&f.auth._notifyListenersIfCurrent(f)}).apply(this,arguments)}delete(){var h=this;return(0,g.Z)(function*(){const f=yield h.getIdToken();return yield Et(h,function Ir(w,h){return _n.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var E,F,W,de,ze,ut,zt,sn;const kt=null!==(E=f.displayName)&&void 0!==E?E:void 0,er=null!==(F=f.email)&&void 0!==F?F:void 0,qo=null!==(W=f.phoneNumber)&&void 0!==W?W:void 0,dc=null!==(de=f.photoURL)&&void 0!==de?de:void 0,xl=null!==(ze=f.tenantId)&&void 0!==ze?ze:void 0,Si=null!==(ut=f._redirectEventId)&&void 0!==ut?ut:void 0,gh=null!==(zt=f.createdAt)&&void 0!==zt?zt:void 0,P2=null!==(sn=f.lastLoginAt)&&void 0!==sn?sn:void 0,{uid:fu,emailVerified:vh,isAnonymous:k2,providerData:yh,stsTokenManager:O2}=f;Ie(fu&&O2,h,"internal-error");const L8=zr.fromJSON(this.name,O2);Ie("string"==typeof fu,h,"internal-error"),nr(kt,h.name),nr(er,h.name),Ie("boolean"==typeof vh,h,"internal-error"),Ie("boolean"==typeof k2,h,"internal-error"),nr(qo,h.name),nr(dc,h.name),nr(xl,h.name),nr(Si,h.name),nr(gh,h.name),nr(P2,h.name);const S1=new Jn({uid:fu,auth:h,email:er,emailVerified:vh,displayName:kt,isAnonymous:k2,photoURL:dc,phoneNumber:qo,tenantId:xl,stsTokenManager:L8,createdAt:gh,lastLoginAt:P2});return yh&&Array.isArray(yh)&&(S1.providerData=yh.map(yg=>Object.assign({},yg))),Si&&(S1._redirectEventId=Si),S1}static _fromIdTokenResponse(h,f){return(0,g.Z)(function*(E,F,W=!1){const de=new zr;de.updateFromServerResponse(F);const ze=new Jn({uid:F.localId,auth:E,stsTokenManager:de,isAnonymous:W});return yield pr(ze),ze}).apply(this,arguments)}}const Ci=new Map;function Yn(w){wt(w instanceof Function,"Expected a class definition");let h=Ci.get(w);return h?(wt(h instanceof w,"Instance stored in cache mismatched with class"),h):(h=new w,Ci.set(w,h),h)}const Ar=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(f,E){var F=this;return(0,g.Z)(function*(){F.storage[f]=E})()}_get(f){var E=this;return(0,g.Z)(function*(){const F=E.storage[f];return void 0===F?null:F})()}_remove(f){var E=this;return(0,g.Z)(function*(){delete E.storage[f]})()}_addListener(f,E){}_removeListener(f,E){}}return w.type="NONE",w})();function le(w,h,f){return`firebase:${w}:${h}:${f}`}class re{constructor(h,f,E){this.persistence=h,this.auth=f,this.userKey=E;const{config:F,name:W}=this.auth;this.fullUserKey=le(this.userKey,F.apiKey,W),this.fullPersistenceKey=le("persistence",F.apiKey,W),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,g.Z)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?Jn._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,g.Z)(function*(){if(f.persistence===h)return;const E=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,E?f.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f){return(0,g.Z)(function*(E,F,W="authUser"){if(!F.length)return new re(Yn(Ar),E,W);const de=(yield Promise.all(F.map(function(){var kt=(0,g.Z)(function*(er){if(yield er._isAvailable())return er});return function(er){return kt.apply(this,arguments)}}()))).filter(kt=>kt);let ze=de[0]||Yn(Ar);const ut=le(W,E.config.apiKey,E.name);let zt=null;for(const kt of F)try{const er=yield kt._get(ut);if(er){const qo=Jn._fromJSON(E,er);kt!==ze&&(zt=qo),ze=kt;break}}catch{}const sn=de.filter(kt=>kt._shouldAllowMigration);return ze._shouldAllowMigration&&sn.length?(ze=sn[0],zt&&(yield ze._set(ut,zt.toJSON())),yield Promise.all(F.map(function(){var kt=(0,g.Z)(function*(er){if(er!==ze)try{yield er._remove(ut)}catch{}});return function(er){return kt.apply(this,arguments)}}())),new re(ze,E,W)):new re(ze,E,W)}).apply(this,arguments)}}function fe(w){const h=w.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(ue(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(We(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Y(h))return"Blackberry";if(J(h))return"Webos";if(De(h))return"Safari";if((h.includes("chrome/")||at(h))&&!h.includes("edge/"))return"Chrome";if($(h))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function We(w=(0,_.z$)()){return/firefox\//i.test(w)}function De(w=(0,_.z$)()){const h=w.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function at(w=(0,_.z$)()){return/crios\//i.test(w)}function ue(w=(0,_.z$)()){return/iemobile/i.test(w)}function $(w=(0,_.z$)()){return/android/i.test(w)}function Y(w=(0,_.z$)()){return/blackberry/i.test(w)}function J(w=(0,_.z$)()){return/webos/i.test(w)}function me(w=(0,_.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Wt(w=(0,_.z$)()){return me(w)||$(w)||J(w)||Y(w)||/windows phone/i.test(w)||ue(w)}function Ee(w,h=[]){let f;switch(w){case"Browser":f=fe((0,_.z$)());break;case"Worker":f=`${fe((0,_.z$)())}-${w}`;break;default:f=w}const E=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${pe.SDK_VERSION}/${E}`}function Je(){return(Je=(0,g.Z)(function*(w){return(yield Oe(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xt(w,h){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,g.Z)(function*(w,h){return Oe(w,"GET","/v2/recaptchaConfig",ke(w,h))})).apply(this,arguments)}function un(w){return void 0!==w&&void 0!==w.getResponse}function Ut(w){return void 0!==w&&void 0!==w.enterprise}class Pn{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(f=>"EMAIL_PASSWORD_PROVIDER"===f.provider&&"OFF"!==f.enforcementState)}}function Cn(w){return new Promise((h,f)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=h,E.onerror=F=>{const W=Ye("internal-error");W.customData=F,f(W)},E.type="text/javascript",E.charset="UTF-8",function wn(){var w,h;return null!==(h=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==h?h:document}().appendChild(E)})}function In(w){return`__${w}${Math.floor(1e6*Math.random())}`}const To="NO_RECAPTCHA";class Qr{constructor(h){this.type="recaptcha-enterprise",this.auth=Nn(h)}verify(){var h=this;return(0,g.Z)(function*(f="verify",E=!1){function W(){return W=(0,g.Z)(function*(ze){if(!E){if(null==ze.tenantId&&null!=ze._agentRecaptchaConfig)return ze._agentRecaptchaConfig.siteKey;if(null!=ze.tenantId&&void 0!==ze._tenantRecaptchaConfigs[ze.tenantId])return ze._tenantRecaptchaConfigs[ze.tenantId].siteKey}return new Promise(function(){var ut=(0,g.Z)(function*(zt,sn){xt(ze,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(kt=>{if(void 0!==kt.recaptchaKey){const er=new Pn(kt);return null==ze.tenantId?ze._agentRecaptchaConfig=er:ze._tenantRecaptchaConfigs[ze.tenantId]=er,zt(er.siteKey)}sn(new Error("recaptcha Enterprise site key undefined"))}).catch(kt=>{sn(kt)})});return function(zt,sn){return ut.apply(this,arguments)}}())}),W.apply(this,arguments)}function de(ze,ut,zt){const sn=window.grecaptcha;Ut(sn)?sn.enterprise.ready(()=>{sn.enterprise.execute(ze,{action:f}).then(kt=>{ut(kt)}).catch(()=>{ut(To)})}):zt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ze,ut)=>{(function F(ze){return W.apply(this,arguments)})(h.auth).then(zt=>{if(!E&&Ut(window.grecaptcha))de(zt,ze,ut);else{if(typeof window>"u")return void ut(new Error("RecaptchaVerifier is only supported in browser"));Cn("https://www.google.com/recaptcha/enterprise.js?render="+zt).then(()=>{de(zt,ze,ut)}).catch(sn=>{ut(sn)})}}).catch(zt=>{ut(zt)})})}).apply(this,arguments)}}function vt(w,h,f){return nn.apply(this,arguments)}function nn(){return(nn=(0,g.Z)(function*(w,h,f,E=!1){const F=new Qr(w);let W;try{W=yield F.verify(f)}catch{W=yield F.verify(f,!0)}const de=Object.assign({},h);return Object.assign(de,E?{captchaResp:W}:{captchaResponse:W}),Object.assign(de,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(de,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),de})).apply(this,arguments)}class rr{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,f){const E=W=>new Promise((de,ze)=>{try{de(h(W))}catch(ut){ze(ut)}});E.onAbort=f,this.queue.push(E);const F=this.queue.length-1;return()=>{this.queue[F]=()=>Promise.resolve()}}runMiddleware(h){var f=this;return(0,g.Z)(function*(){if(f.auth.currentUser===h)return;const E=[];try{for(const F of f.queue)yield F(h),F.onAbort&&E.push(F.onAbort)}catch(F){E.reverse();for(const W of E)try{W()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:F?.message})}})()}}class hi{constructor(h,f,E,F){this.app=h,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=E,this.config=F,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sr(this),this.idTokenSubscription=new Sr(this),this.beforeStateQueue=new rr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Be,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=F.sdkClientVersion}_initializeWithPersistence(h,f){var E=this;return f&&(this._popupRedirectResolver=Yn(f)),this._initializationPromise=this.queue((0,g.Z)(function*(){var F,W;if(!E._deleted&&(E.persistenceManager=yield re.create(E,h),!E._deleted)){if(null!==(F=E._popupRedirectResolver)&&void 0!==F&&F._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(f),E.lastNotifiedUid=(null===(W=E.currentUser)||void 0===W?void 0:W.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,g.Z)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f,!0)}})()}initializeCurrentUser(h){var f=this;return(0,g.Z)(function*(){var E;const F=yield f.assertedPersistence.getCurrentUser();let W=F,de=!1;if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const ze=null===(E=f.redirectUser)||void 0===E?void 0:E._redirectEventId,ut=W?._redirectEventId,zt=yield f.tryRedirectSignIn(h);(!ze||ze===ut)&&zt?.user&&(W=zt.user,de=!0)}if(!W)return f.directlySetCurrentUser(null);if(!W._redirectEventId){if(de)try{yield f.beforeStateQueue.runMiddleware(W)}catch(ze){W=F,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(ze))}return W?f.reloadAndSetCurrentUserOrClear(W):f.directlySetCurrentUser(null)}return Ie(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===W._redirectEventId?f.directlySetCurrentUser(W):f.reloadAndSetCurrentUserOrClear(W)})()}tryRedirectSignIn(h){var f=this;return(0,g.Z)(function*(){let E=null;try{E=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch{yield f._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,g.Z)(function*(){try{yield pr(h)}catch(E){if("auth/network-request-failed"!==E?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function di(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var h=this;return(0,g.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,g.Z)(function*(){const E=h?(0,_.m9)(h):null;return E&&Ie(E.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(E&&E._clone(f))})()}_updateCurrentUser(h){var f=this;return(0,g.Z)(function*(E,F=!1){if(!f._deleted)return E&&Ie(f.tenantId===E.tenantId,f,"tenant-id-mismatch"),F||(yield f.beforeStateQueue.runMiddleware(E)),f.queue((0,g.Z)(function*(){yield f.directlySetCurrentUser(E),f.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var h=this;return(0,g.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var f=this;return this.queue((0,g.Z)(function*(){yield f.assertedPersistence.setPersistence(Yn(h))}))}initializeRecaptchaConfig(){var h=this;return(0,g.Z)(function*(){const f=yield xt(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new Pn(f);null==h.tenantId?h._agentRecaptchaConfig=E:h._tenantRecaptchaConfigs[h.tenantId]=E,E.emailPasswordEnabled&&new Qr(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new _.LL("auth","Firebase",h())}onAuthStateChanged(h,f,E){return this.registerStateListener(this.authStateSubscription,h,f,E)}beforeAuthStateChanged(h,f){return this.beforeStateQueue.pushCallback(h,f)}onIdTokenChanged(h,f,E){return this.registerStateListener(this.idTokenSubscription,h,f,E)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var E=this;return(0,g.Z)(function*(){const F=yield E.getOrInitRedirectPersistenceManager(f);return null===h?F.removeCurrentUser():F.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,g.Z)(function*(){if(!f.redirectPersistenceManager){const E=h&&Yn(h)||f._popupRedirectResolver;Ie(E,f,"argument-error"),f.redirectPersistenceManager=yield re.create(f,[Yn(E._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,g.Z)(function*(){var E,F;return f._isInitialized&&(yield f.queue((0,g.Z)(function*(){}))),(null===(E=f._currentUser)||void 0===E?void 0:E._redirectEventId)===h?f._currentUser:(null===(F=f.redirectUser)||void 0===F?void 0:F._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,g.Z)(function*(){if(h===f.currentUser)return f.queue((0,g.Z)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,E,F){if(this._deleted)return()=>{};const W="function"==typeof f?f:f.next.bind(f),de=this._isInitialized?Promise.resolve():this._initializationPromise;return Ie(de,this,"internal-error"),de.then(()=>W(this.currentUser)),"function"==typeof f?h.addObserver(f,E,F):h.addObserver(f)}directlySetCurrentUser(h){var f=this;return(0,g.Z)(function*(){f.currentUser&&f.currentUser!==h&&f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh(),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Ee(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,g.Z)(function*(){var f;const E={"X-Client-Version":h.clientVersion};h.app.options.appId&&(E["X-Firebase-gmpid"]=h.app.options.appId);const F=yield null===(f=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();F&&(E["X-Firebase-Client"]=F);const W=yield h._getAppCheckToken();return W&&(E["X-Firebase-AppCheck"]=W),E})()}_getAppCheckToken(){var h=this;return(0,g.Z)(function*(){var f;const E=yield null===(f=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return E?.error&&function ht(w,...h){st.logLevel<=we.in.WARN&&st.warn(`Auth (${pe.SDK_VERSION}): ${w}`,...h)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Nn(w){return(0,_.m9)(w)}class Sr{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,_.ne)(f=>this.observer=f)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fi(w){const h=w.indexOf(":");return h<0?"":w.substr(0,h+1)}function ri(w){if(!w)return null;const h=Number(w);return isNaN(h)?null:h}class ye{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return $t("not implemented")}_getIdTokenResponse(h){return $t("not implemented")}_linkToIdToken(h,f){return $t("not implemented")}_getReauthenticationResolver(h){return $t("not implemented")}}function Ge(w,h){return gt.apply(this,arguments)}function gt(){return(gt=(0,g.Z)(function*(w,h){return Oe(w,"POST","/v1/accounts:resetPassword",ke(w,h))})).apply(this,arguments)}function pn(w,h){return cn.apply(this,arguments)}function cn(){return(cn=(0,g.Z)(function*(w,h){return Oe(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function qn(){return(qn=(0,g.Z)(function*(w,h){return Oe(w,"POST","/v1/accounts:update",ke(w,h))})).apply(this,arguments)}function Er(w,h){return bn.apply(this,arguments)}function bn(){return(bn=(0,g.Z)(function*(w,h){return an(w,"POST","/v1/accounts:signInWithPassword",ke(w,h))})).apply(this,arguments)}function ar(w,h){return es.apply(this,arguments)}function es(){return(es=(0,g.Z)(function*(w,h){return Oe(w,"POST","/v1/accounts:sendOobCode",ke(w,h))})).apply(this,arguments)}function Mi(){return(Mi=(0,g.Z)(function*(w,h){return ar(w,h)})).apply(this,arguments)}function Do(w,h){return Li.apply(this,arguments)}function Li(){return(Li=(0,g.Z)(function*(w,h){return ar(w,h)})).apply(this,arguments)}function jr(w,h){return _s.apply(this,arguments)}function _s(){return(_s=(0,g.Z)(function*(w,h){return ar(w,h)})).apply(this,arguments)}function ii(){return(ii=(0,g.Z)(function*(w,h){return ar(w,h)})).apply(this,arguments)}function $r(){return($r=(0,g.Z)(function*(w,h){return an(w,"POST","/v1/accounts:signInWithEmailLink",ke(w,h))})).apply(this,arguments)}function Xr(){return(Xr=(0,g.Z)(function*(w,h){return an(w,"POST","/v1/accounts:signInWithEmailLink",ke(w,h))})).apply(this,arguments)}class Ao extends ye{constructor(h,f,E,F=null){super("password",E),this._email=h,this._password=f,this._tenantId=F}static _fromEmailAndPassword(h,f){return new Ao(h,f,"password")}static _fromEmailAndCode(h,f,E=null){return new Ao(h,f,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,g.Z)(function*(){var E;switch(f.signInMethod){case"password":const F={returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=h._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const W=yield vt(h,F,"signInWithPassword");return Er(h,W)}return Er(h,F).catch(function(){var W=(0,g.Z)(function*(de){if("auth/missing-recaptcha-token"===de.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ze=yield vt(h,F,"signInWithPassword");return Er(h,ze)}return Promise.reject(de)});return function(de){return W.apply(this,arguments)}}());case"emailLink":return function ts(w,h){return $r.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:Fe(h,"internal-error")}})()}_linkToIdToken(h,f){var E=this;return(0,g.Z)(function*(){switch(E.signInMethod){case"password":return pn(h,{idToken:f,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function ao(w,h){return Xr.apply(this,arguments)}(h,{idToken:f,email:E._email,oobCode:E._password});default:Fe(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Vi(w,h){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,g.Z)(function*(w,h){return an(w,"POST","/v1/accounts:signInWithIdp",ke(w,h))})).apply(this,arguments)}class lr extends ye{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new lr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):Fe("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:F}=f,W=(0,ve._T)(f,["providerId","signInMethod"]);if(!E||!F)return null;const de=new lr(E,F);return de.idToken=W.idToken||void 0,de.accessToken=W.accessToken||void 0,de.secret=W.secret,de.nonce=W.nonce,de.pendingToken=W.pendingToken||null,de}_getIdTokenResponse(h){return Vi(h,this.buildRequest())}_linkToIdToken(h,f){const E=this.buildRequest();return E.idToken=f,Vi(h,E)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Vi(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,_.xO)(f)}return h}}function Yo(){return(Yo=(0,g.Z)(function*(w,h){return Oe(w,"POST","/v1/accounts:sendVerificationCode",ke(w,h))})).apply(this,arguments)}function Cs(){return(Cs=(0,g.Z)(function*(w,h){return an(w,"POST","/v1/accounts:signInWithPhoneNumber",ke(w,h))})).apply(this,arguments)}function Mo(){return(Mo=(0,g.Z)(function*(w,h){const f=yield an(w,"POST","/v1/accounts:signInWithPhoneNumber",ke(w,h));if(f.temporaryProof)throw Mn(w,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const bs={USER_NOT_FOUND:"user-not-found"};function Ls(){return(Ls=(0,g.Z)(function*(w,h){return an(w,"POST","/v1/accounts:signInWithPhoneNumber",ke(w,Object.assign(Object.assign({},h),{operation:"REAUTH"})),bs)})).apply(this,arguments)}class ns extends ye{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new ns({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new ns({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function ua(w,h){return Cs.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function da(w,h){return Mo.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Qs(w,h){return Ls.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:E,verificationCode:F}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:E,code:F}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:E,phoneNumber:F,temporaryProof:W}=h;return E||f||F||W?new ns({verificationId:f,verificationCode:E,phoneNumber:F,temporaryProof:W}):null}}class co{constructor(h){var f,E,F,W,de,ze;const ut=(0,_.zd)((0,_.pd)(h)),zt=null!==(f=ut.apiKey)&&void 0!==f?f:null,sn=null!==(E=ut.oobCode)&&void 0!==E?E:null,kt=function Xs(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(F=ut.mode)&&void 0!==F?F:null);Ie(zt&&sn&&kt,"argument-error"),this.apiKey=zt,this.operation=kt,this.code=sn,this.continueUrl=null!==(W=ut.continueUrl)&&void 0!==W?W:null,this.languageCode=null!==(de=ut.languageCode)&&void 0!==de?de:null,this.tenantId=null!==(ze=ut.tenantId)&&void 0!==ze?ze:null}static parseLink(h){const f=function ha(w){const h=(0,_.zd)((0,_.pd)(w)).link,f=h?(0,_.zd)((0,_.pd)(h)).deep_link_id:null,E=(0,_.zd)((0,_.pd)(w)).deep_link_id;return(E?(0,_.zd)((0,_.pd)(E)).link:null)||E||f||h||w}(h);try{return new co(f)}catch{return null}}}let mi=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(f,E){return Ao._fromEmailAndPassword(f,E)}static credentialWithLink(f,E){const F=co.parseLink(E);return Ie(F,"argument-error"),Ao._fromEmailAndCode(f,F.code,F.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Lr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class gi extends Lr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class vi extends gi{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return Ie("providerId"in f&&"signInMethod"in f,"argument-error"),lr._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ie(h.idToken||h.accessToken,"argument-error"),lr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return vi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return vi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:E,oauthTokenSecret:F,pendingToken:W,nonce:de,providerId:ze}=h;if(!E&&!F&&!f&&!W||!ze)return null;try{return new vi(ze)._credential({idToken:f,accessToken:E,nonce:de,pendingToken:W})}catch{return null}}}let ir=(()=>{class w extends gi{constructor(){super("facebook.com")}static credential(f){return lr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return w.credentialFromTaggedObject(f)}static credentialFromError(f){return w.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return w.credential(f.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),jo=(()=>{class w extends gi{constructor(){super("google.com"),this.addScope("profile")}static credential(f,E){return lr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:E})}static credentialFromResult(f){return w.credentialFromTaggedObject(f)}static credentialFromError(f){return w.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:E,oauthAccessToken:F}=f;if(!E&&!F)return null;try{return w.credential(E,F)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Po=(()=>{class w extends gi{constructor(){super("github.com")}static credential(f){return lr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return w.credentialFromTaggedObject(f)}static credentialFromError(f){return w.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return w.credential(f.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Ii extends ye{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return Vi(h,this.buildRequest())}_linkToIdToken(h,f){const E=this.buildRequest();return E.idToken=f,Vi(h,E)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Vi(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:F,pendingToken:W}=f;return E&&F&&W&&E===F?new Ii(E,W):null}static _create(h,f){return new Ii(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class rs extends Lr{constructor(h){Ie(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return rs.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return rs.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const f=Ii.fromJSON(h);return Ie(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:f,providerId:E}=h;if(!f||!E)return null;try{return Ii._create(E,f)}catch{return null}}}let Js=(()=>{class w extends gi{constructor(){super("twitter.com")}static credential(f,E){return lr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:E})}static credentialFromResult(f){return w.credentialFromTaggedObject(f)}static credentialFromError(f){return w.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:E,oauthTokenSecret:F}=f;if(!E||!F)return null;try{return w.credential(E,F)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function $o(w,h){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,g.Z)(function*(w,h){return an(w,"POST","/v1/accounts:signUp",ke(w,h))})).apply(this,arguments)}class ei{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,E){return(0,g.Z)(function*(F,W,de,ze=!1){const ut=yield Jn._fromIdTokenResponse(F,de,ze),zt=bi(de);return new ei({user:ut,providerId:zt,_tokenResponse:de,operationType:W})}).apply(this,arguments)}static _forOperation(h,f,E){return(0,g.Z)(function*(){yield h._updateTokensIfNecessary(E,!0);const F=bi(E);return new ei({user:h,providerId:F,_tokenResponse:E,operationType:f})})()}}function bi(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function lo(){return(lo=(0,g.Z)(function*(w){var h;const f=Nn(w);if(yield f._initializationPromise,null!==(h=f.currentUser)&&void 0!==h&&h.isAnonymous)return new ei({user:f.currentUser,providerId:null,operationType:"signIn"});const E=yield $o(f,{returnSecureToken:!0}),F=yield ei._fromIdTokenResponse(f,"signIn",E,!0);return yield f._updateCurrentUser(F.user),F})).apply(this,arguments)}class Pr extends _.ZR{constructor(h,f,E,F){var W;super(f.code,f.message),this.operationType=E,this.user=F,Object.setPrototypeOf(this,Pr.prototype),this.customData={appName:h.name,tenantId:null!==(W=h.tenantId)&&void 0!==W?W:void 0,_serverResponse:f.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(h,f,E,F){return new Pr(h,f,E,F)}}function kr(w,h,f,E){return("reauthenticate"===h?f._getReauthenticationResolver(w):f._getIdTokenResponse(w)).catch(W=>{throw"auth/multi-factor-auth-required"===W.code?Pr._fromErrorAndOperation(w,W,h,E):W})}function ko(w){return new Set(w.map(({providerId:h})=>h).filter(h=>!!h))}function Oo(){return Oo=(0,g.Z)(function*(w,h){const f=(0,_.m9)(w);yield xi(!0,f,h);const{providerUserInfo:E}=yield function Vn(w,h){return fr.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),F=ko(E||[]);return f.providerData=f.providerData.filter(W=>F.has(W.providerId)),F.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),Oo.apply(this,arguments)}function Or(w,h){return hr.apply(this,arguments)}function hr(){return(hr=(0,g.Z)(function*(w,h,f=!1){const E=yield Et(w,h._linkToIdToken(w.auth,yield w.getIdToken()),f);return ei._forOperation(w,"link",E)})).apply(this,arguments)}function xi(w,h,f){return is.apply(this,arguments)}function is(){return(is=(0,g.Z)(function*(w,h,f){yield pr(h);const F=!1===w?"provider-already-linked":"no-such-provider";Ie(ko(h.providerData).has(f)===w,h.auth,F)})).apply(this,arguments)}function yi(w,h){return uo.apply(this,arguments)}function uo(){return(uo=(0,g.Z)(function*(w,h,f=!1){const{auth:E}=w,F="reauthenticate";try{const W=yield Et(w,kr(E,F,h,w),f);Ie(W.idToken,E,"internal-error");const de=mn(W.idToken);Ie(de,E,"internal-error");const{sub:ze}=de;return Ie(w.uid===ze,E,"user-mismatch"),ei._forOperation(w,F,W)}catch(W){throw"auth/user-not-found"===W?.code&&Fe(E,"user-mismatch"),W}})).apply(this,arguments)}function Ui(w,h){return dn.apply(this,arguments)}function dn(){return(dn=(0,g.Z)(function*(w,h,f=!1){const E="signIn",F=yield kr(w,E,h),W=yield ei._fromIdTokenResponse(w,E,F);return f||(yield w._updateCurrentUser(W.user)),W})).apply(this,arguments)}function _i(w,h){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,g.Z)(function*(w,h){return Ui(Nn(w),h)})).apply(this,arguments)}function Ia(w,h){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,g.Z)(function*(w,h){const f=(0,_.m9)(w);return yield xi(!1,f,h.providerId),Or(f,h)})).apply(this,arguments)}function os(w,h){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,g.Z)(function*(w,h){return yi((0,_.m9)(w),h)})).apply(this,arguments)}function G(){return(G=(0,g.Z)(function*(w,h){return an(w,"POST","/v1/accounts:signInWithCustomToken",ke(w,h))})).apply(this,arguments)}function T(){return T=(0,g.Z)(function*(w,h){const f=Nn(w),E=yield function xa(w,h){return G.apply(this,arguments)}(f,{token:h,returnSecureToken:!0}),F=yield ei._fromIdTokenResponse(f,"signIn",E);return yield f._updateCurrentUser(F.user),F}),T.apply(this,arguments)}class I{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?B._fromServerResponse(h,f):"totpInfo"in f?ie._fromServerResponse(h,f):Fe(h,"internal-error")}}class B extends I{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new B(f)}}class ie extends I{constructor(h){super("totp",h)}static _fromServerResponse(h,f){return new ie(f)}}function Ze(w,h,f){var E;Ie((null===(E=f.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),Ie(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Ie(f.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(Ie(f.android.packageName.length>0,w,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function Qt(){return Qt=(0,g.Z)(function*(w,h,f){var E;const F=Nn(w),W={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=F._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const de=yield vt(F,W,"getOobCode",!0);f&&Ze(F,de,f),yield Do(F,de)}else f&&Ze(F,W,f),yield Do(F,W).catch(function(){var de=(0,g.Z)(function*(ze){if("auth/missing-recaptcha-token"!==ze.code)return Promise.reject(ze);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ut=yield vt(F,W,"getOobCode",!0);f&&Ze(F,ut,f),yield Do(F,ut)}});return function(ze){return de.apply(this,arguments)}}())}),Qt.apply(this,arguments)}function Un(){return(Un=(0,g.Z)(function*(w,h,f){yield Ge((0,_.m9)(w),{oobCode:h,newPassword:f})})).apply(this,arguments)}function Qi(){return Qi=(0,g.Z)(function*(w,h){yield function xn(w,h){return qn.apply(this,arguments)}((0,_.m9)(w),{oobCode:h})}),Qi.apply(this,arguments)}function Xi(w,h){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,g.Z)(function*(w,h){const f=(0,_.m9)(w),E=yield Ge(f,{oobCode:h}),F=E.requestType;switch(Ie(F,f,"internal-error"),F){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(E.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(E.mfaInfo,f,"internal-error");default:Ie(E.email,f,"internal-error")}let W=null;return E.mfaInfo&&(W=I._fromServerResponse(Nn(f),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:W},operation:F}})).apply(this,arguments)}function Ji(){return(Ji=(0,g.Z)(function*(w,h){const{data:f}=yield Xi((0,_.m9)(w),h);return f.email})).apply(this,arguments)}function oi(){return oi=(0,g.Z)(function*(w,h,f){var E;const F=Nn(w),W={returnSecureToken:!0,email:h,password:f,clientType:"CLIENT_TYPE_WEB"};let de;if(null!==(E=F._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const zt=yield vt(F,W,"signUpPassword");de=$o(F,zt)}else de=$o(F,W).catch(function(){var zt=(0,g.Z)(function*(sn){if("auth/missing-recaptcha-token"===sn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const kt=yield vt(F,W,"signUpPassword");return $o(F,kt)}return Promise.reject(sn)});return function(sn){return zt.apply(this,arguments)}}());const ze=yield de.catch(zt=>Promise.reject(zt)),ut=yield ei._fromIdTokenResponse(F,"signIn",ze);return yield F._updateCurrentUser(ut.user),ut}),oi.apply(this,arguments)}function Sc(){return Sc=(0,g.Z)(function*(w,h,f){var E;const F=Nn(w),W={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function de(ze,ut){Ie(ut.handleCodeInApp,F,"argument-error"),ut&&Ze(F,ze,ut)}if(null!==(E=F._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const ze=yield vt(F,W,"getOobCode",!0);de(ze,f),yield jr(F,ze)}else de(W,f),yield jr(F,W).catch(function(){var ze=(0,g.Z)(function*(ut){if("auth/missing-recaptcha-token"!==ut.code)return Promise.reject(ut);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const zt=yield vt(F,W,"getOobCode",!0);de(zt,f),yield jr(F,zt)}});return function(ut){return ze.apply(this,arguments)}}())}),Sc.apply(this,arguments)}function No(){return(No=(0,g.Z)(function*(w,h,f){const E=(0,_.m9)(w),F=mi.credentialWithLink(h,f||Gt());return Ie(F._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),_i(E,F)})).apply(this,arguments)}function Aa(){return(Aa=(0,g.Z)(function*(w,h){return Oe(w,"POST","/v1/accounts:createAuthUri",ke(w,h))})).apply(this,arguments)}function na(){return na=(0,g.Z)(function*(w,h){const E={identifier:h,continueUri:bt()?Gt():"http://localhost"},{signinMethods:F}=yield function za(w,h){return Aa.apply(this,arguments)}((0,_.m9)(w),E);return F||[]}),na.apply(this,arguments)}function Ja(){return Ja=(0,g.Z)(function*(w,h){const f=(0,_.m9)(w),F={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};h&&Ze(f.auth,F,h);const{email:W}=yield function Di(w,h){return Mi.apply(this,arguments)}(f.auth,F);W!==w.email&&(yield w.reload())}),Ja.apply(this,arguments)}function ec(){return ec=(0,g.Z)(function*(w,h,f){const E=(0,_.m9)(w),W={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:h};f&&Ze(E.auth,W,f);const{email:de}=yield function pi(w,h){return ii.apply(this,arguments)}(E.auth,W);de!==w.email&&(yield w.reload())}),ec.apply(this,arguments)}function Oa(){return(Oa=(0,g.Z)(function*(w,h){return Oe(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function cl(){return cl=(0,g.Z)(function*(w,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const E=(0,_.m9)(w),W={idToken:yield E.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},de=yield Et(E,function Wl(w,h){return Oa.apply(this,arguments)}(E.auth,W));E.displayName=de.displayName||null,E.photoURL=de.photoUrl||null;const ze=E.providerData.find(({providerId:ut})=>"password"===ut);ze&&(ze.displayName=E.displayName,ze.photoURL=E.photoURL),yield E._updateTokensIfNecessary(de)}),cl.apply(this,arguments)}function Wr(w,h,f){return Na.apply(this,arguments)}function Na(){return(Na=(0,g.Z)(function*(w,h,f){const{auth:E}=w,W={idToken:yield w.getIdToken(),returnSecureToken:!0};h&&(W.email=h),f&&(W.password=f);const de=yield Et(w,pn(E,W));yield w._updateTokensIfNecessary(de,!0)})).apply(this,arguments)}class ho{constructor(h,f,E={}){this.isNewUser=h,this.providerId=f,this.profile=E}}class ll extends ho{constructor(h,f,E,F){super(h,f,E),this.username=F}}class Zl extends ho{constructor(h,f){super(h,"facebook.com",f)}}class ul extends ll{constructor(h,f){super(h,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class ra extends ho{constructor(h,f){super(h,"google.com",f)}}class tc extends ll{constructor(h,f,E){super(h,"twitter.com",f,E)}}function Ra(w){const{user:h,_tokenResponse:f}=w;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Tc(w){var h,f;if(!w)return null;const{providerId:E}=w,F=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},W=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const de=null===(f=null===(h=mn(w.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(de)return new ho(W,"anonymous"!==de&&"custom"!==de?de:null)}if(!E)return null;switch(E){case"facebook.com":return new Zl(W,F);case"github.com":return new ul(W,F);case"google.com":return new ra(W,F);case"twitter.com":return new tc(W,F,w.screenName||null);case"custom":case"anonymous":return new ho(W,null);default:return new ho(W,E,F)}}(f)}class Kn{constructor(h,f,E){this.type=h,this.credential=f,this.auth=E}static _fromIdtoken(h,f){return new Kn("enroll",h,f)}static _fromMfaPendingCredential(h){return new Kn("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,E;if(h?.multiFactorSession){if(null!==(f=h.multiFactorSession)&&void 0!==f&&f.pendingCredential)return Kn._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(E=h.multiFactorSession)&&void 0!==E&&E.idToken)return Kn._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Rn{constructor(h,f,E){this.session=h,this.hints=f,this.signInResolver=E}static _fromError(h,f){const E=Nn(h),F=f.customData._serverResponse,W=(F.mfaInfo||[]).map(ze=>I._fromServerResponse(E,ze));Ie(F.mfaPendingCredential,E,"internal-error");const de=Kn._fromMfaPendingCredential(F.mfaPendingCredential);return new Rn(de,W,function(){var ze=(0,g.Z)(function*(ut){const zt=yield ut._process(E,de);delete F.mfaInfo,delete F.mfaPendingCredential;const sn=Object.assign(Object.assign({},F),{idToken:zt.idToken,refreshToken:zt.refreshToken});switch(f.operationType){case"signIn":const kt=yield ei._fromIdTokenResponse(E,f.operationType,sn);return yield E._updateCurrentUser(kt.user),kt;case"reauthenticate":return Ie(f.user,E,"internal-error"),ei._forOperation(f.user,f.operationType,sn);default:Fe(E,"internal-error")}});return function(ut){return ze.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,g.Z)(function*(){return f.signInResolver(h)})()}}class ji{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(E=>I._fromServerResponse(h.auth,E)))})}static _fromUser(h){return new ji(h)}getSession(){var h=this;return(0,g.Z)(function*(){return Kn._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,f){var E=this;return(0,g.Z)(function*(){const F=h,W=yield E.getSession(),de=yield Et(E.user,F._process(E.user.auth,W,f));return yield E.user._updateTokensIfNecessary(de),E.user.reload()})()}unenroll(h){var f=this;return(0,g.Z)(function*(){const E="string"==typeof h?h:h.uid,F=yield f.user.getIdToken();try{const W=yield Et(f.user,function ss(w,h){return Oe(w,"POST","/v2/accounts/mfaEnrollment:withdraw",ke(w,h))}(f.user.auth,{idToken:F,mfaEnrollmentId:E}));f.enrolledFactors=f.enrolledFactors.filter(({uid:de})=>de!==E),yield f.user._updateTokensIfNecessary(W),yield f.user.reload()}catch(W){throw W}})()}}const Io=new WeakMap,_o="__sak";class Fa{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(_o,"1"),this.storage.removeItem(_o),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const fl=(()=>{class w extends Fa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,E)=>this.onStorageEvent(f,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dc(){const w=(0,_.z$)();return De(w)||me(w)}()&&function on(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Wt(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const E of Object.keys(this.listeners)){const F=this.storage.getItem(E),W=this.localCache[E];F!==W&&f(E,W,F)}}onStorageEvent(f,E=!1){if(!f.key)return void this.forAllChangedKeys((ze,ut,zt)=>{this.notifyListeners(ze,zt)});const F=f.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ze=this.storage.getItem(F);if(f.newValue!==ze)null!==f.newValue?this.storage.setItem(F,f.newValue):this.storage.removeItem(F);else if(this.localCache[F]===f.newValue&&!E)return}const W=()=>{const ze=this.storage.getItem(F);!E&&this.localCache[F]===ze||this.notifyListeners(F,ze)},de=this.storage.getItem(F);!function Mt(){return(0,_.w1)()&&10===document.documentMode}()||de===f.newValue||f.newValue===f.oldValue?W():setTimeout(W,10)}notifyListeners(f,E){this.localCache[f]=E;const F=this.listeners[f];if(F)for(const W of Array.from(F))W(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,E,F)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:E,newValue:F}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(E)}_removeListener(f,E){this.listeners[f]&&(this.listeners[f].delete(E),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,E){var F=()=>super._set,W=this;return(0,g.Z)(function*(){yield F().call(W,f,E),W.localCache[f]=JSON.stringify(E)})()}_get(f){var E=()=>super._get,F=this;return(0,g.Z)(function*(){const W=yield E().call(F,f);return F.localCache[f]=JSON.stringify(W),W})()}_remove(f){var E=()=>super._remove,F=this;return(0,g.Z)(function*(){yield E().call(F,f),delete F.localCache[f]})()}}return w.type="LOCAL",w})(),Bs=(()=>{class w extends Fa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,E){}_removeListener(f,E){}}return w.type="SESSION",w})();let Ql=(()=>{class w{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const E=this.receivers.find(W=>W.isListeningto(f));if(E)return E;const F=new w(f);return this.receivers.push(F),F}isListeningto(f){return this.eventTarget===f}handleEvent(f){var E=this;return(0,g.Z)(function*(){const F=f,{eventId:W,eventType:de,data:ze}=F.data,ut=E.handlersMap[de];if(!ut?.size)return;F.ports[0].postMessage({status:"ack",eventId:W,eventType:de});const zt=Array.from(ut).map(function(){var kt=(0,g.Z)(function*(er){return er(F.origin,ze)});return function(er){return kt.apply(this,arguments)}}()),sn=yield function pl(w){return Promise.all(w.map(function(){var h=(0,g.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(E){return{fulfilled:!1,reason:E}}});return function(f){return h.apply(this,arguments)}}()))}(zt);F.ports[0].postMessage({status:"done",eventId:W,eventType:de,response:sn})})()}_subscribe(f,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(E)}_unsubscribe(f,E){this.handlersMap[f]&&E&&this.handlersMap[f].delete(E),(!E||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function nc(w="",h=10){let f="";for(let E=0;E<h;E++)f+=Math.floor(10*Math.random());return w+f}class Xl{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f){var E=this;return(0,g.Z)(function*(F,W,de=50){const ze=typeof MessageChannel<"u"?new MessageChannel:null;if(!ze)throw new Error("connection_unavailable");let ut,zt;return new Promise((sn,kt)=>{const er=nc("",20);ze.port1.start();const qo=setTimeout(()=>{kt(new Error("unsupported_event"))},de);zt={messageChannel:ze,onMessage(dc){const xl=dc;if(xl.data.eventId===er)switch(xl.data.status){case"ack":clearTimeout(qo),ut=setTimeout(()=>{kt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ut),sn(xl.data.response);break;default:clearTimeout(qo),clearTimeout(ut),kt(new Error("invalid_response"))}}},E.handlers.add(zt),ze.port1.addEventListener("message",zt.onMessage),E.target.postMessage({eventType:F,eventId:er,data:W},[ze.port2])}).finally(()=>{zt&&E.removeMessageHandler(zt)})}).apply(this,arguments)}}function cr(){return window}function rc(){return typeof cr().WorkerGlobalScope<"u"&&"function"==typeof cr().importScripts}function ml(){return(ml=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const gl="firebaseLocalStorageDb",La=1,ic="firebaseLocalStorage",vl="fbase_key";class to{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function oa(w,h){return w.transaction([ic],h?"readwrite":"readonly").objectStore(ic)}function eu(){const w=indexedDB.open(gl,La);return new Promise((h,f)=>{w.addEventListener("error",()=>{f(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(ic,{keyPath:vl})}catch(F){f(F)}}),w.addEventListener("success",(0,g.Z)(function*(){const E=w.result;E.objectStoreNames.contains(ic)?h(E):(E.close(),yield function oc(){const w=indexedDB.deleteDatabase(gl);return new to(w).toPromise()}(),h(yield eu()))}))})}function Mc(w,h,f){return Is.apply(this,arguments)}function Is(){return(Is=(0,g.Z)(function*(w,h,f){const E=oa(w,!0).put({[vl]:h,value:f});return new to(E).toPromise()})).apply(this,arguments)}function Ic(){return(Ic=(0,g.Z)(function*(w,h){const f=oa(w,!1).get(h),E=yield new to(f).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function sc(w,h){const f=oa(w,!0).delete(h);return new to(f).toPromise()}const Us=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,g.Z)(function*(){return f.db||(f.db=yield eu()),f.db})()}_withRetries(f){var E=this;return(0,g.Z)(function*(){let F=0;for(;;)try{const W=yield E._openDb();return yield f(W)}catch(W){if(F++>3)throw W;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,g.Z)(function*(){return rc()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,g.Z)(function*(){f.receiver=Ql._getInstance(function j4(){return rc()?self:null}()),f.receiver._subscribe("keyChanged",function(){var E=(0,g.Z)(function*(F,W){return{keyProcessed:(yield f._poll()).includes(W.key)}});return function(F,W){return E.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var E=(0,g.Z)(function*(F,W){return["keyChanged"]});return function(F,W){return E.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,g.Z)(function*(){var E,F;if(f.activeServiceWorker=yield function Zu(){return ml.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Xl(f.activeServiceWorker);const W=yield f.sender._send("ping",{},800);W&&null!==(E=W[0])&&void 0!==E&&E.fulfilled&&null!==(F=W[0])&&void 0!==F&&F.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var E=this;return(0,g.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Jl(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:f},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const f=yield eu();return yield Mc(f,_o,"1"),yield sc(f,_o),!0}catch{}return!1})()}_withPendingWrite(f){var E=this;return(0,g.Z)(function*(){E.pendingWrites++;try{yield f()}finally{E.pendingWrites--}})()}_set(f,E){var F=this;return(0,g.Z)(function*(){return F._withPendingWrite((0,g.Z)(function*(){return yield F._withRetries(W=>Mc(W,f,E)),F.localCache[f]=E,F.notifyServiceWorker(f)}))})()}_get(f){var E=this;return(0,g.Z)(function*(){const F=yield E._withRetries(W=>function yl(w,h){return Ic.apply(this,arguments)}(W,f));return E.localCache[f]=F,F})()}_remove(f){var E=this;return(0,g.Z)(function*(){return E._withPendingWrite((0,g.Z)(function*(){return yield E._withRetries(F=>sc(F,f)),delete E.localCache[f],E.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,g.Z)(function*(){const E=yield f._withRetries(de=>{const ze=oa(de,!1).getAll();return new to(ze).toPromise()});if(!E)return[];if(0!==f.pendingWrites)return[];const F=[],W=new Set;for(const{fbase_key:de,value:ze}of E)W.add(de),JSON.stringify(f.localCache[de])!==JSON.stringify(ze)&&(f.notifyListeners(de,ze),F.push(de));for(const de of Object.keys(f.localCache))f.localCache[de]&&!W.has(de)&&(f.notifyListeners(de,null),F.push(de));return F})()}notifyListeners(f,E){this.localCache[f]=E;const F=this.listeners[f];if(F)for(const W of Array.from(F))W(E)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(E)}_removeListener(f,E){this.listeners[f]&&(this.listeners[f].delete(E),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),Xu=1e12;class n8{constructor(h){this.auth=h,this.counter=Xu,this._widgets=new Map}render(h,f){const E=this.counter;return this._widgets.set(E,new r8(h,this.auth.name,f||{})),this.counter++,E}reset(h){var f;const E=h||Xu;null===(f=this._widgets.get(E))||void 0===f||f.delete(),this._widgets.delete(E)}getResponse(h){var f;return(null===(f=this._widgets.get(h||Xu))||void 0===f?void 0:f.getResponse())||""}execute(h){var f=this;return(0,g.Z)(function*(){var E;return null===(E=f._widgets.get(h||Xu))||void 0===E||E.execute(),""})()}}class r8{constructor(h,f,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const F="string"==typeof h?document.getElementById(h):h;Ie(F,"argument-error",{appName:f}),this.container=F,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _l(w){const h=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)h.push(f.charAt(Math.floor(Math.random()*f.length)));return h.join("")}(50);const{callback:h,"expired-callback":f}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Nd=In("rcb"),Rd=new Br(3e4,6e4);class q4{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=cr().grecaptcha)||void 0===h||!h.render)}load(h,f=""){return Ie(function Fd(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(f),h,"argument-error"),this.shouldResolveImmediately(f)&&un(cr().grecaptcha)?Promise.resolve(cr().grecaptcha):new Promise((E,F)=>{const W=cr().setTimeout(()=>{F(Ye(h,"network-request-failed"))},Rd.get());cr()[Nd]=()=>{cr().clearTimeout(W),delete cr()[Nd];const ze=cr().grecaptcha;if(!ze||!un(ze))return void F(Ye(h,"internal-error"));const ut=ze.render;ze.render=(zt,sn)=>{const kt=ut(zt,sn);return this.counter++,kt},this.hostLanguage=f,E(ze)},Cn(`https://www.google.com/recaptcha/api.js??${(0,_.xO)({onload:Nd,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(W),F(Ye(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var f;return!(null===(f=cr().grecaptcha)||void 0===f||!f.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $i{load(h){return(0,g.Z)(function*(){return new n8(h)})()}clearedOneInstance(){}}const wl="recaptcha",Ac={theme:"light",type:"image"};class Ld{constructor(h,f=Object.assign({},Ac),E){this.parameters=f,this.type=wl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nn(E),this.isInvisible="invisible"===this.parameters.size,Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const F="string"==typeof h?document.getElementById(h):h;Ie(F,this.auth,"argument-error"),this.container=F,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $i:new q4,this.validateStartingState()}verify(){var h=this;return(0,g.Z)(function*(){h.assertNotDestroyed();const f=yield h.render(),E=h.getAssertedRecaptcha();return E.getResponse(f)||new Promise(W=>{const de=ze=>{ze&&(h.tokenChangeListeners.delete(de),W(ze))};h.tokenChangeListeners.add(de),h.isInvisible&&E.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return f=>{if(this.tokenChangeListeners.forEach(E=>E(f)),"function"==typeof h)h(f);else if("string"==typeof h){const E=cr()[h];"function"==typeof E&&E(f)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,g.Z)(function*(){if(yield h.init(),!h.widgetId){let f=h.container;if(!h.isInvisible){const E=document.createElement("div");f.appendChild(E),f=E}h.widgetId=h.getAssertedRecaptcha().render(f,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,g.Z)(function*(){Ie(bt()&&!rc(),h.auth,"internal-error"),yield function as(){let w=null;return new Promise(h=>{"complete"!==document.readyState?(w=()=>h(),window.addEventListener("load",w)):h()}).catch(h=>{throw w&&window.removeEventListener("load",w),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const f=yield function Se(w){return Je.apply(this,arguments)}(h.auth);Ie(f,h.auth,"internal-error"),h.parameters.sitekey=f})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ys{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=ns._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function Pc(){return(Pc=(0,g.Z)(function*(w,h,f){const E=Nn(w),F=yield R(E,h,(0,_.m9)(f));return new Ys(F,W=>_i(E,W))})).apply(this,arguments)}function D(){return(D=(0,g.Z)(function*(w,h,f){const E=(0,_.m9)(w);yield xi(!1,E,"phone");const F=yield R(E.auth,h,(0,_.m9)(f));return new Ys(F,W=>Ia(E,W))})).apply(this,arguments)}function z(){return(z=(0,g.Z)(function*(w,h,f){const E=(0,_.m9)(w),F=yield R(E.auth,h,(0,_.m9)(f));return new Ys(F,W=>os(E,W))})).apply(this,arguments)}function R(w,h,f){return j.apply(this,arguments)}function j(){return j=(0,g.Z)(function*(w,h,f){var E;const F=yield f.verify();try{let W;if(Ie("string"==typeof F,w,"argument-error"),Ie(f.type===wl,w,"argument-error"),W="string"==typeof h?{phoneNumber:h}:h,"session"in W){const de=W.session;if("phoneNumber"in W)return Ie("enroll"===de.type,w,"internal-error"),(yield function or(w,h){return Oe(w,"POST","/v2/accounts/mfaEnrollment:start",ke(w,h))}(w,{idToken:de.credential,phoneEnrollmentInfo:{phoneNumber:W.phoneNumber,recaptchaToken:F}})).phoneSessionInfo.sessionInfo;{Ie("signin"===de.type,w,"internal-error");const ze=(null===(E=W.multiFactorHint)||void 0===E?void 0:E.uid)||W.multiFactorUid;return Ie(ze,w,"missing-multi-factor-info"),(yield function ac(w,h){return Oe(w,"POST","/v2/accounts/mfaSignIn:start",ke(w,h))}(w,{mfaPendingCredential:de.credential,mfaEnrollmentId:ze,phoneSignInInfo:{recaptchaToken:F}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:de}=yield function Uo(w,h){return Yo.apply(this,arguments)}(w,{phoneNumber:W.phoneNumber,recaptchaToken:F});return de}}finally{f._reset()}}),j.apply(this,arguments)}function Ce(){return(Ce=(0,g.Z)(function*(w,h){yield Or((0,_.m9)(w),h)})).apply(this,arguments)}let ot=(()=>{class w{constructor(f){this.providerId=w.PROVIDER_ID,this.auth=Nn(f)}verifyPhoneNumber(f,E){return R(this.auth,f,(0,_.m9)(E))}static credential(f,E){return ns._fromVerification(f,E)}static credentialFromResult(f){return w.credentialFromTaggedObject(f)}static credentialFromError(f){return w.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:E,temporaryProof:F}=f;return E&&F?ns._fromTokenResponse(E,F):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Pt(w,h){return h?Yn(h):(Ie(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Yt extends ye{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Vi(h,this._buildIdpRequest())}_linkToIdToken(h,f){return Vi(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return Vi(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function gr(w){return Ui(w.auth,new Yt(w),w.bypassAuthState)}function no(w){const{auth:h,user:f}=w;return Ie(f,h,"internal-error"),yi(f,new Yt(w),w.bypassAuthState)}function fa(w){return xs.apply(this,arguments)}function xs(){return(xs=(0,g.Z)(function*(w){const{auth:h,user:f}=w;return Ie(f,h,"internal-error"),Or(f,new Yt(w),w.bypassAuthState)})).apply(this,arguments)}class pa{constructor(h,f,E,F,W=!1){this.auth=h,this.resolver=E,this.user=F,this.bypassAuthState=W,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,g.Z)(function*(E,F){h.pendingPromise={resolve:E,reject:F};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(W){h.reject(W)}});return function(E,F){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,g.Z)(function*(){const{urlResponse:E,sessionId:F,postBody:W,tenantId:de,error:ze,type:ut}=h;if(ze)return void f.reject(ze);const zt={auth:f.auth,requestUri:E,sessionId:F,tenantId:de||void 0,postBody:W||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(ut)(zt))}catch(sn){f.reject(sn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return gr;case"linkViaPopup":case"linkViaRedirect":return fa;case"reauthViaPopup":case"reauthViaRedirect":return no;default:Fe(this.auth,"internal-error")}}resolve(h){wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Go=new Br(2e3,1e4);function ma(){return(ma=(0,g.Z)(function*(w,h,f){const E=Nn(w);nt(w,h,Lr);const F=Pt(E,f);return new t1(E,"signInViaPopup",h,F).executeNotNull()})).apply(this,arguments)}function e1(){return(e1=(0,g.Z)(function*(w,h,f){const E=(0,_.m9)(w);nt(E.auth,h,Lr);const F=Pt(E.auth,f);return new t1(E.auth,"reauthViaPopup",h,F,E).executeNotNull()})).apply(this,arguments)}function Vd(){return(Vd=(0,g.Z)(function*(w,h,f){const E=(0,_.m9)(w);nt(E.auth,h,Lr);const F=Pt(E.auth,f);return new t1(E.auth,"linkViaPopup",h,F,E).executeNotNull()})).apply(this,arguments)}let t1=(()=>{class w extends pa{constructor(f,E,F,W,de){super(f,E,W,de),this.provider=F,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var f=this;return(0,g.Z)(function*(){const E=yield f.execute();return Ie(E,f.auth,"internal-error"),E})()}onExecution(){var f=this;return(0,g.Z)(function*(){wt(1===f.filter.length,"Popup operations only handle one event");const E=nc();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],E),f.authWindow.associatedEvent=E,f.resolver._originValidation(f.auth).catch(F=>{f.reject(F)}),f.resolver._isIframeWebStorageSupported(f.auth,F=>{F||f.reject(Ye(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const f=()=>{var E,F;this.pollId=null!==(F=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==F&&F.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ye(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,Go.get())};f()}}return w.currentPopupAction=null,w})();const ru="pendingRedirect",cc=new Map;class W4 extends pa{constructor(h,f,E=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,E),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,g.Z)(function*(){let E=cc.get(f.auth._key());if(!E){try{const W=(yield function i8(w,h){return Hd.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;E=()=>Promise.resolve(W)}catch(F){E=()=>Promise.reject(F)}cc.set(f.auth._key(),E)}return f.bypassAuthState||cc.set(f.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,E=this;return(0,g.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(E,h);if("unknown"!==h.type){if(h.eventId){const F=yield E.auth._redirectUserForId(h.eventId);if(F)return E.user=F,f().call(E,h);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function Hd(){return(Hd=(0,g.Z)(function*(w,h){const f=K4(h),E=Ud(w);if(!(yield E._isAvailable()))return!1;const F="true"===(yield E._get(f));return yield E._remove(f),F})).apply(this,arguments)}function lc(w,h){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,g.Z)(function*(w,h){return Ud(w)._set(K4(h),"true")})).apply(this,arguments)}function Bd(w,h){cc.set(w._key(),h)}function Ud(w){return Yn(w._redirectPersistence)}function K4(w){return le(ru,w.config.apiKey,w.name)}function hg(w,h,f){return function s8(w,h,f){return Yd.apply(this,arguments)}(w,h,f)}function Yd(){return(Yd=(0,g.Z)(function*(w,h,f){const E=Nn(w);nt(w,h,Lr),yield E._initializationPromise;const F=Pt(E,f);return yield lc(F,E),F._openRedirect(E,h,"signInViaRedirect")})).apply(this,arguments)}function a8(w,h,f){return function n1(w,h,f){return r1.apply(this,arguments)}(w,h,f)}function r1(){return(r1=(0,g.Z)(function*(w,h,f){const E=(0,_.m9)(w);nt(E.auth,h,Lr),yield E.auth._initializationPromise;const F=Pt(E.auth,f);yield lc(F,E.auth);const W=yield s1(E);return F._openRedirect(E.auth,h,"reauthViaRedirect",W)})).apply(this,arguments)}function Z4(w,h,f){return function jd(w,h,f){return Q4.apply(this,arguments)}(w,h,f)}function Q4(){return(Q4=(0,g.Z)(function*(w,h,f){const E=(0,_.m9)(w);nt(E.auth,h,Lr),yield E.auth._initializationPromise;const F=Pt(E.auth,f);yield xi(!1,E,h.providerId),yield lc(F,E.auth);const W=yield s1(E);return F._openRedirect(E.auth,h,"linkViaRedirect",W)})).apply(this,arguments)}function $d(){return($d=(0,g.Z)(function*(w,h){return yield Nn(w)._initializationPromise,o1(w,h,!1)})).apply(this,arguments)}function o1(w,h){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,g.Z)(function*(w,h,f=!1){const E=Nn(w),F=Pt(E,h),de=yield new W4(E,F,f).execute();return de&&!f&&(delete de.user._redirectEventId,yield E._persistUserIfCurrent(de.user),yield E._setRedirectUser(null,h)),de})).apply(this,arguments)}function s1(w){return J4.apply(this,arguments)}function J4(){return(J4=(0,g.Z)(function*(w){const h=nc(`${w.uid}:::`);return w._redirectEventId=h,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),h})).apply(this,arguments)}class iu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(h,E)&&(f=!0,this.sendToConsumer(h,E),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function u8(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l8(w);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var E;if(h.error&&!l8(h)){const F=(null===(E=h.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";f.onError(Ye(this.auth,F))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const E=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&E}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(c8(h))}saveEventToCache(h){this.cachedEventUids.add(c8(h)),this.lastProcessedEventTime=Date.now()}}function c8(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(h=>h).join("-")}function l8({type:w,error:h}){return"unknown"===w&&"auth/no-auth-event"===h?.code}function d8(w){return e2.apply(this,arguments)}function e2(){return(e2=(0,g.Z)(function*(w,h={}){return Oe(w,"GET","/v1/projects",h)})).apply(this,arguments)}const h8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t2=/^https?/;function c1(){return(c1=(0,g.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:h}=yield d8(w);for(const f of h)try{if(n2(f))return}catch{}Fe(w,"unauthorized-domain")})).apply(this,arguments)}function n2(w){const h=Gt(),{protocol:f,hostname:E}=new URL(h);if(w.startsWith("chrome-extension://")){const de=new URL(w);return""===de.hostname&&""===E?"chrome-extension:"===f&&w.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&de.hostname===E}if(!t2.test(f))return!1;if(h8.test(w))return E===w;const F=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(E)}const r2=new Br(3e4,6e4);function sa(){const w=cr().___jsl;if(w?.H)for(const h of Object.keys(w.H))if(w.H[h].r=w.H[h].r||[],w.H[h].L=w.H[h].L||[],w.H[h].r=[...w.H[h].L],w.CP)for(let f=0;f<w.CP.length;f++)w.CP[f]=null}let l1=null;const o2=new Br(5e3,15e3),u1="__/auth/iframe",s2="emulator/auth/iframe",m8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c2(w){const h=w.config;Ie(h.authDomain,w,"auth-domain-config-required");const f=h.emulator?ti(h,s2):`https://${w.config.authDomain}/${u1}`,E={apiKey:h.apiKey,appName:w.name,v:pe.SDK_VERSION},F=a2.get(w.config.apiHost);F&&(E.eid=F);const W=w._getFrameworks();return W.length&&(E.fw=W.join(",")),`${f}?${(0,_.xO)(E).slice(1)}`}function qd(){return qd=(0,g.Z)(function*(w){const h=yield function p8(w){return l1=l1||function f8(w){return new Promise((h,f)=>{var E,F,W;function de(){sa(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{sa(),f(Ye(w,"network-request-failed"))},timeout:r2.get()})}if(null!==(F=null===(E=cr().gapi)||void 0===E?void 0:E.iframes)&&void 0!==F&&F.Iframe)h(gapi.iframes.getContext());else{if(null===(W=cr().gapi)||void 0===W||!W.load){const ze=In("iframefcb");return cr()[ze]=()=>{gapi.load?de():f(Ye(w,"network-request-failed"))},Cn(`https://apis.google.com/js/api.js?onload=${ze}`).catch(ut=>f(ut))}de()}}).catch(h=>{throw l1=null,h})}(w),l1}(w),f=cr().gapi;return Ie(f,w,"internal-error"),h.open({where:document.body,url:c2(w),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m8,dontclear:!0},E=>new Promise(function(){var F=(0,g.Z)(function*(W,de){yield E.restyle({setHideOnLeave:!1});const ze=Ye(w,"network-request-failed"),ut=cr().setTimeout(()=>{de(ze)},o2.get());function zt(){cr().clearTimeout(ut),W(E)}E.ping(zt).then(zt,()=>{de(ze)})});return function(W,de){return F.apply(this,arguments)}}()))}),qd.apply(this,arguments)}const cs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wd=500,l2=600,Kd="_blank",Ro="http://localhost";class Cl{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const v8="__/auth/handler",h2="emulator/auth/handler",y8=encodeURIComponent("fac");function d1(w,h,f,E,F,W){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,g.Z)(function*(w,h,f,E,F,W){Ie(w.config.authDomain,w,"auth-domain-config-required"),Ie(w.config.apiKey,w,"invalid-api-key");const de={apiKey:w.config.apiKey,appName:w.name,authType:f,redirectUrl:E,v:pe.SDK_VERSION,eventId:F};if(h instanceof Lr){h.setDefaultLanguage(w.languageCode),de.providerId=h.providerId||"",(0,_.xb)(h.getCustomParameters())||(de.customParameters=JSON.stringify(h.getCustomParameters()));for(const[sn,kt]of Object.entries(W||{}))de[sn]=kt}if(h instanceof gi){const sn=h.getScopes().filter(kt=>""!==kt);sn.length>0&&(de.scopes=sn.join(","))}w.tenantId&&(de.tid=w.tenantId);const ze=de;for(const sn of Object.keys(ze))void 0===ze[sn]&&delete ze[sn];const ut=yield w._getAppCheckToken(),zt=ut?`#${y8}=${encodeURIComponent(ut)}`:"";return`${function f2({config:w}){return w.emulator?ti(w,h2):`https://${w.authDomain}/${v8}`}(w)}?${(0,_.xO)(ze).slice(1)}${zt}`})).apply(this,arguments)}const Qd="webStorageSupport",h1=class _8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bs,this._completeRedirectFn=o1,this._overrideRedirectResult=Bd}_openPopup(h,f,E,F){var W=this;return(0,g.Z)(function*(){var de;wt(null===(de=W.eventManagers[h._key()])||void 0===de?void 0:de.manager,"_initialize() not called before _openPopup()");const ze=yield d1(h,f,E,Gt(),F);return function u2(w,h,f,E=Wd,F=l2){const W=Math.max((window.screen.availHeight-F)/2,0).toString(),de=Math.max((window.screen.availWidth-E)/2,0).toString();let ze="";const ut=Object.assign(Object.assign({},cs),{width:E.toString(),height:F.toString(),top:W,left:de}),zt=(0,_.z$)().toLowerCase();f&&(ze=at(zt)?Kd:f),We(zt)&&(h=h||Ro,ut.scrollbars="yes");const sn=Object.entries(ut).reduce((er,[qo,dc])=>`${er}${qo}=${dc},`,"");if(function ct(w=(0,_.z$)()){var h;return me(w)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(zt)&&"_self"!==ze)return function d2(w,h){const f=document.createElement("a");f.href=w,f.target=h;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(E)}(h||"",ze),new Cl(null);const kt=window.open(h||"",ze,sn);Ie(kt,w,"popup-blocked");try{kt.focus()}catch{}return new Cl(kt)}(h,ze,nc())})()}_openRedirect(h,f,E,F){var W=this;return(0,g.Z)(function*(){return yield W._originValidation(h),function kd(w){cr().location.href=w}(yield d1(h,f,E,Gt(),F)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:F,promise:W}=this.eventManagers[f];return F?Promise.resolve(F):(wt(W,"If manager is not set, promise should be"),W)}const E=this.initAndGetManager(h);return this.eventManagers[f]={promise:E},E.catch(()=>{delete this.eventManagers[f]}),E}initAndGetManager(h){var f=this;return(0,g.Z)(function*(){const E=yield function g8(w){return qd.apply(this,arguments)}(h),F=new iu(h);return E.register("authEvent",W=>(Ie(W?.authEvent,h,"invalid-auth-event"),{status:F.onEvent(W.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:F},f.iframes[h._key()]=E,F})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(Qd,{type:Qd},F=>{var W;const de=null===(W=F?.[0])||void 0===W?void 0:W[Qd];void 0!==de&&f(!!de),Fe(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function a1(w){return c1.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return Wt()||De()||me()}};class Xd{constructor(h){this.factorId=h}_process(h,f,E){switch(f.type){case"enroll":return this._finalizeEnroll(h,f.credential,E);case"signin":return this._finalizeSignIn(h,f.credential);default:return $t("unexpected MultiFactorSessionType")}}}class Jd extends Xd{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Jd(h)}_finalizeEnroll(h,f,E){return function ai(w,h){return Oe(w,"POST","/v2/accounts/mfaEnrollment:finalize",ke(w,h))}(h,{idToken:f,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,f){return function $4(w,h){return Oe(w,"POST","/v2/accounts/mfaSignIn:finalize",ke(w,h))}(h,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ou=(()=>{class w{constructor(){}static assertion(f){return Jd._fromCredential(f)}}return w.FACTOR_ID="phone",w})();var th="@firebase/auth";class nh{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,g.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(E=>{h(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);f&&(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Rc(){return window}(0,_.Pz)("authIdTokenMaxAge"),function w8(w){(0,pe._registerComponent)(new xe.wA("auth",(h,{options:f})=>{const E=h.getProvider("app").getImmediate(),F=h.getProvider("heartbeat"),W=h.getProvider("app-check-internal"),{apiKey:de,authDomain:ze}=E.options;Ie(de&&!de.includes(":"),"invalid-api-key",{appName:E.name});const ut={apiKey:de,authDomain:ze,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ee(w)},zt=new hi(E,F,W,ut);return function Bn(w,h){const f=h?.persistence||[],E=(Array.isArray(f)?f:[f]).map(Yn);h?.errorMap&&w._updateErrorMap(h.errorMap),w._initializeWithPersistence(E,h?.popupRedirectResolver)}(zt,f),zt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,E)=>{h.getProvider("auth-internal").initialize()})),(0,pe._registerComponent)(new xe.wA("auth-internal",h=>{const f=Nn(h.getProvider("auth").getImmediate());return new nh(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)(th,"0.23.2",function rh(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,pe.registerVersion)(th,"0.23.2","esm2017")}("Browser");const S8=2e3;function su(){return su=(0,g.Z)(function*(w,h,f){var E;const{BuildInfo:F}=Rc();wt(h.sessionId,"AuthEvent did not contain a session ID");const W=yield function Fc(w){return m1.apply(this,arguments)}(h.sessionId),de={};return me()?de.ibi=F.packageName:$()?de.apn=F.packageName:Fe(w,"operation-not-supported-in-this-environment"),F.displayName&&(de.appDisplayName=F.displayName),de.sessionId=W,d1(w,f,h.type,void 0,null!==(E=h.eventId)&&void 0!==E?E:void 0,de)}),su.apply(this,arguments)}function au(){return(au=(0,g.Z)(function*(w){const{BuildInfo:h}=Rc(),f={};me()?f.iosBundleId=h.packageName:$()?f.androidPackageName=h.packageName:Fe(w,"operation-not-supported-in-this-environment"),yield d8(w,f)})).apply(this,arguments)}function p1(){return(p1=(0,g.Z)(function*(w,h,f){const{cordova:E}=Rc();let F=()=>{};try{yield new Promise((W,de)=>{let ze=null;function ut(){var kt;W();const er=null===(kt=E.plugins.browsertab)||void 0===kt?void 0:kt.close;"function"==typeof er&&er(),"function"==typeof f?.close&&f.close()}function zt(){ze||(ze=window.setTimeout(()=>{de(Ye(w,"redirect-cancelled-by-user"))},S8))}function sn(){"visible"===document?.visibilityState&&zt()}h.addPassiveListener(ut),document.addEventListener("resume",zt,!1),$()&&document.addEventListener("visibilitychange",sn,!1),F=()=>{h.removePassiveListener(ut),document.removeEventListener("resume",zt,!1),document.removeEventListener("visibilitychange",sn,!1),ze&&window.clearTimeout(ze)}})}finally{F()}})).apply(this,arguments)}function m1(){return(m1=(0,g.Z)(function*(w){const h=function y2(w){if(wt(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(w);const h=new ArrayBuffer(w.length),f=new Uint8Array(h);for(let E=0;E<w.length;E++)f[E]=w.charCodeAt(E);return f}(w),f=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(f)).map(F=>F.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const T8=20;class gg extends iu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(h)),super.onEvent(h)}initialized(){var h=this;return(0,g.Z)(function*(){yield h.initPromise})()}}function sh(w){return v1.apply(this,arguments)}function v1(){return(v1=(0,g.Z)(function*(w){const h=yield y1()._get(Sl(w));return h&&(yield y1()._remove(Sl(w))),h})).apply(this,arguments)}function ah(){const w=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<T8;f++){const E=Math.floor(Math.random()*h.length);w.push(h.charAt(E))}return w.join("")}function y1(){return Yn(fl)}function Sl(w){return le("authEvent",w.config.apiKey,w.name)}function El(w){if(!w?.includes("?"))return{};const[h,...f]=w.split("?");return(0,_.zd)(f.join("?"))}const cu=class lh{constructor(){this._redirectPersistence=Bs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=o1,this._overrideRedirectResult=Bd}_initialize(h){var f=this;return(0,g.Z)(function*(){const E=h._key();let F=f.eventManagers.get(E);return F||(F=new gg(h),f.eventManagers.set(E,F),f.attachCallbackListeners(h,F)),F})()}_openPopup(h){Fe(h,"operation-not-supported-in-this-environment")}_openRedirect(h,f,E,F){var W=this;return(0,g.Z)(function*(){!function v2(w){var h,f,E,F,W,de,ze,ut,zt,sn;const kt=Rc();Ie("function"==typeof(null===(h=kt?.universalLinks)||void 0===h?void 0:h.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ie(typeof(null===(f=kt?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ie("function"==typeof(null===(W=null===(F=null===(E=kt?.cordova)||void 0===E?void 0:E.plugins)||void 0===F?void 0:F.browsertab)||void 0===W?void 0:W.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(ut=null===(ze=null===(de=kt?.cordova)||void 0===de?void 0:de.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===ut?void 0:ut.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(sn=null===(zt=kt?.cordova)||void 0===zt?void 0:zt.InAppBrowser)||void 0===sn?void 0:sn.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const de=yield W._initialize(h);yield de.initialized(),de.resetRedirect(),function o8(){cc.clear()}(),yield W._originValidation(h);const ze=function g1(w,h,f=null){return{type:h,eventId:f,urlResponse:null,sessionId:ah(),postBody:null,tenantId:w.tenantId,error:Ye(w,"no-auth-event")}}(h,E,F);yield function D8(w,h){return y1()._set(Sl(w),h)}(h,ze);const ut=yield function p2(w,h,f){return su.apply(this,arguments)}(h,ze,f),zt=yield function g2(w){const{cordova:h}=Rc();return new Promise(f=>{h.plugins.browsertab.isAvailable(E=>{let F=null;E?h.plugins.browsertab.openUrl(w):F=h.InAppBrowser.open(w,function Me(w=(0,_.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),f(F)})})}(ut);return function E8(w,h,f){return p1.apply(this,arguments)}(h,de,zt)})()}_isIframeWebStorageSupported(h,f){throw new Error("Method not implemented.")}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function m2(w){return au.apply(this,arguments)}(h)),this.originValidationPromises[f]}attachCallbackListeners(h,f){const{universalLinks:E,handleOpenURL:F,BuildInfo:W}=Rc(),de=setTimeout((0,g.Z)(function*(){yield sh(h),f.onEvent(C2())}),500),ze=function(){var sn=(0,g.Z)(function*(kt){clearTimeout(de);const er=yield sh(h);let qo=null;er&&kt?.url&&(qo=function _2(w,h){var f,E;const F=function w2(w){const h=El(w),f=h.link?decodeURIComponent(h.link):void 0,E=El(f).link,F=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return El(F).link||F||E||f||w}(h);if(F.includes("/__/auth/callback")){const W=El(F),de=W.firebaseError?function _1(w){try{return JSON.parse(w)}catch{return null}}(decodeURIComponent(W.firebaseError)):null,ze=null===(E=null===(f=de?.code)||void 0===f?void 0:f.split("auth/"))||void 0===E?void 0:E[1],ut=ze?Ye(ze):null;return ut?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:ut,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:F,postBody:null}}return null}(er,kt.url)),f.onEvent(qo||C2())});return function(er){return sn.apply(this,arguments)}}();typeof E<"u"&&"function"==typeof E.subscribe&&E.subscribe(null,ze);const ut=F,zt=`${W.packageName.toLowerCase()}://`;Rc().handleOpenURL=function(){var sn=(0,g.Z)(function*(kt){if(kt.toLowerCase().startsWith(zt)&&ze({url:kt}),"function"==typeof ut)try{ut(kt)}catch(er){console.error(er)}});return function(kt){return sn.apply(this,arguments)}}()}};function C2(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ye("no-auth-event")}}const x8=1e3;function Tl(){var w;return(null===(w=self?.location)||void 0===w?void 0:w.protocol)||null}function lu(w=(0,_.z$)()){return!("file:"!==Tl()&&"ionic:"!==Tl()&&"capacitor:"!==Tl()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function A8(){try{const w=self.localStorage,h=nc();if(w)return w.setItem(h,"1"),w.removeItem(h),!function z8(w=(0,_.z$)()){return function Dl(){return(0,_.w1)()&&11===document?.documentMode}()||function E2(w=(0,_.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,_.hl)()}catch{return dh()&&(0,_.hl)()}return!1}function dh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function uu(){return(function S2(){return"http:"===Tl()||"https:"===Tl()}()||(0,_.ru)()||lu())&&!function uh(){return(0,_.b$)()||(0,_.UG)()}()&&A8()&&!dh()}function T2(){return lu()&&typeof document<"u"}function Ml(){return(Ml=(0,g.Z)(function*(){return!!T2()&&new Promise(w=>{const h=setTimeout(()=>{w(!1)},x8);document.addEventListener("deviceready",()=>{clearTimeout(h),w(!0)})})})).apply(this,arguments)}const ls={LOCAL:"local",NONE:"none",SESSION:"session"},Il=Ie,w1="persistence";function C1(w){return fh.apply(this,arguments)}function fh(){return(fh=(0,g.Z)(function*(w){yield w._initializationPromise;const h=ph(),f=le(w1,w.config.apiKey,w.name);h&&h.setItem(f,w._getPersistence())})).apply(this,arguments)}function ph(){var w;try{return(null===(w=function hh(){return typeof window<"u"?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch{return null}}const k8=Ie;class Fo{constructor(){this.browserResolver=Yn(h1),this.cordovaResolver=Yn(cu),this.underlyingResolver=null,this._redirectPersistence=Bs,this._completeRedirectFn=o1,this._overrideRedirectResult=Bd}_initialize(h){var f=this;return(0,g.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,f,E,F){var W=this;return(0,g.Z)(function*(){return yield W.selectUnderlyingResolver(),W.assertedUnderlyingResolver._openPopup(h,f,E,F)})()}_openRedirect(h,f,E,F){var W=this;return(0,g.Z)(function*(){return yield W.selectUnderlyingResolver(),W.assertedUnderlyingResolver._openRedirect(h,f,E,F)})()}_isIframeWebStorageSupported(h,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,f)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return T2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return k8(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,g.Z)(function*(){if(h.underlyingResolver)return;const f=yield function D2(){return Ml.apply(this,arguments)}();h.underlyingResolver=f?h.cordovaResolver:h.browserResolver})()}}function Vc(w){return w.unwrap()}function N8(w){return M2(w)}function M2(w){const{_tokenResponse:h}=w instanceof _.ZR?w.customData:w;if(!h)return null;if(!(w instanceof _.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return ot.credentialFromResult(w);const f=h.providerId;if(!f||f===Pe.PASSWORD)return null;let E;switch(f){case Pe.GOOGLE:E=jo;break;case Pe.FACEBOOK:E=ir;break;case Pe.GITHUB:E=Po;break;case Pe.TWITTER:E=Js;break;default:const{oauthIdToken:F,oauthAccessToken:W,oauthTokenSecret:de,pendingToken:ze,nonce:ut}=h;return W||de||F||ze?ze?f.startsWith("saml.")?Ii._create(f,ze):lr._fromParams({providerId:f,signInMethod:f,pendingToken:ze,idToken:F,accessToken:W}):new vi(f).credential({idToken:F,accessToken:W,rawNonce:ut}):null}return w instanceof _.ZR?E.credentialFromError(w):E.credentialFromResult(w)}function us(w,h){return h.catch(f=>{throw f instanceof _.ZR&&function R8(w,h){var f;const E=null===(f=h.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new F8(w,function si(w,h){var f;const E=(0,_.m9)(w),F=h;return Ie(h.customData.operationType,E,"argument-error"),Ie(null===(f=F.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,E,"argument-error"),Rn._fromError(E,F)}(w,h));else if(E){const F=M2(h),W=h;F&&(W.credential=F,W.tenantId=E.tenantId||void 0,W.email=E.email||void 0,W.phoneNumber=E.phoneNumber||void 0)}}(w,f),f}).then(f=>{const F=f.user;return{operationType:f.operationType,credential:N8(f),additionalUserInfo:Ra(f),user:Ha.getOrCreate(F)}})}function mh(w,h){return b1.apply(this,arguments)}function b1(){return(b1=(0,g.Z)(function*(w,h){const f=yield h;return{verificationId:f.verificationId,confirm:E=>us(w,f.confirm(E))}})).apply(this,arguments)}class F8{constructor(h,f){this.resolver=f,this.auth=function O8(w){return w.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return us(Vc(this.auth),this.resolver.resolveSignIn(h))}}class Ha{constructor(h){this._delegate=h,this.multiFactor=function Ms(w){const h=(0,_.m9)(w);return Io.has(h)||Io.set(h,ji._fromUser(h)),Io.get(h)}(h)}static getOrCreate(h){return Ha.USER_MAP.has(h)||Ha.USER_MAP.set(h,new Ha(h)),Ha.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var f=this;return(0,g.Z)(function*(){return us(f.auth,Ia(f._delegate,h))})()}linkWithPhoneNumber(h,f){var E=this;return(0,g.Z)(function*(){return mh(E.auth,function S(w,h,f){return D.apply(this,arguments)}(E._delegate,h,f))})()}linkWithPopup(h){var f=this;return(0,g.Z)(function*(){return us(f.auth,function nu(w,h,f){return Vd.apply(this,arguments)}(f._delegate,h,Fo))})()}linkWithRedirect(h){var f=this;return(0,g.Z)(function*(){return yield C1(Nn(f.auth)),Z4(f._delegate,h,Fo)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var f=this;return(0,g.Z)(function*(){return us(f.auth,os(f._delegate,h))})()}reauthenticateWithPhoneNumber(h,f){return mh(this.auth,function C(w,h,f){return z.apply(this,arguments)}(this._delegate,h,f))}reauthenticateWithPopup(h){return us(this.auth,function kc(w,h,f){return e1.apply(this,arguments)}(this._delegate,h,Fo))}reauthenticateWithRedirect(h){var f=this;return(0,g.Z)(function*(){return yield C1(Nn(f.auth)),a8(f._delegate,h,Fo)})()}sendEmailVerification(h){return function Pa(w,h){return Ja.apply(this,arguments)}(this._delegate,h)}unlink(h){var f=this;return(0,g.Z)(function*(){return yield function ea(w,h){return Oo.apply(this,arguments)}(f._delegate,h),f})()}updateEmail(h){return function eo(w,h){return Wr((0,_.m9)(w),h,null)}(this._delegate,h)}updatePassword(h){return function Ts(w,h){return Wr((0,_.m9)(w),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function X(w,h){return Ce.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Kl(w,h){return cl.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,f){return function ka(w,h,f){return ec.apply(this,arguments)}(this._delegate,h,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ha.USER_MAP=new WeakMap;const du=Ie;let I2=(()=>{class w{constructor(f,E){if(this.app=f,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:F}=f.options;du(F,"invalid-api-key",{appName:f.name}),du(F,"invalid-api-key",{appName:f.name});const W=typeof window<"u"?Fo:void 0;this._delegate=E.initialize({options:{persistence:Ba(F,f.name),popupRedirectResolver:W}}),this._delegate._updateErrorMap(Qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ha.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,E){!function Zi(w,h,f){const E=Nn(w);Ie(E._canInitEmulator,E,"emulator-config-failed"),Ie(/^https?:\/\//.test(h),E,"invalid-emulator-scheme");const F=!!f?.disableWarnings,W=fi(h),{host:de,port:ze}=function fn(w){const h=fi(w),f=/(\/\/)?([^?#/]+)/.exec(w.substr(h.length));if(!f)return{host:"",port:null};const E=f[2].split("@").pop()||"",F=/^(\[[^\]]+\])(:|$)/.exec(E);if(F){const W=F[1];return{host:W,port:ri(E.substr(W.length+1))}}{const[W,de]=E.split(":");return{host:W,port:ri(de)}}}(h);E.config.emulator={url:`${W}//${de}${null===ze?"":`:${ze}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:de,port:ze,protocol:W.replace(":",""),options:Object.freeze({disableWarnings:F})}),F||function ne(){function w(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,f,E)}applyActionCode(f){return function kn(w,h){return Qi.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Xi(this._delegate,f)}confirmPasswordReset(f,E){return function Wn(w,h,f){return Un.apply(this,arguments)}(this._delegate,f,E)}createUserWithEmailAndPassword(f,E){var F=this;return(0,g.Z)(function*(){return us(F._delegate,function wi(w,h,f){return oi.apply(this,arguments)}(F._delegate,f,E))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function Ec(w,h){return na.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function Wu(w,h){return"EMAIL_SIGNIN"===co.parseLink(h)?.operation}(0,f)}getRedirectResult(){var f=this;return(0,g.Z)(function*(){du(uu(),f._delegate,"operation-not-supported-in-this-environment");const E=yield function X4(w,h){return $d.apply(this,arguments)}(f._delegate,Fo);return E?us(f._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function b2(w,h){Nn(w)._logFramework(h)}(this._delegate,f)}onAuthStateChanged(f,E,F){const{next:W,error:de,complete:ze}=hu(f,E,F);return this._delegate.onAuthStateChanged(W,de,ze)}onIdTokenChanged(f,E,F){const{next:W,error:de,complete:ze}=hu(f,E,F);return this._delegate.onIdTokenChanged(W,de,ze)}sendSignInLinkToEmail(f,E){return function ta(w,h,f){return Sc.apply(this,arguments)}(this._delegate,f,E)}sendPasswordResetEmail(f,E){return function qt(w,h,f){return Qt.apply(this,arguments)}(this._delegate,f,E||void 0)}setPersistence(f){var E=this;return(0,g.Z)(function*(){let F;switch(function Lc(w,h){Il(Object.values(ls).includes(h),w,"invalid-persistence-type"),(0,_.b$)()?Il(h!==ls.SESSION,w,"unsupported-persistence-type"):(0,_.UG)()?Il(h===ls.NONE,w,"unsupported-persistence-type"):dh()?Il(h===ls.NONE||h===ls.LOCAL&&(0,_.hl)(),w,"unsupported-persistence-type"):Il(h===ls.NONE||A8(),w,"unsupported-persistence-type")}(E._delegate,f),f){case ls.SESSION:F=Bs;break;case ls.LOCAL:F=(yield Yn(Us)._isAvailable())?Us:fl;break;case ls.NONE:F=Ar;break;default:return Fe("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(F)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return us(this._delegate,function Gr(w){return lo.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return us(this._delegate,_i(this._delegate,f))}signInWithCustomToken(f){return us(this._delegate,function v(w,h){return T.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,E){return us(this._delegate,function Es(w,h,f){return _i((0,_.m9)(w),mi.credential(h,f))}(this._delegate,f,E))}signInWithEmailLink(f,E){return us(this._delegate,function qr(w,h,f){return No.apply(this,arguments)}(this._delegate,f,E))}signInWithPhoneNumber(f,E){return mh(this._delegate,function Ju(w,h,f){return Pc.apply(this,arguments)}(this._delegate,f,E))}signInWithPopup(f){var E=this;return(0,g.Z)(function*(){return du(uu(),E._delegate,"operation-not-supported-in-this-environment"),us(E._delegate,function tu(w,h,f){return ma.apply(this,arguments)}(E._delegate,f,Fo))})()}signInWithRedirect(f){var E=this;return(0,g.Z)(function*(){return du(uu(),E._delegate,"operation-not-supported-in-this-environment"),yield C1(E._delegate),hg(E._delegate,f,Fo)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Yi(w,h){return Ji.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=ls,w})();function hu(w,h,f){let E=w;"function"!=typeof w&&({next:E,error:h,complete:f}=w);const F=E;return{next:de=>F(de&&Ha.getOrCreate(de)),error:h,complete:f}}function Ba(w,h){const f=function P8(w,h){const f=ph();if(!f)return[];const E=le(w1,w,h);switch(f.getItem(E)){case ls.NONE:return[Ar];case ls.LOCAL:return[Us,Bs];case ls.SESSION:return[Bs];default:return[]}}(w,h);if(typeof self<"u"&&!f.includes(Us)&&f.push(Us),typeof window<"u")for(const E of[fl,Bs])f.includes(E)||f.push(E);return f.includes(Ar)||f.push(Ar),f}class uc{constructor(){this.providerId="phone",this._delegate=new ot(Vc(Q.Z.auth()))}static credential(h,f){return ot.credential(h,f)}verifyPhoneNumber(h,f){return this._delegate.verifyPhoneNumber(h,f)}unwrap(){return this._delegate}}uc.PHONE_SIGN_IN_METHOD=ot.PHONE_SIGN_IN_METHOD,uc.PROVIDER_ID=ot.PROVIDER_ID;const x2=Ie;class z2{constructor(h,f,E=Q.Z.app()){var F;x2(null===(F=E.options)||void 0===F?void 0:F.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Ld(h,f,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function vg(w){w.INTERNAL.registerComponent(new xe.wA("auth-compat",h=>{const f=h.getProvider("app-compat").getImmediate(),E=h.getProvider("auth");return new I2(f,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:he_EMAIL_SIGNIN,PASSWORD_RESET:he_PASSWORD_RESET,RECOVER_EMAIL:he_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:he_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:he_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:he_VERIFY_EMAIL}},EmailAuthProvider:mi,FacebookAuthProvider:ir,GithubAuthProvider:Po,GoogleAuthProvider:jo,OAuthProvider:vi,SAMLAuthProvider:rs,PhoneAuthProvider:uc,PhoneMultiFactorGenerator:ou,RecaptchaVerifier:z2,TwitterAuthProvider:Js,Auth:I2,AuthCredential:ye,Error:_.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.4.2")}(Q.Z)},5861:(It,Ve,L)=>{function g(_,pe,ve,we,xe,Ne,Pe){try{var se=_[Ne](Pe),ae=se.value}catch(he){return void ve(he)}se.done?pe(ae):Promise.resolve(ae).then(we,xe)}function Q(_){return function(){var pe=this,ve=arguments;return new Promise(function(we,xe){var Ne=_.apply(pe,ve);function Pe(ae){g(Ne,we,xe,Pe,se,"next",ae)}function se(ae){g(Ne,we,xe,Pe,se,"throw",ae)}Pe(void 0)})}}L.d(Ve,{Z:()=>Q})},7582:(It,Ve,L)=>{function pe(Ae,be){var ke={};for(var Oe in Ae)Object.prototype.hasOwnProperty.call(Ae,Oe)&&be.indexOf(Oe)<0&&(ke[Oe]=Ae[Oe]);if(null!=Ae&&"function"==typeof Object.getOwnPropertySymbols){var lt=0;for(Oe=Object.getOwnPropertySymbols(Ae);lt<Oe.length;lt++)be.indexOf(Oe[lt])<0&&Object.prototype.propertyIsEnumerable.call(Ae,Oe[lt])&&(ke[Oe[lt]]=Ae[Oe[lt]])}return ke}function he(Ae,be,ke,Oe){return new(ke||(ke=Promise))(function(Te,Ct){function an(Ln){try{Zt(Oe.next(Ln))}catch(Mn){Ct(Mn)}}function Tn(Ln){try{Zt(Oe.throw(Ln))}catch(Mn){Ct(Mn)}}function Zt(Ln){Ln.done?Te(Ln.value):function lt(Te){return Te instanceof ke?Te:new ke(function(Ct){Ct(Te)})}(Ln.value).then(an,Tn)}Zt((Oe=Oe.apply(Ae,be||[])).next())})}function Xe(Ae){return this instanceof Xe?(this.v=Ae,this):new Xe(Ae)}function Fe(Ae,be,ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lt,Oe=ke.apply(Ae,be||[]),Te=[];return lt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),an("next"),an("throw"),an("return",function Ct(_n){return function(Vn){return Promise.resolve(Vn).then(_n,Mn)}}),lt[Symbol.asyncIterator]=function(){return this},lt;function an(_n,Vn){Oe[_n]&&(lt[_n]=function(fr){return new Promise(function(rn,Dt){Te.push([_n,fr,rn,Dt])>1||Tn(_n,fr)})},Vn&&(lt[_n]=Vn(lt[_n])))}function Tn(_n,Vn){try{!function Zt(_n){_n.value instanceof Xe?Promise.resolve(_n.value.v).then(Ln,Mn):Ir(Te[0][2],_n)}(Oe[_n](Vn))}catch(fr){Ir(Te[0][3],fr)}}function Ln(_n){Tn("next",_n)}function Mn(_n){Tn("throw",_n)}function Ir(_n,Vn){_n(Vn),Te.shift(),Te.length&&Tn(Te[0][0],Te[0][1])}}function mt(Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,be=Ae[Symbol.asyncIterator];return be?be.call(Ae):(Ae=function St(Ae){var be="function"==typeof Symbol&&Symbol.iterator,ke=be&&Ae[be],Oe=0;if(ke)return ke.call(Ae);if(Ae&&"number"==typeof Ae.length)return{next:function(){return Ae&&Oe>=Ae.length&&(Ae=void 0),{value:Ae&&Ae[Oe++],done:!Ae}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ae),ke={},Oe("next"),Oe("throw"),Oe("return"),ke[Symbol.asyncIterator]=function(){return this},ke);function Oe(Te){ke[Te]=Ae[Te]&&function(Ct){return new Promise(function(an,Tn){!function lt(Te,Ct,an,Tn){Promise.resolve(Tn).then(function(Zt){Te({value:Zt,done:an})},Ct)}(an,Tn,(Ct=Ae[Te](Ct)).done,Ct.value)})}}}L.d(Ve,{FC:()=>Fe,KL:()=>mt,_T:()=>pe,mG:()=>he,qq:()=>Xe}),"function"==typeof SuppressedError&&SuppressedError}},It=>{It(It.s=1908)}]);